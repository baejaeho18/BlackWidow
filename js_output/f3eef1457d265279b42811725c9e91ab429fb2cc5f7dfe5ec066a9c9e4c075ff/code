var CS_CONF={"isSMB":false,"projectId":2422,"status":1,"hostnames":["microsoft.com","windows.com","azurewebsites.net","microsoftstore.com.cn","azure.microsoft.com","spza-canary.net","azure.com","flowweb-staging.nsatc.net"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":0,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":100,"validationRate":10,"lastTrackingDraw":1613561419,"trackerDomain":"c.clicktale.net","recordingDomain":"r.clicktale.net","useMalkaPipeline":1,"ed":"l.clicktale.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":0,"jsErrorsEnabled":1,"customErrorsEnabled":1,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":"^react_[A-Za-z0-9]*$|^coreui-videoplayer-\\w{7}-videoplayer\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$","whitelistedAttributes":[],"replayRecordingUnmaskedUrlRegex":"","replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":"","anonymisationMethod":null,"tagDeploymentMode":"DUAL_COLLECTION","experimental":{"experimentalMutationObserver":{"maxProcessingTime":30,"waitDuration":0}},"iframesTracking":0,"textVisibilityEnabled":1,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{"reliableSelectors":[],"uniqueAttributes":[],"uniqueCssSelectors":[".anchor_fixed",".toscroll_list",".kv",".teacher_student"]},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":0,"apiErrors":{"validCustomHeaders":[],"plainCustomHeaders":[],"validUrls":[],"configurableApiErrorRules":[],"collectStandardHeaders":0,"collectQueryParam":0,"collectRequestBody":0,"collectResponseBody":0,"collectionRules":[]},"customErrors":{"consoleMessageLogLevels":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aus1.clicktale.net","malkaRecordingDomain":"k-aus1.clicktale.net","staticResourceManagerDomain":"srm.bf.contentsquare.net","voc":{"siteId":null,"enabled":0},"dualCollectionTagDomain":"clicktale.net","ptcDomain":"cdnssl.clicktale.net","ptcPartition":"www32","ptcGuid":"05d32363-d534-4d93-9b65-cde674775e71","implementations":[{"template":{"name":"DynamicVariable","args":{"iterable":null,"key":"PTC_Guid","value":"${window.CS_CONF.ptcGuid}","type":"String"}},"triggers":[{"name":"PageState","args":{"state":"Any"}}]},{"template":{"name":"PageEvent","args":{"iterable":null,"eventName":"PTC GUID | ${window.CS_CONF.ptcGuid}"}},"triggers":[{"name":"PageState","args":{"state":"Any"}}]},{"template":{"name":"PiiMasking","args":{"cssSelectors":["span#id_n,div#id_currentAccount_primary,div#id_currentAccount_secondary,img#id_accountp"],"attributes":[]}},"triggers":[{"name":"PageState","args":{"state":"Any"},"condition":{"operator":"AND","args":[{"operator":"contains","args":["${window.location.href}","copilot.microsoft.com"]}]}}]}]};
;

var CS_INTEGRATIONS_CONF = {"adobe-target":{}};
/* integration-adobe-target 3.6.5 */
!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-adobe-target-cap","version":"3.6.5","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function r(e,n){try{e()}catch(e){window._uxa=window._uxa||[],_uxa.push(["logSnippetError",n,e.message])}}function i(e){return"object"==typeof e&&null!==e}function a(e,n,t){if((t=t||window)&&n&&e){var r=!1,i=t[e];i?n():Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e,r||(r=!0,n())}})}}t.r(n);var o,u=t(0),c=u.name,p=u.version,s=function(e){var n,t,i,a;if(r((function(){var r=e.name;i=e.version;var o=r.replace("@contentsquare/integration-","");n=o+"-"+i;var u="-contentsquare";a=new RegExp(u+"$").test(o),t=o.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),a||(u="-cap",a=new RegExp(u+"$").test(o),t=o.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),a)return{snippetBuildName:n,parameterName:t,snippetVersion:i}}(u);s&&(o=s.parameterName,c=s.snippetBuildName,p=s.snippetVersion),r((function(){window._uxa=window._uxa||[],CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Target - v"+p);var e=function(e,n){if(i(window.CS_INTEGRATIONS_CONF)&&i(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}(o,"customObjectName");e&&(e=e.trim());var n=[];function t(e){for(var t=0;t<e.length;t++){var r=e[t],i="",a="";r.CampaignName&&r.RecipeName?(i=r.CampaignName,a=r.RecipeName):r.campaign&&r.experience?(i=r.campaign,a=r.experience):r["activity.name"]&&r["experience.name"]&&(i=r["activity.name"],a=r["experience.name"]),n.length&&n.indexOf(i+"~~~~"+a)>-1&&(i="",a=""),i&&a&&(n.push(i+"~~~~"+a),u=a,o="AB_AT_"+(o=i),_uxa.push(["trackDynamicVariable",{key:o,value:u}]))}var o,u}function u(n){e||(e="ttMETA"),function(e,n,t){t=t||window;var r=e.split(".");if(1==r.length)a(e,n,t);else{var i=t,o=0;const e=function(){i=o>0?i[r[o-1]]:window,++o>=r.length?a(r[o-1],n,i):a(r[o-1],e,i)};e()}}(e,(function(){setTimeout((function(){r((function(){t(window[e])}),c)}),500)}))}document.addEventListener("at-request-succeeded",(function(e){e&&e.detail&&e.detail.responseTokens&&t(e.detail.responseTokens)})),_uxa.push(["afterPageView",function(e){r((function(){u()}),c)}])}),c)}]);;
!function(){"use strict";var t={d:function(n,i){for(var r in i)t.o(i,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:i[r]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};function i(t,n){var i;return window.Zone&&"function"==typeof window.Zone.__symbol__&&(i=t[window.Zone.__symbol__(n)]),i||(i=t[n]),i}t.r(n),t.d(n,{getRequestParameters:function(){return Fc}});var r="undefined"==typeof window;var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof process?process:Function("return this")();var s="cs-native-frame",o={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function u(t,n,i){var r=function(t,n){for(var i,r=t;r&&!(i=Object.getOwnPropertyDescriptor(r,n));)r=Object.getPrototypeOf(r);return i}(t,n);if(!r)return function(){return this[n]};switch(i){case"get":return r.get;case"set":return r.set;case"value":return r.value}}function c(t){var n,r;Object.keys(o.constructors).forEach((function(n){window[o.constructors[n]]=t[n]instanceof Function&&null==t[n].prototype?t[n].bind(window):t[n]})),function(t){window.csquerySelector={1:t.Element.prototype.querySelector,9:t.Document.prototype.querySelector,11:t.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:t.Element.prototype.querySelectorAll,9:t.Document.prototype.querySelectorAll,11:t.DocumentFragment.prototype.querySelectorAll}}(t),("Prototype"in window||/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&(window.csMutationObserver=null!==(r=null!==(n=i(window,"MutationObserver"))&&void 0!==n?n:window.WebKitMutationObserver)&&void 0!==r?r:window.MutationObserver),h("csNode",o.nodeProperties,t.Node.prototype,"get"),h("csElement",o.elementProperties,t.Element.prototype,"get"),h("csElement",o.elementPropertiesValues,t.Element.prototype,"value",!1),h("csHTMLImageElement",o.imageProperties,t.HTMLImageElement.prototype,"set"),h("csEvent",o.eventProperties,t.Event.prototype,"get"),h("csNavigator",o.navigatorProperties,t.navigator,"value")}function h(t,n,i,r,e){void 0===e&&(e=!0),n.forEach((function(n){var s="string"!=typeof n&&"binding"in n,o=s?n.propertyName:n;(e||o in i)&&(window["".concat(t+o)]=u(i,o,r),s&&(window["".concat(t+o)]=window["".concat(t+o)].bind(n.binding)))}))}function a(t,n){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[t]=n}if(window.csSetTimeout=i(window,"setTimeout"),window.csQueueMicrotask=i(window,"queueMicrotask"),window.csClearTimeout=i(window,"clearTimeout"),window.csSetInterval=i(window,"setInterval"),window.csClearInterval=i(window,"clearInterval"),function(){var t,n=0;function i(t){return"$$"+t+ ++n}i.for=i,window.csSymbol=null!==(t=window.Symbol)&&void 0!==t?t:i}(),!function(){try{var t=function(){var t=document.createElement("iframe");t.id=s,t.setAttribute("hidden",""),t.setAttribute("title","Intentionally blank"),t.setAttribute("sandbox","allow-same-origin");var n=document.createElement("cs-native-frame-holder");if(n.setAttribute("hidden",""),document.body.appendChild(n),Boolean(Element.prototype.attachShadow)){var i=n.attachShadow({mode:"closed"});return i.innerHTML=t.outerHTML,i.firstElementChild.contentWindow}return n.innerHTML=t.outerHTML,n.firstElementChild.contentWindow}();return!!t&&(window.CSPureWindow=t,c(window.CSPureWindow),!0)}catch(t){return a("Warning","failed to copy references from pure iframe: ".concat(t.message)),!1}}())try{c(e)}catch(Au){a("Critical","failed to copy references from window: ".concat(Au.message))}var f=function(t,n){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},f(t,n)};function l(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}f(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var v=function(){return v=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},v.apply(this,arguments)};function d(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function y(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function w(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(e=2&s[0]?r.return:s[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,s[1])).done)return e;switch(r=0,e&&(s=[2&s[0],e.value]),s[0]){case 0:case 1:e=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!e||s[1]>e[0]&&s[1]<e[3])){o.label=s[1];break}if(6===s[0]&&o.label<e[1]){o.label=e[1],e=s;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(s);break}e[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{i=e=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function p(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function g(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;function S(t){return b(csString.prototype.toLowerCase.call(t.localName))}function b(t){return csString.prototype.replace.call(t,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}function E(t){return N(t)&&("number"==typeof t||t instanceof Number)&&!isNaN(t)}function A(t){return t===parseInt(t,10)}function R(t){return N(t)&&("string"==typeof t||t instanceof csString)}function T(t){return"boolean"==typeof t}function O(t){return"object"==typeof t}function N(t){return void 0!==t}function k(t){return N(t)&&null!==t}function I(t){return"function"==typeof t}function C(t){return t instanceof Element}function _(t){return t instanceof Error}function M(t){for(var n=t.length,i=0;i<n;i++)switch(csString.prototype.charCodeAt.call(t,i)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}function P(t){return 1===t.nodeType}function x(t){return 3===t.nodeType}function D(t){return P(t)&&"link"===t.localName}function L(t){return P(t)&&"a"===t.localName}function U(t){return D(t)&&-1!==csString.prototype.indexOf.call(t.rel,"stylesheet")}function j(t){return P(t)&&"style"===t.localName}function q(t){return P(t)&&"input"===t.localName}function H(t){return P(t)&&"textarea"===t.localName}function F(t){return P(t)&&"script"===t.localName}function V(t){return P(t)&&"ownerSVGElement"in t}function B(t){return P(t)&&"select"===t.localName}function z(t){switch(t.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function G(t){return 9===t.nodeType}function $(t){return function(t){switch(t.nodeType){case 9:case 11:return!0;default:return!1}}(t)&&"host"in t&&"mode"in t}function J(t){return P(t)&&!!csElementshadowRoot.apply(t)&&$(csElementshadowRoot.apply(t))}var Y=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];var W,X,K="detached";function Q(t){for(var n=t,i=[n];null!==csNodeparentNode.apply(n);)n=csNodeparentNode.apply(n),csArray.prototype.push.call(i,n);return Z(n)&&csArray.prototype.push.call(i,K),{ancestors:i,selectionRoot:n}}function Z(t){return ft.isValidElement(t)}var tt=null!==(X=null===(W=e.Element)||void 0===W?void 0:W.prototype)&&void 0!==X?X:{},nt=tt.matches||tt.matchesSelector||tt.mozMatchesSelector||tt.msMatchesSelector||tt.oMatchesSelector||tt.webkitMatchesSelector,it=tt.closest;function rt(t,n){return!!n&&csArray.prototype.some.call(n,(function(n){return nt.call(t,n)}))}var et=[/\d{4}/,/^ember\d+$/],st="data-cs-override-id",ot="data-cs-dynamic-id";function ut(t,n,i,r){var e=r.dynamicIdRegex||null,s=r.dynamicElementNameRegex,o=S(t);s&&(s.test(t.localName)&&(o=csString.prototype.replace.call(o,s,"$1".concat("@"))));if(function(t,n){var i=ct(t);return i&&csString.prototype.match.call(i,/^[\w-]+$/)&&ht(st,i,n)}(t,i)){var u=ct(t);return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"[").concat(st,'="').concat(u,'"]')}}var c=function(t,n,i){var r,e;if(!i.uniqueAttributes)return{success:!1};try{for(var s=p(i.uniqueAttributes),o=s.next();!o.done;o=s.next()){var u=o.value,c=t.getAttribute(u);if(null!==c)if(ht(u,c,n))return{attributeName:u,attributeValue:c,success:!0}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return{success:!1}}(t,i,r);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#UA[").concat(c.attributeName,'="').concat(c.attributeValue,'"]')};var h=function(t,n,i){var r,e;if(!i.uniqueCssSelectors)return;try{for(var s=p(i.uniqueCssSelectors),o=s.next();!o.done;o=s.next()){var u=o.value;if(nt.call(t,u)&&at(u,n))return u}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return}(t,i,r);if(h)return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#UCS[").concat(h,"]")};var a=function(t){var n=t.getAttribute("id");return n?b(n):n}(t);if(function(t,n,i,r){return n&&!function(t){return null!==ct(t)}(t)&&!function(t,n,i){return t.hasAttribute(ot)||function(t,n){var i=!1;t&&n&&(i=n.test(t));return t&&(csArray.prototype.some.call(et,(function(n){return n.test(t)}))||i)}(n,i)}(t,n,r)&&function(t,n){return t&&ht("id",t,n)}(n,i)}(t,a,i,e))return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#").concat(a)};var f=function(t,n){var i,r;if(!n.reliableSelectors)return;try{for(var e=p(n.reliableSelectors),s=e.next();!s.done;s=e.next()){var o=s.value;if(nt.call(t,o))return o}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return}(t,r);if(f){var l=function(t,n,i){if(t===K||9===t.nodeType)return 0;for(var r=0,e=n.previousElementSibling;e;)nt.call(e,i)&&(r+=1),e=e.previousElementSibling;return r}(n,t,f);return{hasUniqueIdentifier:!1,elementSelector:"".concat(o,"[").concat(f,"](").concat(l,")")}}var v=function(t,n,i){if(t===K||9===t.nodeType)return 0;for(var r=i.dynamicElementNameRegex,e=!!(null==r?void 0:r.test(n.localName)),s=S(n),o=0,u=n.previousElementSibling;u;)(S(u)===s||e&&(null==r?void 0:r.test(u.localName)))&&!rt(u,i.reliableSelectors)&&(o+=1),u=u.previousElementSibling;return o}(n,t,r);return{hasUniqueIdentifier:!1,elementSelector:"".concat(o,":eq(").concat(v,")")}}function ct(t){return t.getAttribute(st)}function ht(t,n,i){try{return 1===window.csquerySelectorAll[i.nodeType].call(i,"[".concat(t,'="').concat(n,'"]')).length}catch(t){if("SyntaxError"!==t.name)throw t}return!1}function at(t,n){try{return 1===window.csquerySelectorAll[n.nodeType].call(n,t).length}catch(t){if("SyntaxError"!==t.name)throw t}return!1}var ft;function lt(t,n,i){var r=csArray.prototype.shift.call(t);if(0===t.length)return vt(r,i);var e=ut(r,t[0],n,i),s=e.elementSelector,o=e.hasUniqueIdentifier;if(!i.fullPath&&o){var u=t[t.length-1];return"".concat(vt(u,i)).concat(s)}var c=lt(t,n,i);return"".concat(c?"".concat(c,">"):"").concat(s)}function vt(t,n){if(t===K)return"|detached|";if(t.host){var i=Q(t.host),r=i.ancestors,e=i.selectionRoot;return"".concat(lt(r,e,n),"|shadow-root|")}return 11===t.nodeType?"|fragment|":""}!function(t){function n(t){return!!t&&"localName"in t&&"getAttribute"in t&&"hasAttribute"in t&&"parentNode"in t}function i(t){return t&&"jquery"in t&&1===t.length?t[0]:t}t.INVALID_ELEMENT="INVALID_ELEMENT",t.isValidElement=n,t.getElementPath=function(r,e){void 0===e&&(e={fullPath:!1,dynamicIdRegex:null});var s=i(r);if(s===document)return"";if(!n(s))return t.INVALID_ELEMENT;var o=Q(s);return lt(o.ancestors,o.selectionRoot,e)},t.getElementPathAndFirstAnchorParent=function(r,e){void 0===e&&(e={fullPath:!1,dynamicIdRegex:null});var s=i(r);if(s===document)return{path:"",firstAnchorParent:null};if(!n(s))return{path:t.INVALID_ELEMENT,firstAnchorParent:null};var o=function(t){for(var n=t,i=[n],r=null;null!==csNodeparentNode.apply(n);)null===r&&L(n)&&(r=n),csArray.prototype.push.call(i,csNodeparentNode.apply(n)),n=csNodeparentNode.apply(n);return Z(n)&&csArray.prototype.push.call(i,K),{firstAnchorParent:r,ancestors:i,selectionRoot:n}}(s),u=o.firstAnchorParent;return{path:lt(o.ancestors,o.selectionRoot,e),firstAnchorParent:u}}}(ft||(ft={})),window.CSPathComputation=window.CSPathComputation||ft;var dt=function(t,n){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},dt(t,n)};function yt(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}dt(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var wt=function(){return wt=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},wt.apply(this,arguments)};function pt(t,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}function mt(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function gt(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function St(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function bt(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Et(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function At(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Rt=Number.MAX_SAFE_INTEGER||9007199254740991;function Tt(){}function Ot(t,n){return 0===csString.prototype.lastIndexOf.call(t,n,0)}var Nt=34164e6,kt={percentage:function(){return Math.floor(1e4*Math.random())/100},boolean:function(t){return this.percentage()<t},integer:function(t){return void 0===t&&(t=Rt),Math.floor(Math.random()*t)}},It=csSymbol("cachedJson");var Ct,_t,Mt=void 0!==window.Symbol?function(t){if(t[It])return t[It];if(csArray.isArray(t)){if(0===t.length)return"[]";for(var n="["+Mt(t[0]),i=1;i<t.length;i++)n+=","+Mt(t[i]);return n+"]"}return t[It]=csJSON.stringify(t)}:csJSON.stringify,Pt=function(){function t(t){var n,i,r,e,s;this.isSMB=null!==(n=t.isSMB)&&void 0!==n&&n,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||Nt,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.mouseMoveHeatmapEnabled=t.mouseMoveHeatmapEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.apiErrors=wt({enabled:null!==(i=t.apiErrorsEnabled)&&void 0!==i?i:0},t.apiErrors),this.customErrors=wt({enabled:null!==(r=t.customErrorsEnabled)&&void 0!==r?r:0},t.customErrors),this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=this.t(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=this.t(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=this.t(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.malkaQuotaServiceDomain=t.malkaQuotaServiceDomain||null,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&""===t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions=wt(wt({},t.taskSchedulerOptions),{enabled:!!t.taskSchedulerOptions.enabled})),this.uxaDomain=t.uxaDomain,this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc=wt(wt({},t.voc),{enabled:!!t.voc.enabled})),t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=null!==(e=t.anonymizeDigits)&&void 0!==e?e:null,this.isHeapPresent=void 0!==window.heap,this.clickedElementTextEnabled=!!t.clickedElementTextEnabled,this.recordTargetingRules=null!==(s=t.recordTargetingRules)&&void 0!==s?s:[],this.emitRecordInfoEvents=0!=t.emitRecordInfoEvents}return t.prototype.getTrackerUri=function(){return"".concat(this.i(),"://").concat(this.trackerDomain)},t.prototype.getRecordingUri=function(){return"".concat(this.i(),"://").concat(this.malkaRecordingDomain)},t.prototype.getLegacyQuotaUri=function(){return"".concat(this.i(),"://").concat(this.malkaQuotaServiceDomain)},t.prototype.getLoggerUri=function(){return"".concat(this.i(),"://").concat(this.loggerDomain)},t.prototype.getStaticResourceManagerUri=function(){return"".concat(this.i(),"://").concat(this.staticResourceManagerDomain)},t.prototype.getQuotaUri=function(){return"".concat(this.i(),"://").concat(this.dynamicConfDomain,"/").concat(this.projectId,".json")},t.prototype.isQuotaEnabled=function(){return this.isSMB&&!!this.dynamicConfDomain},t.prototype.i=function(){return this.useHttps?"https":"http"},t.prototype.isProjectActive=function(){return 1===this.status},t.prototype.processOptionOverrides=function(t){var n=this;t&&t.forEach&&t.forEach((function(t){var i=Et(t),r=i[0],e=i.slice(1);if("setOption"===r){var s=Et(e,2),o=s[0],u=s[1];n.u(o,u)}}))},t.prototype.u=function(t,n){"trackerDomain"===t&&(this.trackerDomain=n),"loggerDomain"===t&&(this.loggerDomain=n),"malkaRecordingDomain"===t&&(this.malkaRecordingDomain=n),"malkaQuotaServiceDomain"===t&&(this.malkaQuotaServiceDomain=n),"staticResourceManagerDomain"===t&&(this.staticResourceManagerDomain=n),"minLogLevel"===t&&(this.minLogLevel=n),"useHttps"===t&&(this.useHttps=!!n),"isWebView"===t&&(this.isWebView=n)},t.prototype.t=function(t){return t?this.h(t):null},t.prototype.getRequestParameters=function(){return{pid:"".concat(this.projectId)}},t.prototype.updateDynamicFields=function(t,n){"emitDebugEvents"===t&&(this.emitDebugEvents=n),"minLogLevel"===t&&(this.minLogLevel=n)},t.prototype.h=function(t){try{var n=/^\/(.*)\/([gim]*)$/.exec(t);if(n){var i=Et(n,3),r=i[1],e=i[2];return new csRegExp("^".concat(r,"$"),e)}return new csRegExp("^".concat(t,"$"))}catch(t){return null}},t.prototype.isHeaderCollectionActive=function(){var t,n;return this.apiErrors.collectStandardHeaders||!!(null===(t=this.apiErrors.validCustomHeaders)||void 0===t?void 0:t.length)||!!(null===(n=this.apiErrors.plainCustomHeaders)||void 0===n?void 0:n.length)},t.prototype.isCsSideloadingHeap=function(){var t;return"cs_sideloads_heap"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)&&!this.isHeapPresent},t.prototype.isHeapSideloadsCs=function(){var t;return"heap_sideloads_cs"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)},t.prototype.isHeapSideloadsCsV5=function(){var t,n,i="function"==typeof(null===(t=window.heap)||void 0===t?void 0:t.getUserId);return"heap_sideloads_cs"===(null===(n=this.heapEnvironment)||void 0===n?void 0:n.heap_tag_status)&&i},t.prototype.isCsCrosswritingHeap=function(){var t;return"cs_crosswrites_heap"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)},t.prototype.isClickedElementTextEnabled=function(){return this.isSMB||this.clickedElementTextEnabled},t.prototype.isNetworkDetailsEnabled=function(){return!!this.performanceTimingOptions&&(this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation)},t.prototype.hasTargetingRules=function(){var t;return!!(null===(t=this.recordTargetingRules)||void 0===t?void 0:t.length)},t}(),xt=function(){function t(t,n){this.S=t,this.A=n}return t.prototype.init=function(){this.R=this.S!==this.S.top,this.T=this.A.isWebView&&this.S===this.S.top,this.A.iframesTracking&&this.R||this.T?this.O=!1:this.O=!0},t.prototype.isInIframeContext=function(){return this.R},t.prototype.isTopWindowTracker=function(){return this.O},t.prototype.isInWebViewContext=function(){return this.T},t}();!function(t){t.debug="debug",t.warn="warn",t.error="error",t.critical="critical"}(Ct||(Ct={})),function(t){t.toQuery=function(t){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(t),(function(n){return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n]))})),"&")}}(_t||(_t={}));var Dt,Lt=function(){function t(t,n){this.domainUri=t,this.path=n,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}return t.prototype.setRequestParametersProviders=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.requestParametersProviders=t},t.prototype.before=function(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)},t.prototype.after=function(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)},t.prototype.retrieveParameters=function(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,(function(t){return t.getRequestParameters()})),(function(t,n){return wt(wt({},t),n)})):{}},t}(),Ut=function(t){function n(n,i){return t.call(this,n,i)||this}return yt(n,t),n.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,(function(t){return t()}));var t=this.retrieveParameters();this.N(t);var n=_t.toQuery(t);this.I(n),csArray.prototype.forEach.call(this.afterRequestCallbacks,(function(t){return t()}))},n.prototype.I=function(t){var n=new window.Image(1,1);n.onload=Tt,n.onerror=Tt,csHTMLImageElementsrc.call(n,"".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(t))},n.prototype.N=function(t){t.r=csString.prototype.slice.call("".concat(Math.random()),2,8)},n}(Lt),jt=function(){function t(t,n){this.C=t,this.M=n}return t.prototype.init=function(){this.P=new Ut(this.C.getLoggerUri()),this.P.setRequestParametersProviders(this,this.M)},t.prototype.send=function(t){this.D=t,this.P.send()},t.prototype.getRequestParameters=function(){return{a:this.D.app,l:this.D.level,m:this.D.message,s:this.D.stacktrace}},t}(),qt=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Ht=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,Ft="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Vt=new csRegExp("(ey".concat(Ft,"\\.ey").concat(Ft,"\\.").concat(Ft,")"),"g"),Bt=/[0-9]{4}/,zt=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Gt=/\d/g,$t=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,Jt=/(?:\d{1,3}\.){3}\d{1,3}/,Yt=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/;!function(t){t.replaceEmail=function(t){return csString.prototype.replace.call(t,qt,"CS_ANONYMIZED_EMAIL")},t.replaceJWT=function(t){return csString.prototype.replace.call(t,Vt,"CS_ANONYMIZED_JWT")},t.replaceCreditCardNumber=function(t,n){return csString.prototype.replace.call(t,zt,n)},t.replaceDigits=function(t){return csString.prototype.replace.call(t,Gt,"â€¢")},t.mayHaveIPAddress=function(t){return Jt.test(t)||Yt.test(t)},t.mayHaveNumberSequence=function(t){return $t.test(t)},t.mayHaveCreditCardNumber=function(t){return Bt.test(t)},t.mayHaveEmail=function(t){return Ht.test(t)}}(Dt||(Dt={}));var Wt,Xt=function(){function t(){}return t.prototype.hasPII=function(t,n){return t!==this.checkAndAnonymizePII(t,n)},t.prototype.checkAndAnonymizePII=function(t,n){void 0===n&&(n=null);var i=this.anonymizeCreditCard(this.anonymizeEmail(t));return!0===n?i=this.anonymizeAllDigits(i):!1===n&&(i=this.anonymizeNumberSequence(i)),i},t.prototype.anonymizePII=function(t){return"string"==typeof t&&(t=this.anonymizeEmail(t)),t},t.prototype.anonymizeEmail=function(t){return Dt.mayHaveEmail(t)?Dt.replaceEmail(t):t},t.prototype.anonymizeAllDigits=function(t){return Dt.replaceDigits(t)},t.prototype.anonymizeNumberSequence=function(t){return Dt.mayHaveNumberSequence(t)?Dt.replaceDigits(t):t},t.prototype.anonymizeCreditCard=function(t){var n=this;return Dt.mayHaveCreditCardNumber(t)?Dt.replaceCreditCardNumber(t,(function(t,i,r,e,s){if(-1===csString.prototype.indexOf.call(r,"*")){var o=e.length?csArray.prototype.join.call(csString.prototype.split.call(r,e),""):r;if(!n.L(o))return t}return"".concat(i).concat("CS_ANONYMIZED_PII").concat(s)})):t},t.prototype.L=function(t){for(var n=parseInt(t[t.length-1]),i=0,r=t.length-2;r>=0;r--){var e=parseInt(t[r]);r%2==0&&(e*=2),i+=Math.floor(e/10)+e%10}return 10-i%10===n},t.prototype.anonymizeJwt=function(t){return Dt.replaceJWT(t)},t.prototype.anonymizeFields=function(t,n){var i=this;return csArray.prototype.forEach.call(n,(function(n){t[n]=i.anonymizeEmail(t[n])})),t},t}(),Kt="15.43.0";function Qt(){return{v:Kt}}var Zt="undefined"!=typeof performance&&!!performance.now,tn=Zt?function(){return performance.now()}:csDate.now,nn=Zt?null===(Wt=performance.timing)||void 0===Wt?void 0:Wt.navigationStart:0,rn=function(){return Math.round(tn()+nn)},en=function(){return tn()};function sn(){return Math.floor(rn()/1e3)}function on(){return"function"==typeof window.Promise}function un(){var t,n;return"function"==typeof(null===(t=window.navigation)||void 0===t?void 0:t.addEventListener)&&"function"==typeof(null===(n=window.navigation)||void 0===n?void 0:n.removeEventListener)}function cn(t,n){return 0===csString.prototype.lastIndexOf.call(t,n,0)}function hn(t,n){return-1!==csString.prototype.indexOf.call(t,n,t.length-n.length)}var an,fn,ln=function(){function t(t,n){this.U=t,this.j=n}return t.prototype.getRequestParameters=function(){return wt(wt({d:"".concat(rn()),p:this.j.anonymizePII(window.location.href)},this.U.getRequestParameters()),Qt())},t}(),vn="snippet-",dn="implementation-snippet-";!function(t){t.IMPLEMENTATION="implementation",t.DYNAMIC="dynamic"}(an||(an={})),function(t){t[t.debug=0]="debug",t[t.warn=1]="warn",t[t.error=2]="error",t[t.critical=3]="critical"}(fn||(fn={}));var yn=function(){function t(t,n,i){var r;this.q=n,this.j=new Xt,this.H=fn[Ct.warn],this.H=fn[t.minLogLevel||Ct.warn],this.P=i||new jt(t,new ln(t,this.j)),this.F=((r={})[Ct.debug]=[],r[Ct.warn]=[],r[Ct.error]=[],r[Ct.critical]=[],r),this.V={implementation:{},dynamic:{}},this.P.init()}return t.prototype.send=function(t,n,i){if(void 0===n&&(n=""),void 0===i&&(i=Ct.warn),this.B(i,n)){csArray.prototype.push.call(this.F[i],n||"");var r={message:this.G(t,n),stacktrace:this.J(t),app:"uxa",level:i};this.P.send(r)}},t.prototype.G=function(t,n){var i=_(t)?this.j.anonymizePII(t.message||t.toString()):t;return n&&(i+=" ErrorCode: ".concat(n)),i},t.prototype.J=function(t){return _(t)?"".concat(t.stack||"No stacktrace"," ").concat(this.Y()):this.Y()},t.prototype.Y=function(){var t=this.q.getVisitorService(),n=null==t?void 0:t.getVisitor();if(!n)return"No context";var i=this.q.getSessionService(),r=i&&i.getSession(),e={userId:n.id,sessionNumber:n.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(e)},t.prototype.B=function(t,n){if(fn[t]<this.H)return!1;if(0===(null==n?void 0:csString.prototype.indexOf.call(n,dn,0)))return this.W(n,an.IMPLEMENTATION);if(0===(null==n?void 0:csString.prototype.indexOf.call(n,vn,0)))return this.W(n,an.DYNAMIC);var i=this.F[t];return!(i.length>=5)&&(!n||!csArray.prototype.some.call(i,(function(t){return t===n})))},t.prototype.W=function(t,n){return t in this.V[n]?!(this.V[n][t]>=5)&&(this.V[n][t]+=1,!0):(this.V[n][t]=1,!0)},t}(),wn=!r&&document.createElement("a"),pn=/(:443|:80)$/;function mn(t){return wn?(wn.href=t,wn.href):""}function gn(t){var n=En(t);return null===n?"":decodeURIComponent(n.hostname)}function Sn(t,n){return csArray.prototype.some.call(n,(function(n){return hn(t,".".concat(n))||t===n||""===n}))}function bn(t){return csString.prototype.replace.call(t,pn,"")}function En(t){return wn&&(cn(t,"http://")||cn(t,"https://"))?(wn.href=t,{hash:wn.hash,host:bn(wn.host),hostname:wn.hostname,href:wn.href,origin:wn.origin?wn.origin:bn("".concat(wn.protocol,"//").concat(wn.host)),pathname:(n=wn.pathname,"/"===n[0]?n:"/".concat(n)),port:wn.port,protocol:wn.protocol,search:wn.search}):null;var n}var An,Rn,Tn,On,Nn="CS_IFRAME_MESSAGE";!function(t){t.AfterPageView="afterPageView",t.GetSessionKey="getSessionKey"}(An||(An={})),function(t){t.Parent="parent",t.Child="child"}(Rn||(Rn={})),function(t){t.Discovery="discovery",t.Stop="stop",t.RecordingContext="recordingContext",t.SensitiveStatus="sensitiveStatus",t.RecordingEvent="recordingEvent",t.EndOfBufferedMessages="endOfBufferedMessages",t.ChildLogMessage="childLogMessage",t.AnalysisEvent="analysisEvent",t.JavascriptError="javascriptError",t.ApiError="apiError",t.Assets="assets",t.DetailedApiError="detailedApiError",t.EmerchandisingMessage="emerchandisingMessage",t.Commands="commands",t.IntegrationCallback="integrationCallback",t.StaticResource="staticResource",t.TrackingContextResultMessage="trackingContextResultMessage",t.TrackingContextRequestMessage="trackingContextRequestMessage",t.CustomError="customError"}(Tn||(Tn={})),function(t){t.buildBaseMessage=function(t,n,i,r){var e={type:t,from:n,pid:i,signature:Nn};return void 0!==r&&r>=0&&(e.id=r),e},t.isMessageValid=function(t,n,i,r){var e=gn(t.origin);return!!t.data&&!!t.data.type&&t.data.signature===Nn&&t.data.from===n&&t.data.pid===i&&Sn(e,r)},t.sendPostMessage=function(t,n,i,r){r?t.postMessage(i,n,r):t.postMessage(i,n)},t.getNewChannelMessage=function(){return new MessageChannel},t.sendChannelMessage=function(t,n){t.postMessage(n)},t.closeChannelPort=function(t){t.close()}}(On||(On={}));var kn=function(){function t(t){this.U=t}return t.prototype.send=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=Ct.warn);var r={message:t,errorCode:n,level:i},e=On.buildBaseMessage(Tn.ChildLogMessage,Rn.Child,this.U.projectId);e.content=r,On.sendPostMessage(window.parent,"*",e)},t}(),In=function(){function t(){}return t.prototype.setContext=function(t,n){this.X=t,this.K=n},t.prototype.getVisitorService=function(){return this.X},t.prototype.getSessionService=function(){return this.K},t}(),Cn=["t.contentsquare.net","clicktale"];window.addEventListener("error",(function(t){"string"!=typeof t.filename||!csArray.prototype.some.call(Cn,(function(n){return csString.prototype.indexOf.call(t.filename,n)>-1}))||csString.prototype.indexOf.call(t.filename,"blob")>-1&&(null==t.message?void 0:csString.prototype.indexOf.call(t.message,"importScripts"))>-1||_n.critical("Uncaught jsError: filename: ".concat(t.filename," - lineno: ").concat(t.lineno," - colno: ").concat(t.colno," - message: ").concat(t.message," "))}));var _n=function(){function t(){}return t.whiteListFilename=function(t){csArray.prototype.push.call(Cn,t)},t.setStrategy=function(n){t.Z=n},t.computeIsActive=function(n){t.tt=kt.boolean(n),t.tt?t.nt=kt.boolean(10):t.nt=!1},t.isLoggingActive=function(){return t.tt},t.getStrategy=function(){return t.Z},t.debug=function(n,i){void 0===i&&(i=""),t.tt&&this.Z.send(n,i,Ct.debug)},t.warn=function(n,i,r){var e;void 0===i&&(i=!0),void 0===r&&(r=""),t.tt&&i&&this.Z.send(n,r,Ct.warn),null===(e=window.UXAnalytics.Console)||void 0===e||e.warn(n)},t.error=function(n,i){var r;void 0===i&&(i=""),t.tt&&this.Z.send(n,i,Ct.error),null===(r=window.UXAnalytics.Console)||void 0===r||r.error(n)},t.critical=function(t,n){void 0===n&&(n=""),this.Z.send(t,n,Ct.critical)},t.tryToExecute=function(t,n){var i=this;return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];try{var s=n.apply(void 0,At([],Et(r),!1));return N(window.Promise)&&s instanceof window.Promise?s.then((function(t){return t}),(function(n){return i.error(_(n)?n:new Error(n),t)})):s}catch(n){try{i.error(_(n)?n:new Error(n),t)}catch(t){}}}},t.isPerfLoggingActive=function(){return t.nt},t.tt=!1,t.nt=!1,t}(),Mn=function(t,n){return Mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Mn(t,n)};function Pn(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Mn(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var xn=function(){return xn=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},xn.apply(this,arguments)};function Dn(t,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}function Ln(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function Un(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function jn(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function qn(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hn(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function Fn(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Vn={debug:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},warn:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},error:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},critical:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},isPerfLoggingActive:function(){return!1}};var Bn=function(t){return function(n,i,r){var e=(null==i?void 0:i.toString())||"",s=t||"".concat(n.constructor&&n.constructor.name,".").concat(e);if(r){var o=r.value;r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return zn(s,o.bind(this)).apply(void 0,Fn([],Hn(t),!1))}}}};function zn(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];try{var e=n.apply(void 0,Fn([],Hn(i),!1));return N(window.Promise)&&e instanceof window.Promise?e.then((function(t){return t}),(function(n){return Vn.error(_(n)?n:new Error(n),t)})):e}catch(n){try{Vn.error(_(n)?n:new Error(n),t)}catch(t){}}}}var Gn=!1;function $n(){return function(t,n,i){var r=i.value;i.value=function(t,n){!1===(null==t?void 0:t.isTrusted)&&Gn||r.call(this,t,n)}}}var Jn=function(){function t(){this.it=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.it},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.et},enumerable:!1,configurable:!0}),t.prototype.pushAll=function(t){for(var n=0;n<t.length;n++)this.push(t[n])},t.prototype.push=function(t){this.it++,this.st?this.st=this.st[1]=[t,void 0]:this.st=this.et=[t,void 0]},t.prototype.pop=function(){if(!this.et)return null;this.it--;var t=this.et[0];return this.et=this.et[1],this.et||(this.st=void 0),t},t.prototype.forEach=function(t){for(var n=this.et;null==n?void 0:n.length;)t(n[0]),n=n[1]},t.prototype.clear=function(){this.it=0,this.et=this.st=void 0},t}(),Yn=50,Wn=.1;var Xn=!1,Kn=new Jn;function Qn(t,n){void 0===t&&(t=50),void 0===n&&(n=.1),Xn=Vn.isPerfLoggingActive()&&function(){var t;if(!(null===(t=window.performance)||void 0===t?void 0:t.mark))return!1;var n="isPerformanceMeasureSupported",i="".concat(n,"_a");return performance.mark(i),void 0!==performance.measure(n,i)}(),Xn&&(Yn=t,Wn=n)}var Zn=[],ti=[];function ni(t){csArray.prototype.push.call(Zn,t),performance.mark("".concat(t,"-start"))}function ii(t){var n=performance.measure(t,"".concat(t,"-start"));if(n){var i=n.duration;i>=Wn&&csArray.prototype.push.call(ti,{mName:t,mDuration:+i.toFixed(2)}),csArray.prototype.pop.call(Zn),0===Zn.length&&(i>Yn&&Kn.push(ti),ti=[])}}function ri(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(!Xn)return t.apply(this,i);ni(n);var e=t.apply(this,i);return ii(n),e}}var ei,si,oi,ui,ci=function(t){return function(n,i,r){var e=r.value;r.value=function(){if(!Xn)return r.value=e,e.apply(this,arguments);ni(t);var n=e.apply(this,arguments);return ii(t),n}}};!function(t){function n(t){var n=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")).exec(document.cookie);return n?decodeURIComponent(n[2]):null}function i(n,i,e,s,o,u){var c=encodeURIComponent("".concat(i)),h=e===t.CURRENT_DOMAIN?void 0:e,a=r(s),f=a?";expires=".concat(a.toUTCString()):"",l=k(h)?";domain=".concat(h):"",v="".concat(n,"=").concat(c).concat(f).concat(";path=/").concat(l);return N(o)&&o!==oi.NotSet&&(v="".concat(v,";SameSite=").concat(o)),N(u)&&u===ui.Yes&&(v="".concat(v,";Secure")),document.cookie=v,!0}function r(t){return E(t)?new csDate(rn()+t):t}function e(t,r){n(t)&&i(t,"",r,new csDate(0)),n(t)&&i(t,"",r,new csDate(0),oi.None,ui.Yes)}t.CURRENT_DOMAIN="CURRENT_DOMAIN",t.get=n,t.set=i,t.toExpireDate=r,t.remove=e,t.isCookiePresent=function(){return document.cookie.length>0},t.getRootDomain=function(t,r){var s="_cs_root-domain",o=n(s);if(null!==o&&"1"!==o)return o;for(var u=csString.prototype.split.call(window.location.hostname,"."),c=csArray.prototype.pop.call(u);u.length&&(null===o||"1"===o);)i(s,c=csArray.prototype.join.call([csArray.prototype.pop.call(u),c],"."),c,void 0,t,r),o=n(s);return e(s,c),c}}(ei||(ei={})),function(t){t.browserIsSafariV12=function(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}}(si||(si={})),function(t){t.None="None",t.Lax="Lax",t.NotSet="X"}(oi||(oi={})),function(t){t[t.Yes=1]="Yes",t[t.No=0]="No"}(ui||(ui={}));var hi=function(){function t(t,n,i){this.U=t,this.ot=n,this.ut=i,this.ht=!1,this.ft=oi.NotSet,this.lt=ui.No}return t.prototype.getSameSiteFlag=function(){return this.ft},t.prototype.getSecureFlag=function(){return this.lt},t.prototype.getDomain=function(){return this.vt},t.prototype.getRootDomain=function(){return this.yt},t.prototype.init=function(){if(!this.U.cookielessTrackingEnabled){var t=this.wt(),n=this.gt();this.ht=this.St(t,n),this.ht?(this.ft=t,this.lt=n):this.U.secureCookiesEnabled&&"https:"===this.ot.getUrlProtocol()&&(this.lt=ui.Yes),this.yt=this.bt(),this.vt=this.Et(this.yt)}},t.prototype.St=function(n,i){return!si.browserIsSafariV12()&&(ei.set(t.COOKIE_TEST_FOR_SAME_SITE,"Test same site",t.CURRENT_DOMAIN,void 0,n,i),!!ei.get(t.COOKIE_TEST_FOR_SAME_SITE)&&(ei.remove(t.COOKIE_TEST_FOR_SAME_SITE,t.CURRENT_DOMAIN),!0))},t.prototype.wt=function(){return"http:"===this.ot.getUrlProtocol()?oi.Lax:this.ut.isSameSiteNoneSecureNeeded()||this.U.crossDomainTracking?oi.None:oi.Lax},t.prototype.gt=function(){return"http:"===this.ot.getUrlProtocol()?ui.No:this.U.secureCookiesEnabled||this.U.crossDomainTracking||this.ut.isSameSiteNoneSecureNeeded()?ui.Yes:ui.No},t.prototype.isSameSiteSupported=function(){return this.ht},t.prototype.set=function(t,n,i){var r=ei.toExpireDate(i);ei.set(t,n,this.vt,r,this.getSameSiteFlag(),this.getSecureFlag())},t.prototype.get=function(t){var n=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")).exec(document.cookie);return n?decodeURIComponent(n[2]):null},t.prototype.delete=function(t,n){var i=n||this.vt;ei.remove(t,i)},t.prototype.bt=function(){var t=this.ut.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),n=t?oi.None:void 0,i=t?ui.Yes:void 0;return ei.getRootDomain(n,i)},t.prototype.Et=function(t){return this.U.allowSubdomains?t:ei.CURRENT_DOMAIN},t.CURRENT_DOMAIN="CURRENT_DOMAIN",t.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",t}(),ai="_cs_t",fi=function(){function t(t,n){this.At=t,this.U=n,this.Rt=!1,this.Tt=!1}return t.prototype.init=function(){if(!this.U.cookielessTrackingEnabled&&this.At.isTopWindowTracker()&&"cookie"in document){if(!this.At.isInIframeContext()&&ei.isCookiePresent())return this.Rt=!0,void(this.Tt=!1);if(ei.set(ai,"1",ei.CURRENT_DOMAIN),null!==ei.get(ai))return this.Rt=!0,this.Tt=!1,void ei.remove(ai,ei.CURRENT_DOMAIN);ei.set(ai,"1",ei.CURRENT_DOMAIN,void 0,oi.None,ui.Yes),null!==ei.get(ai)&&(this.Rt=!0,this.Tt=!0,ei.remove(ai,ei.CURRENT_DOMAIN))}},t.prototype.areCookiesEnabled=function(){return this.Rt},t.prototype.isSameSiteNoneSecureNeeded=function(){return this.Tt},t}();var li,vi=function(){function t(t,n){this.U=t,this.ut=n}return t.prototype.canTrack=function(){return this.U.isProjectActive()&&this.Ot()&&this.Nt()&&this.kt()},t.prototype.canTrackInChild=function(){return this.U.isProjectActive()&&this.It()&&(this.Nt()||this.Ct())},t.prototype.kt=function(){return this.U.cookielessTrackingEnabled?function(){var t="CSSessionStorageTest";try{return sessionStorage.setItem(t,t),sessionStorage.getItem(t)===t&&(sessionStorage.removeItem(t),!0)}catch(t){return!1}}():this.ut.areCookiesEnabled()},t.prototype.Nt=function(){return Sn(window.location.hostname,this.U.hostnames)},t.prototype.Ot=function(){return!this._t()&&this.Mt()},t.prototype.It=function(){return!this._t()&&this.Pt()},t.prototype.Ct=function(){return Ot(window.location.href,"about:srcdoc")&&"about:"===window.location.protocol&&""===window.location.hostname},t.prototype._t=function(){return"visibilityState"in document&&"prerender"===document.visibilityState},t.prototype.Mt=function(){return this.xt()&&this.Dt()},t.prototype.Pt=function(){return this.xt()},t.prototype.Dt=function(){try{return!!window.localStorage}catch(t){return!1}},t.prototype.xt=function(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window},t}(),di=function(){function t(t){var n=this;this.Lt=!1,this.Ut=new Map,this.jt=new Map,this.qt=new Map,this.Ht="CS_WORKER_SIGNATURE";var i="\n    const algorithm = ".concat(t.algorithm,";\n    const compressor = (").concat(t.getCompressorSourceCode(),")();\n    ").concat('!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function r(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))}function n(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(e||(e={}));var o,a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},s=function(){function r(e){var t,r=this;this.queryParams={},this.headers={},this.handleRecoveredRequests=function(e){var t,n;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=o.next();!a.done;a=o.next()){var s=a.value,i=s.metadata,c=s.events;r.send(c,i)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}return r.prototype.setQueryParams=function(e){var t=this;Object.keys(e).forEach((function(r){t.queryParams[r]=e[r]}))},r.prototype.removeQueryParams=function(e){var t=this;e?e.forEach((function(e){delete t.queryParams[e]})):this.queryParams={}},r.prototype.send=function(r,n){var o=this,s=n||t({},this.queryParams),i=!("ct"in s),c="string"!=typeof r&&!this.isArrayBuffer(r);"ct"in s||(this.compressionOpts&&i?s.ct=this.compressionOpts.compressionType:s.ct=e.UNCOMPRESSED);var u=c?JSON.stringify(r):r,h=Object.keys(s).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(s[e]))})).join("&"),f="".concat(this.endpoint,"?").concat(h);!function(e,t){for(var r=e.length,n=0;n<r;n++)if(t(e[n],n))return!0;return!1}(this.mandatoryParameters,(function(e){return null==s[e]}))?this.compressionOpts&&i&&"string"==typeof u?this.compressionOpts.compressor(u,this.compressionOpts.compressionOutputType,(function(e){return o.doSend(f,s,e)})):this.doSend(f,s,u):a("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(f))},r.prototype.onLoad=function(e){this.onLoadCallback=e},r.prototype.onError=function(e){this.onErrorCallback=e},r.prototype.onTimeout=function(e,t){this.onTimeoutCallback=e,this.timeout=t},r.prototype.abort=function(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()},r.prototype.setRequestHeader=function(e,t){this.headers[e]=t},r.prototype.getQueryParams=function(){return this.queryParams},r.prototype.isArrayBuffer=function(e){return e&&void 0!==e.byteLength},r.prototype.doSend=function(e,t,r){var n=this,o=new XMLHttpRequest,a=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&");o.open("POST",e),o.onload=function(){if(n.recoveryStorage&&n.recoveryStorage.recover(n.handleRecoveredRequests),n.onLoadCallback){var e={params:t,responseText:o.responseText,status:o.status};n.onLoadCallback(e)}},o.onerror=function(){n.recoveryStorage&&n.recoveryStorage.save({key:a,metadata:t,events:r}),n.onErrorCallback&&n.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(o.timeout=this.timeout,o.ontimeout=function(){n.onTimeoutCallback()}),this.abortCurrentXhrCall=function(){return o.abort()},Object.keys(this.headers).forEach((function(e){o.setRequestHeader(e,n.headers[e])})),o.send(r)},r}(),i=function(){function e(e){this.maxStoredBytes=e,this.storageBytesUsed=0}return e.prototype.addString=function(e){this.storageBytesUsed+=2*e.length},e.prototype.addArrayBuffer=function(e){this.storageBytesUsed+=e.byteLength},e.prototype.isThresholdReached=function(){return this.storageBytesUsed>this.maxStoredBytes},e.prototype.reset=function(){this.storageBytesUsed=0},e}(),c=function(){function e(e){this.ramStorage={},this.byteSizeCounter=new i(e)}return e.prototype.save=function(e){var t=e.key,r=e.metadata,n=e.events;this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(t),"string"==typeof n?this.byteSizeCounter.addString(n):this.byteSizeCounter.addArrayBuffer(n),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[t]={metadata:r,events:n}))},e.prototype.recover=function(e){var t=this,r=[];this.getStorageKeys().forEach((function(e){var n=t.ramStorage[e];void 0!==n&&(delete n.metadata.datatype,r.push(n),t.removeItem(e))})),0!==r.length&&(e(r),this.byteSizeCounter.reset())},e.prototype.getStorageKeys=function(){return Object.keys(this.ramStorage)},e.prototype.removeItem=function(e){delete this.ramStorage[e]},e}();!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(o||(o={}));var u=function(){function e(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=o.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new i(t),this.init()}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.openCache()];case 1:return e.sent(),this.cacheState===o.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer),[2]}}))}))},e.prototype.flushToBeSavedBuffer=function(){var e=this;this.toBeSavedBuffer.forEach((function(t){e.save(t)})),this.toBeSavedBuffer=[]},e.prototype.save=function(e){return r(this,void 0,void 0,(function(){var t,r,a;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.cacheState===o.OPEN_IN_PROGRESS?(this.toBeSavedBuffer.push(e),[2]):this.cacheState!==o.READY||this.byteSizeCounter.isThresholdReached()?[2]:(t=e.key,r=e.metadata,a=e.events,this.byteSizeCounter.addString(t),"string"==typeof a?this.byteSizeCounter.addString(a):this.byteSizeCounter.addArrayBuffer(a),this.byteSizeCounter.isThresholdReached()?[2]:[4,this.cache.put("".concat(this.origin,"/").concat(t),new Response(a,{headers:r}))]);case 1:case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},e.prototype.recover=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return this.cache?[3,2]:[4,this.openCache()];case 1:if(t.sent(),this.cacheState!==o.READY)return[2];t.label=2;case 2:return this.doRecover(e),[2]}}))}))},e.prototype.openCache=function(){return r(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.cacheState=o.OPEN_IN_PROGRESS,e=this,[4,self.caches.open("".concat(this.context).concat(this.storageName))];case 1:return e.cache=t.sent(),this.cacheState=o.READY,[3,3];case 2:return t.sent(),this.cacheState=o.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},e.prototype.doRecover=function(e){return r(this,void 0,void 0,(function(){var t,r,o,a,s=this;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,6,7]),this.recoveryInProgress++,this.recoveryInProgress>1?[2]:[4,this.cache.keys()];case 1:return 0===(t=n.sent()).length?[2]:[4,this.cache.matchAll()];case 2:return r=n.sent(),o=r.map((function(e){var t={};e.headers.forEach((function(e,r){t[r]=e})),delete t["content-type"];var r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then((function(e){return{metadata:t,events:e}})):e.arrayBuffer().then((function(e){return{metadata:t,events:e}}))})),[4,Promise.all(o)];case 3:return a=n.sent(),[4,Promise.all(t.map((function(e){return s.cache.delete(e)})))];case 4:return n.sent(),e(a),this.byteSizeCounter.reset(),[3,7];case 5:return n.sent(),[3,7];case 6:return this.recoveryInProgress--,[7];case 7:return[2]}}))}))},e}(),h=function(){function e(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}return e.prototype.initializeStorageStrategy=function(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()},e.prototype.save=function(e){this.storageStrategy.save(e)},e.prototype.recover=function(e){this.storageStrategy.recover(e)},e.prototype.setCachesStrategy=function(t){var r=this;this.storageStrategy=new u(t,e.MAX_SIZE,(function(e){r.setRamStorageStrategy(e)}))},e.prototype.setRamStorageStrategy=function(t){var r=this;this.storageStrategy=new c(e.MAX_SIZE),t&&t.forEach((function(e){r.storageStrategy.save(e)}))},e.MAX_SIZE=16777216,e}();!function(){var e="CS_WORKER_SIGNATURE",t=new Map,o=new h("csPersisted");function a(r){var n;if((n=r)&&n.WORKER_SIGNATURE===e)switch(r.type){case"CreatePostRequest":var a=r.endpoint,i=r.compressionOutputType,c=r.useRetry,u=r.mandatoryParameters,h={endpoint:a,mandatoryParameters:u,worker:!0};i&&(h.compressionOpts={compressor:compressor,compressionOutputType:i,compressionType:algorithm}),c&&(h.recoveryStorage=o);var f=new s(h);t.set(a,f),f.onLoad((function(t){var r={type:"onLoad",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)})),f.onError((function(t){var r={type:"onError",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)}));break;case"SetQueryParams":var p=r.endpoint,y=r.queryParams;(f=t.get(p))&&f.setQueryParams(y);break;case"RemoveQueryParams":p=r.endpoint,y=r.queryParams,(f=t.get(p))&&f.removeQueryParams(y);break;case"Send":p=r.endpoint;var d=r.payload;y=r.queryParams,(f=t.get(p))&&f.send(d,y);break;case"Abort":p=r.endpoint,(f=t.get(p))&&f.abort();break;case"SetHeader":p=r.endpoint;var l=r.headerName,v=r.headerValue;(f=t.get(p))&&f.setRequestHeader(l,v);break;case"SetTimeout":var S=r.endpoint,m=r.timeout;(f=t.get(S))&&f.onTimeout((function(){var t={type:"onTimeout",endpoint:S,WORKER_SIGNATURE:e};self.postMessage(t)}),m);break;default:throw new Error(JSON.stringify(r))}}self.addEventListener("message",(function(e){e.data.getReader?function(e,t){r(this,void 0,void 0,(function(){var r,o,a,s;return n(this,(function(n){switch(n.label){case 0:r=e.getReader(),n.label=1;case 1:return[4,r.read()];case 2:return o=n.sent(),a=o.done,s=o.value,a?[3,3]:(t(s),[3,1]);case 3:return[2]}}))}))}(e.data,a):a(e.data)}))}()}();');try{this.Ft=this.Vt(i),this.Lt=!0,this.Bt()&&(this.zt=new ReadableStream({start:function(t){n.Gt=t}}),this.Ft.postMessage(this.zt,[this.zt]),this.postMessage=this.postMessageAsTransferable)}catch(t){this.Lt=!1}}return t.prototype.postMessage=function(t){t.WORKER_SIGNATURE=this.Ht,this.Ft.postMessage(t)},t.prototype.postMessageAsTransferable=function(t){t.WORKER_SIGNATURE=this.Ht,this.Gt.enqueue(t)},t.prototype.Vt=function(t){var n=this,i=window.csURL||window.webkitURL,r=window.Blob,e=window.Worker,s=new r([t],{type:"application/javascript"}),o=i.createObjectURL(s);_n.whiteListFilename(o);var u=new e(o);return u.onmessage=function(t){var i=t.data,r=i.type,e=i.endpoint;if(i.WORKER_SIGNATURE===n.Ht)if("onLoad"===r){var s=t.data.response;(o=n.Ut.get(e))&&o(s)}else if("onError"===r){s=t.data.response;(o=n.jt.get(e))&&o(s)}else if("onTimeout"===r){var o;(o=n.qt.get(e))&&o()}},u},t.prototype.registerOnLoadCallback=function(t,n){this.Ut.set(t,n)},t.prototype.registerOnErrorCallback=function(t,n){this.jt.set(t,n)},t.prototype.registerOnTimeoutCallback=function(t,n){this.qt.set(t,n)},t.prototype.isSupported=function(){return this.Lt},t.prototype.Bt=function(){try{var t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch(t){return!1}},t}(),yi=function(){function t(t){var n;this.$t={},this.Jt=t.endpoint,this.Yt=t.networkWorker,this.Wt=t.compressionOutputType,this.Xt=t.useRetry,this.Yt.postMessage({type:"CreatePostRequest",endpoint:this.Jt,compressionOutputType:this.Wt,useRetry:this.Xt,mandatoryParameters:null!==(n=t.mandatoryParameters)&&void 0!==n?n:[]})}return t.prototype.setQueryParams=function(t){var n=this;this.Yt.postMessage({type:"SetQueryParams",endpoint:this.Jt,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),(function(i){n.$t[i]=t[i]}))},t.prototype.getQueryParams=function(){return this.$t},t.prototype.removeQueryParams=function(t){var n=this;this.Yt.postMessage({type:"RemoveQueryParams",endpoint:this.Jt,queryParams:t}),t&&csArray.prototype.forEach.call(t,(function(t){delete n.$t[t]}))},t.prototype.send=function(t,n){this.Yt.postMessage({type:"Send",endpoint:this.Jt,payload:t,queryParams:n})},t.prototype.abort=function(){this.Yt.postMessage({type:"Abort",endpoint:this.Jt})},t.prototype.onLoad=function(t){this.Yt.registerOnLoadCallback(this.Jt,t)},t.prototype.onError=function(t){this.Yt.registerOnErrorCallback(this.Jt,t)},t.prototype.setRequestHeader=function(t,n){this.Yt.postMessage({type:"SetHeader",endpoint:this.Jt,headerName:t,headerValue:n})},t.prototype.onTimeout=function(t,n){this.Yt.registerOnTimeoutCallback(this.Jt,t),this.Yt.postMessage({type:"SetTimeout",endpoint:this.Jt,timeout:n})},t}();!function(t){t.UNCOMPRESSED="0",t.GZIP="2"}(li||(li={}));var wi=function(t){this.onError=t};function pi(t){for(var n,i=null!==(n=t.length)&&void 0!==n?n:0,r=new csArray(i),e=0;e<i;e+=1)r[e]=t[e];return r}function mi(t,n){for(var i=t.length,r=new csArray(i),e=0;e<i;e+=1)r[e]=n(t[e]);return r}function gi(t,n){var i=[];return function(t,n,i){for(var r=0,e=0;e<t.length;e+=1)for(var s=n(t[e]),o=0;o<s.length;o++)i(s[o],r++)}(t,n,(function(t){return csArray.prototype.push.call(i,t)})),i}function Si(t,n){if(t.length>=0)for(var i=t.length,r=0;r<i;r++)n(t[r],r);else for(var e=0,s=t.next();!s.done;)n(s.value,e++),s=t.next()}function bi(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return t[r]}function Ei(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return!0;return!1}function Ai(t,n){for(var i=t.length,r=[],e=0;e<i;e+=1){var s=t[e];n(s)&&csArray.prototype.push.call(r,s)}return r}function Ri(t,n){for(var i=0;i<t.length;i++)csArray.prototype.push.call(n,t[i])}function Ti(t){var n=t instanceof Map,i=[];return t.forEach((function(t,r){return csArray.prototype.push.call(i,n?[r,t]:t)})),i}var Oi,Ni,ki,Ii=function(){function t(t){var n,i=this;this.$t={},this.Kt={},this.Qt=function(t){var n,r;try{for(var e=bt(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.metadata,c=o.events;i.send(c,u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},this.Jt=t.endpoint,this.Zt=t.compressionOpts,this.tn=t.recoveryStorage,this.mandatoryParameters=null!==(n=t.mandatoryParameters)&&void 0!==n?n:[],this.worker=!!t.worker,this.tn&&this.tn.recover(this.Qt)}return t.prototype.setQueryParams=function(t){var n=this;Object.keys(t).forEach((function(i){n.$t[i]=t[i]}))},t.prototype.removeQueryParams=function(t){var n=this;t?t.forEach((function(t){delete n.$t[t]})):this.$t={}},t.prototype.send=function(t,n){var i=this,r=n||wt({},this.$t),e=!("ct"in r),s="string"!=typeof t&&!this.nn(t);"ct"in r||(this.Zt&&e?r.ct=this.Zt.compressionType:r.ct=li.UNCOMPRESSED);var o=s?JSON.stringify(t):t,u=Object.keys(r).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r[t]))})).join("&"),c="".concat(this.Jt,"?").concat(u);Ei(this.mandatoryParameters,(function(t){return null==r[t]}))?Vn.warn("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(c)):this.Zt&&e&&"string"==typeof o?this.Zt.compressor(o,this.Zt.compressionOutputType,(function(t){return i.rn(c,r,t)})):this.rn(c,r,o)},t.prototype.onLoad=function(t){this.en=t},t.prototype.onError=function(t){this.un=t},t.prototype.onTimeout=function(t,n){this.cn=t,this.hn=n},t.prototype.abort=function(){this.an&&this.an()},t.prototype.setRequestHeader=function(t,n){this.Kt[t]=n},t.prototype.getQueryParams=function(){return this.$t},t.prototype.nn=function(t){return t&&void 0!==t.byteLength},t.prototype.rn=function(t,n,i){var r=this,e=new XMLHttpRequest,s=Object.keys(n).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n[t]))})).join("&");e.open("POST",t),e.onload=function(){if(r.tn&&r.tn.recover(r.Qt),r.en){var t={params:n,responseText:e.responseText,status:e.status};r.en(t)}},e.onerror=function(){r.tn&&r.tn.save({key:s,metadata:n,events:i}),r.un&&r.un({params:n})},this.hn&&this.cn&&(e.timeout=this.hn,e.ontimeout=function(){r.cn()}),this.an=function(){return e.abort()},Object.keys(this.Kt).forEach((function(t){e.setRequestHeader(t,r.Kt[t])})),e.send(i)},t}(),Ci=function(){function t(t){this.fn=t,this.Yt=new di(this.fn)}return t.prototype.create=function(t,n,i,r,e){if(void 0===e&&(e=[]),this.Yt.isSupported()&&n)return new yi({networkWorker:this.Yt,endpoint:t,compressionOutputType:i,useRetry:!!r,mandatoryParameters:e});var s=i?{compressor:this.fn.compress,compressionOutputType:i,compressionType:this.fn.algorithm}:void 0;return new Ii({endpoint:t,compressionOpts:s,recoveryStorage:r})},t}(),_i=function(){function t(t,n,i,r,e){this.X=t,this.K=n,this.ln=i,this.vn=r,this.U=e}return t.prototype.get=function(){return{exclusion:this.ln.getAppliedTrackingDraw(),visitor:this.X.getVisitor(),session:this.K.getSession(),cvars:this.vn.getCustomVariablesSession()}},t.prototype.apply=function(t){t&&(t.exclusion?this.exclude():this.include(t))},t.prototype.exclude=function(){this.ln.exclude(this.U),this.X.removeVisitor(),this.K.removeSession(),this.vn.removeCustomVariablesSession()},t.prototype.include=function(t){this.ln.removeExclusion(),this.X.setVisitor(t.visitor),t.session?this.K.setSession(t.session):this.K.removeSession(),t.cvars?this.vn.setCustomVariableSession(t.cvars):this.vn.removeCustomVariablesSession()},t}();function Mi(t,n){void 0===n&&(n=Di.SHOW_ALL);var i=n|Di.SHOW_ELEMENT,r=[document.createTreeWalker(t,i,null,!1)],e=Pi(t);e&&csArray.prototype.push.call(r,document.createTreeWalker(e,i,null,!1));var s=null;return{root:t,nextNode:function(){if(e){var t=e;return e=null,t}for(;r.length>0;){if(s){t=s;return s=null,t}var o=r[r.length-1].nextNode();if(o){var u=Pi(o);if(n&Di.SHOW_DOCUMENT_FRAGMENT&&u&&(s=u),u&&csArray.prototype.push.call(r,document.createTreeWalker(u,i,null,!1)),Li[o.nodeType]&n)return o}else csArray.prototype.pop.call(r)}return null},visitAll:function(i){Li[t.nodeType]&n&&i(t);for(var r=this.nextNode();r;)Li[r.nodeType]&n?(i(r),r=this.nextNode()):r=this.nextNode()},collectAll:function(t){var n=[];return this.visitAll((function(i){return csArray.prototype.push.call(n,t?t(i):i)})),n}}}function Pi(t){return t&&J(t)?t.shadowRoot:null}var xi=null!==(Ni=e.Node)&&void 0!==Ni?Ni:{},Di=null!==(ki=e.NodeFilter)&&void 0!==ki?ki:{},Li=((Oi={})[2]=Di.SHOW_ATTRIBUTE,Oi[4]=Di.SHOW_CDATA_SECTION,Oi[8]=Di.SHOW_COMMENT,Oi[11]=Di.SHOW_DOCUMENT_FRAGMENT,Oi[9]=Di.SHOW_DOCUMENT,Oi[10]=Di.SHOW_DOCUMENT_TYPE,Oi[1]=Di.SHOW_ELEMENT,Oi[xi.ENTITY_NODE]=Di.SHOW_ENTITY,Oi[xi.ENTITY_REFERENCE_NODE]=Di.SHOW_ENTITY_REFERENCE,Oi[xi.NOTATION_NODE]=Di.SHOW_NOTATION,Oi[7]=Di.SHOW_PROCESSING_INSTRUCTION,Oi[3]=Di.SHOW_TEXT,Oi);function Ui(){var t=new Error,n=t.stack?csArray.prototype.filter.call(csString.prototype.split.call(t.stack,"\n"),(function(t){return"Error"!==t&&-1===csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(t),"promise ")&&-1===csString.prototype.indexOf.call(t,"[native code]")})):[];if(0===n.length)return"";var i=function(t){return t.length>0?ji(t[0]):""}(n);return""===i?"":(n=function(t,n){return csArray.prototype.filter.call(t,(function(t){return-1===csString.prototype.indexOf.call(t,n)}))}(n,i),0===n.length?"":ji(n[0]))}function ji(t){var n,i="";n=t;var r=(-1!==csString.prototype.indexOf.call(n,"@")?new csRegExp("@(.+):(\\d+):(\\d+)$"):new csRegExp("\\((.+):(\\d+):(\\d+)\\)")).exec(t);return r&&(i=r[1]),i}var qi,Hi=function(t){return t};function Fi(t){var n,i=t.target,r=t.methodName,e=t.hook,s=t.hookPrepareArgs,o=void 0===s?Hi:s,u=t.options;if(!(null===(n=Object.getOwnPropertyDescriptor(i,r))||void 0===n?void 0:n.writable))return Vn.warn("Cannot intercept read only function '".concat(csString(r),"' of object '").concat(i,"'")),null;var c,h,a=!1,f=i[r];if("function"==typeof f){var l=function(){var t=o(arguments),n=f.apply(this,arguments);if(a){var i=void 0;u&&u.withCallerName&&(i=Ui());try{e({result:n,context:this,args:t,callerName:i})}catch(t){Vn.error(t)}}return n};(c=l).prototype=(h=f).prototype,Object.defineProperty(c,"toString",{value:function(){return h.toString()}}),i[r]=l}return{activate:function(){return a=!0},deactivate:function(){return a=!1}}}function Vi(t,n,i){var r=!1,e=Object.getOwnPropertyDescriptor(t,n);if(e){if(!e.configurable)return Vn.warn("Cannot intercept read only property '".concat(csString(n),"' of object '").concat(t,"'")),null;Object.defineProperty(t,n,{set:function(){var t=arguments,s=this[n],o=e.set.apply(this,t);if(r)try{i(this,t[0],s)}catch(t){Vn.error(t)}return o}})}return{activate:function(){return r=!0},deactivate:function(){return r=!1}}}!function(t){t.isSupported=function(){return!!Element.prototype.attachShadow},t.getShadowRoot=function(t){return t&&J(t)?t.shadowRoot:null},t.getAllShadowHosts=ri((function(t){return Mi(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll((function(t){return t.host}))}),"getAllShadowHosts")}(qi||(qi={}));var Bi=function(){function t(t){this.dn=t,this.dn=zn("DocumentShadowRootObserver:callback",(function(n,i){return t(n,i)}))}var n;return t.yn=function(t){this.wn.forEach((function(n){t(n,"initial")}))},t.mn=function(t){var n,i,r=this;if(this.gn||(this.gn=new csMutationObserver((function(t){var n,i;try{for(var e=qn(t),s=e.next();!s.done;s=e.next()){var o=s.value;o.target.isConnected&&Si(o.addedNodes,r.Sn),Si(o.removedNodes,r.bn)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}))),csArray.prototype.push.call(this.En,t),!this.An){this.An=!0,this.gn.observe(document,this.Rn);try{for(var e=qn(qi.getAllShadowHosts(document)),s=e.next();!s.done;s=e.next()){var o=s.value,u=csElementshadowRoot.apply(o);this.wn.add(u),this.gn.observe(u,this.Rn)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}this.Tn||(this.Tn=Fi({target:Element.prototype,methodName:"attachShadow",hook:function(t){return t.result.isConnected&&r.On(t.result)}})),this.Tn.activate()}this.yn(t)},t.Nn=function(t){var n,i;this.En=csArray.prototype.filter.call(this.En,(function(n){return n!==t})),0===this.En.length&&(this.En=[],this.An=!1,null===(n=this.gn)||void 0===n||n.disconnect(),null===(i=this.Tn)||void 0===i||i.deactivate(),this.wn.clear())},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){return Ti(n.wn)},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var t,i;return null!==(i=null===(t=n.gn)||void 0===t?void 0:t.takeRecords())&&void 0!==i?i:[]},t.prototype.observe=function(){qi.isSupported()&&n.mn(this.dn)},t.prototype.disconnect=function(){qi.isSupported()&&n.Nn(this.dn)},n=t,t.En=[],t.wn=new Set,t.An=!1,t.Rn={childList:!0,subtree:!0},t.On=function(t){n.wn.has(t)||(n.gn.observe(t,n.Rn),n.wn.add(t),Si(n.En,(function(n){return n(t,"added")})))},t.Sn=function(t){Mi(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(n.On)},t.bn=function(t){t.isConnected||Mi(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll((function(t){n.wn.has(t)&&(n.wn.delete(t),Si(n.En,(function(n){return n(t,"removed")})))}))},Ln([Bn()],t.prototype,"observe",null),Ln([Bn()],t.prototype,"disconnect",null),t}(),zi=!0;function Gi(t,n){void 0===n&&(n=zi),t.boundElement.addEventListener(t.type,t.listener,n)}function $i(t,n){void 0===n&&(n=zi),t.boundElement.removeEventListener(t.type,t.listener,n)}function Ji(t,n){void 0===n&&(n=0);var i=Math.pow(10,n);return Math.round(t*i)/i}function Yi(t,n){"number"==typeof n&&(n={wait:n});var i,r=n.wait;if(n.ignoreThrottledCalls){var e=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=rn();if(s-e>r)return e=s,t.apply(this,n)}}var s,o=[],u=null,c=0,h=function(){c=rn(),u=null,s=t.apply(i,o)},a=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var a=rn(),f=r-(a-c);return i=null!=this?this:window,o=Fn([],Hn(n),!1),f<=0||f>r?(c=a,s=t.apply(i,o),u?(window.csClearTimeout(u),u=null):o=[]):u||(u=window.csSetTimeout(h,f)),s};return a.cancel=function(){u&&(window.csClearTimeout(u),c=0,u=null,o=[])},a.flushPending=function(){u&&(window.csClearTimeout(u),h())},a}var Wi,Xi,Ki,Qi,Zi,tr=function(t){return function(n,i,r){r.value=Yi(r.value,t)}};function nr(t){var n=csEventtarget.apply(t);return n&&1===n.nodeType&&csElementshadowRoot.apply(n)&&t.composedPath?t.__csOriginalTarget||t.composedPath()[0]:n}!function(t){t[t.MUTATION_INSERT=1]="MUTATION_INSERT",t[t.MUTATION_REMOVE=2]="MUTATION_REMOVE",t[t.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",t[t.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",t[t.INITIAL_DOM=5]="INITIAL_DOM",t[t.SCROLL=6]="SCROLL",t[t.CLICK=8]="CLICK",t[t.RESIZE=9]="RESIZE",t[t.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",t[t.INPUT_SELECT=11]="INPUT_SELECT",t[t.INPUT_TEXT=12]="INPUT_TEXT",t[t.HASH_CHANGE=13]="HASH_CHANGE",t[t.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",t[t.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",t[t.MOUSE_OVER=16]="MOUSE_OVER",t[t.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",t[t.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",t[t.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",t[t.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",t[t.ATTACH_SHADOW=22]="ATTACH_SHADOW",t[t.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",t[t.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",t[t.PAGE_EVENT=27]="PAGE_EVENT",t[t.API_ERROR=28]="API_ERROR",t[t.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",t[t.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",t[t.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",t[t.KEY_DOWN=32]="KEY_DOWN",t[t.KEY_UP=33]="KEY_UP",t[t.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",t[t.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",t[t.USER_IDENTIFIER=38]="USER_IDENTIFIER",t[t.TOUCH_START=41]="TOUCH_START",t[t.TOUCH_MOVE=42]="TOUCH_MOVE",t[t.TOUCH_END=43]="TOUCH_END",t[t.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",t[t.POINTER_DOWN=47]="POINTER_DOWN",t[t.POINTER_MOVE=48]="POINTER_MOVE",t[t.POINTER_UP=49]="POINTER_UP",t[t.CUSTOM_ERROR=50]="CUSTOM_ERROR",t[t.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",t[t.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",t[t.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",t[t.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",t[t.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",t[t.SCREEN_RESIZE=65]="SCREEN_RESIZE",t[t.RESOURCE_HASHES=66]="RESOURCE_HASHES",t[t.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",t[t.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",t[t.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",t[t.TEXT_REF=73]="TEXT_REF",t[t.TOUCH_CANCEL=74]="TOUCH_CANCEL",t[t.MUTATION_MOVE=75]="MUTATION_MOVE",t[t.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",t[t.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",t[t.VIDEO_PLAY=78]="VIDEO_PLAY",t[t.VIDEO_PAUSE=79]="VIDEO_PAUSE",t[t.VIDEO_SEEK=80]="VIDEO_SEEK",t[t.DEBUG=999]="DEBUG"}(Wi||(Wi={})),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Fourth=3]="Fourth",t[t.Fifth=4]="Fifth"}(Xi||(Xi={})),function(t){t[t.SWIPE=0]="SWIPE",t[t.PINCH_IN=1]="PINCH_IN",t[t.PINCH_OUT=2]="PINCH_OUT",t[t.LONG_PRESS=3]="LONG_PRESS",t[t.TAP=4]="TAP",t[t.DOUBLE_TAP=5]="DOUBLE_TAP"}(Ki||(Ki={})),function(t){t[t.SPACE=0]="SPACE",t[t.ENTER=1]="ENTER",t[t.BACKSPACE=2]="BACKSPACE",t[t.DELETE=3]="DELETE",t[t.ARROWUP=4]="ARROWUP",t[t.ARROWDOWN=5]="ARROWDOWN",t[t.ARROWLEFT=6]="ARROWLEFT",t[t.ARROWRIGHT=7]="ARROWRIGHT",t[t.CAPSLOCK=8]="CAPSLOCK",t[t.SHIFT=9]="SHIFT",t[t.TAB=10]="TAB",t[t.ALPHANUMERICAL=11]="ALPHANUMERICAL",t[t.ESCAPE=12]="ESCAPE",t[t.END=13]="END",t[t.ALT=14]="ALT",t[t.CTRL=15]="CTRL",t[t.META=16]="META"}(Qi||(Qi={})),function(t){t[t.COPY=0]="COPY",t[t.CUT=1]="CUT",t[t.PASTE=2]="PASTE"}(Zi||(Zi={}));var ir,rr=!!window.chrome,er="data-cs-scroll-container";!function(t){t.isEventOnScrollContainer=function(t){return!!(k(t)&&function(t){try{if(k(csEventtarget.apply(t)))return!0}catch(t){}return!1}(t)&&C(csEventtarget.apply(t))&&null!==csEventtarget.apply(t).getAttribute(er))},t.getScrollContainer=function(){return window.csquerySelector[document.nodeType].call(document,"[".concat(er,"]"))}}(ir||(ir={}));var sr,or,ur=(sr=csSymbol.for("propStore"),{getStore:function(t){return t[sr]},get:function(t,n){var i=t[sr];return null==i?void 0:i[n]},set:function(t,n,i){var r=t[sr];r||(r={},t[sr]=r),r[n]=i}});!function(t){function n(t,n){i(t,void 0,n)}function i(t,n,r){var e,s,o=!1;if(r(t,n,(function(){return o=!0})),!o){var u=t.shadowRoot;u&&i(u,t,r);var c=t.children;if(null==c?void 0:c.length)try{for(var h=p(c),a=h.next();!a.done;a=h.next()){var f=a.value;if(f&&(i(f,t,r),o))break}}catch(t){e={error:t}}finally{try{a&&!a.done&&(s=h.return)&&s.call(h)}finally{if(e)throw e.error}}}}t.setProperty=function(t,n,i){var r;t instanceof Node?ur.set(t,n,i):(null!==(r=t.props)&&void 0!==r||(t.props={}),t.props[n]=i)},t.getProperty=function(t,n){var i;return t instanceof Node?ur.get(t,n):null===(i=t.props)||void 0===i?void 0:i[n]},t.getProperties=function(t){return t instanceof Node?ur.getStore(t):t.props},t.findDescendant=function(t,i){var r=null;return n(t,(function(t,n,e){return i(t)&&(r=t)&&!!e()})),r},t.traverse=n}(or||(or={}));var cr=1,hr=csSymbol("nodeIdentifier");function ar(t){var n=or.getProperty(t,hr);return null!=n?n:(or.setProperty(t,hr,cr++),or.getProperty(t,hr))}var fr,lr;function vr(t){if(fr||(fr=document.createElement("div")),!(!!t&&R(t)))return Vn.warn("isValidSelector: invalid selector provided '".concat(t,"'")),!1;try{return nt.call(fr,t),!0}catch(n){return Vn.warn("isValidSelector: invalid selector provided '".concat(t,"'")),!1}}function dr(t,n){if(it)return it.call(t,n);var i=t;do{if(nt.call(i,n))return i;i=null==i?void 0:i.parentElement}while(null!==i&&1===i.nodeType);return null}!function(t){var n;!function(t){t[t.NotMasked=0]="NotMasked",t[t.Parent=1]="Parent",t[t.Child=2]="Child"}(n=t.MaskedElementState||(t.MaskedElementState={})),t.maskedProp="masked",t.maskedAttributeProp="maskedAttribute",t.isSelectorUserInput=function(t){return!!(O(t)&&"Attributes"in t&&"PIISelectors"in t)&&(t.Attributes instanceof Array&&t.PIISelectors instanceof Array)},t.sanitizeSelectorUserInput=function(t){return O(t)&&null!==t?("Attributes"in t||(t.Attributes=[]),"PIISelectors"in t||(t.PIISelectors=[]),t):(Vn.warn("setPIISelectors called with invalid input of type ".concat(typeof t,": ").concat(csJSON.stringify(t)),!1),{Attributes:[],PIISelectors:[]})},t.getMaskedElementDetails=function(i){var r;return null!==(r=or.getProperty(i,t.maskedProp))&&void 0!==r?r:{state:n.NotMasked}},t.getMaskedAttributeDetails=function(n){var i;return null!==(i=or.getProperty(n,t.maskedAttributeProp))&&void 0!==i?i:{attributes:[]}},t.isMaskedElement=function(i){var r=or.getProperty(i,t.maskedProp);return(null==r?void 0:r.state)===n.Parent},t.isMaskedElementChild=function(i){var r=or.getProperty(i,t.maskedProp);return(null==r?void 0:r.state)===n.Child},t.isMaskedAttribute=function(n,i){var r=or.getProperty(n,t.maskedAttributeProp);return(null==(null==r?void 0:r.attributes)?void 0:csArray.prototype.indexOf.call(null==r?void 0:r.attributes,i))>-1},t.setMaskedElementProperty=function(n,i){or.setProperty(n,t.maskedProp,i)},t.unsetMaskedElementProperty=function(n){or.setProperty(n,t.maskedProp,void 0)},t.setMaskedAttributeProperty=function(n,i){or.setProperty(n,t.maskedAttributeProp,i)},t.getComputedSelectorSettings=function(t,n){var i,r=csArray.prototype.filter.call(t.PIISelectors,(function(t){return vr(t)}));n.elementSelector.length>0&&(i=csArray.prototype.push).call.apply(i,g([r],m(csString.prototype.split.call(n.elementSelector,",")),!1));var e,s,o=function(t){var n,i,r,e;if(t.length<=1)return t;var s=[];try{for(var o=p(t),u=o.next();!u.done;u=o.next()){var c=u.value,h=csString.prototype.split.call(c,",");try{for(var a=(r=void 0,p(h)),f=a.next();!f.done;f=a.next()){var l=f.value;-1===csArray.prototype.indexOf.call(s,l)&&csArray.prototype.push.call(s,l)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s}(g([],m(r),!1)),u={elementSelector:csArray.prototype.join.call(o,","),attrSelector:n.attrSelector,attrSelectors:n.attrSelectors};return csArray.prototype.forEach.call(t.Attributes,(function(t){(null==t?void 0:t.attrName)&&(null==t?void 0:t.selector)&&vr(t.selector)&&!function(t,n){return csArray.prototype.some.call(t,(function(t){return t.selector===n.selector&&t.attrName===n.attrName}))}(u.attrSelectors,t)&&csArray.prototype.push.call(u.attrSelectors,t)})),u.attrSelector=(e=u.attrSelectors,s="",csArray.prototype.forEach.call(e,(function(t){var n=csString.prototype.split.call(t.selector,",");csArray.prototype.forEach.call(n,(function(t){vr(t)&&(s&&(s+=","),s+=t)}))})),s),u}}(lr||(lr={}));var yr=function(){function t(){var t=this;this.eventType="user",this.kn=[],this.In=[{type:"pointerup",listener:function(n){return t.pointerUpListener(n)},boundElement:document},{type:"pointermove",listener:function(n){return t.pointerMoveListener(n)},boundElement:document},{type:"pointerdown",listener:function(n){return t.pointerDownListener(n)},boundElement:document}],this.Cn=[{type:"touchstart",listener:function(n){return t.touchStartListener(n)},boundElement:document},{type:"touchmove",listener:function(n){return t.touchMoveListener(n)},boundElement:document},{type:"touchend",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document},{type:"touchcancel",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document}],this._n=[{type:"click",listener:function(n){return t.clickListener(n)},boundElement:document},{type:"keyup",listener:function(n){return t.keyUpListener(n)},boundElement:document},{type:"keydown",listener:function(n){return t.keyDownListener(n)},boundElement:document},{type:"copy",listener:function(n){return t.copyListener(n)},boundElement:document},{type:"cut",listener:function(n){return t.cutListener(n)},boundElement:document},{type:"paste",listener:function(n){return t.pasteListener(n)},boundElement:document},{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))},boundElement:document},{type:"mouseover",listener:function(n){return t.mouseOverListener(n)},boundElement:document}],this.Mn=[{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))}}];var n=function(t){if(!R(t))return null;var n=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(t);return n?Number(n[2]):null}(window.navigator.userAgent);(null===n||n&&n>=16)&&csArray.prototype.push.call(this.Mn,{type:"mouseover",listener:function(n){return t.mouseOverListener(n)}}),this.Pn=new Bi((function(n,i){switch(i){case"initial":case"added":t.xn(n);break;case"removed":t.Dn(n)}}))}return t.prototype.init=function(){this.Ln(),this.Un(),this.jn()},t.prototype.onEvent=function(t){csArray.prototype.push.call(this.kn,t)},t.prototype.qn=function(t,n){void 0===n&&(n=!1),csArray.prototype.forEach.call(this.kn,(function(i){return i(t,n)}))},t.prototype.start=function(){this.Hn(),this.xn(document),this.Pn.observe()},t.prototype.stop=function(){this.Dn(document),this.Pn.disconnect()},t.prototype.Un=function(){var t;this.Fn()&&(t=csArray.prototype.push).call.apply(t,At([this._n],Et(this.In),!1))},t.prototype.Ln=function(){var t;this.Vn()&&(t=csArray.prototype.push).call.apply(t,At([this._n],Et(this.Cn),!1))},t.prototype.xn=function(t){G(t)?csArray.prototype.forEach.call(this._n,(function(t){return Gi(t)})):csArray.prototype.forEach.call(this.Mn,(function(n){Gi({type:n.type,listener:n.listener,boundElement:t})}))},t.prototype.Dn=function(t){G(t)?csArray.prototype.forEach.call(this._n,(function(t){return $i(t)})):csArray.prototype.forEach.call(this.Mn,(function(n){$i({type:n.type,listener:n.listener,boundElement:t})}))},t.prototype.Fn=function(){return"PointerEvent"in window&&"function"==typeof window.PointerEvent},t.prototype.Vn=function(){return"TouchEvent"in window&&"function"==typeof window.TouchEvent},t.prototype.Hn=function(){this.Bn()},t.prototype.Bn=function(){var t=ir.getScrollContainer()||document,n=ar(t),i=this.zn(t);if(0!==i.top||0!==i.left){var r={type:Wi.SCROLL,args:[n,i.left,i.top],date:rn()};this.qn(r,!0)}},t.prototype.zn=function(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}},t.prototype.scrollListener=function(t){if(!lr.isMaskedElement(t)&&!lr.isMaskedElementChild(t)){var n=ar(t),i=this.zn(t),r={type:Wi.SCROLL,args:[n,i.left,i.top],date:rn()};this.qn(r)}},t.prototype.mouseOverListener=function(t){if(!lr.isMaskedElementChild(t.target)){var n=ar(t.target),i={type:Wi.MOUSE_OVER,args:[n],date:rn()};this.qn(i)}},t.prototype.clickListener=function(t){var n=nr(t);if(!lr.isMaskedElementChild(n)){var i=ar(n),r={type:Wi.CLICK,args:[i],date:rn()};this.qn(r)}},t.prototype.keyUpListener=function(t){var n=nr(t);if(!lr.isMaskedElementChild(n)){var i=ar(n),r=this.Gn[t.key];if(void 0!==r){var e={type:Wi.KEY_UP,args:[i,r],date:rn()};this.qn(e)}}},t.prototype.keyDownListener=function(t){var n=nr(t);if(!lr.isMaskedElementChild(n)){var i=ar(n),r=this.Gn[t.key];if(void 0!==r){var e={type:Wi.KEY_DOWN,args:[i,r],date:rn()};this.qn(e)}}},t.prototype.copyListener=function(t){var n=nr(t);if(!lr.isMaskedElementChild(n)){var i=ar(n),r={type:Wi.CLIPBOARD_COMMAND,args:[i,Zi.COPY],date:rn()};this.qn(r)}},t.prototype.cutListener=function(t){var n=nr(t);if(!lr.isMaskedElementChild(n)){var i=ar(n),r={type:Wi.CLIPBOARD_COMMAND,args:[i,Zi.CUT],date:rn()};this.qn(r)}},t.prototype.pasteListener=function(t){var n=nr(t);if(!lr.isMaskedElementChild(n)){var i=ar(n),r={type:Wi.CLIPBOARD_COMMAND,args:[i,Zi.PASTE],date:rn()};this.qn(r)}},t.prototype.pointerUpListener=function(t){var n=nr(t);if(!lr.isMaskedElementChild(n)){var i=ar(n),r={type:Wi.POINTER_UP,args:[t.pointerId,t.pointerType,Ji(t.clientX,1),Ji(t.clientY,1),i,t.button],date:rn()};this.qn(r)}},t.prototype.pointerMoveListener=function(t){var n={type:Wi.POINTER_MOVE,args:[t.pointerId,t.pointerType,Ji(t.clientX,1),Ji(t.clientY,1)],date:rn()};this.qn(n)},t.prototype.pointerDownListener=function(t){var n=nr(t);if(!lr.isMaskedElementChild(n)){var i=ar(n),r={type:Wi.POINTER_DOWN,args:[t.pointerId,t.pointerType,Ji(t.clientX,1),Ji(t.clientY,1),i,t.button,{pageX:Ji(t.pageX,1),pageY:Ji(t.pageY,1)}],date:rn()};this.qn(r)}},t.prototype.touchStartListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:Wi.TOUCH_START,args:[r.identifier,Ji(r.clientX,1),Ji(r.clientY,1)],date:rn()};this.qn(e)}},t.prototype.touchMoveListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:Wi.TOUCH_MOVE,args:[r.identifier,Ji(r.clientX,1),Ji(r.clientY,1)],date:rn()};this.qn(e)}},t.prototype.touchEndCancelListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:"touchend"===t.type?Wi.TOUCH_END:Wi.TOUCH_CANCEL,args:[r.identifier,Ji(r.clientX,1),Ji(r.clientY,1)],date:rn()};this.qn(e)}},t.prototype.jn=function(){this.Gn={},this.Gn[" "]=Qi.SPACE,this.Gn.Spacebar=Qi.SPACE,this.Gn.Backspace=Qi.BACKSPACE,this.Gn.Enter=Qi.ENTER,this.Gn.Delete=Qi.DELETE,this.Gn.ArrowUp=Qi.ARROWUP,this.Gn.ArrowDown=Qi.ARROWDOWN,this.Gn.ArrowLeft=Qi.ARROWLEFT,this.Gn.ArrowRight=Qi.ARROWRIGHT,this.Gn.Up=Qi.ARROWUP,this.Gn.Down=Qi.ARROWDOWN,this.Gn.Left=Qi.ARROWLEFT,this.Gn.Right=Qi.ARROWRIGHT,this.Gn.CapsLock=Qi.CAPSLOCK,this.Gn.Shift=Qi.SHIFT,this.Gn.Tab=Qi.TAB,this.Gn.Escape=Qi.ESCAPE,this.Gn.Esc=Qi.ESCAPE,this.Gn.End=Qi.END,this.Gn.Alt=Qi.ALT,this.Gn.Control=Qi.CTRL,this.Gn.Meta=Qi.META},mt([ci("RecordingPageEvents.start")],t.prototype,"start",null),mt([Bn("scroll")],t.prototype,"scrollListener",null),mt([Bn("mouseOver"),$n(),function(t,n,i){var r=i.value;return r&&(i.value=function(t){if(nr(t)===csEventtarget.apply(t))return r.call(this,t)}),i}],t.prototype,"mouseOverListener",null),mt([Bn("click"),$n()],t.prototype,"clickListener",null),mt([Bn("Event handler type: keyup")],t.prototype,"keyUpListener",null),mt([Bn("Event handler type: keydown")],t.prototype,"keyDownListener",null),mt([Bn("Event handler type: copy")],t.prototype,"copyListener",null),mt([Bn("Event handler type: cut")],t.prototype,"cutListener",null),mt([Bn("Event handler type: paste")],t.prototype,"pasteListener",null),mt([Bn("Event handler type: pointerup"),$n()],t.prototype,"pointerUpListener",null),mt([Bn("Event handler type: pointermove"),$n(),tr({wait:33,ignoreThrottledCalls:!1})],t.prototype,"pointerMoveListener",null),mt([Bn("Event handler type: pointerdown"),$n()],t.prototype,"pointerDownListener",null),mt([Bn("Event handler type: touchstart"),$n()],t.prototype,"touchStartListener",null),mt([Bn("Event handler type: touchmove"),$n()],t.prototype,"touchMoveListener",null),mt([Bn("Event handler type: touchend-cancel"),$n()],t.prototype,"touchEndCancelListener",null),t}(),wr=function(){function t(t){this.$n=t,this.Jn=0}return t.prototype.addString=function(t){this.Jn+=2*t.length},t.prototype.addArrayBuffer=function(t){this.Jn+=t.byteLength},t.prototype.isThresholdReached=function(){return this.Jn>this.$n},t.prototype.reset=function(){this.Jn=0},t}(),pr=function(){function t(t,n){void 0===t&&(t=[]),void 0===n&&(n=2048e3),this.Yn=t,this.Wn=new wr(n)}return t.prototype.addEvent=function(t){this.Wn.addString(Mt(t)),csArray.prototype.push.call(this.Yn,t)},t.prototype.addEventByTimestamp=function(t){for(var n=0;n<this.Yn.length;n+=1){if(this.Yn[n].date>=t.date)break}csArray.prototype.splice.call(this.Yn,n,0,t)},t.prototype.eventsCount=function(){return this.Yn.length},t.prototype.clearEvents=function(){this.Wn.reset(),this.Yn=[]},t.prototype.isFull=function(){return this.eventsCount()>=200},t.prototype.isThresholdReached=function(){return this.Wn.isThresholdReached()},t.prototype.getEvents=function(){return this.Yn},t.prototype.extractEvents=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=[],r=[];return csArray.prototype.forEach.call(this.Yn,(function(n){-1!==csArray.prototype.indexOf.call(t,n.type)?csArray.prototype.push.call(i,n):csArray.prototype.push.call(r,n)})),this.Yn=r,i},t.prototype.stringifyEvents=function(){return Mt(this.Yn)},t.prototype.Xn=function(t){t.type===Wi.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)},mt([ci("RecordingBatch.addEvent")],t.prototype,"addEvent",null),t}(),mr=function(){function t(){this.Kn=1}return t.prototype.getCurrentIndex=function(){return this.Kn},t.prototype.increment=function(){this.Kn+=1},t.prototype.reset=function(){this.Kn=1},t.prototype.getRequestParameters=function(){return{ri:"".concat(this.Kn)}},t}(),gr=function(){function t(){}return t.prototype.emit=function(n,i,r,e){void 0===e&&(e=document);var s="".concat(void 0!==r?r:t.Qn),o="".concat(s).concat(n),u=t.createEvent(o,{detail:i});null!==u&&e.dispatchEvent(u)},t.createEvent=function(t,n){if(void 0===n&&(n={}),"function"==typeof CustomEvent)return new CustomEvent(t,n);var i=this.Zn();if(null===i)return null;var r=n.bubbles,e=void 0!==r&&r,s=n.cancelable,o=void 0!==s&&s,u=n.detail;return i.initCustomEvent(t,e,o,u),i},t.Zn=function(){try{return document.createEvent("CustomEvent")}catch(t){return null}},t.Qn="cs.tracking.",t}(),Sr=function(){function t(){this._isStarted=!1}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),t.prototype.start=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._isStarted||(this._isStarted=!0,this.onStart.apply(this,At([],Et(t),!1)))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,this.onStop())},t.prototype.restart=function(){this.stop(),this.start()},t}(),br="null",Er=null,Ar=[];function Rr(t){null==Er||Er.postMessage(t)}!r&&function(){var t;return r||!!(null===(t=document.body)||void 0===t?void 0:t.getAttribute("data-cs-tag-extension"))}()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],Er=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",(function(t){Rr({type:"UXA_EVENT",event:t.detail})})),Er.addEventListener("message",(function(t){if("CONNECT"===t.data.type){if(t.data.sessionId===br)return;br=t.data.sessionId,csArray.prototype.forEach.call(Ar,(function(t){return t()})),null==Er||Er.postMessage({type:"CONNECTED",sessionId:br})}})));var Tr,Or,Nr,kr,Ir,Cr=function(t,n){void 0===n&&(n=""),this.name=t,this.format=n},_r=function(t){function n(n){var i=t.call(this,n,"Value: {count}")||this;return i.count=0,i}return Pn(n,t),n.prototype.increase=function(t){void 0===t&&(t=1),this.count+=t},n.prototype.decrease=function(){this.count>0&&this.count--},n.prototype.clear=function(){this.count=0},n.prototype.getData=function(){return{count:this.count}},n}(Cr),Mr=(function(t){function n(n,i){var r=t.call(this,n,"Value: {count}")||this;return r.ti=i,r}Pn(n,t),n.prototype.getData=function(){return{count:this.ti()}}}(Cr),function(t){function n(n){var i=t.call(this,n,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}")||this;return i.added=0,i.removed=0,i}return Pn(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.added-this.removed},enumerable:!1,configurable:!0}),n.prototype.increase=function(){this.added++},n.prototype.decrease=function(){this.removed++},n.prototype.getData=function(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}},n}(Cr)),Pr=function(t){function n(n){var i=t.call(this,n,"Count: {count}<br/>Average: {average}ms<br/>Total: {total}ms")||this;return i.total=0,i.count=0,i}return Pn(n,t),Object.defineProperty(n.prototype,"average",{get:function(){return this.count?this.total/this.count:0},enumerable:!1,configurable:!0}),n.prototype.measure=function(t){var n=en();t(),this.count++,this.total+=en()-n},n.prototype.asyncMeasure=function(){var t=this,n=en();return function(){t.count++,t.total+=en()-n}},n.prototype.getData=function(){return{total:this.total,count:this.count,average:this.average}},n}(Cr),xr={general:{category:"General",nbEvents:new _r("Nb of Events"),pendingTasks:new _r("Pending Tasks"),pendingEvents:new _r("Pending Tasks"),nbOfMutationObservers:new Mr("Nb of Mutation Observers")},mutations:{category:"Mutations",initialDOM:new Pr("Initial DOM"),pendingMutations:new _r("Nb of Mutations scheduled"),serializedMutations:new Pr("Serialized Mutations"),count:new _r("Mutation Count"),elementMutationObserved:new Mr("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new Pr("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new _r("Nb of Hidden Elements "),nbElements:new _r("Nb of  Elements")}},Dr=null;function Lr(t){return cn(t,"data:")}function Ur(t){var n=csString.prototype.trim.call(t);if(""===t)return[];var i,r=Hn((i=n,csString.prototype.split.call(i,/\s(.+)/)),2),e=r[0],s=r[1];return s?(hn(e,",")||(s=function(t){return csString.prototype.split.call(t,/,(.+)/)[1]||""}(s)),Fn([jr(e)],Hn(Ur(s)),!1)):[jr(e)]}function jr(t){return csString.prototype.split.call(t,/,$/)[0]}Tr=function(){var t=function(t){return Object.keys(t)},n=csArray.prototype.map.call(t(xr),(function(t){return xr[t]})),i=csArray.prototype.map.call(n,(function(n){return csArray.prototype.filter.call(csArray.prototype.map.call(t(n),(function(t){return n[t]})),(function(t){return t instanceof Cr}))})),r=csArray.prototype.map.call(n,(function(t,n){return{category:t.category,performanceCounters:csArray.prototype.map.call(i[n],(function(t){return{name:t.name,format:t.format}}))}}));Rr({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:r}),Dr||(Dr=csSetInterval((function(){var t=gi(mi(i,(function(t){return mi(t,(function(t){return t.getData()}))})),(function(t){return t}));Rr({type:"UXA_PERFORMANCE_COUNTER",event:t})}),1e3))},r||(null!==br&&csSetTimeout(Tr),csSetTimeout((function(){return csArray.prototype.push.call(Ar,Tr)}))),function(t){t.QUOTA_REACHED="X",t.RECORDING_RULES_TARGETING="8",t.ANALYTICS_ONLY_RULES_TARGETING="9",t.ANALYTICS_ONLY="0",t.RECORDING_GLOBAL_SAMPLING="5",t.RECORDING_TEMPORARILY="T",t.RECORDING_URL_SAMPLING="6",t.RECORDING_ETR_SAMPLING="7",t.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",t.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(Or||(Or={})),function(t){t.ETR_OFF="0",t.ETR_ON="1"}(Nr||(Nr={})),function(t){t.ETR_LEGACY="0",t.ETR_SESSION="1",t.ETR_PAGE="2"}(kr||(kr={})),function(t){t.ETR_DISABLED="0",t.ETR_PENDING="1",t.ETR_SAVED_PAGE="2",t.ETR_SAVED_SESSION="3",t.ETR_NOT_SAVED_SESSION="9"}(Ir||(Ir={}));var qr=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function Hr(t,n){var i=csString.prototype.replace.call(t,qr,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r,e,s=t[3]||t[4],o=t[9]||t[10]||t[11],u=(r=(s||o).trim(),e=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g,csString.prototype.replace.call(r,e,(function(t,n,i,r){if("\\"===n)return csString.prototype.slice.call(t,1);if(r)return r;var e=parseInt(i,16);return 55296<=e&&e<=57343||0===e||e>1114111?"ï¿½":csString.fromCodePoint(e)}))),c=s?"@import ":"",h=n(u)||u;return"".concat(c,"url(").concat(function(t){if(-1===csString.prototype.indexOf.call(t,'"'))return'"'.concat(t,'"');if(-1===csString.prototype.indexOf.call(t,"'"))return"'".concat(t,"'");return t}(h),")")}));return i}function Fr(t){var n=new Set;return Hr(t,(function(t){var i,r;return n.add(null!==(r=null===(i=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))||void 0===i?void 0:i[1])&&void 0!==r?r:t),t})),Ti(n)}var Vr=new Map,Br=!r&&document.implementation.createHTMLDocument("");function zr(t){if(!j(t))return null;var n=Gr(t);if(null===n||0===n.length)return null;var i="";if(M(t.textContent))Si(n,(function(t){return i+=t.cssText}));else{var r=function(t){if(!Br)return 0;var n=Vr.get(t.textContent);if(n)return n;var i=t.cloneNode(!0);i.textContent=t.textContent,Br.head.appendChild(i);var r=Gr(i);return n=r?r.length:0,Vr.set(t.textContent,n),Br.head.removeChild(i),n}(t);if(r===n.length)return null;if(r>n.length)return null;for(var e=new csArray(n.length-r),s=r,o=0;s<n.length;s+=1,o+=1)e[o]=n[s];Si(e,(function(t){return i+=t.cssText}))}return i}function Gr(t){try{if(t.disabled)return null;var n=t.sheet;return n?n.cssRules||n.rules:null}catch(t){if("SecurityError"!==t.name&&"InvalidAccessError"!==t.name)throw t;return null}}var $r=function(t){return t instanceof HTMLFormElement?"form":t.localName},Jr=function(t){this.csId=ar(t),this.props=ur.getStore(t)},Yr=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=3,i.data=n.data,i}return l(n,t),n}(Jr),Wr=function(t){function n(n){var i,r=t.call(this,n)||this;r.attributes=[],r.nodeType=1,r.localName=$r(n),r.namespaceURI=null!==(i=n.namespaceURI)&&void 0!==i?i:void 0,r.children=[];var e=zr(n);if(e){r.children=new csArray(csNodechildNodes.apply(n).length);var s=document.createTextNode(e),o=new Yr(s);csArray.prototype.push.call(r.children,o)}return V(n)&&or.setProperty(r,"SVG",!0),r}return l(n,t),n.isElement=function(t){return 1===t.nodeType},n.getAttribute=function(t,n){return bi(t.attributes,(function(t){return t.name===n}))},n.getAttributeValue=function(t,n){var i;return null===(i=this.getAttribute(t,n))||void 0===i?void 0:i.value},n}(Jr),Xr=function(){function t(t){var n=this;this.type="asyncEvent",this.ni=!1,t&&t((function(t){return n.resolve(t)}))}return t.prototype.resolve=function(t){if(this.ni)throw new Error("AsyncEvent already resolve.");null==t.timestamp&&(t=v(v({},t),{timestamp:this.timestamp})),this.ii=t,this.ni=!0,this.dn&&this.dn(this.ii)},t.prototype.complete=function(t){this.ni&&t(this.ii),this.dn=t},t.prototype.wait=function(){var t=this;return new Promise((function(n){return t.complete(n)}))},t}();var Kr,Qr,Zr=(Kr="queueMicrotask",Qr=csSetTimeout,void 0!==e[Kr]?e[Kr]:Qr);"object"==typeof window&&I(window.csQueueMicrotask)&&(Zr=window.csQueueMicrotask);var te=new Jn,ne=new Jn,ie=1;function re(t,n){void 0===n&&(n="high");var i=ie;te.isEmpty&&ne.isEmpty&&ee((function(){if(ie===i){var t=ri((function(){for(;!ne.isEmpty;){ne.pop()()}for(;!te.isEmpty;){te.pop()()}ne.isEmpty||t()}),"groupMicrotask.run");t()}}));var r=t.name||t.toString(),e=zn("groupMicrotask:".concat(n,":").concat(r),t);"high"===n?ne.push(e):te.push(e)}function ee(t,n){void 0===n&&(n=10),Zr(0===n?t:function(){return ee(t,n-1)})}function se(t){return void 0===t&&(t=1),Un(this,void 0,void 0,(function(){var n;return jn(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<t?[4,new Promise((function(t){return re(t)}))]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}var oe,ue,ce=function(t,n){return void 0===n&&(n=0),csSetTimeout(function(t){return function(){try{t.apply(window,arguments)}catch(t){Vn.critical(t)}}}(t),n)};!function(t){function n(){var t=[r()];return document.documentElement&&csArray.prototype.push.call(t,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(t,document.body.scrollHeight,document.body.offsetHeight),Math.max.apply(Math,Fn([],Hn(t),!1))}function i(){return document.documentElement.scrollWidth}function r(){return window.innerHeight}function e(){return window.innerWidth}function s(){var t=window.csScreen.width;return A(t)&&t>0?t:window.screen.width}function o(){var t=window.csScreen.height;return A(t)&&t>0?t:window.screen.height}t.documentHeight=n,t.documentWidth=i,t.windowHeight=r,t.windowWidth=e,t.screenWidth=s,t.screenHeight=o,t.windowOffsetX=function(){return window.pageXOffset},t.windowOffsetY=function(){return window.pageYOffset},t.getRequestParameters=function(){return{dw:"".concat(i()),dh:"".concat(n()),ww:"".concat(e()),wh:"".concat(r()),sw:"".concat(s()),sh:"".concat(o())}}}(oe||(oe={}));var he,ae=null!==(ue=e.Node)&&void 0!==ue?ue:Object;function fe(){var t=new Set;return{add:function(n){t.add(n),1===t.size&&csSetTimeout((function(){t.clear()}))},has:function(n){return t.has(n)},del:function(n){t.delete(n)},clear:function(){t.clear()},values:function(){return Ti(t)},get count(){return t.size}}}function le(t,n){void 0===n&&(n=!1);var i=fe();return{push:function(r){0===i.count&&(n?re:csSetTimeout)((function(){t(i.values()),i.clear()}));i.add(r)}}}!function(t){var n="isConnected"in ae.prototype?function(t){return t.isConnected}:function(t){return!(t.ownerDocument&&t.ownerDocument.compareDocumentPosition(t)&t.DOCUMENT_POSITION_DISCONNECTED)};t.forEachChild=function(t,n){for(var i=t;i;i=csNodenextSibling.apply(i))n(t)},t.isConnected=function(t){return n(t)},t.getAncestors=function(t,n){var i,e,s=[];try{for(var o=qn(r(t,n)),u=o.next();!u.done;u=o.next()){var c=u.value;csArray.prototype.push.call(s,c)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return s};var i=function(t,n){var i;return null!==(i=csNodeparentNode.apply(t))&&void 0!==i?i:n&&$(t)?t.host:null};function r(t,n){var r,e;return void 0===n&&(n=!1),jn(this,(function(s){switch(s.label){case 0:r=t,s.label=1;case 1:return r?[4,r]:[3,3];case 2:return s.sent(),(e=i(r,n))&&e!==r?(r=e,[3,1]):[3,3];case 3:return[2]}}))}function e(n){var i;return n.parentElement?n.parentElement:t.getRootNode(n)?null===(i=t.getRootNode(n))||void 0===i?void 0:i.host:null}function s(t){var n,i;if(!1===(null===(n=t.checkVisibility)||void 0===n?void 0:n.call(t,{checkOpacity:!0,checkVisibilityCSS:!0})))return!0;if(!t.offsetParent){if(!t.getBoundingClientRect)return Vn.warn("SUP-11432: Element doesn't have getBoundingClientRect. Node: ".concat(t instanceof ae," Ctor: ").concat(null===(i=null==t?void 0:t.constructor)||void 0===i?void 0:i.name)),!1;var r=t.getBoundingClientRect();if(0==r.width&&0==r.height)return!0}var e,s=window.getComputedStyle(t);return!s||("none"===s.display||"hidden"===s.visibility||"collapse"===s.visibility||"0"===s.opacity||"opacity(0)"===s.filter||"0px"===s.width&&"0px"===s.height||("transparent"===(e=s.color)||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(e)))}function o(t){var n=t.getBoundingClientRect(),i=n.left+.5*n.width,r=n.top+.5*n.height;return u(document,i,r)}function u(n,i,r){var e=n.elementFromPoint(i,r);if(!e)return null;var s=qi.getShadowRoot(e);return s&&s!=t.getRootNode(document.body)&&s!==n?u(s,i,r):e}function c(t){var n=o(t);return null!==n&&(t===n||(h(t)?""!==t.textContent&&n.contains(t):t.contains(n)))}function h(t){return"span"===t.localName||"a"===t.localName||"b"===t.localName||"i"===t.localName||"button"===t.localName||"input"===t.localName||"label"===t.localName||"cite"===t.localName||"small"===t.localName||"strong"===t.localName||"code"===t.localName||"abbr"===t.localName||"em"===t.localName||"dfn"===t.localName||"time"===t.localName||"output"===t.localName||"object"===t.localName||"sub"===t.localName}t.findAncestor=function(t,n,r){void 0===r&&(r=!1);for(var e=t;e;){if(n(e))return e;var s=i(e,r);if(!s||s===e)break;e=s}return null},t.walkUp=r,t.isDescendantOf=function n(i,r){if(i===r||r.contains(i))return!0;var e=t.getParentElement(i);return!(!e||e===i)&&n(e,r)},t.getParentElement=e,t.findAllElements=function(t,n){var i,r,e;void 0===n&&(n=document);var s=pi(window.csquerySelectorAll[n.nodeType].call(n,t)),o=qi.getAllShadowHosts(n);try{for(var u=qn(o),c=u.next();!c.done;c=u.next()){var h=c.value,a=qi.getShadowRoot(h);if(a){var f=pi(window.csquerySelectorAll[a.nodeType].call(a,t));(e=csArray.prototype.push).call.apply(e,Fn([s],Hn(f),!1))}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return s},t.getRootNode=function(){if("getRootNode"in ae.prototype)return function(t,n){return t.getRootNode(n)};function t(i){var r=n(i);return $(r)?t(r.host):r}function n(t){return null!=csNodeparentNode.apply(t)?n(csNodeparentNode.apply(t)):t}return function(i,r){return"object"==typeof r&&Boolean(r.composed)?t(i):n(i)}}(),t.isHiddenByCSS=s,t.areAncestorsHiddenByCSS=function t(n){if(s(n))return!0;var i=e(n);return null!=i&&t(i)},t.getTopAncestorHiddenByCSS=function(t){var n=null,i=t;do{if(!s(i))break;n=i}while(i=e(i));return n},t.getTopElement=o,t.getElementOnTop=function(n){if(!n.getBoundingClientRect)return null;var i=n.getBoundingClientRect(),r=i.x+i.width/2,e=i.y+i.height/2;return t.getTopElementFromPoint(document,r,e)},t.getTopElementFromPoint=u,t.isVisibleInDocument=function(t){return!function(t){var n=t.getBoundingClientRect();return n.right+oe.windowOffsetX()<0||n.bottom+oe.windowOffsetY()<0}(t)&&!s(t)&&!function(t){var n=o(t);return null!==n&&!t.contains(n)&&!n.contains(t)}(t)},t.isVisibleInViewportInForeground=function(t){return!s(t)&&c(t)},t.isInViewPort=c,t.getAttributeNS=function(t,n,i){var r=t.getAttributeNS(n,i);return""===r?t.hasAttributeNS(n,i)?r:null:r},t.isElementFocusable=function(t){return!!t.hasAttribute("tabIndex")||("true"===t.getAttribute("contentEditable")||(!(!L(t)||!t.hasAttribute("href"))||(!(!(B(t)||H(t)||q(t)||(n=t,P(n)&&"button"===n.localName))||t.hasAttribute("disabled"))||!(!function(t){return P(t)&&"details"===t.localName}(t)&&!function(t){return P(t)&&"summary"===t.localName}(t)))));var n},t.isInlineElement=h}(he||(he={}));var ve=csSymbol(),de=function(){function t(t){var n,i,r,e,s,o,u,c,h=this;this.dn=t,this.ei=null,this.si=null,this.oi=null,this.ui=null,this.ci=le((function(t){return h.processUpdateRulesInATick(t)})),this.dn=function(n){return re((function(){return t(n)}))},"function"==typeof(null===(i=null===(n=window.CSSStyleSheet)||void 0===n?void 0:n.prototype)||void 0===i?void 0:i.insertRule)&&(this.ei=Fi({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:function(t){var n=t.context,i=t.args;h.processInsertRule(n,i)}})),"function"==typeof(null===(e=null===(r=window.CSSStyleSheet)||void 0===r?void 0:r.prototype)||void 0===e?void 0:e.deleteRule)&&(this.si=Fi({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:function(t){var n=t.context,i=t.args;h.processDeleteRule(n,i)}})),"function"==typeof(null===(o=null===(s=window.CSSGroupingRule)||void 0===s?void 0:s.prototype)||void 0===o?void 0:o.insertRule)&&(this.oi=Fi({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:function(t){var n=t.context;return h.processUpdateRule(n)}})),"function"==typeof(null===(c=null===(u=window.CSSGroupingRule)||void 0===u?void 0:u.prototype)||void 0===c?void 0:c.deleteRule)&&(this.ui=Fi({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:function(t){var n=t.context;return h.processUpdateRule(n)}}))}return t.prototype.observe=function(){var t,n,i,r;null===(t=this.ei)||void 0===t||t.activate(),null===(n=this.si)||void 0===n||n.activate(),null===(i=this.oi)||void 0===i||i.activate(),null===(r=this.ui)||void 0===r||r.activate()},t.prototype.disconnect=function(){var t,n,i,r;null===(t=this.ei)||void 0===t||t.deactivate(),null===(n=this.si)||void 0===n||n.deactivate(),null===(i=this.oi)||void 0===i||i.deactivate(),null===(r=this.ui)||void 0===r||r.deactivate()},t.prototype.processInsertRule=function(t,n){var i=Hn(n,2),r=i[0],e=i[1];if(null!=t[ve]||t.ownerNode){var s={type:"cssRuleInserted",sheet:t,rule:r,index:e};this.dn(s)}},t.prototype.processUpdateRule=function(t){for(var n=t;null!==n.parentRule;)n=n.parentRule;null!==n.parentStyleSheet&&this.ci.push(n)},t.prototype.processUpdateRulesInATick=function(t){var n,i;try{for(var r=qn(t),e=r.next();!e.done;e=r.next()){var s=e.value;if(null===s.parentStyleSheet)return;var o=s.parentStyleSheet,u=csArray.prototype.indexOf.call(pi(o.cssRules),s);if(-1===u)return;var c={type:"cssRuleUpdated",sheet:o,rule:s.cssText,index:u};this.dn(c)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.processDeleteRule=function(t,n){var i=Hn(n,1)[0];if(null!=t[ve]||t.ownerNode){var r={type:"cssRuleDeleted",sheet:t,index:i};this.dn(r)}},Ln([Bn()],t.prototype,"observe",null),Ln([Bn()],t.prototype,"disconnect",null),Ln([Bn()],t.prototype,"processInsertRule",null),Ln([Bn()],t.prototype,"processUpdateRule",null),Ln([Bn()],t.prototype,"processUpdateRulesInATick",null),Ln([Bn()],t.prototype,"processDeleteRule",null),t}(),ye=function(){function t(t){var n=this;this.hi=1,this.ai=new Set,this.fi=null,this.li=null,this.yi=function(t,i){"initial"!==i&&"added"!==i||n.setStyleSheets(t,t.adoptedStyleSheets)},this.wi=function(t){var i=t.sheet;if(n.ai.has(i))if("cssRuleInserted"===t.type){var r={type:"adoptedStyleSheetRuleInserted",sheetId:i[ve],rule:t.rule,index:t.index};n.dn(r)}else if("cssRuleDeleted"===t.type){var e={type:"adoptedStyleSheetRuleDeleted",sheetId:i[ve],index:t.index};n.dn(e)}else if("cssRuleUpdated"===t.type){var s={type:"adoptedStyleSheetRuleUpdated",sheetId:i[ve],rule:t.rule,index:t.index};n.dn(s)}},this.dn=function(i){return re((function(){return Un(n,void 0,void 0,(function(){return jn(this,(function(n){switch(n.label){case 0:return[4,se(2)];case 1:return n.sent(),t(i),[2]}}))}))}))},this.Pn=new Bi(this.yi),"adoptedStyleSheets"in Document.prototype&&(this.fi=Vi(window.Document.prototype,"adoptedStyleSheets",(function(t,i){n.setStyleSheets(t,i)}))),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.li=Vi(window.ShadowRoot.prototype,"adoptedStyleSheets",(function(t,i){n.setStyleSheets(t,i)}))),this.pi=new de(this.wi)}return t.prototype.observe=function(){var t,n;this.setStyleSheets(document,document.adoptedStyleSheets),this.Pn.observe(),null===(t=this.fi)||void 0===t||t.activate(),null===(n=this.li)||void 0===n||n.activate(),this.pi.observe()},t.prototype.disconnect=function(){var t,n;this.ai.clear(),this.Pn.disconnect(),null===(t=this.fi)||void 0===t||t.deactivate(),null===(n=this.li)||void 0===n||n.deactivate(),this.pi.disconnect()},t.prototype.setStyleSheets=function(t,n){if(n.length){this.mi(n);var i={type:"adoptedStyleSheetsSet",target:t,sheetsIds:mi(n,(function(t){return t[ve]}))};this.dn(i)}},t.prototype.mi=function(t){var n=this;Si(t,(function(t){if(!n.ai.has(t)){var i=n.hi++;t[ve]=i,n.ai.add(t);var r={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:n.gi(t)};n.dn(r)}}))},t.prototype.gi=function(t){var n=[];try{n=mi(t.cssRules,(function(t){return t.cssText}))}catch(t){}return n},Ln([Bn()],t.prototype,"observe",null),Ln([Bn()],t.prototype,"disconnect",null),Ln([Bn()],t.prototype,"setStyleSheets",null),t}(),we=ri((function(t){var n,i,r,e,s=(u=new Set,c=new Set,h=new Set,a=new Set,f=new Map,l=new Map,v=new Map,d=new Set,y=new Set,w=new Map,{isMovedNode:function(t){return u.has(t)},markAsMovedNode:function(t){u.add(t)},isAddedNode:function(t){return!!he.findAncestor(t,(function(t){return c.has(t)||y.has(t)}),!0)},markAsAddedNode:function(t){y.delete(t),c.add(t)},markAsPendingInsert:function(t){y.add(t)},isPendingInsert:function(t){return y.has(t)},isRemovedNode:function(t){return!!he.findAncestor(t,(function(t){return h.has(t)}),!0)},markAsRemovedNode:function(t){h.add(t)},isUselessNode:function(t){return a.has(t)},markAsUselessNode:function(t){a.add(t)},getPlaceholder:function(t,n){var i="previous"===n?l:f;return t&&i.has(t)?i.get(t)||null:t},getSiblings:function(t){var n=t.addedNodes.length,i=this.getPlaceholder(t.previousSibling,"previous"),r=this.getPlaceholder(t.nextSibling,"next");if(n)for(var e=i,s=r,o=t.previousSibling!==i,u=t.nextSibling!==r,c=0;c<n;c++){var h=t.addedNodes[c],a=t.addedNodes[n-c-1];this.isLatestNodeMutation(h,t)?(l.delete(h),t.previousSibling&&o&&(f.set(t.previousSibling,h),o=!1),e=h):l.set(h,e),this.isLatestNodeMutation(a,t)?(f.delete(a),t.nextSibling&&u&&(l.set(t.nextSibling,a),u=!1),s=a):f.set(a,s)}return{previousSibling:i,nextSibling:r}},setAttributeMutation:function(t,n){var i=v.get(t)||new Set;i.add(n),v.set(t,i)},isAttributeMutated:function(t,n){var i;return!!(null===(i=v.get(t))||void 0===i?void 0:i.has(n))},setLatestNodeMutation:function(t,n){w.set(t,n)},isLatestNodeMutation:function(t,n){return w.get(t)===n},isTextMutated:function(t){return d.has(t)},setTextMutated:function(t){return d.add(t)}}),o=[];var u,c,h,a,f,l,v,d,y,w;try{for(var p=qn(t),m=p.next();!m.done;m=p.next()){"childList"===(b=m.value).type&&pe(b,s)}}catch(t){n={error:t}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}try{for(var g=qn(t),S=g.next();!S.done;S=g.next()){var b;switch((b=S.value).type){case"attributes":ge(b,s,o);break;case"characterData":me(b,s,o);break;case"childList":be(b,s,o)}}}catch(t){r={error:t}}finally{try{S&&!S.done&&(e=g.return)&&e.call(g)}finally{if(r)throw r.error}}return o}),"optimizeMutations");function pe(t,n){for(var i=0;i<t.addedNodes.length;i++)n.setLatestNodeMutation(t.addedNodes[i],t);for(i=0;i<t.removedNodes.length;i++)n.setLatestNodeMutation(t.removedNodes[i],t)}function me(t,n,i){void 0===i&&(i=[]);var r=t.target;return!he.isConnected(r)||n.isTextMutated(r)||n.isAddedNode(r)||function(t,n,i){var r=csSymbol.for(i?"".concat(n,":").concat(i):n),e=rn(),s=t[r];if(s&&e<s)return!0;return t[r]=e+Se,!1}(r,"characterData")||(n.setTextMutated(r),csArray.prototype.push.call(i,t)),i}function ge(t,n,i){void 0===i&&(i=[]);var r=t.target,e="".concat(t.attributeNamespace,"/").concat(t.attributeName);return!he.isConnected(r)||n.isAttributeMutated(r,e)||n.isAddedNode(r)||(n.setAttributeMutation(r,e),csArray.prototype.push.call(i,t)),i}var Se=30;function be(t,n,i){void 0===i&&(i=[]);var r=he.isConnected(t.target),e=!r&&n.isRemovedNode(t.target),s=r&&n.isAddedNode(t.target),o=n.getSiblings(t),u=o.nextSibling,c=o.previousSibling,h=null,a=function(){if(h){var t=h.childListType,n=h.movedNodes,r=Dn(h,["childListType","movedNodes"]);csArray.prototype.push.call(i,"added"===t?r:xn(xn({},r),{movedNodes:n})),h=null}},f=function(n){return n===(null==h?void 0:h.childListType)?h:(a(),{childListType:n,type:"childList",target:t.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:c,nextSibling:u})};if(r){for(var l=0;l<t.addedNodes.length;l++){var v=t.addedNodes[l];n.isLatestNodeMutation(v,t)?(n.isMovedNode(v)?(h=f("moved"),csArray.prototype.push.call(h.movedNodes,v)):s||(h=f("added"),csArray.prototype.push.call(h.addedNodes,v),n.markAsAddedNode(v)),c=v):he.isConnected(v)?n.isMovedNode(v)||n.markAsPendingInsert(v):n.markAsUselessNode(v)}a()}var d=Ai(t.removedNodes,(function(t){return he.isConnected(t)?(e||n.isPendingInsert(t)||n.markAsMovedNode(t),!1):!n.isUselessNode(t)&&(n.markAsRemovedNode(t),!0)}));return d.length&&csArray.prototype.push.call(i,{type:"childList",removedNodes:d,addedNodes:[],movedNodes:[],target:t.target,nextSibling:u,previousSibling:c}),i}var Ee={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},Ae=function(){function t(t,n){var i=this;this.dn=t,this.Si=n;var r=le((function(n){return t(n,i)}),!0);this.dn=zn("DocumentMutationObserver:callback",(function(t){Si(t,(function(t){return r.push(t)}))}))}var n;return t.setShadowRootFilter=function(t){csArray.prototype.push.call(n.shadowRootFilters,t)},t.bi=function(t){if(n.shadowRootFilters.length>0&&$(t))for(var i=0;i<n.shadowRootFilters.length;i++){if((0,n.shadowRootFilters[i])(t))return}this.observedTargets.add(t),this.mutationObserver.observe(t,Ee)},t.disconnectShadowRoot=function(t){var i=this;this.observedTargets.has(t)&&(this.observedTargets.delete(t),this.isRefreshing||(this.isRefreshing=!0,re((function(){i.isRefreshing=!1;var t=i.mutationObserver.takeRecords();t.length&&n.mutationCallback(t),i.mutationObserver.disconnect(),i.observedTargets.forEach((function(t){i.mutationObserver.observe(t,Ee)}))}))))},t.observe=function(t,n){var i=this;csArray.prototype.push.call(this.callbacks,t),n&&csArray.prototype.push.call(this.shadowRootCallbacks,n),this.started?n&&csArray.prototype.forEach.call(qi.getAllShadowHosts(document),(function(t){return n(csElementshadowRoot.apply(t),"initial")})):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.bi(document),this.shadowRootObserver=new Bi(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,Si(this.shadowRootObserver.shadowRoots,(function(t){i.bi(t)})))},t.disconnect=function(t,i){var r,e;this.callbacks=csArray.prototype.filter.call(this.callbacks,(function(n){return n!==t})),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,(function(t){return t!==i}))),0===this.callbacks.length&&(this.callbacks=[],this.shadowRootCallbacks=[],n.shadowRootFilters=[],null===(r=this.shadowRootObserver)||void 0===r||r.disconnect(),null===(e=this.mutationObserver)||void 0===e||e.disconnect(),this.observedTargets.clear(),this.started=!1)},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){var t,i;return null!==(i=null===(t=n.shadowRootObserver)||void 0===t?void 0:t.shadowRoots)&&void 0!==i?i:[]},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var t,i=null===(t=n.mutationObserver)||void 0===t?void 0:t.takeRecords(),r=n.shadowRootObserver.takeRecords();return(null==i?void 0:i.length)&&r.length?function(t,n,i){for(var r=t.length+n.length+((null==i?void 0:i.length)||0),e=new csArray(r),s=0,o=0;o<t.length;o++)e[s++]=t[o];for(o=0;o<n.length;o++)e[s++]=n[o];if(!i)return e;for(o=0;o<i.length;o++)e[s++]=i[o];return e}(i,r):null!=i?i:r},t.prototype.observe=function(){n.observe(this.dn,this.Si)},t.prototype.disconnect=function(){n.disconnect(this.dn,this.Si)},n=t,t.callbacks=[],t.shadowRootCallbacks=[],t.started=!1,t.observedTargets=new Set,t.shadowRootFilters=[],t.mutationCallback=function(t){xr.mutations.count.increase(t.length),csArray.prototype.forEach.call(n.callbacks,(function(i){return i(t,n.mutationObserver)}))},t.onShadowRoot=function(t,i){Si(n.shadowRootCallbacks,(function(n){return n(t,i)})),"removed"!==i?n.bi(t):n.disconnectShadowRoot(t)},t.isRefreshing=!1,Ln([Bn()],t.prototype,"observe",null),Ln([Bn()],t.prototype,"disconnect",null),t}(),Re=function(){function t(t){var n=this;this.dn=t,this.Ei=function(t){t.sheet.ownerNode&&("cssRuleInserted"===t.type?n.dn({type:t.type,target:t.sheet.ownerNode,rule:t.rule,index:t.index}):"cssRuleDeleted"===t.type?n.dn({type:t.type,target:t.sheet.ownerNode,index:t.index}):"cssRuleUpdated"===t.type&&n.dn({type:t.type,target:t.sheet.ownerNode,rule:t.rule,index:t.index}))},this.dn=function(n){return re((function(){return t(n)}))},this.Ai=new de((function(t){return re((function(){return Un(n,void 0,void 0,(function(){return jn(this,(function(n){switch(n.label){case 0:return[4,se()];case 1:return n.sent(),this.Ei(t),[2]}}))}))}))})),"adoptedStyleSheets"in Document.prototype&&(this.Ri=new ye(t))}return t.prototype.observe=function(){var t,n=this;this.gn=new Ae((function(t){return n.Ti(t)}),(function(t,i){"added"===i&&n.Oi(t)})),this.gn.observe(),this.Ai.observe(),null===(t=this.Ri)||void 0===t||t.observe()},t.prototype.disconnect=function(){var t,n;null===(t=this.gn)||void 0===t||t.disconnect(),this.Ai.disconnect(),null===(n=this.Ri)||void 0===n||n.disconnect()},t.prototype.Ti=function(t){for(var n=we(t),i=0;i<n.length;i++){var r=n[i];if(r)switch(r.type){case"attributes":this.processAttributeChanged(r);break;case"characterData":this.processCharacterDataChanged(r);break;case"childList":this.processChildListChanged(r);break;default:Vn.error("processRawMutations: unknown record type '".concat(r.type,"'"))}else Vn.error("processRawMutations: empty record")}},t.prototype.processAttributeChanged=function(t){var n={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:he.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.dn(n)},t.prototype.processCharacterDataChanged=function(t){var n={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.dn(n)},t.prototype.processChildListChanged=function(t){var n,i,r;if(null===(n=t.movedNodes)||void 0===n?void 0:n.length){var e={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.dn(e)}if(null===(i=t.addedNodes)||void 0===i?void 0:i.length){var s={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:pi(t.addedNodes)};this.dn(s)}if(null===(r=t.removedNodes)||void 0===r?void 0:r.length){var o={type:"nodesRemoved",target:t.target,nodes:mi(t.removedNodes,(function(t){return t}))};this.dn(o)}},t.prototype.Oi=function(t){var n={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.dn(n)},Ln([Bn()],t.prototype,"processAttributeChanged",null),Ln([Bn()],t.prototype,"processCharacterDataChanged",null),Ln([Bn()],t.prototype,"processChildListChanged",null),t}(),Te=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=4,i.data=n.data,i}return l(n,t),n}(Jr),Oe=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=8,i.data=n.data,i}return l(n,t),n}(Jr),Ne=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=10,i.name=n.name,i.publicId=n.publicId,i.systemId=n.systemId,i}return l(n,t),n}(Jr),ke=function(t){function n(i){var r=t.call(this,i)||this;return r.nodeType=9,r.baseURI=n.getBaseURI(i),r.children=[],r}return l(n,t),n.getBaseURI=function(t){var n=t.baseURI;if(null==n){var i=t.getElementsByTagName("base");n=0!==i.length?i[0].href:t.URL}return n},n}(Jr),Ie=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=11,i.mode=n.mode,i.children=[],i}return l(n,t),n}(Jr),Ce=function(){function t(t,n,i){var r;"string"==typeof t?(this.name=t,this.value=n,this.namespaceURI=null!=i?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=null!==(r=t.namespaceURI)&&void 0!==r?r:"")}return t.create=function(n){for(var i,r,e=n.attributes,s=new csArray(e.length),o=0;o<s.length;o++){var u=e[o];s[o]=new t(u.name,u.value,u.namespaceURI),"href"===u.name&&U(n)&&(s[o].value=null!==(r=null===(i=n.sheet)||void 0===i?void 0:i.href)&&void 0!==r?r:u.value)}return s},t}(),_e={workTime:40,async:!0,initialDOM:!0},Me=(Pe(),csSymbol("InitialDom"));function Pe(t){return void 0===t&&(t=_e),function(n,i){var r;null!==(r=t.workTime)&&void 0!==r||(t.workTime=_e.workTime);var e,s=zn("serialize:callback",(function(t){return i(t)})),o=new Jn,u=function(n,i){n.hasChildNodes()&&o.push({node:n,serializedNode:i});var r=n instanceof Element&&csElementshadowRoot.apply(n);if(r){var e=i.shadowRoot=De(r);t.async&&t.initialDOM&&or.setProperty(r,Me,!0),u(r,e)}},c=!0,h=8,a=zn("work",(function(){var r;if(c)e=De(n),t.async&&t.initialDOM&&or.setProperty(n,Me,!0),u(n,e),c=!1;else if(o.isEmpty)return;for(var f=function(t){if(t<1)throw new Error("Precision should be >= 1");var n=0,i=performance.now();return{started:i,elapsed:function(){return++n%t==0&&(i=performance.now()),i-this.started}}}(100);!o.isEmpty;){if(t.async&&f.elapsed()>=t.workTime)return void(--h<=0&&csSetTimeout(a));var l=o.pop(),v=l.node,d=null!==(r=l.serializedNode.children)&&void 0!==r?r:[];if(!F(v))for(var y=0,w=csNodefirstChild.apply(v);w;w=csNodenextSibling.apply(w)){var p=De(w);t.async&&t.initialDOM&&or.setProperty(w,Me,!0),d[y++]=p,u(w,p)}}t.async?csSetTimeout((function(){return s(e)})):i(e)}));if(t.async)for(var f=0;f<h;f++)csSetTimeout(a,1);else t.workTime=1/0,a()}}var xe=ri((function(t){var n=De(t),i=n;if(F(t))return n;for(var r=0,e=csNodefirstChild.apply(t);e;e=csNodenextSibling.apply(e))i.children[r++]=xe(e);var s=t.shadowRoot;return s&&(i.shadowRoot=xe(s)),n}),"serializeSync");function De(t){var n,i;switch(t.nodeType){case 1:i=n=new Wr(t),n.attributes=function(t){if(F(t))return[];return Ce.create(t)}(t);break;case 3:i=new Yr(t);break;case 4:i=new Te(t);break;case 8:i=new Oe(t);break;case 10:i=new Ne(t);break;case 9:i=new ke(t);break;case 11:i=new Ie(t);break;default:throw new Error("Node type not supported: "+t.nodeType)}return i}var Le,Ue=function(){function t(){this.Ni=[],this.isStarted=!1}return t.prototype.produceEvent=function(t){this.isStarted&&(t.timestamp=rn(),csArray.prototype.forEach.call(this.Ni,(function(n){return n(t)})))},t.prototype.onStop=function(){},t.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.onStart())},t.prototype.stop=function(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.Ni=[])},t.prototype.subscribe=function(t){var n=this;return csArray.prototype.push.call(this.Ni,t),function(){var i=csArray.prototype.indexOf.call(n.Ni,t);csArray.prototype.splice.call(n.Ni,i,1)}},t}(),je=Pe(),qe=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.ki=!1,n}return l(n,t),n.prototype.onStart=function(){var t=this;this.ki=!0,this.dn=function(t,n){var i=!1,r=function(){if(!i)return t.apply(n,arguments)};return r.cancel=function(){return i=!0},r}(this.Ii,this),this.Ci=new Re(this.dn),this.Ci.observe();var n=xr.mutations.initialDOM.asyncMeasure(),i=function(){t.ki=!1,Me=csSymbol("InitialDom"),n()};this.produceEvent(new Xr((function(t){return je(document,(function(n){i(),t({type:"DomEvent",domEvent:"initialDOM",initialDOM:n})}))})))},n.prototype.stopForInactivity=function(){this.isStarted&&(this.isStarted=!1,this.onStop())},n.prototype.onStop=function(){var t,n;this.ki=!1,null===(t=this.dn)||void 0===t||t.cancel(),null===(n=this.Ci)||void 0===n||n.disconnect()},n.prototype._i=function(t,n){var i={type:"DomEvent",domEvent:n.type,target:0,targetProps:{}};return"target"in n&&(i.target=ar(n.target),i.targetProps=or.getProperties(n.target)),[n,i]},n.prototype.Ii=function(t){if(!this.Mi(t))switch(t.type){case"attributeChanged":var n=m(this._i(t.type,t),2),i=n[0];(I=n[1]).attribute=i.attribute,I.isSvg=V(i.target),I.namespace=i.namespace,I.newValue=i.newValue,I.oldValue=i.oldValue,I.localName=$r(i.target),I.linkRel=D(i.target)?i.target.rel:null,I.parentLocalName=i.target.parentElement?$r(i.target.parentElement):void 0,"input"===I.localName&&(I.inputType=i.target.getAttribute("type")),this.produceEvent(I);break;case"characterDataChanged":var r=m(this._i(t.type,t),2),e=r[0];(I=r[1]).newValue=e.newValue,I.oldValue=e.oldValue,I.targetNodeType=e.target.nodeType,I.parentLocalName=e.target.parentElement?$r(e.target.parentElement):null,I.parentProps=e.target.parentElement?or.getProperties(e.target.parentElement):void 0,this.produceEvent(I);break;case"nodesAdded":var s=m(this._i(t.type,t),2),o=s[0],u=s[1];u.targetLocalName=P(o.target)?$r(o.target):null,u.nextSibling=o.nextSibling?ar(o.nextSibling):null,u.previousSibling=o.previousSibling?ar(o.previousSibling):null,xr.mutations.serializedMutations.measure((function(){u.nodes=mi(o.nodes,xe)})),this.produceEvent(u);break;case"nodesMoved":var c=m(this._i(t.type,t),2),h=c[0];(I=c[1]).previousSibling=h.previousSibling?ar(h.previousSibling):null,I.nextSibling=h.nextSibling?ar(h.nextSibling):null,I.nodesIds=mi(h.nodes,ar),this.produceEvent(I);break;case"nodesRemoved":var a=m(this._i(t.type,t),2),f=a[0];(I=a[1]).nodesIds=mi(f.nodes,ar),this.produceEvent(I);break;case"shadowRootAttached":var l=m(this._i(t.type,t),2),v=l[0];(I=l[1]).shadowRoot=De(v.shadowRoot),this.produceEvent(I);break;case"cssRuleInserted":var d=m(this._i(t.type,t),2),y=d[0];(I=d[1]).index=y.index,I.rule=y.rule,this.produceEvent(I);break;case"cssRuleDeleted":var w=m(this._i(t.type,t),2),p=w[0];(I=w[1]).index=p.index,this.produceEvent(I);break;case"cssRuleUpdated":var g=m(this._i(t.type,t),2),S=g[0];(I=g[1]).rule=S.rule,I.index=S.index,this.produceEvent(I);break;case"adoptedStyleSheetRegistered":var b=m(this._i(t.type,t),2),E=b[0];(I=b[1]).sheetId=E.sheetId,I.cssRules=E.cssRules,this.produceEvent(I);break;case"adoptedStyleSheetsSet":var A=m(this._i(t.type,t),2),R=A[0];(I=A[1]).sheetsIds=R.sheetsIds,this.produceEvent(I);break;case"adoptedStyleSheetRuleInserted":var T=m(this._i(t.type,t),2),O=T[0];(I=T[1]).sheetId=O.sheetId,I.rule=O.rule,I.index=O.index,this.produceEvent(I);break;case"adoptedStyleSheetRuleDeleted":var N=m(this._i(t.type,t),2),k=N[0];(I=N[1]).sheetId=k.sheetId,I.index=k.index,this.produceEvent(I);break;case"adoptedStyleSheetRuleUpdated":var I,C=m(this._i(t.type,t),2),_=C[0];(I=C[1]).sheetId=_.sheetId,I.rule=_.rule,I.index=_.index,this.produceEvent(I)}},n.prototype.Pi=function(t){return this.ki&&!or.getProperty(t,Me)},n.prototype.Mi=function(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.Pi(t.target)||lr.isMaskedElement(t.target)||lr.isMaskedElementChild(t.target);case"characterDataChanged":var n=t.target.parentElement;return null!==n&&(this.Pi(n)||lr.isMaskedElement(n)||lr.isMaskedElementChild(n));case"attributeChanged":return this.Pi(t.target)||lr.isMaskedElementChild(t.target)||lr.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":return this.Pi(t.target)||lr.isMaskedElementChild(t.target);default:return!1}},n}(Ue);!function(t){t.isDOMEvent=function(t){return"DomEvent"===t.type}}(Le||(Le={}));var He,Fe=function(){function t(){this.Ni=[]}return t.prototype.start=function(){},t.prototype.stop=function(){this.Ni.length=0,this.Ni=[]},t.prototype.pushEvent=function(n){var i=this;if(t.pendingEvents++,this.isListening(n)){var r=this.Ni;csSetTimeout((function(){var e=zn("Processor:processEvent",(function(t){return i.processEvent(t)})),s=e(n);null!=s&&csArray.prototype.forEach.call(r,(function(t){return t(s)})),t.pendingEvents--}))}else csSetTimeout((function(){csArray.prototype.forEach.call(i.Ni,(function(t){return t(n)}))}))},t.prototype.subscribe=function(t){var n=this;return csArray.prototype.push.call(this.Ni,t),function(){n.Ni=csArray.prototype.filter.call(n.Ni,(function(n){return n!==t}))}},t.prototype.emitEvent=function(t){var n=this;re((function(){return csArray.prototype.forEach.call(n.Ni,(function(n){return n(t)}))}))},t.pendingEvents=0,t}();function Ve(t){for(var n=new ArrayBuffer(t.length),i=new Uint8Array(n),r=0,e=t.length;r<e;r+=1)i[r]=csString.prototype.charCodeAt.call(t,r);return n}function Be(t){for(var n=new Uint8Array(t),i="",r=0;r<n.byteLength;r+=1)i+=csString.fromCodePoint(n[r]);return i}function ze(t){return Ve(self.atob(t))}function Ge(t){var n=csArray.from(new Uint8Array(t));return csArray.prototype.join.call(csArray.prototype.map.call(n,(function(t){return csString.prototype.padStart.call(t.toString(16),2,"0")})),"")}function $e(t){var n=-1!==csString.prototype.indexOf.call(t,";base64,"),i=csString.prototype.indexOf.call(t,","),r=n?[csString.prototype.substring.call(t,0,i-7),csString.prototype.substring.call(t,i+1)]:[csString.prototype.substring.call(t,0,i),csString.prototype.substring.call(t,i+1)];if(!n&&/^%3Csvg/i.test(r[1]))try{r[1]=decodeURIComponent(r[1])}catch(t){Vn.warn("".concat(t,", calling decodeURIComponent on: ").concat(r[1]))}var e=n?ze(r[1]):Ve(r[1]);return new Blob([e],{type:csString.prototype.replace.call(r[0],"data:","")})}!function(t){t.ELLIPSIS="â€¦",t.stringReplaceAll=function(t,n,i){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(t,n,i);var r,e=new csRegExp((r=n,csString.prototype.replace.call(r,/[.*+?^${}()|[\]\\]/g,"\\$&")),"g");return csString.prototype.replace.call(t,e,i)},t.truncate=function(t,n,i){return void 0===i&&(i=""),t.length<=n?t:csString.prototype.slice.call(t,0,n-i.length)+i}}(He||(He={}));var Je,Ye=function(){function t(){}return t.toStaticResourceEvent=function(n,i,r){return y(this,void 0,void 0,(function(){var e,s,o,u;return w(this,(function(c){switch(c.label){case 0:return[4,t.xi(n)];case 1:return(e=c.sent())?[4,t.Di(e)]:[2,null];case 2:return s=c.sent(),o=Lr(n)?void 0:n,u={type:"StaticResourceManagerEvent",timestamp:r,resourceId:i,resource:{hash:s,data:e}},o&&(u.originalResourceName=o),[2,u]}}))}))},t.toCSSStaticResourceEvent=function(n,i,r,e){return y(this,void 0,void 0,(function(){var s,o,u,c;return w(this,(function(h){switch(h.label){case 0:return[4,t.Li(n,e)];case 1:return s=h.sent(),o=mn(n),(u=s.get(o))?(c={type:"StaticResourceManagerEvent",timestamp:r,resourceId:i,resource:{hash:u.hash,data:u.data}},s.delete(o),s.size&&(c.nestedResources=[],s.forEach((function(t){t&&csArray.prototype.push.call(c.nestedResources,{hash:t.hash,data:t.data})}))),[2,c]):[2,null]}}))}))},t.Di=function(t){return y(this,void 0,void 0,(function(){var n;return w(this,(function(i){switch(i.label){case 0:return[4,t.arrayBuffer()];case 1:return n=i.sent(),[4,crypto.subtle.digest(this.Ui,n)];case 2:return[2,Ge(i.sent())]}}))}))},t.xi=function(t){return y(this,void 0,void 0,(function(){var n,i;return w(this,(function(r){switch(r.label){case 0:return Lr(t)?[3,3]:[4,window.fetch(t)];case 1:return[4,r.sent().blob()];case 2:return n=r.sent(),[3,4];case 3:if(!(i=$e(t)))return[2,null];n=i,r.label=4;case 4:return[2,n]}}))}))},t.Li=function(n,i){return y(this,void 0,void 0,(function(){var r,e,s,o,u,c,h,a,f,l,v,d,y,m,g,S,b,E;return w(this,(function(w){switch(w.label){case 0:r=new Map,e=mn(n),s=[{resourceRawPath:n,resourceAbsolutePath:e}],w.label=1;case 1:if(!(s.length>0))return[3,17];if(o=csArray.prototype.pop.call(s),!i&&null!==o.resourceAbsolutePath&&!Lr(o.resourceAbsolutePath))return r.set(o.resourceAbsolutePath,null),[3,1];if(void 0!==r.get(o.resourceAbsolutePath))return[3,1];w.label=2;case 2:return w.trys.push([2,15,,16]),null===o.resourceRawPath||csString.prototype.indexOf.call(o.resourceRawPath,".css")>0?o.data?[3,5]:[4,fetch(o.resourceAbsolutePath)]:[3,8];case 3:return m=w.sent(),u=o,[4,m.text()];case 4:u.data=w.sent(),w.label=5;case 5:o.nestedResources||(o.nestedResources=Fr(o.data)),c=!1,h=!1,a=function(n){var i,e,u=Lr(n)?n:o.resourceAbsolutePath?(i=n,e=o.resourceAbsolutePath,new csURL(i,e).href):mn(n),a=r.get(u);if(void 0!==a){if(null!==a){var f=t.ji(a,n);o.data=He.stringReplaceAll(o.data,n,f)}return"continue"}var l=void 0!==bi(s,(function(t){return t.resourceAbsolutePath===u}));l||(c=!0,h||(csArray.prototype.push.call(s,o),h=!0),csArray.prototype.push.call(s,{resourceRawPath:n,resourceAbsolutePath:u}))};try{for(b=void 0,f=p(o.nestedResources),l=f.next();!l.done;l=f.next())v=l.value,a(v)}catch(t){b={error:t}}finally{try{l&&!l.done&&(E=f.return)&&E.call(f)}finally{if(b)throw b.error}}return c?[3,7]:[4,t.qi(o.data)];case 6:d=w.sent(),r.set(o.resourceAbsolutePath,{hash:d.hash,data:d.data}),w.label=7;case 7:return[3,14];case 8:return y=void 0,Lr(o.resourceAbsolutePath)?[3,11]:[4,fetch(o.resourceAbsolutePath)];case 9:return[4,(m=w.sent()).blob()];case 10:return y=w.sent(),[3,12];case 11:if(!(g=$e(o.resourceAbsolutePath)))return r.set(o.resourceAbsolutePath,null),[3,1];y=g,w.label=12;case 12:return[4,t.Di(y)];case 13:S=w.sent(),r.set(o.resourceAbsolutePath,{hash:S,data:y}),w.label=14;case 14:return[3,16];case 15:return w.sent(),r.set(o.resourceAbsolutePath,null),[3,16];case 16:return[3,1];case 17:return[2,r]}}))}))},t.ji=function(n,i){var r="cs://resources/".concat(n.hash);return Lr(i)||(r+="?".concat(t.Hi,"=").concat(i)),r},t.qi=function(n){return y(this,void 0,void 0,(function(){var i,r,e;return w(this,(function(s){switch(s.label){case 0:return[4,(i=new Blob([n],{type:"text/css"})).arrayBuffer()];case 1:return r=s.sent(),[4,crypto.subtle.digest(t.Ui,r)];case 2:return e=s.sent(),[2,{data:i,hash:Ge(e)}]}}))}))},t.Ui="SHA-256",t.Hi="original-resource-name",t}(),We=function(t){function n(){var n=t.call(this)||this;return n.Fi="cssrm://",n.Vi=0,n.Bi=!1,n}return l(n,t),n.prototype.isListening=function(t){return!!n.isSupported()&&(!!Le.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"attributeChanged"===t.domEvent||"characterDataChanged"===t.domEvent))},n.prototype.processEvent=function(t){switch(t.domEvent){case"initialDOM":case"nodesAdded":this.zi(t);break;case"attributeChanged":this.Gi(t);break;case"characterDataChanged":this.$i(t)}return t},n.prototype.disableOnlineAssets=function(){this.Bi=!1},n.prototype.enableOnlineAssets=function(){this.Bi=!0},n.prototype.isOnlineAssetsActivated=function(){return this.Bi},n.prototype.zi=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes;try{for(var s=p(e),o=s.next();!o.done;o=s.next()){var u=o.value;or.traverse(u,(function(t,n){if(3===t.nodeType&&n)r.Ji(t,n.localName);else if(Wr.isElement(t)){var i=bi(t.attributes,(function(t){return"style"===t.name}));if(i&&(i.value=r.Yi(i.value)),r.Wi(t)||r.Xi(t,n)){var e=bi(t.attributes,(function(t){return"src"===t.name}));e&&e.value&&(e.value=r.Ki(e.value));var s=bi(t.attributes,(function(t){return"srcset"===t.name}));if(s)return void(s.value=r.Qi(s.value))}if(r.Zi(t)&&r.Bi){var o=bi(t.attributes,(function(t){return"href"===t.name}));if(!o||!o.value)return;r.Vi++,r.tr(mn(o.value),r.Vi,!0),r.nr(t,o,r.Vi)}}}))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.nr=function(t,n,i){csArray.prototype.push.call(t.attributes,{name:"data-cs-original-href",namespaceURI:"",value:n.value}),n.value=this.Fi+i},n.prototype.Ji=function(t,n){if(t&&"style"===n){var i=this.Yi(t.data);null!==i&&(t.data=i)}},n.prototype.$i=function(t){if("style"===t.parentLocalName&&t.newValue){var n=this.Yi(t.newValue);null!==n&&(t.newValue=n)}},n.prototype.Gi=function(t){if(t.newValue&&t.newValue!==t.oldValue){var n="src"===t.attribute,i="srcset"===t.attribute;if("style"===t.attribute)t.newValue=this.Yi(t.newValue);else if(n||i){var r="img"===t.localName,e="source"===t.localName&&t.parentLocalName&&"picture"===t.parentLocalName;(r||e)&&(n&&(t.newValue=this.Ki(t.newValue)),i&&(t.newValue=this.Qi(t.newValue)))}}},n.prototype.Ki=function(t){return Lr(t)||this.Bi?(this.Vi++,this.tr(t,this.Vi,!1,rn()),this.Fi+this.Vi):t},n.prototype.Qi=function(t){var n,i;if(!this.Bi)return t;var r=t,e=Ur(t),s=rn();try{for(var o=p(e),u=o.next();!u.done;u=o.next()){var c=u.value;this.Vi++,this.tr(mn(c),this.Vi,!1,s),r=csString.prototype.replace.call(r,c,this.Fi+this.Vi)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r},n.prototype.Yi=function(t){var n,i,r,e=Fr(t),s=t,o=rn();try{for(var u=p(e),c=u.next();!c.done;c=u.next()){var h=c.value,a=Lr(h);if((a||this.Bi)&&!this.ir(h)){this.Vi++,s=csString.prototype.replace.call(s,h,this.Fi+this.Vi);var f=!!(r=h)&&hn(r,".css");a?this.tr(h,this.Vi,!1,o):this.Bi&&(f?this.tr(h,this.Vi,!0,o):this.tr(mn(h),this.Vi,!1,o))}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s},n.prototype.tr=function(t,n,i,r){var e=this;void 0===r&&(r=rn());var s=i?Ye.toCSSStaticResourceEvent:Ye.toStaticResourceEvent,o=new Xr((function(i){return y(e,void 0,void 0,(function(){var e,o;return w(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,s(t,n,r,this.Bi)];case 1:return e=u.sent(),i(e||{type:"warning",message:"Failed to process static resource: ".concat(t)}),[3,3];case 2:return o=u.sent(),i({type:"warning",message:o}),[3,3];case 3:return[2]}}))}))}));this.emitEvent(o)},n.prototype.Wi=function(t){return"img"===t.localName},n.prototype.Xi=function(t,n){return"source"===t.localName&&!!n&&"picture"===n.localName},n.prototype.Zi=function(t){return"link"===t.localName&&csArray.prototype.some.call(t.attributes,(function(t){return"rel"===t.name&&"stylesheet"===t.value}))},n.isSupported=function(){return on()&&function(){var t;return"undefined"!=typeof crypto&&I(null===(t=crypto.subtle)||void 0===t?void 0:t.digest)}()&&!!csArray.from},n.prototype.ir=function(t){return 0===csString.prototype.replace.call(t,/['"]+/g,"").length},d([ci("StaticResourceManagerProcessor.processEvent")],n.prototype,"processEvent",null),n}(Fe);!function(t){t.Visible="visible",t.Hidden="hidden",t.Blur="blur",t.PagehideVisible="pagehideVisible",t.PagehideHidden="pagehideHidden",t.ExitPageByNavigate="exitPageByNavigate"}(Je||(Je={}));var Xe,Ke=function(){function t(){var t=this;this.rr=!1,this.er=function(n){try{switch(n.type){case"visibilitychange":return"hidden"===document.visibilityState?t.ur(Je.Hidden):t.ur(Je.Visible);case"pagehide":return"hidden"===document.visibilityState?t.ur(Je.PagehideHidden):t.ur(Je.PagehideVisible);case"blur":return t.ur(Je.Blur);case"navigate":return t.cr(n)?t.ur(Je.ExitPageByNavigate):void 0;default:return}}catch(t){}}}return t.prototype.start=function(){this.rr||(this.rr=!0,this.hr(),this.ar(),this.lr(),un()&&this.vr())},t.prototype.stop=function(){this.rr&&(this.rr=!1,this.yr(),this.wr(),this.pr(),un()&&this.mr())},t.prototype.onEvent=function(t){this.ur=t},t.prototype.vr=function(){window.navigation.addEventListener("navigate",this.er)},t.prototype.mr=function(){window.navigation.removeEventListener("navigate",this.er)},t.prototype.hr=function(){document.addEventListener("visibilitychange",this.er)},t.prototype.yr=function(){document.removeEventListener("visibilitychange",this.er)},t.prototype.ar=function(){window.addEventListener("pagehide",this.er)},t.prototype.wr=function(){window.removeEventListener("pagehide",this.er)},t.prototype.lr=function(){window.addEventListener("blur",this.er)},t.prototype.pr=function(){window.removeEventListener("blur",this.er)},t.prototype.cr=function(t){return t instanceof NavigateEvent!=!1&&(!t.hashChange&&!t.downloadRequest&&!t.formData)},t}();!function(t){t[t.Active=0]="Active",t[t.Paused=1]="Paused",t[t.Stopped=2]="Stopped"}(Xe||(Xe={}));var Qe,Ze=function(){function t(t,n,i){void 0===i&&(i=[]);this.gr=t,this.Sr=n,this.br=i,this.Er=null,this.Ar=Xe.Active,this.Rr=[]}return t.prototype.reset=function(){this.Er=null,this.Rr=[],this.Ar=Xe.Active},t.prototype.disconnect=function(){this.Ar=Xe.Stopped},t.prototype.Tr=function(){var n=this;this.Sr(Xe.Paused),this.Ar=Xe.Paused,csSetTimeout((function(){n.Ar===Xe.Paused&&n.Or()}),t.STOP_TIMEOUT)},t.prototype.Nr=function(){this.Sr(Xe.Active),this.Ar=Xe.Active,Si(this.Rr,this.gr),this.Rr=[]},t.prototype.Or=function(){this.Rr=[],this.Sr(Xe.Stopped),this.Ar=Xe.Stopped},t.prototype.pushEvent=function(t,n){if(n.isUserEvent&&(this.Er=t.date,this.Ar!==Xe.Active))return this.Nr(),void this.gr(t);if(this.kr(t))this.gr(t);else switch(this.Ar){case Xe.Active:if(this.Ir(t,n))return this.Tr(),void csArray.prototype.push.call(this.Rr,t);this.gr(t);break;case Xe.Paused:csArray.prototype.push.call(this.Rr,t);case Xe.Stopped:}},t.prototype.Ir=function(n,i){return!i.isUserEvent&&null!==this.Er&&n.date-this.Er>t.INACTIVITY_TIMEOUT},t.prototype.kr=function(t){return csArray.prototype.indexOf.call(this.br,t.type)>-1},t.INACTIVITY_TIMEOUT=5e3,t.STOP_TIMEOUT=5e3,t}(),ts=function(t){function n(n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b){void 0===y&&(y=[]);var E=t.call(this)||this;return E.U=n,E.Cr=i,E._r=r,E.Mr=e,E.Pr=s,E.K=o,E.Dr=u,E.Lr=c,E.Ur=h,E.jr=a,E.qr=f,E.Hr=l,E.Fr=v,E.Vr=d,E.Br=y,E.zr=w,E.Gr=p,E.$r=m,E.Jr=g,E.Yr=S,E.Wr=b,E.Xr=0,E.Kr=new gr,E.Qr={allowFromQuotaService:!0,allowFromSerialization:!0},E.Zr=Yi((function(){E.Cr.eventsCount()>0&&E.te()}),2e3),E.ne=function(t){return E.processBrowserEvent(t)},E.ie=function(t){return E.re(t)},E.ee=0,E.se=0,E.oe=new Ke,E.ue=!1,E.ce=51200,E.he=!1,E.ae=!1,E.fe=[],E.le=new Ze((function(t){return E.ve(t)}),(function(t){switch(t){case Xe.Active:E.zr.start(),E.Gr.start();break;case Xe.Stopped:E.zr.stopForInactivity(),E.Gr.stop()}}),[Wi.RESOURCE_HASHES,Wi.TEXT_VISIBILITY]),E.de=function(t){E.Hr.removeBatchInProgress("".concat(t.params.sn,".").concat(t.params.pn,".").concat(t.params.ri))},E}return yt(n,t),n.prototype.init=function(){this.ye(),this.qr.onLoad(this.de),this.qr.onError(this.de)},n.prototype.ye=function(){var t,n,i,r=this;this.Vr.onEvent(this.ne,this.ie),null===(t=this.jr)||void 0===t||t.onInputNodeToEncrypt(this.ie),null===(n=this.jr)||void 0===n||n.onApiErrorToEncrypt((function(t){r.we(t)})),null===(i=this.jr)||void 0===i||i.onUserIdentifierToEncrypt(this.ne),this.oe.onEvent((function(t){if(csSetTimeout((function(){return r.pe("page-state",t)})),t!==Je.Visible){if(t===Je.Blur)return r.ge();if(!r.ue)return r.ue=!0,csSetTimeout((function(){r.ue=!1})),t===Je.Hidden?r.ge():r.Se()}}))},n.prototype.isRecording=function(){return this.K.hasValidSession()&&this.isStarted},n.prototype.ge=function(){var t=this;if(this.canSendEvents()){this.Vr.flush(),this.Hr.saveBatchesInProgress(),Si(this.Br,(function(n){var i,r;return Si(null!==(r=null===(i=n.getPendingEvents)||void 0===i?void 0:i.call(n))&&void 0!==r?r:[],(function(n){return t.Cr.addEvent(n)}))}));var n=this.Cr.getEvents();if(0!==n.length){this.pe("pending-events",this.Vr.pendingEvents);var i=this.qr.getQueryParams();i.rst=this.getRecordingStartTimestamp(),i.let=this.getRecordingLastEventTimestamp();var r=this.Mr.getCurrentIndex();i.ri=r.toString(),this.Fr.removeQueryParams(),this.Fr.setQueryParams(i),this.se=n[n.length-1].date;var e=this.Cr.stringifyEvents();if(e.length>this.ce){var s=this.be();if(s.length>0){var o=Mt(s);this.Fr.send(o)||this.Hr.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:wt(wt({},i),{datatype:"json"}),events:o}),this.Mr.increment()}if(this.Cr.eventsCount()>0){i.ri=this.Mr.getCurrentIndex().toString();var u=this.Cr.stringifyEvents();this.Hr.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:wt(wt({},i),{datatype:"json"}),events:u}),this.Mr.increment()}}else{this.Fr.send(e)||this.Hr.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:wt(wt({},i),{datatype:"json"}),events:e}),this.Mr.increment()}this.Fr.removeQueryParams(),this.Cr.clearEvents()}}},n.prototype.Se=function(){var t=this;if(this.canSendEvents()){this.Vr.flush();var n=this.qr.getQueryParams();this.Hr.saveBatchesInProgress(),n.rst=this.getRecordingStartTimestamp(),delete n.ri,n.hlm="true",this.Fr.removeQueryParams(),Si(this.Br,(function(n){var i,r;return Si(null!==(r=null===(i=n.getPendingEvents)||void 0===i?void 0:i.call(n))&&void 0!==r?r:[],(function(n){return t.Cr.addEvent(n)}))}));var i=this.Cr.getEvents();if(0===i.length)return delete n.let,delete n.rst,this.Fr.setQueryParams(n),this.Fr.send(),void this.Fr.removeQueryParams();this.pe("pending-events",this.Vr.pendingEvents),this.se=i[i.length-1].date,n.let=this.getRecordingLastEventTimestamp(),this.Fr.setQueryParams(n);var r=this.Cr.stringifyEvents();if(r.length>this.ce){var e=this.be();if(e.length>0){var s=Mt(e);this.Fr.send(s)||this.Hr.save({key:"".concat(n.sn,".").concat(n.pn,".last"),metadata:wt(wt({},n),{datatype:"json"}),events:s})}else delete n.let,delete n.rst,delete n.ri,this.Fr.removeQueryParams(),this.Fr.setQueryParams(n),this.Fr.send(),this.Fr.removeQueryParams();if(this.Cr.eventsCount()>0){n.rst=this.getRecordingStartTimestamp(),n.let=this.getRecordingLastEventTimestamp();var o=this.Mr.getCurrentIndex();n.ri=o.toString();var u=this.Cr.stringifyEvents();this.Hr.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:wt(wt({},n),{datatype:"json"}),events:u}),this.Mr.increment()}}else{this.Fr.send(r)||(this.Hr.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:wt(wt({},n),{datatype:"json"}),events:r}),this.Mr.increment())}this.Fr.removeQueryParams(),this.Cr.clearEvents()}},n.prototype.blockSendingEventsFromQuotaService=function(){this.Qr.allowFromQuotaService=!1},n.prototype.allowSendingEventsFromQuotaService=function(){this.Qr.allowFromQuotaService=!0},n.prototype.blockSendingEventsFromSerialization=function(){this.Qr.allowFromSerialization=!1},n.prototype.allowSendingEventsFromSerialization=function(){this.Qr.allowFromSerialization=!0},n.prototype.canSendEvents=function(){return this.Qr.allowFromQuotaService&&this.Qr.allowFromSerialization},n.prototype.onIframeJavascriptError=function(t){var n;if(this.Dr&&this.Yr){null===(n=this.Dr)||void 0===n||n.anonymize(t);var i=this.Yr.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:rn(),type:"JSError"});i&&this.ne(i)}},n.prototype.onIframeCustomError=function(t){if(this.Wr){var n=this.Wr.translate(wt(wt({},t),{timestamp:rn(),type:"CustomError"}));n&&this.ne(n)}},n.prototype.onIframeDetailedApiError=function(t){this.Ee(t)},n.prototype.onIframeRecordingUserEvent=function(t){var n,i;try{for(var r=bt(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.re(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.onIframeRecordingBrowserEvent=function(t){var n,i;if(this.isStarted)try{for(var r=bt(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.processBrowserEvent(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.processBrowserEvent=function(t){this.Pr.isCurrentPageviewValid()&&this.le.pushEvent(t,{isUserEvent:!1})},n.prototype.re=function(t){this.Pr.refreshSession(),this.Pr.isSessionValid()&&this.le.pushEvent(t,{isUserEvent:!0})},n.prototype.ve=function(t){xr.general.nbEvents.increase(),this.Cr.addEvent(t),this.Cr.isThresholdReached()?this.pushEvents():this.Cr.isFull()&&this.Zr(),this.Ae(t)},n.prototype.Ae=function(t){this.U.emitDebugEvents&&this.Kr.emit("recordingEvent",wt(wt({},t),{typeName:Wi[t.type]}))},n.prototype.onStart=function(){var t=this;this.pe("tag-version","15.43.0"),this.pe("page-state",document.visibilityState),this.le.reset(),this.oe.start(),this.initStates(),this.Vr.start(),this.Lr&&this.Ur&&this.Lr.subscribe(n.Re,(function(n){return t.Ee(n)}),{detailedEvent:!0}),this.U.emitDebugEvents&&this.Kr.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.fe,(function(n){return t.Te(n)})),this.fe=[]},n.prototype.onStop=function(){var t;this.oe.stop(),this.Lr&&this.Lr.unsubscribe(n.Re),this.Vr.stop(),this.le.disconnect(),this.ae=!1,null===(t=this.$r)||void 0===t||t.disableOnlineAssets()},n.prototype.clearStates=function(){this.Vr.flush(),this.Zr.cancel(),this.pushEvents(),this.qr.removeQueryParams()},n.prototype.initStates=function(){this.ee=rn(),this.Mr.reset(),this.Xr=0,this.qr.setQueryParams(this._r.getRequestParameters())},n.prototype.pushEvents=function(){Si(this.Br,(function(t){var n;return null===(n=t.flushEvents)||void 0===n?void 0:n.call(t)})),this.Cr.eventsCount()>0&&(this.isStarted?this.te():this.Cr.clearEvents())},n.prototype.te=function(){if(this.canSendEvents()){var t=this.Cr.getEvents();this.se=t[t.length-1].date;var n=this.Mr.getCurrentIndex();this.qr.setQueryParams({ri:n.toString(),rst:this.getRecordingStartTimestamp(),let:this.getRecordingLastEventTimestamp()});var i=this.qr.getQueryParams();this.Hr.addBatchInProgress("".concat(i.sn,".").concat(i.pn,".").concat(n),this.qr.getQueryParams(),t),this.qr.send(t),this.Mr.increment(),this.Cr.clearEvents(),this.Oe&&this.Oe()}},n.prototype.addInitialDom=function(t){this.Cr.addEventByTimestamp(t),this.Ae(t)},n.prototype.Ee=function(t){if(this.Jr&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.Jr.truncate(t),this.jr)return void this.jr.registerApiErrorToEncrypt(t);t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.we(t)},n.prototype.we=function(t){if(this.Xr<n.Ne){var i={type:Wi.API_ERROR,date:rn(),args:[this.Ur.anonymize(t)]};this.ne(i),this.Xr=this.Xr+1}},n.prototype.ke=function(t){var i,r;t===kr.ETR_SESSION?this.qr.setQueryParams(((i={})[n.Ie]=n.Ce,i)):t===kr.ETR_PAGE&&this.qr.setQueryParams(((r={})[n._e]=n.Ce,r))},n.prototype.clearEvents=function(){this.Cr.clearEvents()},n.prototype.onCustomJavaScriptErrorEvent=function(t){var n,i=null===(n=this.Yr)||void 0===n?void 0:n.translate({type:"JSError",timestamp:rn(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.ne(i)},n.prototype.onCustomErrorEvent=function(t){var n,i=null===(n=this.Wr)||void 0===n?void 0:n.translate({type:"CustomError",timestamp:rn(),message:t.message,attributes:t.attributes});i&&this.ne(i)},n.prototype.onPageEvent=function(t){this.Me(t)},n.prototype.onUserIdentifierEvent=function(t){var n,i={userIdentifier:t,date:rn(),keyId:this.U.encryptionPublicKeyId};null===(n=this.jr)||void 0===n||n.registerUserIdentifierToEncrypt(i)},n.prototype.onEventTriggerRecording=function(t,n){this.isStarted?this.Te({eventName:t,eventType:n}):csArray.prototype.push.call(this.fe,{eventName:t,eventType:n})},n.prototype.Te=function(t){this.ke(t.eventType),this.Me(t.eventName),this.pushEvents()},n.prototype.Me=function(t){var i={type:Wi.PAGE_EVENT,date:rn(),args:[{eventName:csString.prototype.slice.call(t,0,n.Pe)}]};this.Cr.addEvent(i)},n.prototype.triggerUnanonymizationConsentGranted=function(){var t={date:rn(),type:Wi.UNANONYMIZED_CONSENT_GRANTED};this.Cr.addEvent(t)},n.prototype.triggerUnanonymizationConsentWithdrawn=function(){var t={date:rn(),type:Wi.UNANONYMIZED_CONSENT_WITHDRAWN};this.Cr.addEvent(t)},n.prototype.triggerRecordingForSessionGranted=function(){this.pe("consent-granted")},n.prototype.triggerRecordingForSessionWithdrawn=function(){this.pe("consent-withdrawn")},n.prototype.activateOnlineAssetsOnNextPageview=function(){this.he=!0,this.ae=!0},n.prototype.getStaticResourceManagerStatus=function(){return this.$r?{isStarted:this.U.useStaticResourceManager&&We.isSupported(),onlineAssets:{activated:this.$r.isOnlineAssetsActivated(),enabledOnNextPageview:this.he,enabledForChildrenOnNextStart:this.ae}}:null},n.prototype.updateStaticResourceManagerOnlineAssets=function(){this.$r&&this.he&&(this.$r.enableOnlineAssets(),this.ae=!0,this.he=!1)},n.prototype.onRecordingRequestSent=function(t){this.Oe=t},n.prototype.getRecordingStartTimestamp=function(){return this.ee.toString()},n.prototype.getRecordingLastEventTimestamp=function(){return this.se.toString()},n.prototype.onOptOut=function(){Si(this.Br,(function(t){var n;return null===(n=t.releaseResources)||void 0===n?void 0:n.call(t)}))},n.prototype.pe=function(t,n){if(this.U.emitRecordInfoEvents){var i={date:rn(),type:Wi.RECORDING_INFO_EVENT,args:null==n?[t]:[t,n]};this.Cr.addEvent(i)}},n.prototype.be=function(){return this.Cr.extractEvents(Wi.API_ERROR,Wi.JAVASCRIPT_ERROR,Wi.CUSTOM_ERROR,Wi.TEXT_VISIBILITY,Wi.POINTER_DOWN)},n.Re="RecordingService",n.Pe=255,n.Ne=20,n._e="etrp",n.Ie="etrs",n.Ce="1",mt([ci("addInitialDom")],n.prototype,"addInitialDom",null),n}(Sr),ns=function(t){function n(n,i,r){var e=t.call(this)||this;return e.tn=n,e.Fr=i,e.qr=r,e.xe=!1,e.De={},e.Le=function(t){var n,i;if(0!==t.length)try{for(var r=bt(t),s=r.next();!s.done;s=r.next()){var o=s.value,u=o.metadata,c=o.events;e.Ue(u.rt)&&e.qr.send(c,u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},window.addEventListener("focus",(function(){e.recover()})),e}return yt(n,t),n.prototype.onStart=function(){this.De={}},n.prototype.onStop=function(){},n.prototype.recover=function(){this.tn.recover(this.Le)},n.prototype.addBatchInProgress=function(t,n,i){this.De[t]={metadata:wt({},n),events:i}},n.prototype.removeBatchInProgress=function(t){delete this.De[t]},n.prototype.blockSendingLastMessage=function(){this.xe=!1},n.prototype.allowSendingLastMessage=function(){this.xe=!0},n.prototype.sendLastMessageBeacon=function(){if(this.xe){var t=this.qr.getQueryParams(),n=(t.ri,t.rst,t.let,pt(t,["ri","rst","let"]));n.hlm="true",this.Fr.setQueryParams(n),this.Fr.send()}},n.prototype.Ue=function(t){return!!t&&-1===csString.prototype.indexOf.call(t,Or.RECORDING_TEMPORARILY)},n.prototype.saveBatchesInProgress=function(){var t=this;csArray.prototype.forEach.call(Object.keys(this.De),(function(n){var i=t.De[n],r=i.metadata,e=i.events;t.tn.save({key:"".concat(r.sn,".").concat(r.pn,".").concat(r.ri),metadata:wt(wt({},r),{datatype:"json"}),events:csJSON.stringify(e)})}))},n.prototype.save=function(t){this.tn.save(t)},mt([Bn("RecordingRecovery")],n.prototype,"recover",null),n}(Sr),is=function(){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.je=t}return t.prototype.addProvider=function(t){csArray.prototype.push.call(this.je,t)},t.prototype.getRequestParameters=function(){return csArray.prototype.reduce.call(this.je,(function(t,n){return wt(wt({},n.getRequestParameters()),t)}),{})},t}(),rs=function(){function t(t,n){var i=this;this.qe=t,this.j=n,this.He=[{boundElement:window,type:"hashchange",listener:function(){return i.hashChangeListener()}},{boundElement:document,type:"visibilitychange",listener:function(){return i.visibilityChangeListener()}}]}return t.prototype.onEvent=function(t){this.Fe=t},t.prototype.start=function(){this.xn(),this.triggerInitialEvents()},t.prototype.stop=function(){this.Dn()},t.prototype.xn=function(){csArray.prototype.forEach.call(this.He,(function(t){return Gi(t)}))},t.prototype.Dn=function(){csArray.prototype.forEach.call(this.He,(function(t){return $i(t)}))},t.prototype.triggerInitialEvents=function(){this.hashChangeListener()},t.prototype.hashChangeListener=function(){var t={type:Wi.HASH_CHANGE,args:[this.j.anonymizePII(this.qe.href)],date:rn()};this.Fe(t)},t.prototype.visibilityChangeListener=function(){var t={type:Wi.VISIBILITY_CHANGE,args:[document.visibilityState],date:rn()};this.Fe(t)},mt([Bn("hashChange")],t.prototype,"hashChangeListener",null),mt([Bn("visibilityChange")],t.prototype,"visibilityChangeListener",null),t}(),es=function(){function t(t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.Ve=[],this.Rr=[],this.Be=t}return t.prototype.next=function(t){var n,i,r=this;this.Rr.length===this.Be&&csArray.prototype.shift.call(this.Rr),csArray.prototype.push.call(this.Rr,t),1===this.Rr.length&&csSetTimeout((function(){return r.clear()}));try{for(var e=qn(this.Ve),s=e.next();!s.done;s=e.next()){(0,s.value)(t)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},t.prototype.subscribe=function(t){var n,i,r=this;if(bi(this.Ve,(function(n){return t===n})))return function(){r.Ve=csArray.prototype.filter.call(r.Ve,(function(n){return n!==t}))};csArray.prototype.push.call(this.Ve,t);try{for(var e=qn(this.Rr),s=e.next();!s.done;s=e.next()){var o=s.value;t(o)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}return function(){r.Ve=csArray.prototype.filter.call(r.Ve,(function(n){return n!==t}))}},t.prototype.clear=function(){this.Rr=[]},t.prototype.hasObservers=function(){return this.Ve.length>0},t}(),ss=function(){function t(t){this.dn=t}var n;return t.prototype.observe=function(){var t=this;(this.ze=n.Ge.subscribe((function(n){return t.dn(n)})),n.$e)||(n.$e=!0,n.Je.observe(),Mi(document,NodeFilter.SHOW_ELEMENT).visitAll((function(t){n.Ye.add(t),n.Ge.next(t)})))},t.prototype.disconnect=function(){n.$e&&(this.ze(),n.Ge.hasObservers()||(n.$e=!1,n.Je.disconnect(),n.Ge.clear(),n.Ye.clear()))},n=t,t.Ye=fe(),t.Ge=new es,t.We=ri((function(t){re((function(){var i,r;try{for(var e=qn(t),s=e.next();!s.done;s=e.next()){var o=s.value;"childList"===o.type&&Si(o.addedNodes,(function(t){Mi(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){n.Ye.has(t)||(n.Ye.add(t),n.Ge.next(t))}))}))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))}),"ElementObserver.findAllElements"),t.$e=!1,t.Je=new Ae(n.We),Ln([Bn()],t.prototype,"observe",null),Ln([Bn()],t.prototype,"disconnect",null),t}(),os=function(){function t(t,n,i){void 0===n&&(n=30),void 0===i&&(i=0);var r=this;this.Xe=t,this.Ke=n,this.Qe=i,this.Ze=new Jn,this.tt=!1,this.ns=0,this.rs=function(){for(r.ns=0;r.Ze.length;){if(r.ns>=r.Ke)return void csSetTimeout(r.rs,r.Qe);var t=en(),n=r.Ze.pop();if(!n)break;r.runTask(n);var i=en()-t;r.ns+=i}r.tt=!1}}return t.prototype.schedule=function(t,n){void 0===n&&(n=!1),this.Xe&&!n?(xr.general.pendingTasks.increase(),this.Ze.push(t),this.es()):t()},t.prototype.es=function(){var t=this;this.tt||(this.tt=!0,csSetTimeout((function(){t.rs()})))},t.prototype.runTask=function(t){xr.general.pendingTasks.decrease(),t()},t.prototype.runPendingTasks=function(){var t=this;this.Ze.forEach((function(n){t.runTask(n)})),this.Ze.clear()},t.prototype.clearQueue=function(){xr.general.pendingTasks.clear(),xr.mutations.pendingMutations.clear(),this.Ze.clear()},t.prototype.isEmpty=function(){return 0===this.Ze.length},mt([Bn("TaskScheduler"),ci("runTask")],t.prototype,"runTask",null),mt([ci("runPendingTasks")],t.prototype,"runPendingTasks",null),t}(),us={async:!0},cs=function(){function t(t){void 0===t&&(t=us);var n=this;this.ss=t,this.An=!1,this.us=new de((function(t){return"cssRuleInserted"===t.type&&n.onStyleSheetChange(t)})),this.cs=le((function(t){n.An&&Si(t,(function(t){return n.hs.schedule((function(){return n.fs(t)}))}))})),this.ls=new ss((function(t){return n.vs(t)})),this.gn=new Ae((function(t){return n.ds(t)})),t.async&&(this.hs=new os(!0,30,0))}return t.prototype.onStyleSheetChange=function(t){t.rule&&this.An&&this.ys(t.rule)},t.prototype.start=function(){this.An||(this.An=!0,this.us.observe(),this.ls.observe(),this.gn.observe())},t.prototype.stop=function(){this.An&&(this.us.disconnect(),this.ls.disconnect(),this.gn.disconnect(),this.An=!1)},t.prototype.onEvent=function(t){this.Fe=t},t.prototype.onAsset=function(t){this.ws=t},t.prototype.onStyleSheetFound=function(t){this.ps=t},t.prototype.gs=function(t){x(t)&&csNodeparentNode.apply(t)&&j(csNodeparentNode.apply(t))&&this.ys(t.data)},t.prototype.ys=function(t){this.Ss(Fr(t))},t.prototype.vs=function(t){this.An&&lr.getMaskedElementDetails(t).state===lr.MaskedElementState.NotMasked&&(this.ss.async?this.cs.push(t):this.fs(t))},t.prototype.fs=function(t,n){lr.getMaskedElementDetails(t).state!==lr.MaskedElementState.NotMasked||n&&lr.isMaskedAttribute(t,n)||(j(t)?this.bs(t):this.Es(t,n)||(this.As(t,n),this.Rs(t,n),this.Ts(t,n)))},t.prototype.Es=function(t,n){var i,r,e;if(U(t)&&(!n||"href"===n)&&t.href){var s=(null===(i=t.sheet)||void 0===i?void 0:i.href)||t.href,o={assetId:s,assetBasePath:window.location.href,assetRawPath:t.getAttribute("href")};return null===(r=this.ps)||void 0===r||r.call(this,o),null===(e=this.ws)||void 0===e||e.call(this,o),this.Os(s),!0}return!1},t.prototype.bs=function(t){for(var n,i,r,e,s,o,u=new Set,c=0;c<csNodechildNodes.apply(t).length;c++){var h=csNodechildNodes.apply(t)[c];if(3===h.nodeType)try{for(var a=(n=void 0,bt(Fr(h.data))),f=a.next();!f.done;f=a.next()){var l=f.value;u.add(l)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}try{o=null===(s=t.sheet)||void 0===s?void 0:s.cssRules}catch(t){"SecurityError"===t.name||"InvalidAccessError"===t.name||_n.error(t.message)}if(o)for(c=0;c<o.length;c++){var v=o.item(c).cssText;try{for(var d=(r=void 0,bt(Fr(v))),y=d.next();!y.done;y=d.next()){l=y.value;u.add(l)}}catch(t){r={error:t}}finally{try{y&&!y.done&&(e=d.return)&&e.call(d)}finally{if(r)throw r.error}}}this.Ss(Ti(u))},t.prototype.Ns=function(t){return!this.ks(t)&&!Lr(t)&&!function(t){return cn(t,"#")}(t)},t.prototype.As=function(t,n){var i,r;if(P(r=t)&&"img"===r.localName||function(t){return P(t)&&"source"===t.localName}(t)){if(!n||"src"===n){var e=t.getAttribute("src");e&&this.Ns(e)&&(this.Os(t.src),null===(i=this.ws)||void 0===i||i.call(this,{assetId:t.src,assetRawPath:e,assetBasePath:window.location.href}))}n&&"srcset"!==n||!t.srcset||this.Is(t.srcset)}},t.prototype.Rs=function(t,n){if(1===t.nodeType){if(t.hasAttribute&&(!n||"style"===n)&&t.hasAttribute("style")){var i=t.getAttribute("style");if("string"!=typeof i)throw new Error("Unexpected style: "+t.outerHTML);this.ys(i)}}else Vn.warn("StaticResourceUrlTracker: Wrong element nodeType: ".concat(null==t?void 0:t.nodeName,"/").concat(t.nodeType))},t.prototype.Is=function(t){this.Ss(Ur(t))},t.prototype.Ts=function(t,n){var i,r;if((V(r=t)&&"image"===r.localName||function(t){return V(t)&&"use"===t.localName}(t)||function(t){return V(t)&&"feImage"===t.localName}(t))&&(!n||"href"===n||"xlink:href"===n)){var e=t.getAttribute("href")||t.getAttribute("xlink:href");if(e&&this.Ns(e)){var s=mn(e);this.Os(s),null===(i=this.ws)||void 0===i||i.call(this,{assetId:s,assetRawPath:e,assetBasePath:window.location.href})}}},t.prototype.Ss=function(t){var n=this;return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,(function(t){return n.Ns(t)})),(function(t){return{rawUrl:t,absoluteUrl:mn(t)}})),(function(t){var i;n.Fe&&n.Os(t.absoluteUrl),null===(i=n.ws)||void 0===i||i.call(n,{assetId:t.absoluteUrl,assetBasePath:window.location.href,assetRawPath:t.rawUrl})}))},t.prototype.ds=function(t){var n=this,i=this.ss.async?csSetTimeout:function(t){return t()};i((function(){var i,r;try{for(var e=bt(t),s=e.next();!s.done;s=e.next()){var o=s.value;switch(o.type){case"attributes":n.fs(o.target,o.attributeName);break;case"characterData":n.gs(o.target)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))},t.prototype.Os=function(t){var n,i={date:rn(),type:Wi.STATIC_RESOURCE_URL,args:[t]};null===(n=this.Fe)||void 0===n||n.call(this,i)},t.prototype.ks=function(t){return/^https:\/\/\w+:\w+@/.test(t)},t}(),hs=function(){function t(t){this.Cs=[],this._s=[],this.$t={},this.Jt=t}return t.prototype.setQueryParams=function(t){var n=this;csArray.prototype.forEach.call(Object.keys(t),(function(i){n.$t[i]=t[i]}))},t.prototype.removeQueryParams=function(t){var n=this;t?csArray.prototype.forEach.call(t,(function(t){delete n.$t[t]})):this.$t={}},t.prototype.onBeaconSuccess=function(t){csArray.prototype.push.call(this.Cs,t)},t.prototype.onBeaconFailure=function(t){csArray.prototype.push.call(this._s,t)},t.prototype.send=function(t){var n=this,i=_t.toQuery(wt(wt({},this.$t),{ct:li.UNCOMPRESSED})),r=this.Ms(i,t);return r?csArray.prototype.forEach.call(this.Cs,(function(t){return t()})):csArray.prototype.forEach.call(this._s,(function(t){return t(n.$t)})),r},t.prototype.Ms=function(t,n){try{if("function"!=typeof csNavigatorsendBeacon)return!1;var i=csNavigatorsendBeacon("".concat(this.Jt,"?").concat(t),n||"");if(i)return i}catch(t){}return"function"==typeof navigator.sendBeacon&&navigator.sendBeacon("".concat(this.Jt,"?").concat(t),n||"")},t}(),as=function(){function t(t){this.Ps={},this.xs=new wr(t)}return t.prototype.save=function(t){var n=t.key,i=t.metadata,r=t.events;this.xs.isThresholdReached()||(this.xs.addString(n),"string"==typeof r?this.xs.addString(r):this.xs.addArrayBuffer(r),this.xs.isThresholdReached()||(this.Ps[n]={metadata:i,events:r}))},t.prototype.recover=function(t){var n=this,i=[];csArray.prototype.forEach.call(this.Ds(),(function(t){var r=n.Ps[t];void 0!==r&&(delete r.metadata.datatype,csArray.prototype.push.call(i,r),n.Ls(t))})),0!==i.length&&(t(i),this.xs.reset())},t.prototype.Ds=function(){return Object.keys(this.Ps)},t.prototype.Ls=function(t){delete this.Ps[t]},t}();!function(t){t[t.NOT_STARTED=0]="NOT_STARTED",t[t.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",t[t.OPEN_FAILED=2]="OPEN_FAILED",t[t.READY=3]="READY"}(Qe||(Qe={}));var fs,ls=function(){function t(t,n,i){this.Us=t,this.js=i,this.qs=Qe.NOT_STARTED,this.Hs=[],this.Fs=0,this.Vs=self.origin,this.Bs="object"==typeof window?"":"worker-",this.xs=new wr(n),this.zs()}return t.prototype.zs=function(){return gt(this,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:return[4,this.Gs()];case 1:return t.sent(),this.qs===Qe.READY?this.$s():this.js(this.Hs),[2]}}))}))},t.prototype.$s=function(){var t=this;csArray.prototype.forEach.call(this.Hs,(function(n){t.save(n)})),this.Hs=[]},t.prototype.save=function(t){return gt(this,void 0,void 0,(function(){var n,i,r;return St(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.qs===Qe.OPEN_IN_PROGRESS?(csArray.prototype.push.call(this.Hs,t),[2]):this.qs!==Qe.READY||this.xs.isThresholdReached()?[2]:(n=t.key,i=t.metadata,r=t.events,this.xs.addString(n),"string"==typeof r?this.xs.addString(r):this.xs.addArrayBuffer(r),this.xs.isThresholdReached()?[2]:[4,this.Js.put("".concat(this.Vs,"/").concat(n),new Response(r,{headers:i}))]);case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.recover=function(t){return gt(this,void 0,void 0,(function(){return St(this,(function(n){switch(n.label){case 0:return this.Js?[3,2]:[4,this.Gs()];case 1:if(n.sent(),this.qs!==Qe.READY)return[2];n.label=2;case 2:return this.Ys(t),[2]}}))}))},t.prototype.Gs=function(){return gt(this,void 0,void 0,(function(){var t;return St(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.qs=Qe.OPEN_IN_PROGRESS,t=this,[4,self.caches.open("".concat(this.Bs).concat(this.Us))];case 1:return t.Js=n.sent(),this.qs=Qe.READY,[3,3];case 2:return n.sent(),this.qs=Qe.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},t.prototype.Ys=function(t){return gt(this,void 0,void 0,(function(){var n,i,r,e,s=this;return St(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,6,7]),this.Fs++,this.Fs>1?[2]:[4,this.Js.keys()];case 1:return 0===(n=o.sent()).length?[2]:[4,this.Js.matchAll()];case 2:return i=o.sent(),r=csArray.prototype.map.call(i,(function(t){var n={};t.headers.forEach((function(t,i){n[i]=t})),delete n["content-type"];var i=n.datatype;return delete n.datatype,"json"===i||"base64"===i?t.text().then((function(t){return{metadata:n,events:t}})):t.arrayBuffer().then((function(t){return{metadata:n,events:t}}))})),[4,Promise.all(r)];case 3:return e=o.sent(),[4,Promise.all(csArray.prototype.map.call(n,(function(t){return s.Js.delete(t)})))];case 4:return o.sent(),t(e),this.xs.reset(),[3,7];case 5:return o.sent(),[3,7];case 6:return this.Fs--,[7];case 7:return[2]}}))}))},t}(),vs=function(){function t(t){try{this.Ws(t)}catch(t){this.Xs()}}return t.prototype.Ws=function(t){self.caches?this.Ks(t):this.Xs()},t.prototype.save=function(t){this.Qs.save(t)},t.prototype.recover=function(t){this.Qs.recover(t)},t.prototype.Ks=function(n){var i=this;this.Qs=new ls(n,t.Zs,(function(t){i.Xs(t)}))},t.prototype.Xs=function(n){var i=this;this.Qs=new as(t.Zs),n&&csArray.prototype.forEach.call(n,(function(t){i.Qs.save(t)}))},t.Zs=16777216,t}(),ds=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.isListening=function(t){return Le.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent)},n.prototype.processEvent=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes,s=function(n){if(n instanceof Wr){var i=lr.getMaskedAttributeDetails(n);n.attributes=o.no(n,i)}if(lr.getMaskedElementDetails(n).state===lr.MaskedElementState.Child)return"initialDOM"===t.domEvent?{value:null}:(t.nodes=csArray.prototype.filter.call(t.nodes,(function(t){return t!==n})),"continue");or.traverse(n,(function(t){if(t instanceof Wr){var n=lr.getMaskedAttributeDetails(t);t.attributes=r.no(t,n);var i=lr.getMaskedElementDetails(t);i.state===lr.MaskedElementState.Parent&&r.io(t,i)}}))},o=this;try{for(var u=p(e),c=u.next();!c.done;c=u.next()){var h=s(c.value);if("object"==typeof h)return h.value}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return t},n.prototype.no=function(t,n){return 0===n.attributes.length?t.attributes:csArray.prototype.filter.call(t.attributes,(function(t){return-1===csArray.prototype.indexOf.call(n.attributes,t.name)}))},n.prototype.io=function(t,n){var i="width: ".concat(n.width,"px !important; height: ").concat(n.height,"px !important;");t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),Wr.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})},d([ci("MaskedElementProcessor.processEvent")],n.prototype,"processEvent",null),n}(Fe),ys=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,ws=/[^ï½\s]/g;function ps(t){var n=csString.prototype.replace.call(t,ys,"ï½");return csString.prototype.replace.call(n,ws,"a")}!function(t){t.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",t.WHITELISTED_STATUS="whitelisted",t.isWhitelistedElement=function(n){return or.getProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP)===t.WHITELISTED_STATUS},t.whitelistElement=function(n){or.setProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP,t.WHITELISTED_STATUS)},t.removeWhitelistElement=function(n){or.setProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP,void 0)}}(fs||(fs={}));var ms,gs=function(){function t(){}return t.create=function(n,i){if(!t.isSupported())throw new Error("IntersectionObserver is not supported");if(i&&i.delay&&i.delay<100)throw new Error("Visibility delay should be > 100ms");return(null==i?void 0:i.trackVisibility)&&(n=t.ro(n)),new IntersectionObserver(n,i)},t.isSupported=function(){return!!window.IntersectionObserver&&!!window.IntersectionObserverEntry},t.ro=function(t){return function(n,i){return t(mi(n,Ss),i)}},t}();function Ss(t){return t.isVisible||!he.isVisibleInViewportInForeground(t.target)?t:{boundingClientRect:t.boundingClientRect,intersectionRatio:t.intersectionRatio,intersectionRect:t.intersectionRect,isIntersecting:t.isIntersecting,rootBounds:t.rootBounds,target:t.target,time:t.time,isVisible:!0}}var bs=function(){return function(t,n,i){var r,e,s,o,u;i.value=(r=i.value,e=csSymbol("oncePerTickSymbol"),s=null,o={},u=function(){var t,n=null!==(t=this)&&void 0!==t?t:o;s=arguments,n[e]||(n[e]=!0,Es((function(){n[e]=!1,r.apply(n,s)})))},u.oncePerTickSymbol=e,u)}},Es=null!==(ms=e.csQueueMicrotask)&&void 0!==ms?ms:csSetTimeout;bs.isScheduled=function(t,n){return t[n.oncePerTickSymbol]};var As,Rs=function(){function t(t){var n=this;this.dn=t,this.eo=new Map,this.so=function(t){var i=t.target;if(n.eo.has(i))return!0;var r=!1;return n.eo.forEach((function(t,e){!r&&n.eo.get(e).subtree&&(r=e.contains(i))})),r},xr.general.nbOfMutationObservers.increase(),this.gn=new csMutationObserver((function(i){bs.isScheduled(n,n.garbageCollect)&&(i=Ai(i,n.so)),i.length&&re((function(){return t(i,n)}))}))}return t.prototype.disconnect=function(){xr.general.nbOfMutationObservers.decrease(),this.gn.disconnect(),this.eo=new Map},t.prototype.takeRecords=function(){return this.gn.takeRecords()},t.prototype.observe=function(t,n){return xr.mutations.elementMutationObserved.increase(),this.eo.set(t,n),this.gn.observe(t,n)},t.prototype.unobserve=function(t){this.eo.has(t)&&(xr.mutations.elementMutationObserved.decrease(),this.eo.delete(t),this.garbageCollect())},t.prototype.garbageCollect=function(){var t=this;xr.mutations.unobserveGarbageCollection.measure((function(){var n=Ai(t.takeRecords(),t.so);n.length&&t.dn(n,t),t.gn.disconnect(),t.eo.forEach((function(n,i){return t.gn.observe(i,n)}))}))},Ln([bs()],t.prototype,"garbageCollect",null),t}(),Ts=function(){function t(t){this.dn=t,this.oo=[],this.uo=new Set}return t.prototype.observe=function(t,n){var i,r,e=this;if(!he.getRootNode(t))throw new Error("Node has no root node");if(!this.uo.has(t)){this.uo.add(t);var s=!!(null==n?void 0:n.subtree),o=t.parentElement||he.getRootNode(t),u=he.getAncestors(t,s),c=new Set(u);xr.general.nbOfMutationObservers.increase();var h=zn("NodeDisconnectedObserver:MutationCallback",(function(n){var i,r;try{for(var s=qn(n),o=s.next();!o.done;o=s.next()){var u=o.value;if(c.has(u.target)&&Ei(u.removedNodes,(function(t){return c.has(t)})))return e.dn(t),a.disconnect(),e.uo.delete(t),void xr.general.nbOfMutationObservers.decrease()}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}})),a=new csMutationObserver((function(t){csSetTimeout((function(){return h(t)}))}));if(s)try{for(var f=qn(u),l=f.next();!l.done;l=f.next()){var v=l.value;csArray.prototype.includes.call([11,9],v.nodeType)&&a.observe(v,{childList:!0,subtree:!0})}}catch(t){i={error:t}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(i)throw i.error}}else a.observe(o,{childList:!0});csArray.prototype.push.call(this.oo,(function(){a.disconnect()}))}},t.prototype.disconnect=function(){Si(this.oo,(function(t){return t()})),this.oo=[],this.uo.clear()},Ln([Bn()],t.prototype,"observe",null),Ln([Bn()],t.prototype,"disconnect",null),t}(),Os=function(){function t(t){var n=this;this.co=new Set,this.ho=new Ts((function(t){return n.ao(t)})),this.An=!1,this.fo=t?xn(xn({},ks),t):ks}return t.prototype.stop=function(){var t,n;this.An=!1,null===(t=this.lo)||void 0===t||t.disconnect(),null===(n=this.gn)||void 0===n||n.disconnect()},t.prototype.start=function(t){var n=this;if(this.An)throw new Error("VisibilityObserver is already started");this.dn=zn("VisibilityObserver:callback",(function(n,i){return t(n,i)}));var i={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:300};this.lo=gs.create((function(t){return n.handleIntersection(t)}),i),this.gn=new Rs((function(t){return csSetTimeout((function(){Si(t,(function(t){return n.ao(t.target)}))}))})),this.zs(),this.An=!0},t.prototype.observe=function(t){if(!this.An)throw new Error("Observer is stopped.");!1===this.fo.reobserve&&t[this.vo]||(xr.visibilityObserver.nbElements.increase(),t[this.vo]=!0,this.watchIntersection(t))},t.prototype.zs=function(){this.do=csSymbol("isVisible"),this.vo=csSymbol("ObservedElement"),this.yo=csSymbol("LinkedElement"),this.wo=csSymbol("Tracked")},t.prototype.ao=function(t){var n,i;this.co.add(t);try{for(var r=qn(this.po(t)),e=r.next();!e.done;e=r.next()){var s=e.value;this.co.add(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.recheckCssVisibilityAll()},t.prototype.recheckCssVisibilityAll=function(){var t=this;Si(this.co.keys(),(function(n){n.isConnected&&!he.areAncestorsHiddenByCSS(n)&&n[t.vo]&&t.watchIntersection(n)})),this.co.clear()},t.prototype.watchIntersection=function(t){this.gn.unobserve(t),this.lo.unobserve(t);var n=he.getTopAncestorHiddenByCSS(t);n?(n!==t&&(this.mo(n,t),this.watchMutation(n)),this.watchMutation(t)):this.lo.observe(t)},t.prototype.watchMutation=function(t,n){void 0===n&&(n=!0),n&&delete t[this.do],this.lo.unobserve(t);this.gn.observe(t,{attributeFilter:["style","class","hidden"]})},t.prototype.handleIntersection=function(t){var n,i,r=this;try{for(var e=qn(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.target;if(o.isVisible){var c=!o.target[this.do];o.target[this.do]=!0,c&&!this.fo.delay&&this.onVisibilityChanged(o.target,As.VisibleInViewPort)}else{he.isVisibleInDocument(u)||this.So(u)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}this.fo.delay&&csSetTimeout((function(){var n,i;try{for(var e=qn(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.isIntersecting&&o.isVisible;o.target[r.do]&&u&&r.onVisibilityChanged(o.target,As.VisibleInViewPort)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}),this.fo.delay)},t.prototype.So=function(t){xr.visibilityObserver.hiddenElements.increase();var n=he.getTopElement(t);this.watchMutation(t),n&&(this.ho.observe(n),this.mo(n,t),this.watchMutation(n,!1))},t.prototype.mo=function(t,n){var i;(t[this.yo]=null!==(i=t[this.yo])&&void 0!==i?i:new Set).add(n)},t.prototype.po=function(t){var n,i,r=[];return Si(null!==(i=null===(n=t[this.yo])||void 0===n?void 0:n.values())&&void 0!==i?i:[],(function(t){return csArray.prototype.push.call(r,t)})),r},t.prototype.onVisibilityChanged=function(t,n){if(n===As.VisibleInViewPort&&this.fo.trackOnce){if(this.lo.unobserve(t),this.gn.unobserve(t),t[this.wo])return;t[this.wo]=!0}this.dn(t,n)},t.isSupported=function(){return gs.isSupported()},Ln([Bn()],t.prototype,"observe",null),Ln([tr({wait:50}),Bn(),ci("recheckCssVisibilityAll")],t.prototype,"recheckCssVisibilityAll",null),Ln([Bn()],t.prototype,"watchIntersection",null),Ln([Bn()],t.prototype,"watchMutation",null),Ln([Bn(),ci("VisibilityObserver.handleIntersection")],t.prototype,"handleIntersection",null),Ln([Bn()],t.prototype,"onVisibilityChanged",null),t}();!function(t){t.VisibleInViewPort="VisibleInViewPort",t.HiddenByAnother="HiddenByAnother",t.Hidden="Hidden"}(As||(As={}));var Ns,ks={delay:1e3,trackOnce:!0,reobserve:!1},Is=function(){function t(t){var n=this;this.dn=t,this.Ye=fe(),this.bo=function(t){re((function(){var i,r;try{for(var e=qn(t),s=e.next();!s.done;s=e.next()){var o=s.value;"childList"===o.type&&Si(o.addedNodes,(function(t){Mi(t,NodeFilter.SHOW_TEXT).visitAll((function(t){n.Ye.has(t)||(n.Ye.add(t),n.dn(t))}))}))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))},this.Je=new Ae(this.bo)}return t.prototype.observe=function(){var t=this;this.Je.observe(),Mi(document,NodeFilter.SHOW_TEXT).visitAll((function(n){t.Ye.add(n),t.dn(n)}))},t.prototype.disconnect=function(){this.Ye.clear(),this.Je.disconnect()},t}(),Cs=function(){function t(t,n){void 0===n&&(n={closest:!1});var i=this;this.dn=t,this.fo=n,this.Eo="",this.Ao=fe(),this.ds=ri((function(t){var n,r;if(""!==i.Eo){var e=[];try{for(var s=qn(gi(t,(function(t){return t.addedNodes}))),o=s.next();!o.done;o=s.next()){var u=o.value;if(z(u)||i.fo.closest&&x(u))Ri(i.fo.closest?i.Ro(u,i.Eo):i.findMatchingElements(u,i.Eo),e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}e.length&&i.dn(e,"added")}}),"SelectorObserver.processMutations"),this.To=function(t,n){if(""!==i.Eo&&"added"===n){var r=i.findMatchingElements(t,i.Eo);r.length&&i.dn(r,"added")}},this.Ci=new Ae(this.ds,this.To)}return Object.defineProperty(t.prototype,"selectors",{get:function(){return""===this.Eo?null:this.Eo},enumerable:!1,configurable:!0}),t.prototype.observe=function(t){var n,i,r=this;""===this.Eo?this.Ci.observe():this.Eo+=",",this.Eo+=t;var e=this.findMatchingElements(document,t);try{for(var s=qn(this.Ci.shadowRoots),o=s.next();!o.done;o=s.next()){var u=o.value;Ri(this.findMatchingElements(u,t),e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}e.length&&(Si(e,(function(t){r.Ao.add(t)})),this.dn(e,"initial"))},t.prototype.processPendingMutations=function(){this.ds(this.Ci.takeRecords())},t.prototype.disconnect=function(){this.Ci.disconnect(),this.Ao.clear(),this.Eo=""},t.prototype.Ro=function(t,n){var i=this,r=[];if(x(t)){var e;if(t.parentElement)(e=dr(t.parentElement,n))&&csArray.prototype.push.call(r,e);return csArray.prototype.filter.call(r,(function(t){return!1===i.Ao.has(t)}))}return C(t)&&(e=dr(t,n))?(csArray.prototype.push.call(r,e),csArray.prototype.filter.call(r,(function(t){return!1===i.Ao.has(t)}))):this.findMatchingElements(t,n)},t.prototype.findMatchingElements=function(t,n){var i=this,r=pi(window.csquerySelectorAll[t.nodeType].call(t,n));return P(t)&&nt.call(t,n)&&csArray.prototype.push.call(r,t),csArray.prototype.filter.call(r,(function(t){return!1===i.Ao.has(t)}))},Ln([Bn()],t.prototype,"observe",null),Ln([Bn()],t.prototype,"disconnect",null),Ln([ci("SelectorObserver.findMatchingElements")],t.prototype,"findMatchingElements",null),t}();!function(t){var n;function i(n){Si(n,(function(n){Mi(n).visitAll((function(n){return or.setProperty(n,t.nodeProp,!0)}))}))}t.nodeProp="toEncrypt",t.stop=function(){null==n||n.disconnect(),n=null},t.addSelector=function(t){vr(t)&&(null==n&&(n=new Cs(i)),n.observe(t))},t.shouldEncrypt=function(n){return!0===or.getProperty(n,t.nodeProp)},t.getSelectors=function(){return null==n?void 0:n.selectors}}(Ns||(Ns={}));var _s,Ms=function(t){function n(n){var i=t.call(this)||this;return i.Oo=new Set,i.ko=new Set,i.Io=!1,i.Co=new Set,i._o=!1,i.Mo=new Os(n),i.Po=new Is((function(t){var n=he.getParentElement(t);!n||!n.isConnected||lr.isMaskedElement(n)||lr.isMaskedElementChild(n)||Ns.shouldEncrypt(n)||j(n)||F(n)||H(n)||M(t.data)||(i.Oo.add(n),i.xo())})),i}return l(n,t),n.prototype.onStart=function(){var t=this;Os.isSupported()&&(this.Mo.start((function(n,i){return t.onVisibilityChanged(n,i)})),this.Po.observe())},n.prototype.onStop=function(){Os.isSupported()&&(this.Mo.stop(),this.Po.disconnect(),this.Oo.clear(),this.ko.clear(),this.Co.clear(),this.Io=!1)},n.prototype.setAnonymization=function(t){this._o=t},n.prototype.xo=function(){var t=this;this.Io||(this.Io=!0,ce((function(){var n,i;if(t.isStarted){t.Io=!1;var r=t.Oo;t.Oo=new Set;try{for(var e=p(Ti(r)),s=e.next();!s.done;s=e.next()){var o=s.value;o.isConnected&&!t.ko.has(o)&&(t.ko.add(o),Ei(csNodechildNodes.apply(o),(function(t){return 3===t.nodeType}))&&t.Mo.observe(o))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}}),1001))},n.prototype.onVisibilityChanged=function(t,n){var i=this;n!==As.VisibleInViewPort||this._o&&!fs.isWhitelistedElement(t)||Si(csNodechildNodes.apply(t),(function(t){if(3===t.nodeType){var r=t.data;i.Co.has(r)||(i.Co.add(r),i.produceEvent({type:"TextVisibility",text:r,state:n}))}}))},d([Bn()],n.prototype,"onVisibilityChanged",null),n}(Ue);!function(t){t.isTextVisibilityEvent=function(t){return"TextVisibility"===t.type}}(_s||(_s={}));var Ps,xs,Ds,Ls,Us=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],js=["svg","slot"],qs={href:new Set(["a"]),src:new Set(["iframe"])},Hs=function(t){function n(n,i,r,e){void 0===e&&(e=null);var s,o,u=t.call(this)||this;return u._o=n,u.Do=i,u.j=r,u.Lo=e,u.Uo=(s=u.Do,o=new Set(Us),csArray.prototype.forEach.call(s,(function(t){o.add(t)})),o),u}return l(n,t),n.prototype.setAnonymization=function(t){this._o=t},n.prototype.isListening=function(t){return _s.isTextVisibilityEvent(t)||Le.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"attributeChanged"===t.domEvent||"characterDataChanged"===t.domEvent)},n.prototype.processEvent=function(t){if(_s.isTextVisibilityEvent(t))return t.text=this.j.checkAndAnonymizePII(t.text,this.Lo),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.jo(t);break;case"attributeChanged":this.qo(t);break;case"characterDataChanged":this.Ho(t)}return t},n.prototype.jo=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes;try{for(var s=p(e),o=s.next();!o.done;o=s.next()){var u=o.value;or.traverse(u,(function(t,n){if(t.anonymized=r._o,3===t.nodeType){var i=r._o;return n&&("style"===n.localName||fs.isWhitelistedElement(n))&&(i=!1),t.anonymized=i,void(t.data=r.Fo(i,t.data,null==n?void 0:n.localName,n?or.getProperties(n):void 0))}if(Wr.isElement(t))return r.Vo(t);4!==t.nodeType||(t.data=r._o?ps(t.data):r.j.checkAndAnonymizePII(t.data,r.Lo))}))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.Vo=function(t){var n=this;if(!or.getProperty(t,"SVG")){var i=bi(t.attributes,(function(t){return"type"===t.name})),r=null==i?void 0:i.value;t.attributes=csArray.prototype.map.call(t.attributes,(function(i){return i.anonymized=n._o,i.value=n.Bo(t.localName,n._o,i.name,i.value,r),i}))}},n.prototype.qo=function(t){t.isSvg||t.newValue&&(t.newValue=this.Bo(t.localName,this._o,t.attribute,t.newValue,t.inputType))},n.prototype.Bo=function(t,n,i,r,e){return this.zo(t,i,e)?r:function(t){return!!qs[t]}(i)?function(t,n,i){var r;return(null===(r=qs[n])||void 0===r?void 0:r.has(t))&&!Lr(i)}(t,i,r)?this.j.anonymizePII(r):r:n&&function(t,n,i){return("submit"===i||"button"===i)&&"input"===t&&"value"===n}(t,i,e)?ps(r):n?"":this.j.checkAndAnonymizePII(r)},n.prototype.zo=function(t,n,i){return function(t,n,i){return"radio"===i&&"input"===t&&"name"===n||csArray.prototype.indexOf.call(js,t)>-1}(t,n,i)||this.Uo.has(n)},n.prototype.Ho=function(t){t.newValue=this.Fo(this._o,t.newValue,t.parentLocalName,t.parentProps)},n.prototype.Fo=function(t,n,i,r){if(i){if("style"===i)return n;if(t&&r&&r[fs.ANONYMIZED_TEXT_STATUS_PROP]===fs.WHITELISTED_STATUS)return this.j.checkAndAnonymizePII(n,this.Lo)}return t?ps(n):this.j.checkAndAnonymizePII(n,this.Lo)},d([ci("AnonymizedTextProcessor.processEvent")],n.prototype,"processEvent",null),n}(Fe),Fs=function(t){function n(n){var i=t.call(this)||this;return i.Go=n,i}return l(n,t),n.prototype.isListening=function(t){return Le.isDOMEvent(t)&&"initialDOM"===t.domEvent},n.prototype.processEvent=function(t){return"initialDOM"===t.domEvent&&(t.initialDOM.baseURI=this.Go.anonymizeUrl(t.initialDOM.baseURI)),t},d([ci("UrlAnonymizationProcessor.processEvent")],n.prototype,"processEvent",null),n}(Fe),Vs="textarea",Bs=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this)||this;return i.$o=n,i}return l(n,t),n.prototype.isListening=function(t){return Le.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"characterDataChanged"===t.domEvent)},n.prototype.processEvent=function(t){switch(t.domEvent){case"initialDOM":this.Jo(t);break;case"nodesAdded":this.Yo(t);break;case"characterDataChanged":this.Wo(t)}return t},n.prototype.Jo=function(t){var n=this;or.traverse(t.initialDOM,(function(t,i){n.Xo(t,i)&&(t.data&&n.$o&&Vn.critical("[PII LEAK] Textarea element inside iframe (Initial DOM)."),t.data=n.Ko(t.data))}))},n.prototype.Yo=function(t){var n,i,r=this;try{for(var e=p(t.nodes),s=e.next();!s.done;s=e.next()){var o=s.value;or.traverse(o,(function(n,i){r.Qo(n,i,t)&&(n.data&&r.$o&&Vn.critical("[PII LEAK] Textarea element inside iframe (Mutation)."),n.data=r.Ko(n.data))}))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},n.prototype.Wo=function(t){t.parentLocalName===Vs&&(t.newValue=this.Ko(t.newValue))},n.prototype.Ko=function(t){return csString.prototype.replace.call(t,/\S/g,"â€¢")},n.prototype.Qo=function(t,n,i){return this.Zo(t,i)||this.Xo(t,n)},n.prototype.Zo=function(t,n){return 3===t.nodeType&&n.targetLocalName===Vs},n.prototype.Xo=function(t,n){return 3===t.nodeType&&N(n)&&n.localName===Vs},d([ci("AnonymizedTextAreaProcessor.processEvent")],n.prototype,"processEvent",null),n}(Fe),zs=function(){function t(){}return t.shouldProcessElement=function(t){return"VIDEO"===t.tagName&&he.isConnected(t)&&!lr.isMaskedElement(t)&&!lr.isMaskedElementChild(t)},t.isPlaying=function(t){return!t.paused&&!t.ended},t}(),Gs=function(t){function n(){var n=t.call(this)||this;return n.tu=function(t){return n.nu(t)},n.cs=le((function(t){var i,r;try{for(var e=p(t),s=e.next();!s.done;s=e.next()){var o=s.value;n.produceEvent(o)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}})),n.Pn=new Bi((function(t,i){switch(i){case"initial":case"added":n.iu(t);break;case"removed":n.ru(t)}})),n.eu=new Cs((function(t,i){"initial"!==i&&"added"!==i||n.su(t)})),n}return l(n,t),n.prototype.onStart=function(){this.iu(document),this.Pn.observe(),this.eu.observe("video")},n.prototype.onStop=function(){this.ru(document),this.Pn.disconnect(),this.eu.disconnect()},n.prototype.nu=function(t){if(this.isStarted){var n=nr(t);if(n){var i=ar(n);if(zs.shouldProcessElement(n))switch(t.type){case"play":this.cs.push({type:"VideoEvent",videoEventType:"play",nodeId:i});break;case"pause":this.cs.push({type:"VideoEvent",videoEventType:"pause",nodeId:i});break;case"seeked":this.cs.push({type:"VideoEvent",videoEventType:"seeked",nodeId:i,newTimePositionInSec:n.currentTime})}}}},n.prototype.iu=function(t){Gi({type:"play",listener:this.tu,boundElement:t}),Gi({type:"pause",listener:this.tu,boundElement:t}),Gi({type:"seeked",listener:this.tu,boundElement:t})},n.prototype.ru=function(t){$i({type:"play",listener:this.tu,boundElement:t}),$i({type:"pause",listener:this.tu,boundElement:t}),$i({type:"seeked",listener:this.tu,boundElement:t})},n.prototype.su=function(t){var n,i;try{for(var r=p(t),e=r.next();!e.done;e=r.next()){var s=e.value;if(zs.shouldProcessElement(s)){var o=ar(s);this.cs.push({type:"VideoEvent",videoEventType:"seeked",newTimePositionInSec:s.currentTime,nodeId:o}),zs.isPlaying(s)&&this.cs.push({type:"VideoEvent",videoEventType:"play",nodeId:o})}}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(Ue),$s=function(){function t(t){var n=this;this.dn=t,this.ou={boundElement:window,type:"resize",listener:function(){return n.resizeListener()}},this.dn=t}return t.prototype.observe=function(){Gi(this.ou),this.Hn()},t.prototype.Hn=function(){this.resizeListener()},t.prototype.disconnect=function(){$i(this.ou)},t.prototype.resizeListener=function(){var t={width:oe.windowWidth(),height:oe.windowHeight()};this.dn(t)},Ln([Bn("resize")],t.prototype,"resizeListener",null),t}();!function(t){t.PORTRAIT="Portrait",t.LANDSCAPE="Landscape"}(Ps||(Ps={})),function(t){t.PORTRAIT_PRIMARY="portrait-primary",t.PORTRAIT_SECONDARY="portrait-secondary",t.LANDSCAPE_PRIMARY="landscape-primary",t.LANDSCAPE_SECONDARY="landscape-secondary"}(xs||(xs={})),function(t){t[t.PORTRAIT=0]="PORTRAIT",t[t.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",t[t.LANDSCAPE=-90]="LANDSCAPE",t[t.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(Ds||(Ds={})),function(t){var n=null;t.isScreenOrientationApiSupported=function(){var t;return null!=n?n:n=!!(null===(t=e.screen)||void 0===t?void 0:t.orientation)},t.isDeprecatedScreenOrientationApiSupported=function(){return"orientation"in e},t.getCurrentOrientation=function(){return t.isScreenOrientationApiSupported()?function(){var t;switch(null===(t=e.screen.orientation)||void 0===t?void 0:t.type){case xs.PORTRAIT_PRIMARY:case xs.PORTRAIT_SECONDARY:return Ps.PORTRAIT;case xs.LANDSCAPE_PRIMARY:case xs.LANDSCAPE_SECONDARY:return Ps.LANDSCAPE;default:return Ps.PORTRAIT}}():t.isDeprecatedScreenOrientationApiSupported()?function(){switch(window.orientation){case Ds.PORTRAIT:case Ds.PORTRAIT_REVERSE:return Ps.PORTRAIT;case Ds.LANDSCAPE:case Ds.LANDSCAPE_REVERSE:return Ps.LANDSCAPE;default:return Ps.PORTRAIT}}():Ps.LANDSCAPE}}(Ls||(Ls={}));var Js,Ys,Ws=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.hu=null,n.au=null,n.fu=new $s((function(t){n.produceEvent(v(v({},t),{type:"viewportResize"})),n.onScreenPotentiallyChanged()})),n}return l(n,t),n.prototype.onScreenPotentiallyChanged=function(){var t=Ls.getCurrentOrientation(),n=this.lu(t),i=n.screenWidth,r=n.screenHeight;if(i!==this.hu||r!==this.au){this.hu=i,this.au=r;var e={type:"screenResize",width:i,height:r};this.produceEvent(e)}},n.prototype.lu=function(t){var n,i,r=oe.screenWidth(),e=oe.screenHeight();return t===Ps.PORTRAIT?(n=r,i=e):(n=Math.max(r,e),i=Math.min(r,e)),{screenWidth:n,screenHeight:i}},n.prototype.onStart=function(){this.fu.observe()},n.prototype.onStop=function(){this.hu=null,this.au=null,this.fu.disconnect()},n}(Ue),Xs=function(t){function n(){var n=t.call(this)||this;n.vu="object"==typeof window.customElements&&"function"==typeof window.customElements.whenDefined&&"function"==typeof window.Promise,n.du=zn("CustomElementRegistrationProducer:onElementsFound",(function(t){var i,r,e;try{for(var s=p(t),o=s.next();!o.done;o=s.next()){var u=o.value;lr.isMaskedElement(u)||lr.isMaskedElementChild(u)||P(e=u)&&k(e.tagName)&&csString.prototype.indexOf.call(e.tagName,"-")>0&&-1===csString.prototype.indexOf.call(e.tagName,":")&&-1===csString.prototype.indexOf.call(e.tagName,'"')&&-1===csString.prototype.indexOf.call(e.tagName,",")&&csArray.prototype.indexOf.call(Y,csString.prototype.toLocaleLowerCase.call(e.tagName))<0&&n.register(csString.prototype.toLowerCase.call(u.tagName))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}}));var i=le(n.du);return n.ls=new ss((function(t){return i.push(t)})),n.Oo=new Set,n}return l(n,t),n.prototype.onStart=function(){this.vu&&this.ls.observe()},n.prototype.onStop=function(){this.Oo.clear(),this.ls.disconnect()},n.prototype.register=function(t){return y(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return this.Oo.has(t)?[2]:(this.Oo.add(t),[4,window.customElements.whenDefined(t)]);case 1:return n.sent(),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}),[2]}}))}))},d([Bn()],n.prototype,"register",null),n}(Ue),Ks=function(){function t(t){this.dn=t}return t.isNavigationTimingObserverSupported=function(){var t,n;return(null==(null===(t=window.PerformanceObserver)||void 0===t?void 0:t.supportedEntryTypes)?void 0:csArray.prototype.indexOf.call(null===(n=window.PerformanceObserver)||void 0===n?void 0:n.supportedEntryTypes,"navigation"))>=0},t.getTimeOrigin=function(){return window.performance.timeOrigin},t.yu=function(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver((function(n){return t.wu(n)}))},t.wu=function(n){var i=n.getEntriesByType("navigation")[0];i&&(this.pu=i,t.mu(i))},t.mn=function(t){this.gu(t),this.pu&&t(this.pu),this.Su||this.bu()},t.gu=function(t){this.Eu.add(t)},t.Au=function(t){this.Eu.delete(t)},t.bu=function(){if(this.Ru||(this.Ru=this.yu()),!this.Ru)return this.pu||(this.pu={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),void this.mu(this.pu);this.Ru.observe({type:"navigation",buffered:!0}),this.Su=!0},t.mu=function(t){this.Eu.forEach((function(n){return n(t)}))},t.Nn=function(t){this.Au(t),0===this.Eu.size&&this.Tu()},t.Tu=function(){var t;this.Su&&(null===(t=this.Ru)||void 0===t||t.disconnect(),this.Su=!1,this.pu=null,this.Ru=this.yu())},t.prototype.observe=function(){t.mn(this.dn)},t.prototype.disconnect=function(){t.Nn(this.dn)},t.Su=!1,t.Eu=new Set,t.pu=null,t}(),Qs=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.Ou=null,n.Nu=new Ks((function(t){if(!n.Ou){var i=n.ku(t);i&&(n.Ou=i,n.produceEvent(i))}})),n}return l(n,t),n.prototype.onStart=function(){this.Ou?this.produceEvent(this.Ou):this.Nu.observe()},n.prototype.onStop=function(){this.Nu.disconnect()},n.prototype.ku=function(t){var n=Ks.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:n,requestStart:Math.floor(n+t.requestStart),domInteractive:Math.floor(n+t.domInteractive)},timestamp:rn()}},n}(Ue);!function(t){t[t.TAP=0]="TAP",t[t.LONG_PRESS=1]="LONG_PRESS",t[t.DRAG=2]="DRAG",t[t.FLICK=3]="FLICK",t[t.PINCH_IN=4]="PINCH_IN",t[t.PINCH_OUT=5]="PINCH_OUT"}(Js||(Js={})),function(t){t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"}(Ys||(Ys={}));var Zs,to=function(){function t(){}return t.prototype.compute=function(t,n){var i=this.Iu(n.x)-this.Iu(t.x),r=this.Iu(n.y)-this.Iu(t.y),e=n.time-t.time;return{duration:e,distance:this.Cu(i,r),direction:this._u(i,r),velocity:this.Mu(i,r,e)}},t.prototype.computePinchMetrics=function(t,n){var i=this.Iu(n.x)-this.Iu(t.x),r=this.Iu(n.y)-this.Iu(t.y);return{duration:n.time-t.time,distance:this.Cu(i,r)}},t.prototype.getScale=function(t,n){return Math.abs(n/t-1)},t.prototype.Iu=function(t){return t/window.devicePixelRatio},t.prototype.Cu=function(t,n){return Math.round(Math.sqrt(t*t+n*n))},t.prototype.Mu=function(t,n,i){var r=i/1e3,e=t/r,s=n/r;return Math.round(Math.abs(e)+Math.abs(s))},t.prototype._u=function(t,n){return Math.abs(t)>Math.abs(n)?t>0?Ys.RIGHT:Ys.LEFT:n>0?Ys.DOWN:Ys.UP},t}(),no="undefined"!=typeof performance&&!!performance.now,io=no?function(){return performance.now()}:csDate.now,ro=no?null===(Zs=performance.timing)||void 0===Zs?void 0:Zs.navigationStart:0,eo=function(){return Math.round(io()+ro)};function so(t,n){void 0===n&&(n=0);var i=Math.pow(10,n);return Math.round(t*i)/i}var oo=function(){function t(){this.Pu={},this.xu=function(){},this.Du=new to,this.Lu()}return t.isGestureDetectionSupported=function(){return"undefined"!=typeof devicePixelRatio},t.prototype.onGesture=function(t){this.xu=t},t.prototype.isValidTouchEvent=function(t){return"touches"in t&&"changedTouches"in t},t.prototype.processActionDown=function(t){if(this.Uu(t)){this.ju(t)&&this.Lu();var n={x:t.touches[0].clientX,y:t.touches[0].clientY,time:eo()};if(1===t.touches.length)this.Pu.startPinchTime=n.time,this.Pu.firstTouch=n;else if(2===t.touches.length&&(this.Pu.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:eo()},this.Pu.firstTouch&&this.Pu.secondTouch)){var i=this.Du.computePinchMetrics(this.Pu.firstTouch,this.Pu.secondTouch);this.qu=i.distance}csArray.prototype.push.call(this.Hu,n),this.Fu=nr(t)}},t.prototype.processActionMove=function(){this.Vu=!0},t.prototype.processActionUp=function(t){if(this.Bu(t)){if(csArray.prototype.push.call(this.Hu,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:eo()}),this.zu(t)&&this.Pu.startPinchTime){var n={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Pu.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:eo()};this.Pu.firstTouch&&(this.Pu.firstTouch=n,this.Pu.secondTouch=i),this.Gu(t)}this.qu||this.$u()&&this.Ju(t)}},t.prototype.Lu=function(){this.Hu=[],this.Fu=null,this.Vu=!1,this.qu=null,this.Yu=!0},t.prototype.Ju=function(t){var n=this.Du.compute(this.Hu[0],this.Hu[1]);this.Yu=t.isTrusted;var i=this.Vu?this.Wu(n):this.Xu(n);if(this.Ku(i.type,t.changedTouches)){var r=t.changedTouches[0];i.pageX=so(r.pageX,1),i.pageY=so(r.pageY,1)}this.xu(i,t)},t.prototype.Gu=function(t){if(this.Pu.firstTouch&&this.Pu.secondTouch){var n=this.Du.computePinchMetrics(this.Pu.firstTouch,this.Pu.secondTouch);this.Yu=t.isTrusted;var i=this.Qu(n);i&&this.xu(i,t)}},t.prototype.Qu=function(t){if(this.qu&&!(this.Du.getScale(this.qu,t.distance)<.1))return{type:this.qu>t.distance?Js.PINCH_IN:Js.PINCH_OUT,target:this.Fu,distance:t.distance,isTrusted:this.Yu}},t.prototype.Wu=function(t){return{type:t.velocity<100?Js.DRAG:Js.FLICK,target:this.Fu,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.Yu}},t.prototype.Xu=function(t){return{type:t.duration<1e3?Js.TAP:Js.LONG_PRESS,target:this.Fu,isTrusted:this.Yu}},t.prototype.Ku=function(t,n){return t===Js.TAP&&n&&1===n.length},t.prototype.ju=function(t){return 1===t.touches.length},t.prototype.$u=function(){return 2===this.Hu.length},t.prototype.Uu=function(t){return t.touches.length>0},t.prototype.Bu=function(t){return t.changedTouches.length>0},t.prototype.zu=function(t){return this.Vu&&!!this.qu&&1===t.changedTouches.length&&1===t.touches.length},t}(),uo=function(){function t(t){this.dn=t}return t.prototype.observe=function(){t.Zu&&t.tc(this.dn)},t.prototype.disconnect=function(){t.Zu&&t.nc(this.dn)},t.rc=function(n,i){t.Eu.forEach((function(t){return t(n,i)}))},t.tc=function(n){t.Eu.has(n)||(t.Eu.add(n),1===t.Eu.size&&(t.ec.onGesture(t.rc),csArray.prototype.forEach.call(t.He,(function(t){return Gi(t)}))))},t.nc=function(n){t.Eu.delete(n),0===t.Eu.size&&csArray.prototype.forEach.call(t.He,(function(t){return $i(t)}))},t.sc=function(n){if(t.ec.isValidTouchEvent(n))switch(n.type){case"touchstart":t.ec.processActionDown(n);break;case"touchmove":t.ec.processActionMove();break;case"touchend":t.ec.processActionUp(n)}},t.He=[{boundElement:e.document,type:"touchstart",listener:function(n){return t.sc(n)}},{boundElement:e.document,type:"touchmove",listener:function(n){return t.sc(n)}},{boundElement:e.document,type:"touchend",listener:function(n){return t.sc(n)}}],t.Zu=oo.isGestureDetectionSupported(),t.Eu=new Set,t.ec=new oo,t}(),co=function(t){function n(){var n=t.call(this)||this;return n.oc=new uo(n.cc.bind(n)),n}return l(n,t),n.prototype.onStart=function(){this.oc.observe()},n.prototype.onStop=function(){this.oc.disconnect()},n.prototype.cc=function(t){var n=this.hc(t);n&&this.produceEvent(n)},n.prototype.hc=function(t){if(!this.ac(t))return null;var n,i=(n=t.target,or.getProperty(n,hr));return i?{type:"Gesture",targetId:i,data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null},n.prototype.ac=function(t){return null!==t.target&&!(P(t.target)&&lr.isMaskedElementChild(t.target))},n}(Ue);function ho(t){return"INPUT"===t.nodeName}function ao(t){return ho(t)&&"number"===t.type}function fo(t){return ho(t)&&("checkbox"===t.type||"radio"===t.type)}var lo,vo=function(t){function n(n){var i=t.call(this)||this;return i.jr=n,i.fc=fe(),i.lc=function(t){return i.inputHandler(t)},i.vc=[],i.yc(),i.wc(),i.eu=new Cs((function(t){var n,r,e=function(t){i.mc(t)&&re((function(){i.gc(t,ar(t))}))};try{for(var s=p(t),o=s.next();!o.done;o=s.next()){e(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}})),i.Pn=new Bi((function(t,n){switch(n){case"initial":case"added":Gi({type:"change",listener:i.lc,boundElement:t});break;case"removed":$i({type:"change",boundElement:t,listener:i.lc})}})),i}return l(n,t),n.prototype.onStart=function(){Gi({type:"keyup",boundElement:document,listener:this.lc}),Gi({type:"change",boundElement:document,listener:this.lc}),Si(this.vc,(function(t){return t.activate()})),this.eu.observe(csArray.prototype.join.call(n.Sc,",")),this.Pn.observe()},n.prototype.onStop=function(){$i({type:"keyup",boundElement:document,listener:this.lc}),$i({type:"change",boundElement:document,listener:this.lc}),Si(this.vc,(function(t){return t.deactivate()})),this.eu.disconnect(),this.Pn.disconnect(),this.fc.clear()},n.prototype.gc=function(t,n){var i,r,e;if(!this.fc.has(t))if(this.fc.add(t),function(t){return"SELECT"===t.nodeName}(t)){var s={type:"InputEvent",inputType:"select",target:ar(t),selectedIndex:t.selectedIndex,timestamp:rn()};this.produceEvent(s)}else if(fo(t)){var o={type:"InputEvent",inputType:"checkable",target:ar(t),checked:t.checked,timestamp:rn()};this.produceEvent(o)}else{var u=function(t){return"TEXTAREA"===t.nodeName||ho(t)&&!ao(t)&&!fo(t)}(t),c=ao(t);if(u||c){var h=null!==(i=t.value)&&void 0!==i?i:"";if(null===(r=this.jr)||void 0===r?void 0:r.shouldEncrypt(t))return void(null===(e=this.jr)||void 0===e||e.registerInputNodeToEncrypt({targetId:n,targetValue:h,date:rn()}));var a=c?"0":"â€¢",f={type:"InputEvent",inputType:"text",target:ar(t),value:csString.prototype.replace.call(h,/\S/g,a),timestamp:rn()};this.produceEvent(f)}}},n.prototype.inputHandler=function(t){var n=this;if(this.isStarted){var i=nr(t),r=ar(i);r&&this.mc(i)&&he.isConnected(i)&&re((function(){n.gc(i,r)}))}},n.prototype.yc=function(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")},n.prototype.wc=function(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)},n.prototype.trackChanges=function(t,n,i){var r=this;void 0===i&&(i=!1);var e=Vi(t.prototype,n,(function(t,n,e){if(e!==n&&he.isConnected(t)){var s=i?t.parentElement:t;r.bc(s)}}));e&&csArray.prototype.push.call(this.vc,e)},n.prototype.mc=function(t){return!lr.isMaskedElement(t)&&!lr.isMaskedElementChild(t)&&(q(t)||B(t)||H(t))},n.prototype.bc=function(t){var n=this;if(this.isStarted&&he.isConnected(t)){var i=ar(t);i&&this.mc(t)&&re((function(){n.gc(t,i)}))}},n.Sc=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],d([$n()],n.prototype,"inputHandler",null),d([Bn()],n.prototype,"trackChanges",null),n}(Ue),yo=function(){function t(t){var n=this;this.dn=t,this.Ec=!1,this.ou={boundElement:e,type:"error",listener:function(t){return n.Ac(t)}}}return t.prototype.observe=function(){Gi(this.ou,this.Ec)},t.prototype.disconnect=function(){$i(this.ou,this.Ec)},t.prototype.Ac=function(t){this.dn(t)},t}(),wo=function(t){function n(){var n=t.apply(this,g([],m(arguments),!1))||this;return n.Rc=new yo((function(t){return n.Tc(t)})),n}return l(n,t),n.prototype.Tc=function(t){var n=t.message,i=t.filename,r=t.lineno,e=t.colno;n=null!=n?n:"[NO ERROR MESSAGE]",i=!i||Lr(i)?"":i,this.produceEvent({type:"JSError",message:n,filename:i,lineno:r,colno:e})},n.prototype.onStart=function(){this.Rc.observe()},n.prototype.onStop=function(){this.Rc.disconnect()},n}(Ue),po=function(t){function n(n){var i=t.call(this)||this;return i.Oc=n,i.Nc=1024,i.kc=150,i}return l(n,t),n.prototype.isListening=function(t){return"JSError"===t.type},n.prototype.processEvent=function(t){return t.message=He.truncate(t.message,this.Nc,He.ELLIPSIS),t.filename=He.truncate(t.filename,this.kc,He.ELLIPSIS),this.Oc(t)},n}(Fe),mo=[],go=!1,So=ri((function(){for(var t=csDate.now(),n=0;n<mo.length;n++)if(mo[n](),csDate.now()-t>=35)return mo=csArray.prototype.slice.call(mo,n+1),void csSetTimeout(So);mo=[],go=!1}),"executeTasks");!function(t){t[t.Started=0]="Started",t[t.Stopped=1]="Stopped",t[t.Processing=2]="Processing",t[t.Completed=3]="Completed"}(lo||(lo={}));var bo=function(){function t(){var t=this;this.Ic=new Jn,this.Ar=lo.Stopped,this.dn=null,this.Cc=function(n){t.Ar!==lo.Stopped&&n&&(t.dn(n),t._c())}}return Object.defineProperty(t.prototype,"queueLength",{get:function(){return this.Ic.length},enumerable:!1,configurable:!0}),t.prototype.start=function(t){if(this.dn)throw new Error("callback already set");this.Ar=lo.Started,this.dn=t},t.prototype.push=function(t){this.Ic.push(t),this.Mc()},t.prototype.stop=function(){this.dn=null,this.Ar=lo.Stopped,this.Ic.clear()},t.pipe=function(n,i){var r,e,s=n,o=new csArray,u=function(n){var i=new t;i.start((function(t){n.pushEvent(t)})),csArray.prototype.push.call(o,i),Si(s,(function(t){return t.subscribe((function(t){return i.push(t)}))})),s=[n]};try{for(var c=p(i),h=c.next();!h.done;h=c.next()){u(h.value)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}var a=new Eo(o);return Si(s,(function(t){return t.subscribe((function(t){return a.push(t)}))})),a},t.prototype.Pc=function(){return this.Ar===lo.Stopped},t.prototype.xc=function(){return this.Ar===lo.Processing},t.prototype._c=function(){var t=this;this.Pc()||(this.Ic.isEmpty?this.Ar=lo.Completed:(this.Ar=lo.Processing,function(t){if(csArray.prototype.push.call(mo,t),!go){for(var n=0;n<3;n++)csSetTimeout(So);go=!0}}((function(){var n=t.Ic.pop();n instanceof Xr?n.complete(t.Cc):t.Cc(n)}))))},t.prototype.Mc=function(){this.Pc()||this.xc()||this._c()},t}(),Eo=function(t){function n(n){var i=t.call(this)||this;return i.Dc=n,i}return l(n,t),Object.defineProperty(n.prototype,"queueLength",{get:function(){return csArray.prototype.reduce.call(this.Dc,(function(t,n){return t+n.queueLength}),0)},enumerable:!1,configurable:!0}),n.prototype.stop=function(){t.prototype.stop.call(this),Si(this.Dc,(function(t){return t.stop()}))},n}(bo),Ao=function(){function t(t,n){void 0===n&&(n=[]),this.producers=t,this.processors=n,this.An=!1,this.Eu=[]}return Object.defineProperty(t.prototype,"pendingEvents",{get:function(){var t,n;return null!==(n=null===(t=this.Ic)||void 0===t?void 0:t.queueLength)&&void 0!==n?n:0},enumerable:!1,configurable:!0}),t.prototype.start=function(){if(this.An)throw new Error("Recording is already started.");var t=this.Eu;this.Ic=bo.pipe(this.producers,this.processors),this.Ic.start((function(n){return csArray.prototype.forEach.call(t,(function(t){return t(n)}))})),Si(this.producers,(function(t){return t.start()})),Si(this.processors,(function(t){return t.start()})),this.An=!0},t.prototype.stop=function(){var t,n,i,r;this.Ic.stop(),this.Eu.length=0;try{for(var e=p(this.producers),s=e.next();!s.done;s=e.next()){s.value.stop()}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}try{for(var o=p(this.processors),u=o.next();!u.done;u=o.next()){u.value.stop()}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.An=!1,this.Eu=[]},t.prototype.subscribe=function(t){var n=this;if(this.An)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Eu,t),function(){return n.Eu=csArray.prototype.filter.call(n.Eu,(function(n){return n!==t}))}},t}(),Ro=function(t){function n(n){var i=t.call(this)||this;return i.Br=n,i}return yt(n,t),n.prototype.subscribe=function(n){return t.prototype.subscribe.call(this,n)},n.prototype.onStart=function(){var t=this;Si(this.Br,(function(n){n.onEvent((function(i){var r;return t.gr(i,null!==(r=n.eventType)&&void 0!==r?r:"browser")}))})),Si(this.Br,(function(t){var n;null===(n=t.start)||void 0===n||n.call(t)}))},n.prototype.onStop=function(){Si(this.Br,(function(t){var n;return null===(n=t.stop)||void 0===n?void 0:n.call(t)}))},n.prototype.gr=function(t,n){this.produceEvent({timestamp:rn(),type:"Legacy",originalEvent:t,eventType:n})},n}(Ue);function To(t){var n=function(t){var n={type:Oo(t.type)};for(var i in t){var r=t[i];void 0!==r&&"type"!==i&&(n[i]=r)}return n}(t.data);return{type:Wi.GESTURE_RECOGNITION,args:[t.targetId,n],date:t.timestamp}}function Oo(t){switch(t){case Js.DRAG:case Js.FLICK:return Ki.SWIPE;case Js.LONG_PRESS:return Ki.LONG_PRESS;case Js.TAP:return Ki.TAP;case Js.PINCH_IN:return Ki.PINCH_IN;case Js.PINCH_OUT:return Ki.PINCH_OUT}}var No;function ko(t){return function(t,n){var i=[],r=!1;return{push:function(t){var e=this;csArray.prototype.push.call(i,t),i.length!==n.batchSize?n.autoFlushDelay&&n.autoFlushDelay>0&&!r&&(r=!0,csSetTimeout((function(){r=!1,i.length>0&&e.flush()}),n.autoFlushDelay)):this.flush()},flush:function(){if(i.length){var n=i;i=[],t(n)}}}}((function(n){var i={visibleInViewPort:n},r={type:Wi.TEXT_VISIBILITY,date:rn(),args:[i]};t(r)}),{batchSize:20,autoFlushDelay:1e3})}!function(t){t.REQUEST_START="requestStart",t.DOM_INTERACTIVE="domInteractive",t.TIME_ORIGIN="timeOrigin"}(No||(No={}));wt(wt({},{connectEnd:"ce",connectStart:"cs",decodedBodySize:"dbs",domainLookupEnd:"dle",domainLookupStart:"dls",duration:"d",fetchStart:"fs",initiatorType:"it",name:"n",nextHopProtocol:"nhp",redirectEnd:"re",redirectStart:"rs",requestStart:"rqs",responseEnd:"rse",responseStart:"rss",responseStatus:"rst",secureConnectionStart:"scs",startTime:"st",transferSize:"ts"}),{domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",loadEventEnd:"lee",loadEventStart:"les",type:"t"});var Io=0;var Co,_o=function(){function t(t,n,i,r,e){var s=this;this.Lc=t,this.Uc=n,this.jc=i,this.Yr=r,this.Wr=e,this.qc=function(){},this.Hc=function(){},this.Fc=ko((function(t){return s.qc(t)}))}return Object.defineProperty(t.prototype,"pendingEvents",{get:function(){return this.Lc.pendingEvents},enumerable:!1,configurable:!0}),t.prototype.start=function(){var t,n,i=this;this.Vc={processEvent:function(t,n){if(t.originalEvent.type===Wi.PERFORMANCE_RESOURCE_TIMING)return Io>=500?null:(Io+=1,n(wt(wt({},t.originalEvent),{date:t.timestamp})));n(t.originalEvent)},reset:function(){Io=0}},this.Lc.subscribe((function(t){var n,r,e,s,o,u,c=t,h=c.timestamp;switch(c.type){case"Legacy":var a="user"===c.eventType?null!==(n=i.Hc)&&void 0!==n?n:function(){}:i.qc;i.Vc.processEvent(c,a);break;case"CustomElementRegistration":i.qc({type:Wi.CUSTOM_ELEMENT_REGISTRATION,date:h,args:[c.tagName]});break;case"DomEvent":!function(t,n,i){var r,e,s=t.timestamp;switch(t.domEvent){case"initialDOM":var o=t.initialDOM,u={type:Wi.INITIAL_DOM,date:s,args:[o]};i.emitInitialDomDone(u);break;case"nodesAdded":csArray.prototype.forEach.call(t.nodes,(function(i){n({type:Wi.MUTATION_INSERT,date:s,args:[t.target,t.nextSibling,i]})}));break;case"nodesMoved":try{for(var c=bt(t.nodesIds),h=c.next();!h.done;h=c.next()){var a=h.value;n({type:Wi.MUTATION_MOVE,date:s,args:[a,t.nextSibling,t.target]})}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}break;case"nodesRemoved":csArray.prototype.forEach.call(t.nodesIds,(function(t){n({type:Wi.MUTATION_REMOVE,date:s,args:[t]})}));break;case"attributeChanged":var f=t.target,l=t.namespace,v=t.attribute,d=t.newValue;n({type:Wi.MUTATION_ATTRIBUTE,date:s,args:[f,l,v,d]});break;case"characterDataChanged":f=t.target,d=t.newValue,n({type:Wi.MUTATION_CHARACTER_DATA,date:s,args:[f,d]});break;case"cssRuleInserted":f=t.target;var y=t.rule,w=N(p=t.index)?[f,y,p]:[f,y];n({type:Wi.STYLESHEET_RULE_INSERT,date:s,args:w});break;case"cssRuleDeleted":f=t.target;var p=t.index;n({type:Wi.STYLESHEET_RULE_DELETE,date:s,args:[f,p]});break;case"cssRuleUpdated":f=t.target,y=t.rule,p=t.index,n({type:Wi.STYLESHEET_RULE_UPDATE,date:s,args:[f,y,p]});break;case"shadowRootAttached":f=t.target;var m=t.shadowRoot;n({type:Wi.ATTACH_SHADOW,date:s,args:[f,m]});break;case"adoptedStyleSheetRegistered":var g=t.sheetId,S=t.cssRules;n({type:Wi.REGISTER_ADOPTED_STYLE_SHEET,date:s,args:[g,{cssRules:S}]});break;case"adoptedStyleSheetsSet":f=t.target;var b=t.sheetsIds;n({type:Wi.SET_ADOPTED_STYLE_SHEETS,date:s,args:[f,b]});break;case"adoptedStyleSheetRuleInserted":g=t.sheetId,y=t.rule,w=N(p=t.index)?[g,y,p]:[g,y],n({type:Wi.ADOPTED_STYLESHEET_RULE_INSERT,date:s,args:w});break;case"adoptedStyleSheetRuleDeleted":g=t.sheetId,p=t.index,n({type:Wi.ADOPTED_STYLESHEET_RULE_DELETE,date:s,args:[g,p]});break;case"adoptedStyleSheetRuleUpdated":w=[g=t.sheetId,y=t.rule,p=t.index],n({type:Wi.ADOPTED_STYLESHEET_RULE_UPDATE,date:s,args:w});break;default:_n.error("translateDOMEvent: DOMEvent not supported")}}(c,i.qc,i.Uc);break;case"InputEvent":var f=function(t){switch(t.inputType){case"text":return{type:Wi.INPUT_TEXT,args:[t.target,t.value],date:t.timestamp};case"select":return{type:Wi.INPUT_SELECT,args:[t.target,t.selectedIndex],date:t.timestamp};case"checkable":return{type:Wi.INPUT_CHECKABLE,args:[t.target,t.checked],date:t.timestamp}}}(c);null===(r=i.Hc)||void 0===r||r.call(i,f);break;case"encryptedCharacterDataChanged":var l=c.target,v=c.rawData,d=c.encryptedData,y=c.encryptionMetadata;i.qc({type:Wi.MUTATION_ENCRYPTED_CHARACTER_DATA,date:h,args:[l,v,d,y]});break;case"StaticResource":var w=c.url;i.qc({type:Wi.STATIC_RESOURCE_URL,date:h,args:[w]});break;case"ResizeMaskedElement":l=c.target;var p=c.width,m=c.height;i.qc({type:Wi.MUTATION_ATTRIBUTE,date:h,args:[l,"","style","width:".concat(p,"px !important;height:").concat(m,"px !important;")]});break;case"Gesture":var g=To(t);null===(e=i.Hc)||void 0===e||e.call(i,g);break;case"TextVisibility":i.Fc.push(c.text);break;case"StaticResourceManagerEvent":null===(s=i.jc)||void 0===s||s.processEvent(c);break;case"screenResize":p=c.width,m=c.height;var S={type:Wi.SCREEN_RESIZE,date:h,args:[p,m]};i.qc(S);break;case"viewportResize":p=c.width,m=c.height;var b={type:Wi.RESIZE,date:h,args:[p,m]};i.qc(b);break;case"PerformanceTiming":i.qc(function(t){return{type:Wi.PERFORMANCE_TIMINGS,args:[{performanceTiming:No.REQUEST_START,timestamp:t.timings.requestStart},{performanceTiming:No.DOM_INTERACTIVE,timestamp:t.timings.domInteractive},{performanceTiming:No.TIME_ORIGIN,timestamp:t.timings.timeOrigin}],date:t.timestamp}}(c));break;case"CustomError":(E=null===(o=i.Wr)||void 0===o?void 0:o.translate(c))&&i.qc(E);break;case"JSError":(E=null===(u=i.Yr)||void 0===u?void 0:u.translate(c))&&i.qc(E);break;case"VideoEvent":var E;(E=function(t){switch(t.videoEventType){case"play":return{type:Wi.VIDEO_PLAY,args:[t.nodeId],date:t.timestamp};case"pause":return{type:Wi.VIDEO_PAUSE,args:[t.nodeId],date:t.timestamp};case"seeked":var n=t;return{type:Wi.VIDEO_SEEK,args:[n.nodeId,n.newTimePositionInSec],date:t.timestamp};default:return null}}(c))&&i.qc(E);break;case"warning":_n.warn(c.message);break;default:_n.error("WebRecorderEventTranslator: Event not supported (".concat(c.type,")"))}})),this.Uc.emitInitialDomStart(),null===(t=this.Yr)||void 0===t||t.start(),null===(n=this.Wr)||void 0===n||n.start(),this.Lc.start()},t.prototype.stop=function(){var t,n,i;this.reset(),this.flush(),this.Lc.stop(),null===(t=this.jc)||void 0===t||t.flushEvents(),null===(n=this.Yr)||void 0===n||n.stop(),null===(i=this.Wr)||void 0===i||i.stop()},t.prototype.flush=function(){this.Fc.flush()},t.prototype.onEvent=function(t,n){var i,r=this;this.qc=t,this.Hc=n,null===(i=this.jc)||void 0===i||i.onEvent((function(t){return r.qc(t)}))},t.prototype.reset=function(){this.Vc.reset()},t}(),Mo=function(){function t(t){void 0===t&&(t=100),this.Bc=t,this.zc={},this.Gc=null,this.Hi="original-resource-name"}return t.prototype.onEvent=function(t){this.$c=t},t.prototype.processEvent=function(t){this.Jc(t.resourceId,t.resource.hash,t.originalResourceName),this.Yc(t)},t.prototype.flushEvents=function(){this.Gc&&csClearTimeout(this.Gc),this.Wc()},t.prototype.onSendStaticResource=function(t){this.Yc=t},t.prototype.Wc=function(){if(Object.keys(this.zc).length){var t={type:Wi.RESOURCE_HASHES,date:rn(),args:[this.zc]};this.Gc=null,this.zc={},this.$c(t)}},t.prototype.Jc=function(t,n,i){var r=this,e=n;i&&(e+="?".concat(this.Hi,"=").concat(i)),this.zc[t]=e,this.Gc||(this.Gc=window.csSetTimeout((function(){return r.Wc()}),this.Bc))},t}(),Po=function(){function t(t,n,i){this.Uc=t,this.K=n,this.Xc=i,this.Kc=Ir.ETR_DISABLED,this.Qc=Ir.ETR_PENDING,this.Zc=!0}return t.prototype.getEtrStatus=function(t){void 0===t&&(t=this.K.getSession());var n=null==t?void 0:t.etrStatus;return this.th()&&n===Ir.ETR_SAVED_SESSION?n:this.Kc},t.prototype.onEventTriggerRecording=function(t,n){switch(n){case kr.ETR_PAGE:this.nh(Ir.ETR_SAVED_PAGE);break;case kr.ETR_LEGACY:case kr.ETR_SESSION:this.nh(Ir.ETR_SAVED_SESSION)}},t.prototype.handleCollectStateChange=function(t){this.Zc=!1,t?this.ih(this.Qc):this.ih(Ir.ETR_DISABLED)},t.prototype.handleArtificialPageview=function(){this.Xc?(this.Zc=!0,this.ih(Ir.ETR_DISABLED)):this.th()&&this.ih(Ir.ETR_PENDING)},t.prototype.handleSessionRenewal=function(){this.Zc=!0,this.ih(Ir.ETR_DISABLED)},t.prototype.ih=function(t){this.Kc=t,this.Qc=Ir.ETR_PENDING,this.rh(t),this.Uc.emitRecordingContextChange()},t.prototype.nh=function(t){this.Zc?Number(t)>Number(this.Qc)&&(this.Qc=t):this.th()&&Number(t)>Number(this.Kc)&&(this.Kc=t,this.rh(t),this.Uc.emitRecordingContextChange())},t.prototype.rh=function(t){var n=this.K.getSession();null!==n&&n.etrStatus===Ir.ETR_NOT_SAVED_SESSION&&t===Ir.ETR_SAVED_SESSION&&(n.etrStatus=t,this.K.setSession(n))},t.prototype.th=function(){return this.Kc!==Ir.ETR_DISABLED},t}();function xo(t,n){var i,r,e,s,o=null,u=function(c){var h=en();if(!c&&null!==o){var a=n-(h-o);if(a>0)return void(r=window.csSetTimeout(u,a))}var f=h-e;r=null,o=null,e=null,s=t.apply(void 0,Fn([f],Hn(i),!1))},c=function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];if(i=Fn([],Hn(t),!1),!e)return e=en(),r=window.csSetTimeout(u,n),s;o=en()};return c.flushPending=function(){r&&(window.csClearTimeout(r),u(!0))},c.cancel=function(){o=null,e=null,r&&(window.csClearTimeout(r),r=null)},c}function Do(t){return void 0===t&&(t=0),function(n,i,r){var e=r.value,s=!1;r.value=function(){for(var n=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];s||(s=!0,csSetTimeout((function(){s=!1,e.apply(n,i)}),t))}}}!function(t){t[t.NOT_EXIST=2]="NOT_EXIST"}(Co||(Co={}));var Lo,Uo,jo=function(t){function n(n,i,r){var e=t.call(this)||this;return e.jc=n,e.eh=i,e.oh=r,e.uh={},e.hh=new Set,e.xc=!1,e}return yt(n,t),n.prototype.initState=function(){var t=this;on()&&(this.ah=this.oh.getRequestParameters(),this.fh="".concat(this.eh,"/exist?").concat(_t.toQuery(this.ah)),this.yh="".concat(this.eh,"/putTag?").concat(_t.toQuery(this.ah)),this.ph=xo((function(){return gt(t,void 0,void 0,(function(){return St(this,(function(t){switch(t.label){case 0:if(this.xc)return this.ph(),[2];this.xc=!0,t.label=1;case 1:return t.trys.push([1,,3,4]),[4,this.mh()];case 2:return t.sent(),[3,4];case 3:return this.xc=!1,[7];case 4:return[2]}}))}))}),300),this.jc.onSendStaticResource((function(n){t.gh(n)})))},n.prototype.onStart=function(){},n.prototype.onStop=function(){},n.prototype.onIframeStaticResource=function(t){this.gh(t)},n.prototype.gh=function(t){var n=this;this.Sh(t.resource.hash,t.resource.data),t.nestedResources&&t.nestedResources.length>0&&csArray.prototype.forEach.call(t.nestedResources,(function(t){n.Sh(t.hash,t.data)}))},n.prototype.Sh=function(t,n){this.hh.has(t)||(this.hh.add(t),this.uh[t]=n,this.ph())},n.prototype.mh=function(){return gt(this,void 0,void 0,(function(){var t,n,i,r=this;return St(this,(function(e){switch(e.label){case 0:return t=this.uh,this.uh={},[4,this.bh(t)];case 1:return(n=e.sent()).length?(i=this.Eh(n),[4,Promise.all(csArray.prototype.map.call(i,(function(t){return window.fetch(r.yh,{method:"POST",body:t})})))]):[2];case 2:return e.sent(),[2]}}))}))},n.prototype.Ah=function(t){return gt(this,void 0,void 0,(function(){var n,i;return St(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),(n=Object.keys(t)).length?(i={projectId:this.ah.pid,filter:Co.NOT_EXIST,hashes:n,touch:!0},[4,window.fetch(this.fh,{method:"POST",body:csJSON.stringify(i)})]):[2,[]];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()];case 3:return r.sent(),[2,[]];case 4:return[2]}}))}))},n.prototype.bh=function(t){return gt(this,void 0,void 0,(function(){var n,i;return St(this,(function(r){switch(r.label){case 0:return n=[],[4,this.Ah(t)];case 1:return i=r.sent(),csArray.prototype.forEach.call(i,(function(i){var r=t[i];r?csArray.prototype.push.call(n,{hash:i,data:r}):_n.warn("SRM: received unknown hash: "+i)})),[2,n]}}))}))},n.prototype.Eh=function(t){var n,i,r=0,e=[new FormData];try{for(var s=bt(t),o=s.next();!o.done;o=s.next()){var u=o.value,c=u.data,h=u.hash,a=e.length-1;if((r+=c.size)<8388608)e[a].append("",c,h);else{var f=new FormData;f.append("",c,h),r=c.size,csArray.prototype.push.call(e,f)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return e},n}(Sr),qo=function(){function t(t){this.Rh=t,this.Th=20,this.Oh=0,this.rr=!1}return t.prototype.translate=function(t){if(this.Oh>=this.Th)return this.Rh.stop(),null;this.Oh+=1;var n=t.filename,i=t.message,r=t.lineno,e=t.colno,s=t.timestamp;return{type:Wi.JAVASCRIPT_ERROR,date:s,args:[{errorType:"jsError",message:i,filename:n,lineno:r,colno:e}]}},t.prototype.start=function(){this.rr||(this.Oh=0,this.rr=!0)},t.prototype.stop=function(){this.rr=!1},t}(),Ho=function(){function t(){this.Th=20,this.Nh=0,this.rr=!1}return t.prototype.translate=function(t){if(this.Nh>=this.Th)return null;this.Nh+=1;var n=t.message,i=t.attributes,r=t.timestamp;return{type:Wi.CUSTOM_ERROR,date:r,args:[{errorType:"customError",message:n,attributes:i}]}},t.prototype.start=function(){this.rr||(this.Nh=0,this.rr=!0)},t.prototype.stop=function(){this.rr=!1},t}(),Fo="v2/recording",Vo=["setCapturedElementsSelector"],Bo=["setEncryptionSelectors"],zo=["isRecording"],Go=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],$o=["replay:resourceManager:getStatus","cssrm:getStatus"],Jo=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S){this.kh=t,this.K=n,this.U=i,this.ah=r,this.Ih=e,this.j=s,this.Pr=o,this.Ch=u,this.Dr=c,this.Lr=h,this.Ur=a,this._h=f,this.Uc=l,this.Mh=v,this.Ph=d,this.xh=y,this.Dh=w,this.Go=p,this.Jr=m,this.Lh=g,this.Uh=S}return t.prototype.init=function(){var t,n=this,i=[],r=[];csArray.prototype.push.call(r,new ds),this.jh=new Hs(this.Lh.shouldUseAnonymization(),this.U.whitelistedAttributes,this.j,this.U.anonymizeDigits),this.qh();var e=new vs("csPersisted");this.Hh(e);var s=new mr;this.Cr=new pr;var o=new cs;csArray.prototype.push.call(i,o),this.U.useStaticResourceManager&&We.isSupported()&&(this.$r=new We,this.jc=new Mo,this.Fh=new jo(this.jc,this.U.getStaticResourceManagerUri(),this.ah),this.Ph.addListener(this.Fh),csArray.prototype.push.call(r,this.$r));var u=new is(s,this.ah,{getRequestParameters:function(){return{let:n.recordingService.getRecordingLastEventTimestamp()}}},{getRequestParameters:function(){return{rst:n.recordingService.getRecordingStartTimestamp()}}},{getRequestParameters:function(){return{rt:csArray.prototype.join.call(n.K.getCollectStates(),",")}}}),c=new hs("".concat(this.U.getRecordingUri(),"/").concat(Fo));csArray.prototype.push.call(r,this.jh),csArray.prototype.push.call(r,new Fs(this.Go)),csArray.prototype.push.call(r,new Bs),this.Vh=new yr,this.Vh.init(),csArray.prototype.push.call(i,this.Vh),this.Hr=new ns(e,c,this.qr),csArray.prototype.push.call(i,new rs(window.location,this.j));var h=new qe,a=new Gs,f=[new Ws,this.Ch,h,new Ro(csArray.prototype.filter.call(i,(function(t){return t}))),new Xs,new Qs,new co,new vo(this.jr),a];this.U.textVisibilityEnabled&&Os.isSupported()&&(this.Bh=new Ms,csArray.prototype.push.call(f,this.Bh)),this.U.jsErrorsEnabled&&(this.Rh=new wo,this.zh=new po((function(t){return n.Dr.anonymize(t)})),this.Yr=new qo(this.Rh),csArray.prototype.push.call(f,this.Rh),csArray.prototype.push.call(r,this.zh)),(null===(t=this.U.customErrors)||void 0===t?void 0:t.enabled)&&(this.Wr=new Ho);var l=new Ao(f,r),v=new _o(l,this.Uc,this.jc,this.Yr,this.Wr);this.recordingService=new ts(this.U,this.Cr,u,s,this.Pr,this.K,this.Dr,this.Lr,this.Ur,this.jr,this.qr,this.Hr,c,v,i,h,a,this.$r,this.Jr,this.Yr,this.Wr),this.Mh.addListener(this.recordingService),this.Ph.addListener(this.recordingService),this.recordingService.init(),this.Ih.register(zo,(function(){return n.K.isReplayRecorded()&&!n.xh.isUrlExcludedForSessionReplay()})),this.Ih.register(Go,(function(){n.recordingService.activateOnlineAssetsOnNextPageview(),n.Uc.emitRecordingContextChange()})),this.Ih.register($o,(function(){return n.recordingService.getStaticResourceManagerStatus()})),this.Gh=new Po(this.Uc,this.K,this.U.malkaUrlEnabled),this.Mh.addListener(this.Gh),this.kh.enableRecordingContext(this.recordingService,this.K,this.jr,this.Gh)},t.prototype.onAfterNaturalPageView=function(){var t;null===(t=this.Fh)||void 0===t||t.initState()},t.prototype.onStartTracking=function(){this.Hr.recover(),this.qh(),this.K.isReplayRecorded()&&!this.xh.isUrlExcludedForSessionReplay()&&(this.K.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.$h())},t.prototype.onArtificialPageViewEnd=function(){!this.K.isReplayRecorded()||this.xh.isUrlExcludedForSessionReplay()||this.K.isTemporarilyRecorded()||this.Hr.sendLastMessageBeacon(),this.recordingService.clearStates()},t.prototype.onBeforeArtificialPageView=function(){this.Gh.handleArtificialPageview()},t.prototype.onAfterArtificialPageView=function(){this.qh(),this.K.isReplayRecorded()&&!this.xh.isUrlExcludedForSessionReplay()?(this.K.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Jh()):this.Yh()},t.prototype.onBeforeSessionRenewal=function(){this.Gh.handleSessionRenewal(),this.recordingService.clearStates(),this.Yh()},t.prototype.onOptout=function(){this.Yh(),this.recordingService.onOptOut()},t.prototype.onReplayUnanonymizationConsentGranted=function(){this.qh(),this.recordingService.triggerUnanonymizationConsentGranted(),this.Uc.emitRecordingContextChange()},t.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.qh(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.Uc.emitRecordingContextChange()},t.prototype.onCollectStateChange=function(t,n){if(t===Or.QUOTA_REACHED||t===Or.ANALYTICS_ONLY&&n===Nr.ETR_OFF)this.recordingService.clearEvents(),this.Yh();else{this.qr.setQueryParams({rt:csArray.prototype.join.call(this.K.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents();var i=t===Or.ANALYTICS_ONLY&&n===Nr.ETR_ON;this.Gh.handleCollectStateChange(i)}},t.prototype.onInitialDomStart=function(){this.recordingService.blockSendingEventsFromSerialization(),this.Hr.blockSendingLastMessage()},t.prototype.onInitialDomDone=function(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.Hr.allowSendingLastMessage(),this.Vh.start(),this.recordingService.pushEvents()},t.prototype.onAfterReplayRecordingConsentGranted=function(){this.K.isReplayRecorded()&&!this.xh.isUrlExcludedForSessionReplay()&&(this.K.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.$h(),this.recordingService.triggerRecordingForSessionGranted())},t.prototype.onAfterReplayRecordingConsentWithdrawn=function(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.Yh())},t.prototype.Wh=function(){var t,n,i,r;(null===(n=null===(t=this.U.experimental.sessionReplay)||void 0===t?void 0:t.shadowRoot)||void 0===n?void 0:n.filterByHostSelector)&&Si(null===(r=null===(i=this.U.experimental.sessionReplay)||void 0===i?void 0:i.shadowRoot)||void 0===r?void 0:r.filterByHostSelector,(function(t){vr(t)&&Ae.setShadowRootFilter((function(n){try{return nt.call(n.host,t)}catch(t){return!1}}))}))},t.prototype.$h=function(){this.Wh(),this.recordingService.updateStaticResourceManagerOnlineAssets(),this.recordingService.start(),this.Hr.start(),this.Uc.emitRecordingContextChange()},t.prototype.Yh=function(){var t;void 0===t&&(t=!1),t&&(cr=1),hr=csSymbol("nodeIdentifier"),this.recordingService.stop(),this.Hr.stop(),this.Uc.emitRecordingContextChange()},t.prototype.Jh=function(){this.Yh(),this.$h()},t.prototype.Hh=function(t){this.qr=this.Dh.create("".concat(this.U.getRecordingUri(),"/").concat(Fo),!0,"byteArray",t,["rt","v","pid","pn","sn","uu"])},t.prototype.qh=function(){var t,n=this.Lh.shouldUseAnonymization();this.jh.setAnonymization(n),null===(t=this.Bh)||void 0===t||t.setAnonymization(n)},mt([ci("Recording.onStartTracking")],t.prototype,"onStartTracking",null),mt([ci("onInitialDomDone")],t.prototype,"onInitialDomDone",null),t}();!function(t){t[t.NOT_NEEDED=1]="NOT_NEEDED",t[t.NOT_EXPRESSED=2]="NOT_EXPRESSED",t[t.WITHDRAWN=3]="WITHDRAWN",t[t.GRANTED=4]="GRANTED"}(Lo||(Lo={})),function(t){t.isReplayConsentNeeded=function(t){return t.replayConsentRequiredForSession},t.isRecordingBlockedByConsent=function(t){return t.collectState===Or.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||t.collectState===Or.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},t.isRecordingWithDrawn=function(t){return t.collectState===Or.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}(Uo||(Uo={}));var Yo=function(){function t(t,n,i,r){this.X=t,this.K=n,this.U=i,this.Xh=r,this.Kh=!1}return t.prototype.isNaturalPageViewSent=function(){return this.Kh},t.prototype.setNaturalPageViewSent=function(t){this.Kh=t},t.prototype.getTrackingContext=function(){var t=this.K.getSession();if(!t)return null;var n=this.getSessionKey();if(!n)return null;var i=this.U.projectId,r=this.U.uxaDomain,e=t.pageNumber,s=this.Xh.getPageViewType(),o=this.K.isReplayRecorded(),u=this.Qh(t);return wt({projectId:i,sessionKey:n,pageNumber:e,pageViewType:s,isRecording:o,uxaDomain:r,recordingConsentState:u},this.U.smbConfig)},t.prototype.getSessionKey=function(){var t=this.X.getVisitor();return t?"".concat(t.id,".").concat(t.visitsCount):null},t.prototype.Qh=function(t){return Uo.isReplayConsentNeeded(this.U)?t.collectState===Or.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Lo.NOT_EXPRESSED:t.collectState===Or.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Lo.WITHDRAWN:Lo.GRANTED:Lo.NOT_NEEDED},t}(),Wo=function(){function t(t){this.Zh=t,this.ta=[]}return t.prototype.handleCommand=function(t){if(I(t)&&(this.na(t),this.Zh.isNaturalPageViewSent())){var n=this.Zh.getTrackingContext();null!==n&&this.ia(t,n)}},t.prototype.na=function(t){csArray.prototype.push.call(this.ta,t)},t.prototype.executeRegisteredCallbacks=function(){var t=this,n=this.Zh.getTrackingContext();null!==n&&csArray.prototype.map.call(this.ta,(function(i){return t.ia(i,n)}))},t.prototype.ia=function(t,n){csSetTimeout((function(){t(n)}))},t}(),Xo=function(){function t(t){this.Zh=t,this.ra=[]}return t.prototype.handleCommand=function(t){return this.Zh.isNaturalPageViewSent()?this.ea(t):void this.sa(t)},t.prototype.ea=function(t){var n=this.Zh.getSessionKey();return this.oa(t)&&null!==n&&this.ia(t.callback,n),n},t.prototype.sa=function(t){this.oa(t)&&csArray.prototype.push.call(this.ra,t.callback)},t.prototype.flushPendingCallbacks=function(){var t=this,n=this.Zh.getSessionKey();null!==n&&csArray.prototype.forEach.call(this.ra,(function(i){t.ia(i,n)})),this.ra=[]},t.prototype.oa=function(t){return t&&"function"==typeof t.callback},t.prototype.ia=function(t,n){csSetTimeout((function(){t(n)}))},t}(),Ko=function(){function t(t,n){this.ua=t,this.Zh=n}return t.prototype.onTrackingContextRequestCallback=function(t){var n=this.Zh.getTrackingContext();null!==n&&this.ua.sendToChildren(Tn.TrackingContextResultMessage,wt(wt({},t),{trackingContext:n}))},t.prototype.onIframeIntegrationCallback=function(t){if(this.Zh.isNaturalPageViewSent()){var n=this.Zh.getTrackingContext();null!==n&&(t.trackingContext=n,this.ua.sendToChildren(Tn.IntegrationCallback,t))}},t.prototype.sendAfterPageViewCallbackToChildren=function(){var t=this.Zh.getTrackingContext();if(null!==t){var n={trackingContext:t,initiator:An.AfterPageView};this.ua.sendToChildren(Tn.IntegrationCallback,n)}},t}();var Qo,Zo,tu=function(){function t(t){this.Zh=t}return t.prototype.handleCommand=function(t,n){O(t)&&I(n)&&this.ia(t,n)},t.prototype.ia=function(t,n){var i=this;csSetTimeout((function(){var r=i.Zh.getTrackingContext();if(r){var e=function(t,n){var i,r=t.isRecording,e=t.pageNumber,s=t.projectId,o=t.siteId,u=t.uxaDomain,c=t.csLiteDomain,h=/^(.+)\.(\d+)$/.exec(t.sessionKey);if(r&&h){var a=Et(h,3),f=a[1],l=a[2];i=o?"".concat(c,"/sites/").concat(o,"/player?uu=").concat(f,"&sn=").concat(l,"&pn=").concat(e):"".concat(u,"/quick-playback/index.html?pid=").concat(s,"&uu=").concat(f,"&sn=").concat(l,"&pvid=").concat(e,"&recordingType=cs"),n.withTimestamp&&(i+="&t=".concat(rn()-n.recordingStartTimestamp))}return{replayLink:i,isRecording:r}}(r,t);n(e)}}))},t}(),nu=function(){function t(){this.ta=new Set}return t.prototype.handleCommand=function(t,n){var i=this;return I(t)?this.ta.has(t)?null:(this.ta.add(t),n&&(this.Bs=n,this.ca(t,n)),function(){return i.ta.delete(t)}):null},t.prototype.executeCallbacks=function(t){var n=this;this.ha(t)&&(this.Bs=t,this.ta.forEach((function(i){return n.ca(i,t)})))},t.prototype.ca=function(t,n){csSetTimeout((function(){try{t(n)}catch(t){}}))},t.prototype.ha=function(t){var n=t.isRecording,i=t.recordingStartTimestamp,r=t.etrState,e=t.etrStatus,s=t.collectState;return this.Bs&&(this.Bs.isRecording!==n||this.Bs.recordingStartTimestamp!==i||this.Bs.etrState!==r||this.Bs.etrStatus!==e||this.Bs.collectState!==s)},t}(),iu=["afterPageView"],ru=["getSessionKey"],eu=["onRecordingContextChange","onRecordingStateChange"],su=["replay:link:generate"],ou=function(){function t(t,n,i,r,e,s,o,u){this.X=t,this.K=n,this.Ih=i,this.aa=r,this.ua=e,this.U=s,this.Xh=o,this.kh=u}return t.prototype.init=function(){var t=this;this.Zh=new Yo(this.X,this.K,this.U,this.Xh),this.fa=new Wo(this.Zh),this.va=new Xo(this.Zh),this.da=new nu,this.ya=new tu(this.Zh),this.wa=new Ko(this.ua,this.Zh),this.aa.addListener(this.wa),this.Ih.register(ru,(function(n){return t.va.handleCommand(n)})),this.Ih.register(iu,(function(n){return t.fa.handleCommand(n)})),this.Ih.register(eu,(function(n){t.da.handleCommand(n,t.kh.getRecordingContext())})),this.Ih.register(su,(function(n,i){t.pa&&t.ya.handleCommand(wt(wt({},n),{recordingStartTimestamp:t.kh.getRecordingContext().recordingStartTimestamp}),i)}))},t.prototype.onAfterNaturalPageView=function(){this.Zh.setNaturalPageViewSent(!0),this.va.flushPendingCallbacks(),this.fa.executeRegisteredCallbacks(),this.wa.sendAfterPageViewCallbackToChildren()},t.prototype.onAfterArtificialPageView=function(){this.fa.executeRegisteredCallbacks(),this.wa.sendAfterPageViewCallbackToChildren()},t.prototype.onCollectStateChange=function(){this.executeRecordingContextChangeCallbacks()},t.prototype.onRecordingContextChange=function(){this.executeRecordingContextChangeCallbacks()},t.prototype.executeRecordingContextChangeCallbacks=function(){this.da.executeCallbacks(this.kh.getRecordingContext())},t.prototype.setRecordingService=function(t){this.pa=t},mt([Do()],t.prototype,"executeRecordingContextChangeCallbacks",null),t}(),uu=function(){function t(t,n){this.key=csString.prototype.slice.call(t,0,512),this.value=R(n)?csString.prototype.slice.call(n,0,255):n}return t.isValid=function(t,n){return R(t)&&(R(n)||A(n))},t}(),cu=function(t){function n(n,i){var r=t.call(this)||this;return r.ma=n,r.j=i,r.ga=[],r}return yt(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.ga,(function(n){return t.trackDynamicVariable(n.key,n.value)})),this.ga=[]},n.prototype.onStop=function(){},n.prototype.trackDynamicVariable=function(t,n){this.isStarted?uu.isValid(t,n)&&this.ma.add(new uu(this.j.anonymizePII(t),this.j.anonymizePII(n))):csArray.prototype.push.call(this.ga,{key:t,value:n})},n}(Sr),hu=function(){function t(t){this.Sa=t,this.ma=[]}return t.prototype.add=function(t){csArray.prototype.push.call(this.ma,t),this.setBatchReadyCall()},t.prototype.clear=function(){this.ma=[]},t.prototype.onBatchReady=function(t){this.ba=t},t.prototype.getRequestParameters=function(){var t,n,i={};try{for(var r=bt(this.ma),e=r.next();!e.done;e=r.next()){var s=e.value;i[s.key]=s.value}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{dv:this.Sa.compressSync(csJSON.stringify(i),"base64"),ct:this.Sa.algorithm}},t.prototype.setBatchReadyCall=function(){this.ba()},mt([Do(),Bn("dynamicVariablesBatchReady")],t.prototype,"setBatchReadyCall",null),t}(),au=["trackDynamicVariable"],fu=function(){function t(t,n,i,r,e,s){this.Ih=t,this.K=n,this.U=i,this.ah=r,this.Sa=e,this.j=s,this.P=new Ut(this.U.getTrackerUri(),"dvar"),this.ma=new hu(this.Sa),this.Ea=new cu(this.ma,this.j)}return t.prototype.init=function(){var t=this;this.P.setRequestParametersProviders(this.ah,this.ma),this.K.setDynamicVariablesService(this.Ea),this.ma.onBatchReady((function(){return t.P.send()})),this.P.after((function(){return t.ma.clear()})),this.Ih.register(au,(function(n){var i=void 0===n?{}:n,r=i.key,e=i.value;t.Ea.trackDynamicVariable(r,e)}))},t.prototype.onStartTracking=function(){this.Ea.start()},t}(),lu=function(){function t(t,n){this.id=t,this.revenue=n}return t.from=function(n){var i=new t(n.id,parseFloat(n.revenue));return isNaN(parseFloat(n.tax))||(i.tax=parseFloat(n.tax)),isNaN(parseFloat(n.shipping))||(i.shipping=parseFloat(n.shipping)),R(n.currency)&&n.currency.length<=10&&(i.currency=n.currency),i},t.prototype.hasValidRevenue=function(){return!isNaN(this.revenue)&&this.revenue>=0},t.isValid=function(t){return k(t)&&E(t.revenue)&&R(t.currency)&&t.currency.length<=10&&(!k(t.id)||R(t.id))},t}(),vu=function(){function t(t,n,i,r){this.id=t,this.name=n,this.price=i,this.quantity=r}return t.from=function(n){if(!t.Aa(n))return null;var i=new t(n.id,n.name,parseFloat(n.price),parseInt(n.quantity,10));return N(n.sku)&&(i.sku=n.sku),N(n.category)&&(i.category=n.category),N(n.merchant)&&n.merchant.length>0&&(i.merchant=n.merchant.slice(0,100)),i},t.Aa=function(t){return k(t)&&R(t.id)&&R(t.name)&&E(parseFloat(t.price))&&A(parseInt(t.quantity,10))&&(!N(t.sku)||R(t.sku))&&(!N(t.category)||R(t.category))&&(!N(t.merchant)||R(t.merchant))},t}(),du=function(t){function n(n,i,r){var e=t.call(this)||this;return e.j=n,e.Ra=i,e.Pr=r,e.Ta=[],e.clear(),e}return yt(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Ta,(function(n){t.Oa=n.transaction,t.Na=n.transactionItems,t.sendTransaction()})),this.Ta=[]},n.prototype.onStop=function(){},n.prototype.addTransaction=function(t){var n=this.j.anonymizeFields(t,["id"]);this.Oa=lu.from(n)},n.prototype.getTransaction=function(){return this.Oa},n.prototype.sendTransaction=function(){if(!this.isStarted)return csArray.prototype.push.call(this.Ta,{transaction:this.Oa,transactionItems:At([],Et(this.Na),!1)}),void this.clear();null!==this.Ra&&null!==this.Pr&&(this.Pr.refreshSession(),this.Pr.isSessionValid()&&(this.Oa.hasValidRevenue()?this.Ra.send():_n.warn("Transaction Service: unable to send transaction with invalid parameters")))},n.prototype.addItem=function(t){if(!I(t)){var n=this.j.anonymizeFields(t,["id","name","sku","category"]),i=vu.from(n);null!==i&&csArray.prototype.push.call(this.Na,i)}},n.prototype.getItems=function(){return this.Na},n.prototype.clear=function(){this.Oa=lu.from({revenue:NaN}),this.Na=[]},n.prototype.getRequestParameters=function(){var t={id:this.Oa.id?"".concat(this.Oa.id):"",revenue:"".concat(this.Oa.revenue)};return N(this.Oa.tax)&&(t.tax="".concat(this.Oa.tax)),N(this.Oa.shipping)&&(t.shipping="".concat(this.Oa.shipping)),N(this.Oa.currency)&&(t.cu="".concat(this.Oa.currency)),t.items=window.csJSON.stringify(this.Na),t},n}(Sr),yu=function(t){function n(n,i){var r=t.call(this)||this;return r.ka=n,r.Pr=i,r.Ia=null,r.Ca=[],r}return yt(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Ca,(function(n){t.Ia=n,t._a()})),this.Ca=[]},n.prototype.onStop=function(){},n.prototype.addToCart=function(t){var n={};R(t.sku)&&(n.sku=csString.prototype.slice.call(t.sku,0,100)),R(t.merchant)&&(n.merchant=csString.prototype.slice.call(t.merchant,0,100)),(n.sku||n.merchant)&&(this.Ia=n,this._a())},n.prototype.getCartItem=function(){return this.Ia},n.prototype._a=function(){if(!this.isStarted&&null!==this.Ia)return csArray.prototype.push.call(this.Ca,this.Ia),void this.clear();this.Pr.refreshSession(),this.Pr.isSessionValid()&&this.ka.send()},n.prototype.clear=function(){this.Ia=null},n.prototype.getRequestParameters=function(){if(!this.Ia)return{};var t={};return R(this.Ia.sku)&&this.Ia.sku.length>0&&(t.sku=this.Ia.sku),R(this.Ia.merchant)&&this.Ia.merchant.length>0&&(t.me=this.Ia.merchant),t},n}(Sr),wu=["ecommerce:addToCart","ec:cart:add"],pu=["ecommerce:addTransaction","ec:transaction:create"],mu=["ecommerce:addItem","ec:transaction:items:add"],gu=["ecommerce:send","ec:transaction:send"],Su=function(){function t(t,n,i,r,e,s,o){this.U=t,this.oh=n,this.X=i,this.Ih=r,this.j=e,this.Pr=s,this.ot=o}return t.prototype.init=function(){var t=this,n=new Ut(this.U.getTrackerUri(),"transaction"),i=new Ut(this.U.getTrackerUri(),"addtocart");this.Ma=new du(this.j,n,this.Pr),this.Pa=new yu(i,this.Pr);var r=new is(this.oh,this.X,this.ot,this.Ma);n.setRequestParametersProviders(r),n.after((function(){t.Ma.clear()}));var e=new is(this.oh,this.X,this.ot,this.Pa);i.setRequestParametersProviders(e),i.after((function(){t.Pa.clear()})),this.Ih.register(pu,(function(n){t.Ma.addTransaction(n)})),this.Ih.register(mu,(function(n){return t.Ma.addItem(n)})),this.Ih.register(gu,(function(){return t.Ma.sendTransaction()})),this.Ih.register(wu,(function(n){t.Pa.addToCart(n)}))},t.prototype.onStartTracking=function(){this.Ma.start(),this.Pa.start()},t}(),bu=function(){function t(t){this.xa=t.performance}return t.prototype.getRequestParameters=function(){if(this.Da())return{};var t=this.La();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}},t.prototype.La=function(){var t=this.xa.timing;return{startRender:"".concat(t.domLoading-t.requestStart),domInteractive:"".concat(t.domInteractive-t.requestStart),domComplete:"".concat(t.domComplete-t.requestStart),fullyLoaded:"".concat(t.loadEventEnd-t.requestStart)}},t.prototype.Da=function(){return!(this.xa&&this.xa.timing&&this.xa.timing.loadEventEnd>0)},t}();function Eu(t){return void 0!==t.tgt}!function(t){t[t.RESIZE=0]="RESIZE",t[t.SCROLL=1]="SCROLL",t[t.MOUSEMOVE=2]="MOUSEMOVE",t[t.MOUSEDOWN=3]="MOUSEDOWN",t[t.MOUSEUP=4]="MOUSEUP",t[t.CLICK=5]="CLICK",t[t.MOUSEOVER=6]="MOUSEOVER",t[t.MOUSEOUT=7]="MOUSEOUT",t[t.CHANGE=10]="CHANGE",t[t.FOCUSIN=11]="FOCUSIN",t[t.FOCUSOUT=12]="FOCUSOUT",t[t.TAP=14]="TAP",t[t.KEYDOWN=15]="KEYDOWN",t[t.KEYUP=16]="KEYUP",t[t.COMMAND=17]="COMMAND",t[t.SUBMIT=18]="SUBMIT",t[t.PERFORMANCE=19]="PERFORMANCE",t[t.DRAG=20]="DRAG",t[t.FLICK=21]="FLICK",t[t.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",t[t.ZOOM=23]="ZOOM",t[t.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",t[t.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",t[t.DEAD_CLICK=30]="DEAD_CLICK",t[t.DEAD_ZOOM=31]="DEAD_ZOOM",t[t.PAGE_RELOAD=32]="PAGE_RELOAD",t[t.THRASHED_CURSOR=33]="THRASHED_CURSOR",t[t.BLANK_PAGE=34]="BLANK_PAGE",t[t.EXTERNAL_EVENT=35]="EXTERNAL_EVENT"}(Qo||(Qo={})),function(t){t.SUCCESS="success",t.FAILURE="failure",t.ATTEMPT="attempt"}(Zo||(Zo={}));var Au,Ru,Tu,Ou,Nu,ku,Iu=function(){function t(){}return t.build=function(t,n,i){return csArray.prototype.reduce.call(i,(function(n,i){return i.enhanceAnalysisEvent(t,n)}),n)},t}(),Cu=function(){function t(t,n,i){this.Ua=t,this.ja=n,this.fo=i}return t.prototype.processGesture=function(t,n){switch(t.type){case Js.TAP:this.qa(n);break;case Js.FLICK:this.Ha(t,n);break;case Js.DRAG:this.Fa(t,n)}},t.prototype.qa=function(t){var n={type:Qo.TAP,ts:0,x:0,y:0,tgt:""},i=Iu.build(t,n,this.Ua);i.tgt!==ft.INVALID_ELEMENT&&this.Fe(i)},t.prototype.Fa=function(t,n){var i,r,e={type:Qo.DRAG,ts:0,fd:t.direction,tgt:""};(null===(i=this.fo)||void 0===i?void 0:i.collectGestureDistance)&&(e.distance=t.distance),(null===(r=this.fo)||void 0===r?void 0:r.collectGestureVelocity)&&(e.velocity=t.velocity);var s=Iu.build(n,e,this.Ua);s.tgt!==ft.INVALID_ELEMENT&&this.Fe(s)},t.prototype.Ha=function(t,n){var i,r,e={type:Qo.FLICK,ts:0,fd:t.direction,tgt:""};(null===(i=this.fo)||void 0===i?void 0:i.collectGestureDistance)&&(e.distance=t.distance),(null===(r=this.fo)||void 0===r?void 0:r.collectGestureVelocity)&&(e.velocity=t.velocity);var s=Iu.build(n,e,this.Ua);s.tgt!==ft.INVALID_ELEMENT&&this.Fe(s)},t.prototype.onEvent=function(t){this.Fe=t},t.prototype.start=function(){var n=this;this.ja.subscribe(t.Va,(function(t,i){return n.processGesture(t,i)}))},t.prototype.stop=function(){this.ja.unsubscribe(t.Va)},t.Va="AnalysisGestureTracker",mt([$n()],t.prototype,"processGesture",null),t}(),_u=function(){function t(t,n,i){var r=this;this.Ua=t,this.Ba=n,this.za=i,this.Ga="select, select *, input, textarea",this.$a="select, select *, input, textarea",this.Ja="a, a *, button, button *, select, select *, input, textarea",this.Ya="input, select, textarea",this.Wa=150,this.Xa=400,this.Ka=!1,this.Qa=xo((function(t,n){return r.scrollListener(t,n)}),this.Wa),this.Za=xo((function(t){return r.resizeListener(t)}),this.Wa),this.tf=Yi((function(t){return r.mouseMoveListener(t)}),this.Xa),this.nf=[{boundElement:window,type:"resize",listener:function(){return r.Za()}},{boundElement:document,type:"scroll",listener:function(t){return r.Qa(t)}},{boundElement:window,type:"mousemove",listener:function(t){r.tf(function(t){return t.composedPath&&Object.defineProperty(t,"__csOriginalTarget",{value:t.composedPath()[0],writable:!1,enumerable:!1}),t}(t))}},{boundElement:document,type:"mousedown",listener:function(t){return r.mouseDownListener(t)}},{boundElement:document,type:"mouseup",listener:function(t){return r.mouseUpListener(t)}},{boundElement:document,type:"click",listener:function(t){return r.clickListener(t)}}],this.if=[{type:"change",listener:this.za.on(this.$a,(function(t){return r.changeListener(t)}))}],this.rf=At([{boundElement:document,type:"mouseover",listener:this.za.on(this.Ja,(function(t){return r.mouseOverListener(t)}))},{boundElement:document,type:"mouseout",listener:this.za.on(this.Ja,(function(t){return r.mouseOutListener(t)}))},{boundElement:document,type:"focusin",listener:this.za.on(this.Ga,(function(t){return r.focusInListener(t)}))},{boundElement:document,type:"focusout",listener:this.za.on(this.Ga,(function(t){return r.focusOutListener(t)}))},{boundElement:document,type:"keyup",listener:this.za.on(this.Ya,(function(t){return r.keyUpListener(t)}))},{boundElement:document,type:"keydown",listener:this.za.on(this.Ya,(function(t){return r.keyDownListener(t)}))},{boundElement:document,type:"copy",listener:this.za.on(this.Ya,(function(t){return r.copyListener(t)}))},{boundElement:document,type:"cut",listener:this.za.on(this.Ya,(function(t){return r.cutListener(t)}))},{boundElement:document,type:"paste",listener:this.za.on(this.Ya,(function(t){return r.pasteListener(t)}))}],Et(csArray.prototype.map.call(this.if,(function(t){return wt(wt({},t),{boundElement:document})}))),!1),this.Gn={},this.yi=function(t,n){switch(n){case"initial":case"added":r.xn(t);break;case"removed":r.Dn(t)}},this.Pn=new Bi(this.yi),this.jn()}return t.prototype.xn=function(t){if(G(t)){var n=this.ef();csArray.prototype.forEach.call(n,(function(t){return Gi(t)}))}else{n=this.sf();csArray.prototype.forEach.call(n,(function(n){Gi(wt(wt({},n),{boundElement:t}))}))}},t.prototype.Dn=function(t){if(G(t)){var n=this.ef();csArray.prototype.forEach.call(n,(function(t){return $i(t)}))}else{n=this.sf();csArray.prototype.forEach.call(n,(function(n){$i(wt(wt({},n),{boundElement:t}))}))}},t.prototype.onEvent=function(t){this.Fe=t},t.prototype.start=function(){this.Pn.observe(),this.xn(document),this.resizeListener()},t.prototype.stop=function(){this.Dn(document),this.Pn.disconnect()},t.prototype.flushPendingDebouncedListeners=function(){this.Qa.flushPending(),this.Za.flushPending()},t.prototype.sf=function(){return this.za.isMatchesSelectorSupported()?this.if:(_n.warn("Element.matches is not implemented yet"),[])},t.prototype.ef=function(){return this.za.isMatchesSelectorSupported()?At(At([],Et(this.nf),!1),Et(this.rf),!1):(_n.warn("Element.matches is not implemented yet"),this.nf)},t.prototype.resizeListener=function(t){var n=ir.getScrollContainer(),i=C(n);i&&(this.Ka=!0);var r={type:Qo.RESIZE,ts:0,x:i?n.clientWidth:oe.windowWidth(),y:i?n.clientHeight:oe.windowHeight()};void 0!==t&&(r.d=t),this.Fe(r)},t.prototype.scrollListener=function(t,n){var i=ir.isEventOnScrollContainer(n);!this.Ka&&i&&this.resizeListener();var r={type:Qo.SCROLL,ts:0,x:i?csEventtarget.apply(n).scrollLeft:oe.windowOffsetX(),y:i?csEventtarget.apply(n).scrollTop:oe.windowOffsetY(),d:t},e=Iu.build(n,r,this.Ua);this.Fe(e)},t.prototype.mouseMoveListener=function(t){var n={type:Qo.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=Iu.build(t,n,this.Ua);this.Fe(i)},t.prototype.mouseDownListener=function(t){var n={type:Qo.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Iu.build(t,n,this.Ua);this.uf(i)},t.prototype.mouseUpListener=function(t){var n={type:Qo.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Iu.build(t,n,this.Ua);this.uf(i)},t.prototype.clickListener=function(t){var n={type:Qo.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Iu.build(t,n,this.Ua);this.uf(i)},t.prototype.mouseOverListener=function(t){var n={type:Qo.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Iu.build(t,n,this.Ua);this.uf(i)},t.prototype.mouseOutListener=function(t){var n={type:Qo.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.Ba.getEventTargetPath(t)},i=Iu.build(t,n,this.Ua);this.uf(i)},t.prototype.focusInListener=function(t){var n={type:Qo.FOCUSIN,ts:0,tgt:this.Ba.getEventTargetPath(t)},i=Iu.build(t,n,this.Ua);this.uf(i)},t.prototype.focusOutListener=function(t){var n={type:Qo.FOCUSOUT,ts:0,tgt:this.Ba.getEventTargetPath(t)},i=Iu.build(t,n,this.Ua);this.uf(i)},t.prototype.changeListener=function(t){var n={type:Qo.CHANGE,ts:0,tgt:this.Ba.getEventTargetPath(t)},i=Iu.build(t,n,this.Ua);this.uf(i)},t.prototype.copyListener=function(t){var n={type:Qo.COMMAND,ts:0,tgt:this.Ba.getEventTargetPath(t),key:Zi.COPY};this.uf(n)},t.prototype.cutListener=function(t){var n={type:Qo.COMMAND,ts:0,tgt:this.Ba.getEventTargetPath(t),key:Zi.CUT};this.uf(n)},t.prototype.pasteListener=function(t){var n={type:Qo.COMMAND,ts:0,tgt:this.Ba.getEventTargetPath(t),key:Zi.PASTE};this.uf(n)},t.prototype.keyUpListener=function(t){var n={type:Qo.KEYUP,ts:0,tgt:this.Ba.getEventTargetPath(t),key:this.cf(t)};this.uf(n)},t.prototype.keyDownListener=function(t){var n={type:Qo.KEYDOWN,ts:0,tgt:this.Ba.getEventTargetPath(t),key:this.cf(t)};this.uf(n)},t.prototype.cf=function(t){var n=this.Gn[t.key];return void 0===n?Qi.ALPHANUMERICAL:n},t.prototype.uf=function(t){Eu(t)&&t.tgt!==ft.INVALID_ELEMENT&&this.Fe(t)},t.prototype.jn=function(){this.Gn[" "]=Qi.SPACE,this.Gn.Spacebar=Qi.SPACE,this.Gn.Enter=Qi.ENTER,this.Gn.Backspace=Qi.BACKSPACE,this.Gn.Delete=Qi.DELETE,this.Gn.ArrowUp=Qi.ARROWUP,this.Gn.ArrowDown=Qi.ARROWDOWN,this.Gn.ArrowLeft=Qi.ARROWLEFT,this.Gn.ArrowRight=Qi.ARROWRIGHT,this.Gn.Up=Qi.ARROWUP,this.Gn.Down=Qi.ARROWDOWN,this.Gn.Left=Qi.ARROWLEFT,this.Gn.Right=Qi.ARROWRIGHT,this.Gn.CapsLock=Qi.CAPSLOCK,this.Gn.Shift=Qi.SHIFT,this.Gn.Tab=Qi.TAB},mt([Bn("Event handler type: resize")],t.prototype,"resizeListener",null),mt([Bn("Event handler type: scroll")],t.prototype,"scrollListener",null),mt([Bn("Event handler type: mouseMove"),$n()],t.prototype,"mouseMoveListener",null),mt([Bn("Event handler type: mouseDown"),$n()],t.prototype,"mouseDownListener",null),mt([Bn("Event handler type: mouseUp"),$n()],t.prototype,"mouseUpListener",null),mt([Bn("Event handler type: click"),$n()],t.prototype,"clickListener",null),mt([Bn("Event handler type: mouseOver"),$n()],t.prototype,"mouseOverListener",null),mt([Bn("Event handler type: mouseOut"),$n()],t.prototype,"mouseOutListener",null),mt([Bn("Event handler type: focusIn")],t.prototype,"focusInListener",null),mt([Bn("Event handler type: focusOut")],t.prototype,"focusOutListener",null),mt([Bn("Event handler type: change")],t.prototype,"changeListener",null),mt([Bn("Event handler type: copy")],t.prototype,"copyListener",null),mt([Bn("Event handler type: cut")],t.prototype,"cutListener",null),mt([Bn("Event handler type: paste")],t.prototype,"pasteListener",null),mt([Bn("Event handler type: keyup")],t.prototype,"keyUpListener",null),mt([Bn("Event handler type: keydown")],t.prototype,"keyDownListener",null),t}(),Mu=function(){function t(){var t=this;this.hf=100,this.af=0,this.ff=oe.documentHeight(),this.lf={boundElement:document,type:"scroll",listener:function(n){return t.maxScrollRateListener(n)}},this.af=this.vf(ir.getScrollContainer()).maxScrollRate}return t.prototype.onEvent=function(t){this.Fe=t},t.prototype.start=function(){Gi(this.lf)},t.prototype.stop=function(){$i(this.lf)},t.prototype.reset=function(){var t=ir.getScrollContainer(),n=this.vf(t),i=n.maxScrollRate,r=n.maxDocumentHeight;this.ff=r,this.af=i,this.Fe()},t.prototype.vf=function(t){var n=0,i=0;if(null===t)i=oe.documentHeight(),n=this.df(i);else{var r=this.yf(t);i=this.wf(t,r),n=this.pf(t,r)}return{maxScrollRate:n,maxDocumentHeight:i}},t.prototype.maxScrollRateListener=function(t){var n=null;ir.isEventOnScrollContainer(t)&&(n=csEventtarget.apply(t));var i=this.vf(n),r=i.maxScrollRate,e=i.maxDocumentHeight;(r>this.af||e>this.ff)&&(this.af=r,e>this.ff&&(this.ff=e),this.Fe())},t.prototype.df=function(t){var n=Math.round(this.mf()/t*100);return Math.min(n,this.hf)},t.prototype.mf=function(){var t=oe.windowHeight();return oe.windowOffsetY()+t},t.prototype.pf=function(t,n){var i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+n,r=this.wf(t,n),e=Math.round(i/r*100);return Math.min(e,this.hf)},t.prototype.yf=function(t){var n=window.getComputedStyle(t).paddingTop||"0px";return parseInt(n,10)},t.prototype.wf=function(t,n){return t.scrollHeight+t.getBoundingClientRect().top+n},t.prototype.getRequestParameters=function(){return{sr:"".concat(this.af),mdh:"".concat(this.ff)}},mt([Bn("MaxScrollRate handler")],t.prototype,"maxScrollRateListener",null),t}(),Pu=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S){this.U=t,this.gf=n,this.ja=i,this.Sf=r,this.bf=e,this.Ef=s,this.Af=o,this.Rf=u,this.Pr=c,this.tn=h,this.Tf=a,this.Of=f,this.oe=l,this.qr=v,this.Nf=d,this.kf=y,this.If=w,this.Cf=p,this._f=m,this.Mf=g,this.Pf=S,this.Kr=new gr,this.xf=!1}return t.prototype.init=function(){var t,n,i,r,e,s,o,u=this;this.gf.onEvent((function(t){return u.re(t)})),this.ja.onEvent((function(t){return u.re(t)})),this.Sf.onEvent((function(){var t=u.Sf.getRequestParameters();u.qr.setQueryParams(t),u.Af.setQueryParams(t)})),this.Of.onEvent((function(t){return u.Df(t)})),this.Lf(),null===(t=this.Nf)||void 0===t||t.onEvent((function(t){return u.re(t)})),null===(n=this._f)||void 0===n||n.onEvent((function(t){return u.re(t)})),null===(i=this.kf)||void 0===i||i.onEvent((function(t){return u.re(t)})),null===(r=this.If)||void 0===r||r.onEvent((function(t){return u.re(t)})),this.Uf(),null===(e=this.Cf)||void 0===e||e.onEvent((function(t){return u.Df(t)})),null===(s=this.Mf)||void 0===s||s.onEvent((function(t){return u.Df(t)})),null===(o=this.Pf)||void 0===o||o.onEvent((function(t){return u.Df(t)}))},t.prototype.Uf=function(){var t=this;this.Af.onBeaconSuccess((function(){t.Ef.clearEvents()})),this.Af.onBeaconFailure((function(n){t.jf(n)}))},t.prototype.initStates=function(){var t=this.Rf.getRequestParameters(),n=this.bf.getRequestParameters(),i=this.Sf.getRequestParameters();this.qr.setQueryParams(t),this.qr.setQueryParams(n),this.qr.setQueryParams(i),this.Af.setQueryParams(t),this.Af.setQueryParams(n),this.Af.setQueryParams(i),this.qf()},t.prototype.clearStates=function(t){var n,i;this.gf.flushPendingDebouncedListeners(),null===(n=this.kf)||void 0===n||n.flushPendingKeyboardNavigationEvent(),null===(i=this.If)||void 0===i||i.flushPendingTextHighlightEvent(),t?(this.Hf(),this.sendLastMessageBeacon()):this.sendEvents(),this.Sf.reset(),this.Of.stop(),this.qr.removeQueryParams()},t.prototype.start=function(t){var n,i,r,e,s,o,u;t||null===(n=this.Cf)||void 0===n||n.start(),this.oe.start(),this.gf.start(),this.Sf.start(),this.ja.start(),null===(i=this.Nf)||void 0===i||i.start(),null===(r=this.If)||void 0===r||r.start(),t||this.Of.start(),null===(e=this.kf)||void 0===e||e.start(),null===(s=this._f)||void 0===s||s.start(),null===(o=this.Mf)||void 0===o||o.start(),null===(u=this.Pf)||void 0===u||u.start()},t.prototype.collectInitialEvents=function(){var t;null===(t=this.Nf)||void 0===t||t.collectInitialEvents()},t.prototype.onIframeAnalysisBrowserEvent=function(t){this.Df(t)},t.prototype.onIframeAnalysisUserEvent=function(t){this.re(t)},t.prototype.onExternalEvent=function(t){this.ve(t)},t.prototype.Df=function(t){this.Pr.isCurrentPageviewValid()&&this.ve(t)},t.prototype.re=function(t){this.Pr.refreshSession(),this.Pr.isSessionValid()&&this.ve(t)},t.prototype.ve=function(t){this.Ef.addEvent(this.Ff(t)),this.Ef.isFull()&&this.sendEvents(),this.U.emitDebugEvents&&this.Kr.emit("analysisEvent",wt(wt({},t),{typeName:Qo[t.type]}))},t.prototype.Ff=function(t){return t.ts=this.Vf(),t},t.prototype.Hf=function(){this.Af.setQueryParams({hlm:"true"}),this.xf=!0},t.prototype.sendLastMessageBeacon=function(){this.Af.setQueryParams(this.bf.getRequestParameters()),this.Af.send(this.Ef.stringifyEvents()),this.Af.removeQueryParams(["hlm"]),this.xf=!1},t.prototype.sendEvents=function(){this.Ef.isEmpty()||(this.qr.setQueryParams(this.Rf.getRequestParameters()),this.qr.setQueryParams(this.bf.getRequestParameters()),this.qr.send(this.Ef.getEvents()),this.Ef.clearEvents())},t.prototype.stop=function(){var t,n,i,r,e,s,o;this.oe.stop(),this.gf.stop(),this.Sf.stop(),this.ja.stop(),this.Of.stop(),null===(t=this.Nf)||void 0===t||t.stop(),null===(n=this.kf)||void 0===n||n.stop(),null===(i=this.If)||void 0===i||i.stop(),null===(r=this._f)||void 0===r||r.stop(),this.Ef.empty(),null===(e=this.Cf)||void 0===e||e.stop(),null===(s=this.Mf)||void 0===s||s.stop(),null===(o=this.Pf)||void 0===o||o.stop()},t.prototype.qf=function(){this.Bf=rn()},t.prototype.Vf=function(){return rn()-this.Bf},t.prototype.Lf=function(){var t=this;this.oe.onEvent((function(n){var i,r;n!==Je.Visible&&(null===(i=t.kf)||void 0===i||i.flushPendingKeyboardNavigationEvent(),null===(r=t.If)||void 0===r||r.flushPendingTextHighlightEvent(),n===Je.PagehideVisible?t.Hf():n===Je.PagehideHidden?(t.Hf(),t.sendLastMessageBeacon()):t.Ef.isEmpty()&&!t.xf||t.sendLastMessageBeacon())}))},t.prototype.jf=function(t){try{this.Ef.isEmpty()&&!this.xf||this.tn.save({requestParameters:t,events:this.Ef.getEvents()})}catch(t){}},t.prototype.pushSubmitEvent=function(t,n){if(function(t){return t===Zo.SUCCESS||t===Zo.FAILURE||t===Zo.ATTEMPT}(t))if(C(n)){var i={status:t,type:Qo.SUBMIT,ts:0,tgt:this.Tf.getElementPath(n)};i.tgt!==ft.INVALID_ELEMENT&&this.Df(i)}else _n.warn("AnalysisEvents Service: invalid element: ".concat(n));else _n.warn("AnalysisEvents Service: invalid submit status: ".concat(t))},t}(),xu=function(){function t(t,n){var i=this;this.tn=t,this.qr=n,this.zf=function(){"visible"===document.visibilityState&&i.Gf()}}return t.prototype.start=function(){this.Gf(),this.hr()},t.prototype.stop=function(){this.yr()},t.prototype.getRecoveryStorage=function(){return this.tn},t.prototype.Gf=function(){var t=this.tn.recover();if(null!==t){var n=t,i=n.requestParameters,r=n.events;this.qr.send(r,i)}},t.prototype.hr=function(){document.addEventListener("visibilitychange",this.zf)},t.prototype.yr=function(){document.removeEventListener("visibilitychange",this.zf)},t}(),Du=function(){function t(t){this.Us=t}return t.prototype.save=function(t){localStorage.setItem(this.Us,csJSON.stringify(t))},t.prototype.clear=function(){localStorage.removeItem(this.Us)},t.prototype.recover=function(){var t=localStorage.getItem(this.Us);if(null===t)return null;var n=null;try{n=csJSON.parse(t)}catch(n){_n.error("Invalid item in localStorage.\n         (key:".concat(this.Us,"; value:").concat(t,")"))}finally{this.clear()}return n},t}(),Lu=function(){function t(t){var n=this;this.$f=t,this.Jf=function(t){return n.processMetric(t)},this.rr=!1}return t.prototype.onEvent=function(t){this.Fe=t},t.prototype.start=function(){this.rr||(this.rr=!0,this.$f.onFCP(this.Jf),this.$f.onCLS(this.Jf),this.$f.onFID(this.Jf),this.$f.onLCP(this.Jf),this.$f.onTTFB(this.Jf),this.$f.onINP(this.Jf))},t.prototype.stop=function(){this.rr=!1},t.prototype.processMetric=function(t){if(this.rr){var n={type:Qo.PERFORMANCE,name:t.name,val:t.value,ts:0};this.Fe(n)}},mt([Bn("Performance metric handler")],t.prototype,"processMetric",null),t}(),Uu=-1,ju=function(t){addEventListener("pageshow",(function(n){n.persisted&&(Uu=n.timeStamp,t(n))}),!0)},qu=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Hu=function(){var t=qu();return t&&t.activationStart||0},Fu=function(t,n){var i=qu(),r="navigate";return Uu>=0?r="back-forward-cache":i&&(document.prerendering||Hu()>0?r="prerender":document.wasDiscarded?r="restore":i.type&&(r=i.type.replace(/_/g,"-"))),{name:t,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Vu=function(t,n,i){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){n(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},i||{})),r}}catch(t){}},Bu=function(t,n,i,r){var e,s;return function(o){n.value>=0&&(o||r)&&((s=n.value-(e||0))||void 0===e)&&(e=n.value,n.delta=s,n.rating=function(t,n){return t>n[1]?"poor":t>n[0]?"needs-improvement":"good"}(n.value,i),t(n))}},zu=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},Gu=function(t){var n=function(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||t(n)};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},$u=function(t){var n=!1;return function(i){n||(t(i),n=!0)}},Ju=-1,Yu=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Wu=function(t){"hidden"===document.visibilityState&&Ju>-1&&(Ju="visibilitychange"===t.type?t.timeStamp:0,Ku())},Xu=function(){addEventListener("visibilitychange",Wu,!0),addEventListener("prerenderingchange",Wu,!0)},Ku=function(){removeEventListener("visibilitychange",Wu,!0),removeEventListener("prerenderingchange",Wu,!0)},Qu=function(){return Ju<0&&(Ju=Yu(),Xu(),ju((function(){setTimeout((function(){Ju=Yu(),Xu()}),0)}))),{get firstHiddenTime(){return Ju}}},Zu=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},tc=[1800,3e3],nc=function(t,n){n=n||{},Zu((function(){var i,r=Qu(),e=Fu("FCP"),s=Vu("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(s.disconnect(),t.startTime<r.firstHiddenTime&&(e.value=Math.max(t.startTime-Hu(),0),e.entries.push(t),i(!0)))}))}));s&&(i=Bu(t,e,tc,n.reportAllChanges),ju((function(r){e=Fu("FCP"),i=Bu(t,e,tc,n.reportAllChanges),zu((function(){e.value=performance.now()-r.timeStamp,i(!0)}))})))}))},ic=[.1,.25],rc={passive:!0,capture:!0},ec=new Date,sc=function(t,n){Au||(Au=n,Ru=t,Tu=new Date,cc(removeEventListener),oc())},oc=function(){if(Ru>=0&&Ru<Tu-ec){var t={entryType:"first-input",name:Au.type,target:Au.target,cancelable:Au.cancelable,startTime:Au.timeStamp,processingStart:Au.timeStamp+Ru};Ou.forEach((function(n){n(t)})),Ou=[]}},uc=function(t){if(t.cancelable){var n=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,n){var i=function(){sc(t,n),e()},r=function(){e()},e=function(){removeEventListener("pointerup",i,rc),removeEventListener("pointercancel",r,rc)};addEventListener("pointerup",i,rc),addEventListener("pointercancel",r,rc)}(n,t):sc(n,t)}},cc=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return t(n,uc,rc)}))},hc=[100,300],ac=0,fc=1/0,lc=0,vc=function(t){t.forEach((function(t){t.interactionId&&(fc=Math.min(fc,t.interactionId),lc=Math.max(lc,t.interactionId),ac=lc?(lc-fc)/7+1:0)}))},dc=function(){return Nu?ac:performance.interactionCount||0},yc=function(){"interactionCount"in performance||Nu||(Nu=Vu("event",vc,{type:"event",buffered:!0,durationThreshold:0}))},wc=[200,500],pc=0,mc=function(){return dc()-pc},gc=[],Sc={},bc=function(t){var n=gc[gc.length-1],i=Sc[t.interactionId];if(i||gc.length<10||t.duration>n.latency){if(i)i.entries.push(t),i.latency=Math.max(i.latency,t.duration);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};Sc[r.id]=r,gc.push(r)}gc.sort((function(t,n){return n.latency-t.latency})),gc.splice(10).forEach((function(t){delete Sc[t.id]}))}},Ec=[2500,4e3],Ac={},Rc=[800,1800],Tc=function t(n){document.prerendering?Zu((function(){return t(n)})):"complete"!==document.readyState?addEventListener("load",(function(){return t(n)}),!0):setTimeout(n,0)},Oc=function(t,n){n=n||{};var i=Fu("TTFB"),r=Bu(t,i,Rc,n.reportAllChanges);Tc((function(){var e=qu();if(e){var s=e.responseStart;if(s<=0||s>performance.now())return;i.value=Math.max(s-Hu(),0),i.entries=[e],r(!0),ju((function(){i=Fu("TTFB",0),(r=Bu(t,i,Rc,n.reportAllChanges))(!0)}))}}))},Nc=function(){function t(){}return t.prototype.onFCP=function(t){nc(t,{reportAllChanges:!0})},t.prototype.onCLS=function(t){!function(t,n){n=n||{},nc($u((function(){var i,r=Fu("CLS",0),e=0,s=[],o=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=s[0],i=s[s.length-1];e&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(e+=t.value,s.push(t)):(e=t.value,s=[t])}})),e>r.value&&(r.value=e,r.entries=s,i())},u=Vu("layout-shift",o);u&&(i=Bu(t,r,ic,n.reportAllChanges),Gu((function(){o(u.takeRecords()),i(!0)})),ju((function(){e=0,r=Fu("CLS",0),i=Bu(t,r,ic,n.reportAllChanges),zu((function(){return i()}))})),setTimeout(i,0))})))}(t,{reportAllChanges:!0})},t.prototype.onFID=function(t){!function(t,n){n=n||{},Zu((function(){var i,r=Qu(),e=Fu("FID"),s=function(t){t.startTime<r.firstHiddenTime&&(e.value=t.processingStart-t.startTime,e.entries.push(t),i(!0))},o=function(t){t.forEach(s)},u=Vu("first-input",o);i=Bu(t,e,hc,n.reportAllChanges),u&&Gu($u((function(){o(u.takeRecords()),u.disconnect()}))),u&&ju((function(){var r;e=Fu("FID"),i=Bu(t,e,hc,n.reportAllChanges),Ou=[],Ru=-1,Au=null,cc(addEventListener),r=s,Ou.push(r),oc()}))}))}(t,{reportAllChanges:!0})},t.prototype.onLCP=function(t){!function(t,n){n=n||{},Zu((function(){var i,r=Qu(),e=Fu("LCP"),s=function(t){var n=t[t.length-1];n&&n.startTime<r.firstHiddenTime&&(e.value=Math.max(n.startTime-Hu(),0),e.entries=[n],i())},o=Vu("largest-contentful-paint",s);if(o){i=Bu(t,e,Ec,n.reportAllChanges);var u=$u((function(){Ac[e.id]||(s(o.takeRecords()),o.disconnect(),Ac[e.id]=!0,i(!0))}));["keydown","click"].forEach((function(t){addEventListener(t,(function(){return setTimeout(u,0)}),!0)})),Gu(u),ju((function(r){e=Fu("LCP"),i=Bu(t,e,Ec,n.reportAllChanges),zu((function(){e.value=performance.now()-r.timeStamp,Ac[e.id]=!0,i(!0)}))}))}}))}(t,{reportAllChanges:!0})},t.prototype.onTTFB=function(t){Oc(t,{reportAllChanges:!0})},t.prototype.onINP=function(t){!function(t,n){n=n||{},Zu((function(){var i;yc();var r,e=Fu("INP"),s=function(t){t.forEach((function(t){t.interactionId&&bc(t),"first-input"===t.entryType&&!gc.some((function(n){return n.entries.some((function(n){return t.duration===n.duration&&t.startTime===n.startTime}))}))&&bc(t)}));var n,i=(n=Math.min(gc.length-1,Math.floor(mc()/50)),gc[n]);i&&i.latency!==e.value&&(e.value=i.latency,e.entries=i.entries,r())},o=Vu("event",s,{durationThreshold:null!==(i=n.durationThreshold)&&void 0!==i?i:40});r=Bu(t,e,wc,n.reportAllChanges),o&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),Gu((function(){s(o.takeRecords()),e.value<0&&mc()>0&&(e.value=0,e.entries=[]),r(!0)})),ju((function(){gc=[],pc=dc(),e=Fu("INP"),r=Bu(t,e,wc,n.reportAllChanges)})))}))}(t,{reportAllChanges:!0})},t}(),kc=function(){function t(t){void 0===t&&(t=[]),this.Yn=t}return t.prototype.stringifyEvents=function(){return csJSON.stringify(this.Yn)},t.prototype.addEvent=function(t){csArray.prototype.push.call(this.Yn,t)},t.prototype.eventsCount=function(){return this.Yn.length},t.prototype.clearEvents=function(){this.Yn=[]},t.prototype.empty=function(){this.clearEvents()},t.prototype.isFull=function(){return this.eventsCount()>=50},t.prototype.isEmpty=function(){return 0===this.Yn.length},t.prototype.getEvents=function(){return this.Yn},t}(),Ic=function(){function t(){}return t.prototype.isEventTypeSupported=function(t){return-1!==csArray.prototype.indexOf.call(this.supportedEventTypes,t)},t.prototype.enhanceAnalysisEvent=function(t,n){return this.isEventTypeSupported(n.type)?this.baseEnhanceAnalysisEvent(t,n):n},t}(),Cc=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.supportedEventTypes=[Qo.CHANGE],n.Yf=["text","email","number","search","tel","url","password"],n}return yt(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){var i=nr(t);return q(i)&&csArray.prototype.indexOf.call(this.Yf,i.type)>=0&&(n.isBlank=""===i.value),n},n}(Ic),_c=function(t){function n(n){var i=t.call(this)||this;return i.Ba=n,i.supportedEventTypes=[Qo.MOUSEDOWN,Qo.MOUSEUP,Qo.CLICK,Qo.MOUSEOVER,Qo.TAP,Qo.DRAG,Qo.FLICK],i}return yt(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){return n.tgt||(n.tgt=this.Ba.getEventTargetPath(t)),n},n}(Ic);!function(t){t.getRelativePosition=function(t){var n=nr(t);if(!(n&&P(n)&&I(n.getBoundingClientRect)&&k(t.pageX)&&k(t.pageY)))return{xRel:-1,yRel:-1,valid:!1};var i=n.getBoundingClientRect(),r=t.pageX-i.left-oe.windowOffsetX(),e=t.pageY-i.top-oe.windowOffsetY();n!==document.documentElement&&(r+=n.scrollLeft,e+=n.scrollTop);var s=Math.max(n.scrollWidth,i.width),o=Math.max(n.scrollHeight,i.height);return{xRel:Math.round(r/s*65535),yRel:Math.round(e/o*65535),valid:!0}}}(ku||(ku={}));var Mc,Pc=function(t){function n(n,i){var r=t.call(this)||this;return r.C=n,r.Ba=i,r.supportedEventTypes=[Qo.MOUSEMOVE,Qo.CLICK],r.Wf="",r}return yt(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){var i=ku.getRelativePosition(t),r=i.valid,e=i.xRel,s=i.yRel;if(r){var o=this.Ba.getEventTargetPath(t);o!==ft.INVALID_ELEMENT&&(n.xRel=e,n.yRel=s,n.type===Qo.MOUSEMOVE&&(o!==this.Wf||this.C.iframesTracking?(this.Wf=o,n.tgtHM=o):n.tgtHM=""))}else n.type===Qo.MOUSEMOVE&&(this.Wf="");return n},n}(Ic);!function(t){t[t.ANONYMIZED=0]="ANONYMIZED",t[t.CAPTURED=1]="CAPTURED",t[t.MASKED=2]="MASKED"}(Mc||(Mc={}));var xc=function(t){function n(n,i,r){var e=t.call(this)||this;return e.U=n,e.Xf=i,e.j=r,e.supportedEventTypes=[Qo.TAP,Qo.CLICK],e}return yt(n,t),n.prototype.Kf=function(t){for(var n="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=i.nextNode();r;){if(n+=r.textContent,this.Xf.getElementSensitiveStatus(r.parentElement)!==Mc.CAPTURED)return!0;if(csString.prototype.trim.call(n).length>=100)break;r=i.nextNode()}return!1},n.prototype.baseEnhanceAnalysisEvent=function(t,n){if(C(csEventtarget.apply(t))){var i=dr(csEventtarget.apply(t),"button,a");if(i&&R(i.textContent)&&!this.Kf(i)&&!this.j.hasPII(i.textContent,this.U.anonymizeDigits)){var r=He.truncate(csString.prototype.trim.call(i.textContent),100);r.length>0&&(n.text=r)}}return n},n}(Ic);var Dc,Lc="v2/events",Uc=["submit"],jc=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f){this.U=t,this.oh=n,this.X=i,this.Tf=r,this.za=e,this.Ih=s,this.Pr=o,this.ja=u,this.aa=c,this.Dh=h,this.Qf=a,this.Xf=f}return t.prototype.init=function(){var t=this,n=new kc,i=this.Dh.create("".concat(this.U.getTrackerUri(),"/").concat(Lc),!0,"base64");this.Zf=this.tl(i),this.nl=this.il(n,this.Zf.getRecoveryStorage(),i),this.nl.init(),this.Qf.addListener(this.nl),this.aa.addListener(this.nl),this.Ih.register(Uc,(function(n,i){t.nl.pushSubmitEvent(n,i)}))},t.prototype.onStartTracking=function(t){this.Zf.start(),this.nl.start(t)},t.prototype.onAfterNaturalPageView=function(){this.nl.initStates()},t.prototype.onAfterArtificialPageView=function(){this.nl.initStates(),this.nl.collectInitialEvents()},t.prototype.onArtificialPageViewEnd=function(){this.nl.clearStates(!0)},t.prototype.onBeforeSessionRenewal=function(){this.nl.clearStates(),this.nl.stop(),this.Zf.stop()},t.prototype.onOptout=function(){this.nl.stop(),this.Zf.stop()},t.prototype.il=function(t,n,i){var r=new bu(window),e=new Mu,s=function(t,n,i){var r=[];return t.mouseMoveHeatmapEnabled&&csArray.prototype.push.call(r,new Pc(t,n)),t.isClickedElementTextEnabled()&&csArray.prototype.push.call(r,new xc(t,i,new Xt)),csArray.prototype.push.call(r,new Cc,new _c(n)),r}(this.U,this.Tf,this.Xf),o=new _u(s,this.Tf,this.za),u=function(t,n,i){var r=[];return t.isClickedElementTextEnabled()&&csArray.prototype.push.call(r,new xc(t,i,new Xt)),csArray.prototype.push.call(r,new _c(n)),r}(this.U,this.Tf,this.Xf),c=new Cu(u,this.ja),h=new Lu(new Nc),a=new Ke;var f=new hs("".concat(this.U.getTrackerUri(),"/").concat(Lc)),l=new is(this.oh,this.X);return new Pu(this.U,o,c,e,r,t,f,l,this.Pr,n,this.Tf,h,a,i,undefined,undefined,undefined,undefined,undefined,undefined,undefined)},t.prototype.tl=function(t){return new xu(new Du("csAnalysisEventsPersisted"),t)},t}();!function(t){t.Artificial="a",t.Renewal="r",t.Natural="n"}(Dc||(Dc={}));var qc=function(t){function n(n,i,r,e,s){var o=t.call(this)||this;return o.Uc=n,o.Qf=i,o.rl=r,o.ot=e,o.Xh=s,o}return yt(n,t),n.prototype.init=function(){this.el()},n.prototype.onStart=function(t){t?this.sl():this.ol()},n.prototype.onStop=function(){},n.prototype.triggerArtificialPageView=function(t,n){this.isStarted?this.ul(t,n):k(t)&&this.ot.overridePath(t,n),this.isStarted||(this.Qf.emitTargetingRulesArtificialPageview(this.ot.getUrl()),this.ot.cleanupOverrideLifespan())},n.prototype.ol=function(){this.Xh.setPageViewType(Dc.Natural),this.Uc.emitBeforeNaturalPageView(),this.rl.send(),this.ot.cleanupOverrideLifespan(),this.Uc.emitAfterNaturalPageView()},n.prototype.sl=function(){this.Xh.setPageViewType(Dc.Renewal),this.Uc.emitBeforeNaturalPageView(),this.rl.send(),this.Uc.emitAfterNaturalPageView()},n.prototype.ul=function(t,n){this.Xh.setPageViewType(Dc.Artificial),this.Uc.emitArtificialPageViewEnd(),k(t)&&this.ot.overridePath(t,n),this.Uc.emitBeforeArtificialPageView(),this.rl.send(),this.ot.cleanupOverrideLifespan(),this.Uc.emitAfterArtificialPageView()},n.prototype.el=function(){var t=this;window.addEventListener("pageshow",(function(n){t.isStarted&&n.persisted&&t.ul()}))},n}(Sr),Hc=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function Fc(){return{la:Hc}}var Vc=function(){function t(t,n){this.Go=t,this._h=n,this.cl=!1}return t.prototype.getRequestParameters=function(){return{dr:this.hl()}},t.prototype.addUrlMaskingPattern=function(t){this._h.addUrlMaskingPattern(t)},t.prototype.enableRemoveQueryString=function(){this.cl=!0},t.prototype.disableRemoveQueryString=function(){this.cl=!1},t.prototype.hl=function(){var t=this.cl?this.Go.removeQueryString(this.al()):this.al();return this.Go.anonymizeUrl(t,this._h.getUrlMaskingPatterns())},t.prototype.al=function(){var t="";try{t=window.top.document.referrer}catch(n){if(window.parent)try{t=window.parent.document.referrer}catch(n){t=""}}return""===t&&(t=document.referrer),"string"!=typeof t&&(t=""),t},t}(),Bc=function(){function t(t){this.K=t,this.ll=this.vl()&&window.CSCurrentScript}return t.prototype.dl=function(){var t=window.CSCurrentScript;if(!t)return null;var n=window.performance.getEntriesByName(t.src,"resource")[0];return!n||this.yl(n)?null:Math.round(n.responseEnd-n.fetchStart)},t.prototype.yl=function(t){var n=t.transferSize;return void 0!==n?0===n||300===n||n<t.encodedBodySize:t.connectStart===t.domainLookupEnd},t.prototype.getRequestParameters=function(){if(!this.ll||1!==this.wl())return{};var t=this.dl();return null===t?{}:{dt:"".concat(Math.min(t,99999))}},t.prototype.wl=function(){var t;return(null===(t=this.K.getSession())||void 0===t?void 0:t.pageNumber)||null},t.prototype.vl=function(){return"object"==typeof window.performance&&"function"==typeof window.performance.getEntriesByName},t}();function zc(t){var n,i,r=[],e=function(t){var n=t;Ot(t,"/")&&(n=csString.prototype.substring.call(n,1));hn(t,"/")&&(n=csString.prototype.slice.call(n,0,-1));return n}(t),s=csString.prototype.split.call(e,"/");try{for(var o=bt(s),u=o.next();!u.done;u=o.next()){var c=u.value;Ot(c,":")?csArray.prototype.push.call(r,{key:c,value:"CS_ANONYMIZED_".concat(csString.prototype.toUpperCase.call(csString.prototype.slice.call(c,1)))}):csArray.prototype.push.call(r,{key:c,value:null})}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}var Gc,$c=function(){function t(){this.pl=new Set,this.ml=[],this.gl=new Set,this.Sl=[]}return t.prototype.addUrlMaskingPattern=function(t){if(!this.pl.has(t)){this.pl.add(t);var n=zc(t);csArray.prototype.push.call(this.ml,n)}},t.prototype.getUrlMaskingPatterns=function(){return this.ml},t.prototype.resetPartialUrlMaskingPatterns=function(){this.gl.clear(),this.Sl=[]},t.prototype.addPartialUrlMaskingPattern=function(t){if(!this.gl.has(t)){this.gl.add(t);var n=zc(t);csArray.prototype.push.call(this.Sl,n)}},t.prototype.getPartialUrlMaskingPatterns=function(){return this.Sl},t}(),Jc=["trackPageview"],Yc=["setPath"],Wc=["setQuery"],Xc=["referrer:maskUrl"],Kc=["referrer:removeQueryString"],Qc=["referrer:keepQueryString"],Zc=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v){this.U=t,this.Ih=n,this.Uc=i,this.ah=r,this.X=e,this.K=s,this.bl=o,this.vn=u,this.Go=c,this.ot=h,this.xh=a,this.Xh=f,this.Qf=l,this.El=v}return t.prototype.init=function(){var t,i=this,r=new Ut(this.U.getTrackerUri(),"pageview");this.Al=new qc(this.Uc,this.Qf,r,this.ot,this.Xh);var e=new Vc(this.Go,new $c);this.Al.init();var s=new is(this.ah,this.X,oe,e,this.ot,this.bl,n,this.vn,this.Xh,new Bc(this.K),this.xh);if(this.El){s.addProvider(this.El);var o=null===(t=this.U.heapEnvironment)||void 0===t?void 0:t.env_id;s.addProvider({getRequestParameters:function(){var t={cw:"1"};return o&&(t.happid=o),t}})}r.setRequestParametersProviders(s),this.Ih.register(Jc,(function(t,n){R(t)?i.Rl(n)?i.Al.triggerArtificialPageView(t,n):i.Al.triggerArtificialPageView(t):i.Al.triggerArtificialPageView()})),this.Ih.register(Yc,(function(t,n){R(t)&&(i.Rl(n)?i.ot.overridePath(t,n):i.ot.overridePath(t))})),this.Ih.register(Wc,(function(t,n){R(t)&&(i.Rl(n)?i.ot.overrideQuery(t,n):i.ot.overrideQuery(t))})),this.Ih.register(Xc,(function(t){R(t)&&e.addUrlMaskingPattern(t)})),this.Ih.register(Kc,(function(){return e.enableRemoveQueryString()})),this.Ih.register(Qc,(function(){return e.disableRemoveQueryString()}))},t.prototype.start=function(t){this.Al.start(t)},t.prototype.onBeforeSessionRenewal=function(){this.Al.stop()},t.prototype.Rl=function(t){return O(t)&&null!==t},t}(),th=function(){function t(t){this.Ba=t}return t.prototype.on=function(t,n){var i=this;return function(r){i.Ba.hasValidEventTarget(r)&&i.Tl(r,t)&&n(r)}},t.prototype.Tl=function(t,n){var i=nr(t);return nt.call(i,n)},t.prototype.isMatchesSelectorSupported=function(){return!!nt},t}(),nh=function(){function t(){}return t.prototype.onLoad=function(t){this.en=t},t.prototype.onLoadCallbackExecute=function(){this.en()},t.prototype.start=function(){var t=this.onLoadCallbackExecute.bind(this);this.Ol(t)},t.prototype.Ol=function(t){function n(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),t()}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))},mt([Bn("onLoad")],t.prototype,"onLoadCallbackExecute",null),t}(),ih=function(){function t(t,n,i){this.U=t,this.X=n,this.K=i,this.Bf=rn()}return t.prototype.resetStartTime=function(){this.Bf=rn()},t.prototype.getSessionData=function(){var t=this.U.projectId,n=this.X.getVisitor();null==n&&_n.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");var i=null!=n?n:{},r=i.id,e=i.visitsCount,s=this.K.getSession();return null===s&&_n.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized."),{projectId:t,userId:r,sessionNumber:e,pageNumber:(null!=s?s:{}).pageNumber,relativeTimestamp:rn()-this.Bf}},t}(),rh=["clearSession"],eh=["extendSession"],sh=["getSessionData"],oh=["session:start:newVisitor"],uh=["session:clear:visitor"],ch=function(){function t(t,n,i,r){this.U=t,this.X=n,this.K=i,this.Ih=r}return t.prototype.init=function(){var t=this;this.Nl=new ih(this.U,this.X,this.K),this.Ih.register(rh,(function(){return t.K.removeSession()})),this.Ih.register(eh,(function(){return t.K.extendSessionPeriodically()}),{disableApplyPending:!0}),this.Ih.register(sh,(function(){return t.Nl.getSessionData()}),{disableApplyPending:!0}),this.Ih.register(oh,(function(){return t.X.renewVisitor()})),this.Ih.register(uh,(function(){t.X.resetVisitor()}),{disableApplyImmediate:!0})},t.prototype.onBeforeNaturalPageView=function(){this.X.createOrUpdateVisitor(),this.K.createOrUpdateSession()},t.prototype.onBeforeArtificialPageView=function(){this.K.abortQuotaServiceRequest(),this.X.createOrUpdateVisitor(),this.K.createOrUpdateSession()},t.prototype.onAfterNaturalPageView=function(){this.Nl.resetStartTime()},t.prototype.onAfterArtificialPageView=function(){this.Nl.resetStartTime()},t.prototype.onOptout=function(){this.X.removeVisitor(),this.K.removeSession()},t.prototype.onCollectStateChange=function(t,n){this.K.updateCollectState(t,n)},t}(),hh=function(){function t(t,n){var i=this;this.K=t,this.X=n,this.kl=!1,this.Il=Yi((function(){return i.K.refreshSession()}),3e4)}return t.prototype.onSessionExpired=function(t){this.Cl=t},t.prototype.isSessionValid=function(){return!!this.kl||!!this.K.hasValidSession()&&(!this.K.pollCacheRefreshEvent()||!this.X.isSessionRenewed())},t.prototype.isCurrentPageviewValid=function(){var t=this.K.hasValidSession();return this.K.pollCacheRefreshEvent(!1)?!this.X.isSessionRenewed():t},t.prototype.refreshSession=function(){this.isSessionValid()?this.Il():this._l()&&(this.Ml=rn(),this.renewSession())},t.prototype.renewSession=function(){this.kl=!0,this.Cl(),this.kl=!1},t.prototype._l=function(){return!N(this.Ml)||rn()-this.Ml>6e4},t}();function ah(t){return t.tagDeploymentMode===Gc.DualCollectionReview||t.tagDeploymentMode===Gc.DualCollection}!function(t){t.ContentSquare="CONTENTSQUARE",t.LoadedByClicktale="LOADED_BY_CLICKTALE",t.LoadClicktalePtc="LOAD_CLICKTALE_PTC",t.DualCollectionReview="DUAL_COLLECTION_REVIEW",t.DualCollection="DUAL_COLLECTION",t.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"}(Gc||(Gc={}));var fh,lh=function(){function t(t,n,i){this.U=t,this.K=n,this.Pl=i}return t.prototype.init=function(){this.xl=!1,this.Dl=!1},t.prototype.loadClicktalePtc=function(){!this.xl&&this.U.ptcDomain&&this.U.ptcGuid&&this.Ll()},t.prototype.startDataCollection=function(t){this.Dl||(this.U.tagDeploymentMode===Gc.LoadClicktalePtc&&this.Ul()&&this.Pl.initCTPII(),ah(this.U)&&(this.Pl.initCTPII(),t(),this.Dl=!0))},t.prototype.Ul=function(){return this.K.isReplayRecorded()},t.prototype.Ll=function(){this.xl=!0;var t=this.jl();document.getElementsByTagName("head")[0].appendChild(t)},t.prototype.jl=function(){var t=document.createElementNS("http://www.w3.org/1999/xhtml","script");return t.async=!0,t.crossOrigin="anonymous",t.type="text/javascript",this.U.ptcSha512&&this.U.ptcSnapshotPath?(t.integrity="sha512-".concat(this.U.ptcSha512),t.src="https://".concat(this.U.ptcDomain,"/").concat(this.U.ptcSnapshotPath,"/ptc.js")):t.src="https://".concat(this.U.ptcDomain,"/ptc/").concat(this.U.ptcGuid,".js"),t},t}();!function(t){t.isRecording=function(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()},t.stopRecording=function(){window.ClickTaleStop&&window.ClickTaleStop()},t.triggerLogicalPageView=function(t){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(t)},t.sendPageEvent=function(t){window.ClickTaleEvent&&window.ClickTaleEvent(t)},t.sendEventTriggerRecording=function(t){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(t)}}(fh||(fh={}));var vh,dh=function(){function t(t,n,i,r,e,s){this.U=t,this.K=n,this.ot=i,this.Ih=r,this.ql=e,this.Pl=s,this.Hl=0}return t.prototype.init=function(){var t=this;this.Fl=new lh(this.U,this.K,this.Pl),this.Fl.init(),this.Vl(),this.Ih.register(["startDataCollection"],(function(){t.Hl++,t.Fl.startDataCollection(t.ql)}))},t.prototype.Vl=function(){ah(this.U)&&this.Fl.loadClicktalePtc()},t.prototype.onAfterNaturalPageView=function(){this.U.tagDeploymentMode===Gc.LoadClicktalePtc&&this.Fl.loadClicktalePtc()},t.prototype.onAfterArtificialPageView=function(){!this.K.isReplayRecorded()&&fh.isRecording()&&this.U.tagDeploymentMode===Gc.LoadClicktalePtc&&fh.triggerLogicalPageView(this.ot.getAnonymizedUrl())},t.prototype.onAfterSessionRenewal=function(){!this.K.isReplayRecorded()&&fh.isRecording()&&fh.triggerLogicalPageView(this.ot.getAnonymizedUrl())},t.prototype.onOptout=function(){fh.isRecording()&&fh.stopRecording()},t}(),yh="RSA-OAEP",wh="AES-CTR";!function(t){var n,i,r,s=!1,o=null,u="undefined"!=typeof TextEncoder?new TextEncoder:null;function c(){var t,n;return null!=(null===(n=null===(t=e.self.crypto)||void 0===t?void 0:t.subtle)||void 0===n?void 0:n.encrypt)&&null!=e.self.CryptoKey}function h(n){return Un(this,void 0,void 0,(function(){var r;return jn(this,(function(e){switch(e.label){case 0:return!c()||s?[2,null]:[4,i];case 1:e.sent(),(r=Ve(n)).byteLength>190&&(r=r.slice(0,190)),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t.crypto.encrypt({name:yh},o,r)];case 3:return[2,Be(e.sent())];case 4:return e.sent(),[2,null];case 5:return[2]}}))}))}function a(n){var i;return Un(this,void 0,void 0,(function(){var r;return jn(this,(function(e){switch(e.label){case 0:if(!c())return[2,null];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.crypto.exportKey("jwk",n)];case 2:return r=e.sent(),[2,null!==(i=r.k)&&void 0!==i?i:null];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))}t.crypto=null===(n=e.crypto)||void 0===n?void 0:n.subtle,t.prop="toEncrypt",t.MAX_DIGEST_INPUT_SIZE=100,t.isKeyImported=function(){return!s},t.getCryptoKey=function(){return o},t.isSupported=c,t.importKey=function(n){return Un(this,void 0,void 0,(function(){return jn(this,(function(r){switch(r.label){case 0:return[4,i=t.crypto.importKey("spki",ze(n),{name:yh,hash:"SHA-256"},!1,["encrypt"]).catch((function(){return s=!0,null}))];case 1:return o=r.sent(),i=void 0,o||Vn.warn("Fail to import public key '".concat(n,"'")),[2]}}))}))},t.asymmetricEncrypt=h,t.symmetricEncrypt=function(n,i){return Un(this,void 0,void 0,(function(){var r,e;return jn(this,(function(o){switch(o.label){case 0:if(!c()||s)return[2,null];r={counter:i.initializationVector,name:wh,length:64},e=u.encode(n),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.crypto.encrypt(r,i.cryptoKey,e)];case 2:return[2,Be(o.sent())];case 3:return o.sent(),[2,null];case 4:return[2]}}))}))},t.encryptSecret=function(t){return Un(this,void 0,void 0,(function(){var n,i;return jn(this,(function(r){switch(r.label){case 0:return[4,a(t)];case 1:if(!(n=r.sent()))throw new Error("Export secret failed");return[4,h(n)];case 2:if(!(i=r.sent()))throw new Error("Encrypt secret failed");return[2,i]}}))}))},t.generateSymmetricKey=function(){return Un(this,void 0,void 0,(function(){return jn(this,(function(n){switch(n.label){case 0:if(!c()||s)return[2,null];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.crypto.generateKey({name:wh,length:128},!0,["encrypt","decrypt"])];case 2:return[2,{cryptoKey:n.sent(),initializationVector:e.crypto.getRandomValues(new Uint8Array(16))}];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},t.setDigestSalt=function(t){r=t},t.digest=function(n){return Un(this,void 0,void 0,(function(){var i;return jn(this,(function(e){switch(e.label){case 0:n=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(n)),r&&(n="".concat(n,":").concat(r)),i=u.encode(n),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.crypto.digest("SHA-1",i)];case 2:return[2,Ge(e.sent())];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))},t.generateKeyPair=function(){return e.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}}(vh||(vh={}));var ph,mh="@user-identifier@",gh=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.U=n,s.Bl=i,s.Sa=r,s.Qf=e,s.zl=[],s.fe=[],s}return yt(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.zl,(function(n){return t.trackPageEvent(n)})),this.zl=[],csArray.prototype.forEach.call(this.fe,(function(n){return t.trackEventTriggerRecording(n)})),this.fe=[]},n.prototype.onStop=function(){},n.prototype.trackPageEvent=function(t){this.isStarted?n.Gl(t)&&(this.$l(t)?vh.isSupported()&&this.Jl(t):this.Yl(t)):csArray.prototype.push.call(this.zl,t)},n.prototype.$l=function(t){return Ot(t,mh)},n.prototype.Jl=function(t){return gt(this,void 0,void 0,(function(){var n,i;return St(this,(function(r){switch(r.label){case 0:return this.U.customHashIdEnabled?(n=csString.prototype.slice.call(t,17)).length>vh.MAX_DIGEST_INPUT_SIZE?(_n.warn("UserIdentifier event: invalid user identifier"),[2]):[4,vh.digest(n)]:[2];case 1:return(i=r.sent())?(this.Wl={eventName:i,isETR:!1,isCustomHashId:!0},this.Xl()):_n.warn("Page event: unable to compute customHashId"),this.U.encryptionEnabled?(this.Qf.emitUserIdentifierEvent(n),[2]):[2]}}))}))},n.prototype.Yl=function(t){this.Qf.emitPageEvent(t),this.Wl={eventName:t,isETR:!1,isCustomHashId:!1},this.Xl(),this.U.tagDeploymentMode===Gc.LoadClicktalePtc&&fh.sendPageEvent(t)},n.prototype.trackEventTriggerRecording=function(t){this.isStarted?n.Gl(t)&&(this.U.malkaEtrEnabled?this.Kl(t):this.Ql(t)):csArray.prototype.push.call(this.fe,t)},n.prototype.Kl=function(t){Ot(t,"@ETP@")?this.Qf.emitEventTriggerRecording(t,kr.ETR_PAGE):this.Qf.emitEventTriggerRecording(t,kr.ETR_SESSION),this.Wl={eventName:t,isETR:!0,isCustomHashId:!1},this.Xl()},n.prototype.Ql=function(t){var n;(ah(n=this.U)||n.tagDeploymentMode===Gc.LoadClicktalePtc)&&(this.Qf.emitEventTriggerRecording(t,kr.ETR_LEGACY),this.Wl={eventName:t,isETR:!0,isCustomHashId:!1},this.Xl(),this.U.tagDeploymentMode===Gc.LoadClicktalePtc&&fh.sendEventTriggerRecording(t))},n.prototype.getRequestParameters=function(){return{value:this.Sa.compressSync(this.Wl.eventName,"base64"),ct:this.Sa.algorithm,isETR:"".concat(this.Wl.isETR),isCustomHashId:"".concat(this.Wl.isCustomHashId)}},n.prototype.Xl=function(){this.Bl.send()},n.Gl=function(t){return R(t)&&!!csString.prototype.trim.call(t)},n}(Sr),Sh=["trackPageEvent"],bh=["trackEventTriggerRecording"],Eh=function(){function t(t,n,i,r,e){this.U=t,this.Ih=n,this.Sa=i,this.ah=r,this.Qf=e}return t.prototype.init=function(){var t=this,n=new Ut(this.U.getTrackerUri(),"pageEvent");this.Zl=new gh(this.U,n,this.Sa,this.Qf),n.setRequestParametersProviders(this.Zl,this.ah),this.Ih.register(Sh,(function(n){t.Zl.trackPageEvent(n)})),this.Ih.register(bh,(function(n){t.Zl.trackEventTriggerRecording(n)}))},t.prototype.onStartTracking=function(){this.Zl.start()},t}(),Ah=function(){function t(){this.subscriptions={}}return t.prototype.subscribe=function(t,n){this.subscriptions[t]=n,1===Object.keys(this.subscriptions).length&&this.onStartTracking()},t.prototype.unsubscribe=function(t){delete this.subscriptions[t],0===Object.keys(this.subscriptions).length&&this.onStopTracking()},t}(),Rh=function(t){function n(){var n=t.call(this)||this;return n.Ci=new yo((function(t){return n.errorListener(t)})),n}return yt(n,t),n.prototype.onStartTracking=function(){this.Ci.observe()},n.prototype.onStopTracking=function(){this.Ci.disconnect()},n.prototype.errorListener=function(t){var n=this.tv(t);for(var i in this.subscriptions){(0,this.subscriptions[i])(n)}},n.prototype.nv=function(t){return t=null!=t?t:"[NO ERROR MESSAGE]",He.truncate(t,n.Nc,He.ELLIPSIS)},n.prototype.iv=function(t){return!t||Lr(t)?"":He.truncate(t,n.kc,He.ELLIPSIS)},n.prototype.tv=function(t){return{errorType:"jsError",message:this.nv(t.message),filename:this.iv(t.filename),lineno:t.lineno,colno:t.colno}},n.Nc=1024,n.kc=150,mt([Bn("Event handler type: error")],n.prototype,"errorListener",null),n}(Ah),Th=["[data-cs-mask]","#c1_card_info_id"],Oh=function(){function t(t){var n,i,r;this.U=t,this.rv=At([],Et(Th),!1),this.ev=[{selector:"input:not([type=button]):not([type=submit])",attrName:"value"}],this.sv={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.ov={PIISelectors:At([".ctHidden,textarea"],Et(Th),!1),Attributes:[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]},this.uv={elementSelector:"",attrSelector:"",attrSelectors:[]};var e={PIISelectors:[],Attributes:[]};if(ah(this.U)||((n=csArray.prototype.push).call.apply(n,At([e.PIISelectors],Et(this.rv),!1)),(i=csArray.prototype.push).call.apply(i,At([e.Attributes],Et(this.ev),!1))),this.U.isSMB){(r=csArray.prototype.push).call.apply(r,At([e.PIISelectors],Et(["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"]),!1))}this.uv=lr.getComputedSelectorSettings(e,this.uv)}return t.prototype.setMaskedElementSettingsFromCommand=function(t){t=lr.sanitizeSelectorUserInput(t),lr.isSelectorUserInput(t)&&this.cv(t)},t.prototype.setMaskedElementSettingsFromParent=function(t){var n={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.cv(n)},t.prototype.getMaskedElementSettings=function(t){return t?this.hv(this.sv):this.uv},t.prototype.initCTPII=function(){var t,n,i,r,e,s,o,u=this.ov;(null===(r=null===(i=null===(n=null===window||void 0===window?void 0:window.ClickTaleSettings)||void 0===n?void 0:n.DOM)||void 0===i?void 0:i.PII)||void 0===r?void 0:r.Text)instanceof Array&&(t=u.PIISelectors).push.apply(t,At([],Et(window.ClickTaleSettings.DOM.PII.Text),!1)),(null===(o=null===(s=null===(e=null===window||void 0===window?void 0:window.ClickTaleSettings)||void 0===e?void 0:e.DOM)||void 0===s?void 0:s.PII)||void 0===o?void 0:o.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach((function(t){R(t.attr)&&R(t.rule)&&u.Attributes.push({selector:t.rule,attrName:t.attr})})),this.cv(u)},t.prototype.cv=function(t){this.uv=this.hv(t)},t.prototype.hv=function(t){return lr.getComputedSelectorSettings(t,this.uv)},t}(),Nh=function(){function t(t){this.Ih=t}return t.prototype.init=function(){this.av(t.fv,dn),this.av(t.lv,vn)},t.prototype.av=function(t,n){this.Ih.register([t],(function(t,i){R(t)&&(R(i)||_(i))&&_n.error(i,"".concat(n).concat(t))}))},t.lv="logSnippetError",t.fv="logImplementationSnippetError",t}(),kh=function(){function t(t,n,i,r,e){this.U=t,this.ua=n,this.kh=i,this.Xf=r,this.aa=e}return t.prototype.init=function(){var t=this;this.ua.onChildMessage((function(n,i,r){return t.aa.emitIframeEvent(n,i,r)})),this.ua.setSentiveStatusCallback((function(){return t.Xf.getSensitiveStatus()})),this.ua.setRecordingContextCallback((function(){return t.kh.getRecordingContext()}))},t.prototype.onStartTracking=function(){this.U.iframesTracking&&this.ua.start()},t.prototype.onOptout=function(){this.U.iframesTracking&&this.ua.stop()},t.prototype.onSensitiveStatusChange=function(){if(this.U.iframesTracking){var t=this.Xf.getSensitiveStatus();this.ua.onSensitiveStatusChange(t)}},t.prototype.onRecordingContextChange=function(){if(this.U.iframesTracking){var t=this.kh.getRecordingContext();this.ua.onRecordingContextChange(t)}},t}(),Ih=function(t){function n(n){var i=t.call(this)||this;return i.U=n,i.vv=0,i.yv=new Map,i.wv={boundElement:window,type:"message",listener:function(t){return i.pv(t)}},i}return yt(n,t),n.prototype.onChildMessage=function(t){this.mv=t},n.prototype.setRecordingContextCallback=function(t){this.gv=t},n.prototype.setSentiveStatusCallback=function(t){this.Sv=t},n.prototype.onSensitiveStatusChange=function(t){var n=this,i=On.buildBaseMessage(Tn.SensitiveStatus,Rn.Parent,this.U.projectId);i.content=t;var r=On.buildBaseMessage(Tn.SensitiveStatus,Rn.Parent,this.U.projectId);r.content=wt(wt({},t),{started:!1,useAnonymization:!0,capturedElementSelector:""}),this.yv.forEach((function(t){if(t.port){var e=n.bv(t)?r:i;n.Ev(t,e)}}))},n.prototype.onRecordingContextChange=function(t){var n=this,i=On.buildBaseMessage(Tn.RecordingContext,Rn.Parent,this.U.projectId);i.content=t,this.yv.forEach((function(t){!n.bv(t)&&t.port&&n.Ev(t,i)}))},n.prototype.sendToChildren=function(t,n){var i=On.buildBaseMessage(t,Rn.Parent,this.U.projectId);i.content=n,this.Av(i)},n.prototype.onStart=function(){Gi(this.wv,!1),this.Rv()},n.prototype.onStop=function(){this.Tv(),$i(this.wv,!1),this.Ov()},n.prototype.Rv=function(){var t=this,n=this.Nv();this.kv(n),csArray.prototype.forEach.call(n,(function(n){if(null===t.Iv(n)){var i={iframe:n};t.yv.set(t.vv,i),t.vv+=1}})),this.Cv()},n.prototype.Nv=function(){var t=this;return csArray.prototype.filter.call(he.findAllElements("iframe"),(function(n){return t._v(n)}))},n.prototype.kv=function(t){var n=this;this.yv.forEach((function(i,r){i.iframe&&-1===csArray.prototype.indexOf.call(t,i.iframe)&&n.Mv(r,i)}))},n.prototype.Mv=function(t,n){n.port&&On.closeChannelPort(n.port),this.yv.delete(t)},n.prototype.Ov=function(){this.yv.forEach((function(t){t.port&&On.closeChannelPort(t.port)})),this.yv.clear()},n.prototype.Iv=function(t){var n=null;return this.yv.forEach((function(i,r){null===n&&i.iframe===t&&(n=r)})),n},n.prototype._v=function(t){return t.id!==s&&(!t.src||Sn(gn(t.src),this.U.hostnames))},n.prototype.Av=function(t){var n=this;this.yv.forEach((function(i){n.Ev(i,t)}))},n.prototype.Ev=function(t,n){var i=n.type===Tn.SensitiveStatus||n.type===Tn.RecordingContext;!t.port||i&&!t.initialStatusSent||On.sendChannelMessage(t.port,n)},n.prototype.Cv=function(){var t=this;this.yv.forEach((function(n,i){if(n.iframe.contentWindow){var r=t.Pv(i);On.sendPostMessage(n.iframe.contentWindow,"*",r)}}))},n.prototype.Tv=function(){var t=this.xv();this.yv.forEach((function(n){n.port?On.sendChannelMessage(n.port,t):n.iframe.contentWindow&&On.sendPostMessage(n.iframe.contentWindow,"*",t)}))},n.prototype.Pv=function(t){return On.buildBaseMessage(Tn.Discovery,Rn.Parent,this.U.projectId,t)},n.prototype.xv=function(){return On.buildBaseMessage(Tn.Stop,Rn.Parent,this.U.projectId)},n.prototype.Dv=function(t,n){var i=this,r=this.yv.get(t);void 0!==r?(r.port=n,r.port.onmessage=function(t){i.Lv(t,r)}):_n.error("Parent received channel messaging initialization from unknow child id : ".concat(t," (").concat(this.vv,")"))},n.prototype.Uv=function(t){if(t.port){var n=On.buildBaseMessage(Tn.SensitiveStatus,Rn.Parent,this.U.projectId),i=this.Sv();this.bv(t)&&(i.started=!1,i.capturedElementSelector="",i.useAnonymization=!0),n.content=i,On.sendChannelMessage(t.port,n)}},n.prototype.jv=function(t){if(t.port){var n=On.buildBaseMessage(Tn.RecordingContext,Rn.Parent,this.U.projectId),i=this.gv();this.bv(t)&&(i.isRecording=!1,i.isMutationTrackerStarted=!1),n.content=i,On.sendChannelMessage(t.port,n)}},n.prototype.Lv=function(t,n){if(void 0!==n){var i=t.data.type,r=t.data.content;i===Tn.EndOfBufferedMessages?(this.Uv(n),this.jv(n),n.initialStatusSent=!0):this.mv(n.iframe,i,r)}else _n.error("Parent received channelMessage from unknown child : ".concat(csJSON.stringify(t.data)))},n.prototype.pv=function(t){if(On.isMessageValid(t,Rn.Child,this.U.projectId,this.U.hostnames))switch(t.data.type){case Tn.Discovery:if(void 0===t.data.id)return void this.Rv();if(t.ports&&1===t.ports.length&&this.yv.has(t.data.id))return void this.Dv(t.data.id,t.ports[0]);_n.error("Parent received wrong channelMessage initialization : (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)));break;case Tn.ChildLogMessage:this.mv(null,Tn.ChildLogMessage,t.data.content);break;default:_n.warn("Parent received unexpected postMessage type from child (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)))}},n.prototype.bv=function(t){return lr.isMaskedElement(t.iframe)||lr.isMaskedElementChild(t.iframe)},n}(Sr),Ch=function(){function t(t){this.qv=t}return t.prototype.buildApiErrors=function(t,n){var i=this.qv.collectDataPoints(t,n);if(null===i)return null;var r=this.Hv(t,i);return n?{apiError:r,detailedApiError:this.Fv(t,i)}:{apiError:r}},t.prototype.Fv=function(t,n){var i=this.Vv(t);return n.collectQueryParam&&t.queryParameters&&(i.queryParameters=t.queryParameters),n.collectRequestBody&&t.requestBody&&(i.requestBody=t.requestBody),n.collectResponseBody&&t.responseBody&&(i.responseBody=t.responseBody),Object.keys(n.standardRequestHeaders).length>0&&(i.standardRequestHeaders=n.standardRequestHeaders),Object.keys(n.standardResponseHeaders).length>0&&(i.standardResponseHeaders=n.standardResponseHeaders),Object.keys(n.customRequestHeaders).length>0&&(i.customRequestHeaders=csJSON.stringify(n.customRequestHeaders)),Object.keys(n.customResponseHeaders).length>0&&(i.customResponseHeaders=csJSON.stringify(n.customResponseHeaders)),Object.keys(n.plainCustomRequestHeaders).length>0&&(i.plainCustomRequestHeaders=n.plainCustomRequestHeaders),Object.keys(n.plainCustomResponseHeaders).length>0&&(i.plainCustomResponseHeaders=n.plainCustomResponseHeaders),n.plainResponseBodyAttributes&&Object.keys(n.plainResponseBodyAttributes).length>0&&(i.plainResponseBodyAttributes=n.plainResponseBodyAttributes),n.plainRequestBodyAttributes&&Object.keys(n.plainRequestBodyAttributes).length>0&&(i.plainRequestBodyAttributes=n.plainRequestBodyAttributes),Object.keys(n.responseBodyAttributes).length>0&&(i.responseBodyAttributes=csJSON.stringify(n.responseBodyAttributes)),Object.keys(n.requestBodyAttributes).length>0&&(i.requestBodyAttributes=csJSON.stringify(n.requestBodyAttributes)),i},t.prototype.Vv=function(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}},t.prototype.Hv=function(t,n){var i=this.Vv(t);return n.matchingBodyContents.length>0&&(i.matchingBodyContents=n.matchingBodyContents),Object.keys(n.plainResponseBodyAttributes).length>0&&(i.plainBodyResponseAttributes=n.plainResponseBodyAttributes),i},t}(),_h=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Bv=n,e.zv=i,e.Gv=r,e.$v=0,e.Jv=new Ch(r),e}return yt(n,t),n.prototype.subscribe=function(n,i,r){(null==r?void 0:r.detailedEvent)&&(Object.defineProperty(i,"detailedEvent",{value:r.detailedEvent}),this.$v++),t.prototype.subscribe.call(this,n,i)},n.prototype.unsubscribe=function(n){var i;(null===(i=this.subscriptions[n])||void 0===i?void 0:i.hasOwnProperty("detailedEvent"))&&this.$v--,t.prototype.unsubscribe.call(this,n)},n.prototype.init=function(){var t=this,n=this.Gv.computeApiErrorCollectionOptions();this.Bv.setCollectionOptions(n),this.Bv.onEvent((function(n){return t.Yv(n)})),this.zv.setCollectionOptions(n),this.zv.onEvent((function(n){return t.Yv(n)}))},n.prototype.onStartTracking=function(){this.Bv.start(),this.zv.start()},n.prototype.onStopTracking=function(){this.Bv.stop(),this.zv.stop()},n.prototype.Yv=function(t){var n=this.Jv.buildApiErrors(t,0!==this.$v);if(n)for(var i in this.subscriptions){var r=this.subscriptions[i];r.hasOwnProperty("detailedEvent")?n.detailedApiError&&r(n.detailedApiError):r(n.apiError)}},n}(Ah),Mh=function(){function t(t,n){this._h=t,this.Go=n}return t.prototype.addUrlMaskingPattern=function(t){this._h.addUrlMaskingPattern(t)},t.prototype.anonymize=function(t){var n=this.Go.removeQueryString(t.url);return wt(wt({},t),{url:this.Go.anonymizeUrl(n,this._h.getUrlMaskingPatterns(),this._h.getPartialUrlMaskingPatterns()),library:t.library?this.Go.anonymizeUrl(t.library,this._h.getUrlMaskingPatterns(),this._h.getPartialUrlMaskingPatterns()):void 0})},t}(),Ph=function(){function t(t,n){this.j=t,this.ot=n}return t.prototype.anonymize=function(t){return R(t.message)&&(t.message=this.Wv(t.message),t.message=this.j.anonymizePII(t.message)),R(t.filename)&&(t.filename=this.ot.computeOverriddenUrl(t.filename)),t},t.prototype.Wv=function(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,"value='".concat("CS_ANONYMIZED_VALUE","'"))},t}(),xh=function(t){function n(n){var i=t.call(this)||this;return i.Xv=n,i.He=[{boundElement:document,type:"touchstart",listener:function(t){return i.ve(t)}},{boundElement:document,type:"touchmove",listener:function(t){return i.ve(t)}},{boundElement:document,type:"touchend",listener:function(t){return i.ve(t)}}],i.Kv=new oo,i.Kv.onGesture((function(t,n){return i.cc(t,n)})),i}return l(n,t),n.prototype.cc=function(t,n){for(var i in this.subscriptions){(0,this.subscriptions[i])(t,n)}},n.prototype.onStartTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.He,(function(t){return Gi(t)}))},n.prototype.onStopTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.He,(function(t){return $i(t)}))},n.prototype.canDetectGesture=function(){return"undefined"!=typeof devicePixelRatio},n.prototype.ve=function(t){var n=this;this.Xv.tryToExecute("process gesture event",(function(){if(n.Kv.isValidTouchEvent(t))switch(t.type){case"touchstart":n.Kv.processActionDown(t);break;case"touchmove":n.Kv.processActionMove();break;case"touchend":n.Kv.processActionUp(t)}}))()},n.isSwipe=function(t){return t.type===Js.FLICK||t.type===Js.DRAG},n}(Ah),Dh=function(t){function n(n,i){var r=t.call(this)||this;return r.qr=n,r.Qv=i,r.Zv=0,r}return yt(n,t),n.prototype.onStart=function(){var t=this;_n.isPerfLoggingActive()&&(this.td=window.csSetInterval((function(){return t.nd()}),n.rd))},n.prototype.onStop=function(){_n.isPerfLoggingActive()&&(this.nd(),csClearInterval(this.td))},n.prototype.nd=function(){if(!(Kn.isEmpty||this.Zv>=n.sd)){this.Zv++;var t=wt({a:n.od,l:n.ud},this.Qv.getRequestParameters()),i=[];Kn.forEach((function(n){csArray.prototype.forEach.call(n,(function(n){csArray.prototype.push.call(i,wt(wt({},n),t))}))})),this.qr.send(i),Kn.clear()}},n.od="uxa",n.ud="perf",n.rd=5e3,n.sd=5,n}(Sr),Lh=function(){function t(t,n,i){this.U=t,this.Qv=n,this.Dh=i}return t.prototype.init=function(){this.ad=new Dh(this.Dh.create(this.U.getLoggerUri(),!0),this.Qv)},t.prototype.onStartTracking=function(){this.ad.start()},t.prototype.onOptout=function(){this.ad.stop()},t}(),Uh=function(){function t(t){this.Xf=t,this.ld=!1}return t.prototype.enableRecordingContext=function(t,n,i,r){this.ld=!0,this.pa=t,this.K=n,this.jr=i,this.Gh=r},t.prototype.getRecordingContext=function(){var t,n,i,r;if(!this.ld)return{isRecording:!1,recordingStartTimestamp:0,etrState:Nr.ETR_OFF,etrStatus:Ir.ETR_DISABLED,collectState:Or.ANALYTICS_ONLY};var e=this.K.getSession();return{isRecording:this.pa.isRecording(),isMutationTrackerStarted:this.pa.isStarted,useAnonymization:this.Xf.getSensitiveStatus().useAnonymization,encryptionSelectors:null===(t=this.jr)||void 0===t?void 0:t.getEncryptionSelectors(),activateOnlineAssetsOnNextStart:null===(n=this.pa.getStaticResourceManagerStatus())||void 0===n?void 0:n.onlineAssets.enabledForChildrenOnNextStart,recordingStartTimestamp:parseInt(this.pa.getRecordingStartTimestamp(),10),etrState:null!==(i=null==e?void 0:e.etrState)&&void 0!==i?i:Nr.ETR_OFF,etrStatus:this.Gh.getEtrStatus(e),collectState:null!==(r=null==e?void 0:e.collectState)&&void 0!==r?r:Or.ANALYTICS_ONLY}},t}(),jh=function(){function t(){}return t.isRecordingSupported=function(){return"MutationObserver"in window&&"visibilityState"in document},t.isAsyncSerializationSupported=function(){return"Promise"in window&&"findIndex"in csArray.prototype},t}(),qh=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.Lr=n,s.vd=i,s.oh=r,s.Ur=e,s.dd=[],s.Xr=0,s}return yt(n,t),n.prototype.init=function(){this.Lr.init()},n.prototype.initStates=function(){this.yd(),this.dd=[],this.Xr=0,this.qf()},n.prototype.qf=function(){this.Bf=rn()},n.prototype.Vf=function(){return rn()-this.Bf},n.prototype.onStart=function(){var t=this;this.Lr.subscribe(n.Re,(function(n){return t.ve(n)}))},n.prototype.onStop=function(){this.Lr.unsubscribe(n.Re)},n.prototype.onIframeApiError=function(t){this.ve(t)},n.prototype.ve=function(t){this.isStarted&&this.Xr<n.Th&&(t.relativeTime=this.Vf(),csArray.prototype.push.call(this.dd,this.Ur.anonymize(t)),this.wd())},n.prototype.yd=function(){this.vd.removeQueryParams(),this.vd.setQueryParams(this.oh.getRequestParameters())},n.prototype.wd=function(){this.vd.send({errors:this.dd}),this.dd=[],this.Xr+=1},n.Re="ApiErrorsService",n.Th=20,n}(Sr),Hh=["api-errors:maskUrl"],Fh=function(){function t(t,n,i,r,e,s,o){this.Lr=t,this.Ur=n,this.U=i,this.oh=r,this.aa=e,this.Ih=s,this.Dh=o}return t.prototype.init=function(){var t=this.Dh.create("".concat(this.U.getTrackerUri(),"/").concat("api-errors"),!0);this.pd=new qh(this.Lr,t,this.oh,this.Ur),this.pd.init(),this.aa.addListener(this.pd),this.md()},t.prototype.md=function(){var t=this;this.Ih.register(Hh,(function(n){R(n)&&t.Ur.addUrlMaskingPattern(n)}))},t.prototype.onStartTracking=function(){this.pd.start()},t.prototype.onAfterNaturalPageView=function(){this.pd.initStates()},t.prototype.onAfterArtificialPageView=function(){this.pd.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.pd.stop()},t.prototype.onOptout=function(){this.pd.stop()},t}(),Vh=function(t){function n(n,i,r,e,s,o){var u=t.call(this)||this;return u.gd=n,u.Sd=i,u.oh=r,u.Dr=e,u.Mh=s,u.ot=o,u.bd=[],u.Oh=0,u.Ed=[],u}return yt(n,t),n.prototype.initStates=function(){this.Bf=rn(),this.Sd.removeQueryParams(),this.Sd.setQueryParams(this.oh.getRequestParameters()),this.bd=[],this.Oh=0},n.prototype.onStart=function(){var t=this;this.gd.subscribe(n.Re,(function(n){return t.ve(n)})),this.Ad()},n.prototype.onStop=function(){this.gd.unsubscribe(n.Re)},n.prototype.onIframeJavascriptError=function(t){this.ve(t)},n.prototype.trackCustomError=function(t){var n={errorType:"jsError",message:"".concat("Custom Error:"," ").concat(t),lineno:1,colno:1,filename:"https://cserror.com/texterror.js"};this.Rd(n)},n.prototype.Rd=function(t){if(this.isStarted){var n=this.ve(t);n&&this.Mh.emitCustomJavaScriptErrorEvent(n)}else csArray.prototype.push.call(this.Ed,t)},n.prototype.Ad=function(){var t=this;this.isStarted&&(csArray.prototype.forEach.call(this.Ed,(function(n){return t.Rd(n)})),this.Ed=[])},n.prototype.ve=function(t){if(this.isStarted&&this.Oh<20){var n=wt(wt({},t),{pageUrl:this.ot.getAnonymizedUrl(),rt:this.Vf()});return this.Dr.anonymize(n),csArray.prototype.push.call(this.bd,n),this.wd(),n}return null},n.prototype.Vf=function(){return rn()-this.Bf},n.prototype.wd=function(){this.Sd.send({errors:this.bd}),this.bd=[],this.Oh+=1},n.Re="JavaScriptErrorsService",n}(Sr),Bh=["trackError"],zh=function(){function t(t,n,i,r,e,s,o,u,c){this.gd=t,this.Dr=n,this.U=i,this.oh=r,this.aa=e,this.Ih=s,this.Mh=o,this.ot=u,this.Dh=c}return t.prototype.init=function(){var t=this.Dh.create("".concat(this.U.getTrackerUri(),"/").concat("errors"),!0);this.Td=new Vh(this.gd,t,this.oh,this.Dr,this.Mh,this.ot),this.aa.addListener(this.Td),this.md()},t.prototype.md=function(){var t=this;this.U.jsCustomErrorsEnabled&&!this.U.customErrors.enabled&&this.Ih.register(Bh,(function(n){t.Td.trackCustomError(n)}))},t.prototype.onStartTracking=function(){this.Td.start()},t.prototype.onAfterNaturalPageView=function(){this.Td.initStates()},t.prototype.onAfterArtificialPageView=function(){this.Td.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.Td.stop()},t.prototype.onOptout=function(){this.Td.stop()},t}();!function(t){t.buildCustomErrorEvent=function(t,n,i){void 0===i&&(i=!1);var r={message:He.truncate(t,300,He.ELLIPSIS),errorType:"customError"};return(i||function(t){var n=Object.keys(t).length;return n>0&&n<=5}(n))&&(!function(t){for(var n in t){var i=t[n];if(t[n].length>30&&(i=He.truncate(t[n],30,He.ELLIPSIS),t[n]=i),n.length>30){var r=He.truncate(n,30,He.ELLIPSIS);delete t[n],t[r]=i}}}(n),r.attributes=n),r}}(ph||(ph={}));var Gh,$h,Jh=function(t){function n(n,i,r,e,s){var o=t.call(this)||this;return o.Od=n,o.oh=i,o.Nd=r,o.Qf=e,o.kd=s,o.Id=[],o.Nh=0,o.Ed=[],o}return yt(n,t),n.prototype.initStates=function(){var t,n=this;this.yd(),this.Bf=rn(),this.Id=[],this.Nh=0,null===(t=this.kd)||void 0===t||t.onEvent((function(t){return n.ve(t)}))},n.prototype.trackCustomError=function(t,n){if(void 0===n&&(n={}),R(t)&&O(n)){var i=ph.buildCustomErrorEvent(t,n);this.Rd(i)}},n.prototype.onIframeCustomError=function(t){this.ve(t)},n.prototype.onStart=function(){var t;this.Ad(),null===(t=this.kd)||void 0===t||t.start()},n.prototype.onStop=function(){var t;null===(t=this.kd)||void 0===t||t.stop()},n.prototype.Ad=function(){var t=this;this.isStarted&&(csArray.prototype.forEach.call(this.Ed,(function(n){return t.Rd(n)})),this.Ed=[])},n.prototype.Rd=function(t){if(this.isStarted){var n=this.ve(t);n&&this.Qf.emitCustomErrorEvent(n)}else csArray.prototype.push.call(this.Ed,t)},n.prototype.ve=function(t){if(this.isStarted&&this.Nh<20){var n=this.Cd(t);return csArray.prototype.push.call(this.Id,n),this.wd(),n}return null},n.prototype.Cd=function(t){var n=wt(wt({},t),{rt:this.Vf()});return n.message=this.Nd.anonymize(t.message),n},n.prototype.yd=function(){this.Od.removeQueryParams(),this.Od.setQueryParams(this.oh.getRequestParameters())},n.prototype.Vf=function(){return rn()-this.Bf},n.prototype.wd=function(){this.Od.send({errors:this.Id}),this.Id=[],this.Nh+=1},n}(Sr),Yh=function(){function t(t,n,i,r,e,s,o,u){this.Nd=t,this.U=n,this.oh=i,this.Ih=r,this.Mh=e,this.Dh=s,this.aa=o,this.kd=u}return t.prototype.init=function(){var t=this.Dh.create("".concat(this.U.getTrackerUri(),"/").concat("custom-errors"),!0);this._d=new Jh(t,this.oh,this.Nd,this.Mh,this.kd),this.aa.addListener(this._d),this.md()},t.prototype.md=function(){var t=this;this.Ih.register(Bh,(function(n,i){t._d.trackCustomError(n,i)}))},t.prototype.onStartTracking=function(){this._d.start()},t.prototype.onAfterNaturalPageView=function(){this._d.initStates()},t.prototype.onAfterArtificialPageView=function(){this._d.initStates()},t.prototype.onBeforeSessionRenewal=function(){this._d.stop()},t.prototype.onOptout=function(){this._d.stop()},t}(),Wh=function(){function t(){this.Md=Dc.Natural}return t.prototype.setPageViewType=function(t){this.Md=t},t.prototype.getPageViewType=function(){return this.Md},t.prototype.getRequestParameters=function(){return{pvt:this.Md}},t}(),Xh=function(){function t(t){this.Pr=t}return t.prototype.onAfterVisitorRenewal=function(){this.Pr.renewSession()},t}();!function(t){t.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",t.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",t.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",t.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(Gh||(Gh={})),function(t){t.START="start",t.NOT_START="not-start",t.END="end",t.NOT_END="not-end",t.CONTAIN="contain",t.NOT_CONTAIN="not-contain",t.EXACT="exact",t.NOT_EXACT="not-exact"}($h||($h={}));var Kh,Qh,Zh=function(){function t(t,n,i,r){this.bl=t,this.U=n,this.ot=i,this.Pd=r}return t.prototype.init=function(){this.xd()},t.prototype.shouldMaskNonTextElements=function(){return this.U.isSMB&&this.U.anonymisationMethod===Gh.replayRecordingMaskedUrlRegexRules&&this.shouldUseAnonymization()},t.prototype.shouldUseAnonymization=function(){if(this.bl.isReplayUnanonymizedAllowedByConsent()){switch(this.U.anonymisationMethod){case null:case Gh.replayRecordingMaskedUrlRegex:return!(!this.U.replayRecordingMaskedUrlRegex||!this.U.replayRecordingMaskedUrlRegex.test(this.ot.getAnonymizedUrl()));case Gh.replayRecordingMaskedUrlRegexRules:return this.Pd.evaluateUrl(this.ot.getAnonymizedUrl())}return!1}switch(this.U.anonymisationMethod){case null:case Gh.replayRecordingUnmaskedUrlRegex:return!(this.U.replayRecordingUnmaskedUrlRegex&&this.U.replayRecordingUnmaskedUrlRegex.test(this.ot.getAnonymizedUrl()));case Gh.replayRecordingUnmaskedUrlRegexRules:return!this.Pd.evaluateUrl(this.ot.getAnonymizedUrl())}return!0},t.prototype.xd=function(){this.U.anonymisationMethod===Gh.replayRecordingMaskedUrlRegexRules&&this.U.replayRecordingMaskedUrlRegexRules?this.Pd.setRegexRules(this.U.replayRecordingMaskedUrlRegexRules):this.U.anonymisationMethod===Gh.replayRecordingUnmaskedUrlRegexRules&&this.U.replayRecordingUnmaskedUrlRegexRules&&this.Pd.setRegexRules(this.U.replayRecordingUnmaskedUrlRegexRules)},t}(),ta=function(){function t(){this.Dd=[]}return t.prototype.setRegexRules=function(t){var n=this;this.Dd=csArray.prototype.map.call(t,(function(t){return n.Ld(t)}))},t.prototype.evaluateUrl=function(t){var n=this;return csArray.prototype.some.call(this.Dd,(function(i){var r,e,s=n.Ud(t,i);return(null==i?void 0:i.notOperator)?!(null===(r=i.regex)||void 0===r?void 0:r.test(s)):null===(e=i.regex)||void 0===e?void 0:e.test(s)}))},t.prototype.Ud=function(t,n){var i=En(t);return i?n.ignoreQueryParams&&n.ignoreURIFragments?"".concat(i.origin).concat(i.pathname):n.ignoreQueryParams?"".concat(i.origin).concat(i.pathname).concat(i.hash):n.ignoreURIFragments?"".concat(i.origin).concat(i.pathname).concat(i.search):t:t},t.prototype.jd=function(t){return t.ignoreCaseSensitivity?"i":""},t.prototype.Ld=function(t){switch(t.operator){case $h.NOT_START:t.notOperator=!0;case $h.START:t.regex=new csRegExp("^".concat(t.value),this.jd(t));break;case $h.NOT_END:t.notOperator=!0;case $h.END:t.regex=new csRegExp("".concat(t.value,"$"),this.jd(t));break;case $h.NOT_CONTAIN:t.notOperator=!0;case $h.CONTAIN:t.regex=new csRegExp("".concat(t.value),this.jd(t));break;case $h.NOT_EXACT:t.notOperator=!0;case $h.EXACT:t.regex=new csRegExp("^".concat(t.value,"$"),this.jd(t));break;default:_n.warn("buildRegexWithRule, unknown type: ".concat(t.operator))}return t},t}(),na=function(){function t(){this.qd=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}return t.prototype.setCollectionOptions=function(t){this.Hd=t},t.prototype.isValidBodyType=function(t){var n=t["content-type"];if(!n)return!1;var i=csString.prototype.toLocaleLowerCase.call(n);return Ei(this.qd,(function(t){return Ot(i,t)}))},t.prototype.canCollect=function(t,n){return this.Fd(t,n)&&this.Vd(n)},t.prototype.Fd=function(t,n){return t>=400||t>=200&&t<300&&this.Hd.statusCodes.has(t)&&this.Bd(n)},t.prototype.Bd=function(t){return Ei(this.Hd.urls,(function(n){return-1!==csString.prototype.indexOf.call(t,n)}))},t.prototype.Vd=function(t){return function(t,n){for(var i=t.length,r=0;r<i;r++)if(!n(t[r],r))return!1;return!0}(this.Hd.excludedDomains,(function(n){return-1===csString.prototype.indexOf.call(t,n)}))},t}(),ia=function(t){function n(){var n=t.call(this)||this;return n.zd=csSymbol("ApiCall"),n.rr=!1,n.Gd=null,n.$d=null,n.Jd=null,n.Yd=function(t){var i=t.context,r=t.args,e=t.callerName;return n.interceptOpen(i,r,e)},n.Wd=function(t){var i=t.context,r=t.args;return n.interceptSetRequestHeader(i,r)},n.Xd=function(t){var i=t.context,r=t.args;return n.interceptSend(i,r)},n}return yt(n,t),n.prototype.onEvent=function(t){this.Fe=t},n.prototype.start=function(){this.rr||(this.Kd(),this.Gd&&this.Gd.activate(),this.$d&&this.$d.activate(),this.Jd&&this.Jd.activate(),this.rr=!0)},n.prototype.stop=function(){this.rr&&(this.Gd&&this.Gd.deactivate(),this.$d&&this.$d.deactivate(),this.rr=!1)},n.prototype.Kd=function(){this.Gd||(this.Gd=Fi({target:XMLHttpRequest.prototype,methodName:"open",hook:this.Yd,options:{withCallerName:!0}})),this.$d||(this.$d=Fi({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.Wd})),this.Jd||(this.Jd=Fi({target:XMLHttpRequest.prototype,methodName:"send",hook:this.Xd}))},n.prototype.interceptOpen=function(t,n,i){var r=this;if(n[1]&&R(n[1])){var e=Et(csString.prototype.split.call(n[1],"?"),2),s=e[0],o=e[1];t[this.zd]={library:i,requestTime:rn(),method:n[0],url:mn(s),queryParameters:o,statusCode:0,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},t.addEventListener("readystatechange",(function(){return r.readyStateChangeListener(t)}))}},n.prototype.readyStateChangeListener=function(n){n[this.zd]&&n.readyState===XMLHttpRequest.DONE&&this.canCollect(n.status,n[this.zd].url)&&(n[this.zd].responseTime=rn(),n[this.zd].statusCode=n.status,n[this.zd].responseHeaders=this.Qd(n.getAllResponseHeaders()),!t.prototype.isValidBodyType.call(this,n[this.zd].responseHeaders)||""!==n.responseType&&"text"!==n.responseType||(n[this.zd].responseBody=n.responseText),this.Fe(n[this.zd]))},n.prototype.interceptSetRequestHeader=function(t,n){if(t[this.zd]){var i=n[0],r=csString.prototype.valueOf.call(new csString(n[1]));"string"==typeof i&&0!==r.length&&(i=csString.prototype.toLowerCase.call(csString.prototype.trim.call(i)),r=csString.prototype.trim.call(r),t[this.zd].requestHeaders[i]?t[this.zd].requestHeaders[i]+=", ".concat(r):t[this.zd].requestHeaders[i]=r)}},n.prototype.interceptSend=function(n,i){n[this.zd]&&t.prototype.isValidBodyType.call(this,n[this.zd].requestHeaders)&&"string"==typeof i[0]&&(n[this.zd].requestBody=i[0])},n.prototype.Qd=function(t){var n={};return csArray.prototype.forEach.call(csString.prototype.split.call(t,/[\r\n]+/),(function(t){var i=Et(csString.prototype.split.call(t,/:\s*/),2),r=i[0],e=i[1];e&&(n[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(e))})),n},mt([Bn("XhrRequestTracker.interceptOpen")],n.prototype,"interceptOpen",null),mt([Bn("XhrRequestTracker.readyStateChangeListener")],n.prototype,"readyStateChangeListener",null),mt([Bn("XhrRequestTracker.interceptSetRequestHeader")],n.prototype,"interceptSetRequestHeader",null),mt([Bn("XhrRequestTracker.interceptSend")],n.prototype,"interceptSend",null),n}(na),ra=function(t){function n(){var n=t.call(this)||this;return n.rr=!1,n.Zd=null,n.ty=function(t){var i=t.result,r=t.args,e=t.callerName;n.interceptFetch(i,r,e)},n}return yt(n,t),n.prototype.onEvent=function(t){this.Fe=t},n.prototype.start=function(){this.rr||this.ny()&&(this.iy(),this.Zd&&this.Zd.activate(),this.rr=!0)},n.prototype.stop=function(){this.rr&&(this.Zd&&this.Zd.deactivate(),this.rr=!1)},n.prototype.ny=function(){return!!window.fetch&&"function"==typeof window.fetch},n.prototype.ey=function(t){if(t[0]&&"function"==typeof t[0].clone){var n=pi(t);return n[0]=t[0].clone(),n}return t},n.prototype.iy=function(){this.Zd||(this.Zd=Fi({target:window,methodName:"fetch",hook:this.ty,hookPrepareArgs:this.ey,options:{withCallerName:!0}}))},n.prototype.interceptFetch=function(n,i,r){return gt(this,void 0,void 0,(function(){var e,s,o,u,c,h,a,f,l,v,d,y,w,p;return St(this,(function(m){switch(m.label){case 0:if(e=i[0],s=i[1],!R((o=new Request(e,s)).url))return[2];u=rn(),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,n];case 2:return c=m.sent(),[3,4];case 3:if(h=m.sent(),this.sy(h)||this.oy(h)||this.uy(h))return[2];throw h;case 4:if(a=Et(csString.prototype.split.call(o.url,"?"),2),f=a[0],l=a[1],v=mn(f),!t.prototype.canCollect.call(this,c.status,v))return[3,11];if(d={library:r,method:o.method,url:v,queryParameters:l,requestTime:u,responseTime:rn(),statusCode:c.status,requestBody:"",responseBody:"",requestHeaders:this.hy(o.headers),responseHeaders:this.hy(c.headers)},c.bodyUsed||!t.prototype.isValidBodyType.call(this,d.responseHeaders))return[3,8];m.label=5;case 5:return m.trys.push([5,7,,8]),y=d,[4,c.clone().text()];case 6:return y.responseBody=m.sent(),[3,8];case 7:return w=m.sent(),this.oy(w)?[2]:[3,8];case 8:return t.prototype.isValidBodyType.call(this,d.requestHeaders)?(p=d,[4,o.text()]):[3,10];case 9:p.requestBody=m.sent(),m.label=10;case 10:this.Fe(d),m.label=11;case 11:return[2]}}))}))},n.prototype.sy=function(t){return t instanceof TypeError},n.prototype.oy=function(t){return t instanceof DOMException&&"AbortError"===t.name},n.prototype.uy=function(t){return t instanceof DOMException&&csArray.prototype.some.call(n.ly,(function(n){return n===t.name}))},n.prototype.hy=function(t){var n={};return t.forEach((function(t,i){t&&(n[csString.prototype.toLowerCase.call(i)]=csString.prototype.trim.call(t))})),n},n.ly=["NoModificationAllowedError","InvalidStateError","OperationError"],mt([Bn("FetchRequestTracker.interceptFetch")],n.prototype,"interceptFetch",null),n}(na),ea=function(){function t(){this.vy=64e3,this.yy=5e3,this.wy=2e3,this.py=8e3,this.vu=!!self.TextEncoder,this.vu&&(this.my=new TextEncoder)}return t.prototype.gy=function(t){return this.my.encode(t).byteLength},t.prototype.Sy=function(n,i,r){var e=0;n[i]&&(e+=this.gy(n[i]))>this.py&&(e=0,n[i]=He.ELLIPSIS),n[r]&&(e+=this.gy(csJSON.stringify(n[r])))>this.py&&(n[r]=t.truncatedObjectMarker)},t.prototype.by=function(t){t.queryParameters&&this.gy(t.queryParameters)>this.wy&&(t.queryParameters=He.ELLIPSIS)},t.prototype.Ey=function(t){t.requestBody&&this.gy(t.requestBody)>this.vy&&(t.requestBody=He.ELLIPSIS),t.responseBody&&this.gy(t.responseBody)>this.yy&&(t.responseBody=He.ELLIPSIS)},t.prototype.truncate=function(t){this.vu?(this.by(t),this.Ey(t),this.Sy(t,"customResponseHeaders","plainCustomResponseHeaders"),this.Sy(t,"customRequestHeaders","plainCustomRequestHeaders")):(t.queryParameters="",t.requestBody="",t.responseBody="",t.customResponseHeaders="",t.customRequestHeaders="",t.plainCustomResponseHeaders={},t.plainCustomRequestHeaders={})},t.truncatedObjectMarker=((Kh={})[He.ELLIPSIS]=He.ELLIPSIS,Kh),t}();!function(t){t.isValidJSONPath=function(t){if(!t)return!0;if(!function(t){for(var n=[],i=0;i<t.length;++i)if("["===t[i])csArray.prototype.push.call(n,t[i]);else if("]"===t[i]){if(!(csString.prototype.indexOf.call(t,"[")>-1))return!1;csArray.prototype.pop.call(n)}return 0===n.length}(t))return!1;var n=csString.prototype.split.call(t,/[\[\]]/);return csArray.prototype.every.call(n,(function(t){var n=t[0],i=t[t.length-1];if(("'"===n||'"'===n)&&n!==i)return!1;var r=csString.prototype.split.call(t,".");return 0===r[0].length&&csArray.prototype.shift.call(r),csArray.prototype.every.call(r,(function(t){var n=/^\-?\d+$/.exec(t);return n?parseInt(n[0],10)>=0:"$"===t||/\w+/.test(t)}))}))},t.getJSONPathValue=function(t,n){var i,r;if(t){var e=csString.prototype.split.call(t,/[\$\[\]]/),s=[];csArray.prototype.forEach.call(e,(function(t){var n;"'"!==t[0]&&'"'!==t[0]?(n=csArray.prototype.push).call.apply(n,Fn([s],Hn(csArray.prototype.filter.call(csString.prototype.split.call(t,"."),(function(t){return t.length>0}))),!1)):csArray.prototype.push.call(s,csString.prototype.substring.call(t,1,t.length-1))})),"$"===s[0]&&csArray.prototype.shift.call(s);var o=n;try{for(var u=qn(s),c=u.next();!c.done;c=u.next()){var h=c.value;if(void 0===o[h])return;o=o[h]}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return o}}}(Qh||(Qh={}));var sa,oa=function(){function t(){this.Ay=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}return t.prototype.isValidStandardHeader=function(t){return this.Ay.has(t)},t}(),ua=function(){function t(){this.Ry=64e3,this.Ty=100,this.Oy={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this.Ny=new oa}return t.prototype.ky=function(t){return t.length<=this.Ry},t.prototype.Iy=function(t){var n=t["content-type"];return void 0!==n&&(cn(n,"application/json")||cn(n,"application/graphql"))},t.prototype.Cy=function(t,n){return t&&this.ky(t)&&this.Iy(n)},t.prototype._y=function(t,n,i,r){var e="request"===r?this.My:this.Py;if(void 0!==e||this.Cy(n,i)){if(void 0===e)try{e=csJSON.parse(n),"request"===r?this.My=e:this.Py=e}catch(t){return}var s=Qh.getJSONPathValue(t,e);if(void 0!==s&&(null===s||!O(s))){var o=R(s)?s:csJSON.stringify(s);return He.truncate(o,this.Ty,He.ELLIPSIS)}}},t.prototype.isBodyAttributeValueFound=function(t,n){var i,r;return"request-response"!==n.type&&"response"!==n.type||(i=this._y(n.path,t.responseBody,t.responseHeaders,"response")),"request-response"!==n.type&&"request"!==n.type||(r=this._y(n.path,t.requestBody,t.requestHeaders,"request")),N(i)||N(r)},t.prototype.collectBodyAttribute=function(t,n,i){var r;"request-response"!==n.type&&"response"!==n.type||(r=this._y(n.path,t.responseBody,t.responseHeaders,"response"))&&(n.encrypted?this.Oy.responseBodyAttributes[n.path]=r:(r=i(r),this.Oy.plainResponseBodyAttributes[n.path]=r)),"request-response"!==n.type&&"request"!==n.type||(r=this._y(n.path,t.requestBody,t.requestHeaders,"request"))&&(n.encrypted?r&&(this.Oy.requestBodyAttributes[n.path]=r):(r=i(r),this.Oy.plainRequestBodyAttributes[n.path]=r))},t.prototype.isBodyContentMatching=function(t,n){return!!t.responseBody&&!!new csRegExp(n,"i").test(t.responseBody)},t.prototype.collectBodyContent=function(t){-1===csArray.prototype.indexOf.call(this.Oy.matchingBodyContents,t)&&csArray.prototype.push.call(this.Oy.matchingBodyContents,t)},t.prototype.collectCustomHeaders=function(t,n,i){var r=csString.prototype.toLocaleLowerCase.call(n.headerName);!t.responseHeaders[r]||"request-response"!==n.type&&"response"!==n.type||(n.encrypted?this.Oy.customResponseHeaders[r]=t.responseHeaders[r]:this.Oy.plainCustomResponseHeaders[r]=i(t.responseHeaders[r])),!t.requestHeaders[r]||"request-response"!==n.type&&"request"!==n.type||(n.encrypted?this.Oy.customRequestHeaders[r]=t.requestHeaders[r]:this.Oy.plainCustomRequestHeaders[r]=i(t.requestHeaders[r]))},t.prototype.collectStandardHeaders=function(t){var n,i,r,e;if(!(Object.keys(this.Oy.standardRequestHeaders).length>0||Object.keys(this.Oy.standardResponseHeaders).length>0)){try{for(var s=bt(Object.entries(t.requestHeaders)),o=s.next();!o.done;o=s.next()){var u=Et(o.value,2),c=u[0],h=u[1];this.Ny.isValidStandardHeader(c)&&(this.Oy.standardRequestHeaders[c]=h)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}try{for(var a=bt(Object.entries(t.responseHeaders)),f=a.next();!f.done;f=a.next()){var l=Et(f.value,2),v=l[0];h=l[1];this.Ny.isValidStandardHeader(v)&&(this.Oy.standardResponseHeaders[v]=h)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}},t.prototype.setCollectQueryParam=function(t){t&&(this.Oy.collectQueryParam=!0)},t.prototype.setCollectResponseBody=function(t){t&&(this.Oy.collectResponseBody=!0)},t.prototype.setCollectRequestBody=function(t){t&&(this.Oy.collectRequestBody=!0)},t.prototype.getCollectedDataPoints=function(){return this.Oy},t}();!function(t){t.CONTENTSQUARE="contentsquare.net",t.CLICKTALE="clicktale.net",t.FAKE_TRACKER="fake-tracker.content-square.fr"}(sa||(sa={}));var ca,ha=function(){function t(){}return t.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=new Set,r=[];if(this.rules)try{for(var e=bt(this.rules),s=e.next();!s.done;s=e.next()){var o=s.value;void 0!==o.statusCode&&i.add(o.statusCode),void 0!==o.url&&-1===csArray.prototype.indexOf.call(r,o.url)&&csArray.prototype.push.call(r,o.url)}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}var u=[sa.CONTENTSQUARE,sa.CLICKTALE];return csArray.prototype.push.call(u,sa.FAKE_TRACKER),{statusCodes:i,urls:r,excludedDomains:u}},t}(),aa=function(t){function n(n,i){var r=t.call(this)||this;return r.xy=n,r.j=i,r.rules=n.collectionRules,r}return yt(n,t),n.prototype.collectDataPoints=function(t,n){var i,r;this.Oy=new ua;var e=!1;if(this.xy.collectionRules)try{for(var s=bt(this.xy.collectionRules),o=s.next();!o.done;o=s.next()){var u=o.value;this.Dy(u,t)&&this.Ly(u,t)&&this.Uy(u,t)&&(e=!0,this.jy(t,u,n))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return e||(e=this.qy(t)),e&&n&&this.xy.collectStandardHeaders&&this.Oy.collectStandardHeaders(t),e?this.Oy.getCollectedDataPoints():null},n.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=this.xy.collectionRules||[],r=new Set,e=[];try{for(var s=bt(i),o=s.next();!o.done;o=s.next()){var u=o.value;void 0!==u.statusCode&&r.add(u.statusCode),void 0!==u.url&&-1===csArray.prototype.indexOf.call(e,u.url)&&csArray.prototype.push.call(e,u.url)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var c=[sa.CONTENTSQUARE,sa.CLICKTALE];return csArray.prototype.push.call(c,sa.FAKE_TRACKER),{statusCodes:r,urls:e,excludedDomains:c}},n.prototype.Dy=function(t,n){return(!t.statusCode&&n.statusCode>=400||void 0!==t.statusCode&&t.statusCode===n.statusCode)&&(!t.url||-1!==csString.prototype.indexOf.call(n.url,t.url))},n.prototype.Ly=function(t,n){return!t.bodyContent||this.Oy.isBodyContentMatching(n,t.bodyContent)},n.prototype.Uy=function(t,n){var i=csArray.prototype.find.call(t.bodyAttributePaths,(function(t){return t.primary}));return void 0===i||this.Oy.isBodyAttributeValueFound(n,i)},n.prototype.qy=function(t){return t.statusCode>=400},n.prototype.jy=function(t,n,i){var r,e,s,o,u=this;n.bodyContent&&this.Oy.collectBodyContent(n.bodyContent);var c=bi(n.bodyAttributePaths,(function(t){return 1===t.primary}));if(c&&this.Oy.collectBodyAttribute(t,c,(function(t){return u.j.anonymizePII(t)})),i){this.Oy.setCollectQueryParam(n.collectQueryParam),this.Oy.setCollectResponseBody(n.collectResponseBody),this.Oy.setCollectRequestBody(n.collectRequestBody);try{for(var h=bt(n.customHeaders),a=h.next();!a.done;a=h.next()){var f=a.value;this.Oy.collectCustomHeaders(t,f,(function(t){return u.j.anonymizePII(t)}))}}catch(t){r={error:t}}finally{try{a&&!a.done&&(e=h.return)&&e.call(h)}finally{if(r)throw r.error}}var l=Ai(n.bodyAttributePaths,(function(t){return!t.primary}));try{for(var v=bt(l),d=v.next();!d.done;d=v.next()){var y=d.value;this.Oy.collectBodyAttribute(t,y,(function(t){return u.j.anonymizePII(t)}))}}catch(t){s={error:t}}finally{try{d&&!d.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}}},n}(ha),fa=function(t){function n(n,i){var r=t.call(this)||this;return r.xy=n,r.j=i,r.rules=n.configurableApiErrorRules,r}return yt(n,t),n.prototype.collectDataPoints=function(t,n){this.Oy=new ua;var i=this.Hy(t,this.xy.configurableApiErrorRules);return i.isMatching?(i.matchingBodyContents.length>0&&this.Oy.collectBodyContent(i.matchingBodyContents[0]),n&&this.Fy(t),this.Oy.getCollectedDataPoints()):null},n.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=this.xy.configurableApiErrorRules||[],r=new Set,e=[];try{for(var s=bt(i),o=s.next();!o.done;o=s.next()){var u=o.value;void 0!==u.statusCode&&r.add(u.statusCode),void 0!==u.url&&-1===csArray.prototype.indexOf.call(e,u.url)&&csArray.prototype.push.call(e,u.url)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var c=[sa.CONTENTSQUARE,sa.CLICKTALE];return csArray.prototype.push.call(c,sa.FAKE_TRACKER),{statusCodes:r,urls:e,excludedDomains:c}},n.prototype.Hy=function(t,n){var i,r;if(t.statusCode>=400)return{isMatching:!0,matchingBodyContents:[]};if(n)try{for(var e=bt(n),s=e.next();!s.done;s=e.next()){var o=s.value;if(this.Vy(t,o))return{isMatching:!0,matchingBodyContents:o.bodyContent?[o.bodyContent]:[]}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return{isMatching:!1,matchingBodyContents:[]}},n.prototype.Vy=function(t,n){return!(t.statusCode!==n.statusCode||-1===csString.prototype.indexOf.call(t.url,n.url)||n.bodyContent&&!this.Oy.isBodyContentMatching(t,n.bodyContent))},n.prototype.Fy=function(t){this.xy.collectStandardHeaders&&this.Oy.collectStandardHeaders(t),this.xy.validCustomHeaders&&this.By(t,this.xy.validCustomHeaders,Number(!0)),this.xy.plainCustomHeaders&&this.By(t,this.xy.plainCustomHeaders,Number(!1)),this.Bd(t.url,this.xy.validUrls)&&(this.xy.collectQueryParam&&this.Oy.setCollectQueryParam(Number(this.xy.collectQueryParam)),this.xy.collectResponseBody&&this.Oy.setCollectResponseBody(Number(this.xy.collectResponseBody)),this.xy.collectRequestBody&&this.Oy.setCollectRequestBody(Number(this.xy.collectRequestBody)))},n.prototype.By=function(t,n,i){var r,e,s=this;try{for(var o=bt(n),u=o.next();!u.done;u=o.next()){var c=u.value;this.Oy.collectCustomHeaders(t,{headerName:c,encrypted:i,type:"request-response"},(function(t){return s.j.anonymizePII(t)}))}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}},n.prototype.Bd=function(t,n){return!!n&&csArray.prototype.some.call(n,(function(n){return-1!==csString.prototype.indexOf.call(t,n)}))},n}(ha),la=function(t){function n(n){var i=t.call(this)||this;return i.eu=null,i.zy=null,i.gn=null,i.fu=null,i.Gy=["value","checked","src","data","alt"],i.$y={state:lr.MaskedElementState.Child},i.Jy=function(t){var n,r;try{for(var e=p(t),s=e.next();!s.done;s=e.next()){var o=s.value;if(lr.isMaskedElement(o.target)||lr.isMaskedElementChild(o.target))for(var u=0;u<o.addedNodes.length;u+=1){var c=o.addedNodes[u];lr.isMaskedElement(c)||lr.isMaskedElementChild(c)||P(c)&&i.Yy(c)}for(u=0;u<o.removedNodes.length;u+=1){var h=o.removedNodes[u];he.isConnected(h)||i.Wy(h)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},i.Xy=n,i}return l(n,t),n.prototype.setMaskedElementSettings=function(t){this.uv=t},n.prototype.startIdentifier=function(){this.isStarted||(this.isStarted=!0,this.onStart())},n.prototype.stopIdentifier=function(){return this.isStarted=!1,this.onStop()},n.prototype.start=function(){},n.prototype.stop=function(){},n.prototype.onStart=function(){var t,n,i,r,e=this;this.uv||(Vn.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.uv={elementSelector:"",attrSelector:"",attrSelectors:[]});var s=this.uv,o=s.elementSelector,u=s.attrSelector,c=s.attrSelectors;null!==(t=this.fu)&&void 0!==t||(this.fu=this.Ky()),0!==o.length&&(null!==(n=this.eu)&&void 0!==n||(this.eu=this.Qy()),this.eu.observe(o)),0!==u.length&&(null!==(i=this.zy)&&void 0!==i||(this.zy=this.Zy(c)),this.zy.observe(u)),null!==(r=this.gn)&&void 0!==r||(this.gn=new Ae(this.Jy,(function(t,n){return"added"===n&&e.tw(t)}))),this.gn.observe(),csSetTimeout(this.Xy)},n.prototype.onStop=function(){var t,n,i;this.eu&&(this.Wy(document),this.eu.disconnect()),null===(t=this.zy)||void 0===t||t.disconnect(),null===(n=this.gn)||void 0===n||n.disconnect(),null===(i=this.fu)||void 0===i||i.disconnect()},n.prototype.Ky=function(){var t=this;return window.ResizeObserver?new ResizeObserver((function(n){csArray.prototype.forEach.call(n,(function(n){t.resizeObserverCallback(n)}))})):null},n.prototype.Qy=function(){var t=this;return new Cs((function(n){csArray.prototype.forEach.call(n,(function(n){t.nw(n)?t.Yy(n):(t.iw(n),t.rw(n))}))}))},n.prototype.Zy=function(t){var n=this;return new Cs((function(i){csArray.prototype.forEach.call(i,(function(i){return n.ew(i,t)}))}))},n.prototype.resizeObserverCallback=function(t){var n=t.target.getBoundingClientRect(),i=lr.getMaskedElementDetails(t.target);if(i.state===lr.MaskedElementState.Parent&&(n.width!==i.width||n.height!==i.height)){var r={state:lr.MaskedElementState.Parent,width:n.width,height:n.height};lr.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:ar(t.target),width:n.width,height:n.height})}},n.prototype.rw=function(t){this.fu&&P(t)&&!F(t)&&this.fu.observe(t)},n.prototype.nw=function(t){var n=csNodeparentNode.apply(t);return n?lr.isMaskedElement(n)||lr.isMaskedElementChild(n):!!$(t)&&(lr.isMaskedElement(t.host)||lr.isMaskedElementChild(t.host))},n.prototype.tw=function(t){(lr.isMaskedElement(t.host)||lr.isMaskedElementChild(t.host))&&lr.setMaskedElementProperty(t,this.$y)},n.prototype.Wy=function(t){Mi(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){lr.unsetMaskedElementProperty(t)}))},n.prototype.iw=function(t){var n=this,i=t.getBoundingClientRect(),r={state:lr.MaskedElementState.Parent,width:i.width,height:i.height};lr.setMaskedElementProperty(t,r),this.ow(t),Mi(t).visitAll((function(i){return i!=t&&lr.setMaskedElementProperty(i,n.$y)}))},n.prototype.Yy=function(t){var n=this;lr.setMaskedElementProperty(t,this.$y),Mi(t).visitAll((function(i){return i!=t&&lr.setMaskedElementProperty(i,n.$y)}))},n.prototype.ow=function(t){for(var n,i=null!==(n=or.getProperty(t,lr.maskedAttributeProp))&&void 0!==n?n:{attributes:[]},r=0;r<this.Gy.length;r+=1){var e=this.Gy[r];-1===csArray.prototype.indexOf.call(i.attributes,e)&&csArray.prototype.push.call(i.attributes,e)}0!==i.attributes.length&&lr.setMaskedAttributeProperty(t,i)},n.prototype.ew=function(t,n){for(var i,r=null!==(i=or.getProperty(t,lr.maskedAttributeProp))&&void 0!==i?i:{attributes:[]},e=function(i){var e=t.attributes[i].name;-1===csArray.prototype.indexOf.call(r.attributes,e)&&csArray.prototype.some.call(n,(function(n){return csString.prototype.indexOf.call(n.attrName,e)>-1&&nt.call(t,n.selector)}))&&csArray.prototype.push.call(r.attributes,e)},s=0;s<t.attributes.length;s+=1)e(s);0!==r.attributes.length&&lr.setMaskedAttributeProperty(t,r)},d([Bn()],n.prototype,"resizeObserverCallback",null),n}(Ue),va=function(){function t(){var t=this;this.uw=0,this.rr=!1,this.hw="data-cs-capture",this.aw=function(n){var i,r;try{for(var e=p(n),s=e.next();!s.done;s=e.next()){var o=s.value;if(fs.isWhitelistedElement(o.target))for(var u=0;u<o.addedNodes.length;u+=1){var c=o.addedNodes[u];fs.isWhitelistedElement(c)||P(c)&&t.fw(c)}for(u=0;u<o.removedNodes.length;u+=1){var h=o.removedNodes[u];he.isConnected(h)||t.lw(h)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}}return t.prototype.start=function(){this.uw++,this.rr||(this.rr=!0,this.yw())},t.prototype.yw=function(){var t=this;this.eu||(this.eu=new Cs((function(n){return Si(n,(function(n){return t.fw(n)}))})));var n=this.pw?"[".concat(this.hw,"], ").concat(this.pw):"[".concat(this.hw,"]");this.eu.observe(n),this.gn||(this.gn=new Ae(this.aw,(function(n,i){return"added"===i&&t.mw(n)}))),this.gn.observe()},t.prototype.stop=function(){this.rr&&(this.uw--,0===this.uw&&(this.rr=!1,this.gw()))},t.prototype.gw=function(){this.eu&&(this.lw(document),this.eu.disconnect()),this.gn&&this.gn.disconnect()},t.prototype.setWhitelistedElementsSelector=function(t){this.pw=t},t.prototype.getWhitelistedElementsSelector=function(){return this.pw},t.prototype.fw=function(t){Mi(t).visitAll((function(t){fs.whitelistElement(t)}))},t.prototype.mw=function(t){fs.isWhitelistedElement(t.host)&&fs.whitelistElement(t)},t.prototype.lw=function(t){Mi(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){fs.removeWhitelistElement(t)}))},t}(),da=function(){function t(t,n,i,r){this.Lh=t,this.Pl=n,this.Sw=i,this.bw=r}return t.prototype.getSensitiveStatus=function(){var t;return{started:this.Sw.isStarted,useAnonymization:this.Lh.shouldUseAnonymization(),capturedElementSelector:this.bw.getWhitelistedElementsSelector(),maskedElementSettings:this.Pl.getMaskedElementSettings(null===(t=this.Lh)||void 0===t?void 0:t.shouldMaskNonTextElements())}},t.prototype.getElementSensitiveStatus=function(t){var n=this.Sw.isStarted,i=this.Lh.shouldUseAnonymization();return n?lr.isMaskedElement(t)||lr.isMaskedElementChild(t)?Mc.MASKED:i?fs.isWhitelistedElement(t)?Mc.CAPTURED:Mc.ANONYMIZED:Mc.CAPTURED:Mc.ANONYMIZED},t}(),ya=["setPIISelectors"],wa=["setCapturedElementsSelector"],pa=function(){function t(t,n,i,r,e){this.Uc=t,this.Ih=n,this.Pl=i,this.Sw=r,this.bw=e}return t.prototype.init=function(){this.md()},t.prototype.onStartTracking=function(t){this.Sw.start(),this.Uc.emitSensitiveStatusChange()},t.prototype.onBeforeArtificialPageView=function(){this.Sw.stop(),this.Uc.emitSensitiveStatusChange()},t.prototype.onAfterArtificialPageView=function(){this.Sw.start(),this.Uc.emitSensitiveStatusChange()},t.prototype.onBeforeSessionRenewal=function(){this.Sw.stop(),this.Uc.emitSensitiveStatusChange()},t.prototype.onOptout=function(){this.Sw.stop(),this.Uc.emitSensitiveStatusChange()},t.prototype.onReplayUnanonymizationConsentGranted=function(){this.Uc.emitSensitiveStatusChange()},t.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.Uc.emitSensitiveStatusChange()},t.prototype.md=function(){var t=this;this.Ih.register(ya,(function(n){t.Pl.setMaskedElementSettingsFromCommand(n),t.Uc.emitSensitiveStatusChange()})),this.Ih.register(wa,(function(n){t.bw.setWhitelistedElementsSelector(n),t.Uc.emitSensitiveStatusChange()}))},t}(),ma=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.Ch=n,s.Pl=i,s.bw=r,s.Lh=e,s}return yt(n,t),n.prototype.onStart=function(){var t;this.bw.start(),this.Ch.setMaskedElementSettings(this.Pl.getMaskedElementSettings(null===(t=this.Lh)||void 0===t?void 0:t.shouldMaskNonTextElements())),this.Ch.startIdentifier()},n.prototype.onStop=function(){this.bw.stop(),this.Ch.stopIdentifier()},n}(Sr),ga=["networkRequest:maskUrls"],Sa=["networkRequest:maskUrls:reset"],ba=function(){function t(t,n){this.Ew=t,this._h=n}return t.prototype.init=function(){var t=this;this.Ew.register(ga,(function(n){var i,r;if(R(n))t._h.addPartialUrlMaskingPattern(n);else if(csArray.isArray(n))try{for(var e=bt(n),s=e.next();!s.done;s=e.next()){var o=s.value;R(o)&&t._h.addPartialUrlMaskingPattern(o)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}})),this.Ew.register(Sa,(function(){return t._h.resetPartialUrlMaskingPatterns()}))},t}(),Ea=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["'])|(\b["']?(?:first|last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["'])/gi,Aa=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,Ra=function(){function t(t){this.j=t}return t.prototype.anonymize=function(t){return t=this.j.anonymizePII(t),t=this.Aw(t),t=this.Rw(t)},t.prototype.Aw=function(t){return csString.prototype.replace.call(t,Ea,"$1$4CS_ANONYMIZED_NAME$3$6")},t.prototype.Rw=function(t){return csString.prototype.replace.call(t,Aa,"CS_ANONYMIZED_PHONE")},t}();!function(t){var n=86400;function i(t,i){var s=function(t,i){"date"!==t.rule_type||"less_than"!==t.match_operation&&"greater_than"!==t.match_operation||(i=(new csDate(i).valueOf()/1e3).toFixed(0));switch(t.match_operation){case"exact":switch(t.rule_type){case"string":return!!R(t.pattern)&&csString.prototype.toLowerCase.call(i)===csString.prototype.toLowerCase.call(t.pattern);case"boolean":return i===t.pattern||i===csString(t.pattern);case"number":return!!k(i)&&Number(i)===Number(t.pattern);default:return i===t.pattern}case"starts_with":return!!R(t.pattern)&&0===csString.prototype.indexOf.call(i,t.pattern);case"ends_with":return!!R(t.pattern)&&hn(i,t.pattern);case"contains":return!!R(t.pattern)&&-1!==csString.prototype.indexOf.call(i,t.pattern);case"regex":if(!R(t.pattern))return!1;try{return new csRegExp(t.pattern).test(i)}catch(t){return _n.warn("targeting.matchOperation.regex invalid ".concat(null==t?void 0:t.message)),!1}case"simple":return!!R(t.pattern)&&e(i)===e(t.pattern);case"greater_than":return Number(i)>Number(t.pattern);case"less_than":return Number(i)<Number(t.pattern);case"exact_date":var s=Number(t.pattern);if(!E(s))return!1;var o=new csDate(1e3*s);return new csDate(i).toDateString()===o.toDateString();case"exact_days_ago":return r(t,i);case"more_than_days_ago":return function(t,i){var r=Number(t.pattern);if(!E(r))return!1;var e=(new csDate).getTime()/1e3,s=Number(r)+1,o=e-n*s;return new csDate(i).getTime()/1e3<=o}(t,i);case"less_than_days_ago":return function(t,i){var e=Number(t.pattern);if(!E(e))return!1;if(0===e)return r(t,i);var s=(new csDate).getTime()/1e3-n*e;return new csDate(i).getTime()/1e3>=s}(t,i);case"unknown":return function(t){if(!k(t))return!0;if(R(t))return""===csString.prototype.trim.call(t);if(T(t))return!0===t;if(E(t))return 0!==t;return!1}(i);default:return _n.warn("targeting.matchOperation.regex not managed operation ".concat(t.match_operation)),!1}}(t,i);return t.negate?!s:s}function r(t,n){var i=new csDate,r=i.setDate(i.getDate()-Number(t.pattern)),e=new csDate(r);return new csDate(n).toDateString()===e.toDateString()}function e(t){var n=En(cn(t,"http://")||cn(t,"https://")?t:"https://".concat(t));return null!==n?csString.prototype.replace.call(n.host,/^www./,""):t}t.isUrlMatching=function(t,n){var r,e;try{for(var s=bt(t),o=s.next();!o.done;o=s.next()){if(i(o.value,n))return!0}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return!1},t.isMatching=function(t,n){var r,e,s,o;if(R(n))try{for(var u=bt(t),c=u.next();!c.done;c=u.next()){if(i(c.value,n))return!0}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}else if(T(n))try{for(var h=bt(t),a=h.next();!a.done;a=h.next()){if(i(a.value,csString(n)))return!0}}catch(t){s={error:t}}finally{try{a&&!a.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}return!1}}(ca||(ca={}));var Ta,Oa=function(){function t(){this.Tw=[],this.Ow=[]}return t.prototype.setTargetingRules=function(t){var n,i;try{for(var r=bt(t),e=r.next();!e.done;e=r.next()){var s=e.value;"url"===s.component?csArray.prototype.push.call(this.Tw,s):"trigger"===s.component&&csArray.prototype.push.call(this.Ow,s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.matchUrl=function(t){return ca.isUrlMatching(this.Tw,t)},t.prototype.matchTrigger=function(t){return ca.isMatching(this.Ow,t)},t}(),Na=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Nw=n,e.kw=i,e.ot=r,e}return yt(n,t),n.prototype.init=function(){this.Iw=new Oa,this.Nw&&this.Iw.setTargetingRules(this.Nw)},n.prototype.onStart=function(){},n.prototype.checkInitialUrlTargetingRules=function(){var t=this.ot.getAnonymizedUrl();this.Cw(t,"url")&&this.kw()},n.prototype.onStop=function(){},n.prototype.onTargetingRulesArtificialPageview=function(t){this.isStarted&&this.Cw(t,"url")&&this.kw()},n.prototype.onExternalEvent=function(t){this.isStarted&&this.Cw(t.name,"trigger")&&this.kw()},n.prototype.Cw=function(t,n){var i,r;return!("url"!==n||!R(t)||!(null===(i=this.Iw)||void 0===i?void 0:i.matchUrl(t)))||!("trigger"!==n||!(null===(r=this.Iw)||void 0===r?void 0:r.matchTrigger(t)))},n}(Sr),ka=function(){function t(t,n,i,r,e,s){this.Nw=t,this._w=n,this.Uc=i,this.Mw=r,this.Qf=e,this.ot=s}return t.prototype.init=function(){this.Pw=new Na(this.Nw,this._w,this.ot),this.Qf.addListener(this.Pw),this.Pw.init()},t.prototype.start=function(){this.Pw.start()},t.prototype.stop=function(){this.Pw.stop()},t.prototype.checkInitialUrlTargetingRules=function(){this.Pw.checkInitialUrlTargetingRules()},t.prototype.emitTargetingCollectState=function(){var t=this.Mw.getInitialCollectState();t===Or.ANALYTICS_ONLY?this.Uc.emitCollectStateChange(Or.ANALYTICS_ONLY_RULES_TARGETING,Nr.ETR_OFF):t===Or.RECORDING_GLOBAL_SAMPLING&&this.Uc.emitCollectStateChange(Or.RECORDING_RULES_TARGETING,Nr.ETR_OFF)},t}(),Ia=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,E,A,R,T,O,N){var k=this;this.oh=t,this.Sa=n,this.X=i,this.K=r,this.Uc=e,this.Ih=s,this.xw=o,this.U=u,this.Dw=c,this.Lw=h,this.Uw=a,this.bl=f,this.j=l,this.Tf=v,this.Go=d,this.ot=y,this.jw=w,this.Qf=p,this.aa=m,this.vn=g,this.qw=S,this.xh=b,this.Hw=E,this.hs=A,this.Dh=R,this.Fw=T,this.Vw=O,this.Mw=N,this.Bw=function(t){void 0===t&&(t=!1);var n=k.K.getSession();null===n?(k.zw=new ka(k.U.recordTargetingRules,k.Gw,k.Uc,k.Mw,k.Qf,k.ot),k.zw.init(),k.zw.start()):n.collectState!==Or.RECORDING_RULES_TARGETING&&n.collectState!==Or.ANALYTICS_ONLY_RULES_TARGETING||k.Gw(t)},this.Gw=function(t){void 0===t&&(t=!1),k.$w.onLoad((function(){var n,i;null===(n=k.zw)||void 0===n||n.emitTargetingCollectState(),null===(i=k.zw)||void 0===i||i.stop(),k.Uc.emitStartTracking(t)})),k.Jw(t)},this.Jw=function(t){void 0===t&&(t=!1),k.Yw.start(t),k.$w.start()},this.Ww=function(){k.Uc.emitBeforeSessionRenewal(),k.Xw(!0),k.Uc.emitAfterSessionRenewal()},this.Kw=function(){k.Mw.refreshQuota(),k.Mw.onQuotaReady((function(t){t!==Or.QUOTA_REACHED&&(k.Uc.emitBeforeSessionRenewal(),k.Xw(!0),k.Uc.emitAfterSessionRenewal())}))}}return t.prototype.start=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p=this;(this.Dw.init(),this.Lw.init(),this.Lw.isActive())||(this.hs.schedule((function(){f=new hh(p.K,p.X),y=new Xh(f),a=new th(p.Tf),l=new Oh(p.U),v=new la((function(){})),w=new va;var m=new ma(v,l,w,p.Qw());d=new da(p.Qw(),l,m,w);var g=new pa(p.Uc,p.Ih,l,m,w);g.init(),p.Uc.addListener(g),t=new jc(p.U,p.oh,p.X,p.Tf,a,p.Ih,f,new xh(_n),p.aa,p.Dh,p.Qf,d),n=new fu(p.Ih,p.K,p.U,p.oh,p.Sa,p.j),h=new Uh(d);var S=new Ih(p.U);(c=new kh(p.U,S,h,d,p.aa)).init();var b=new Wh;i=new ou(p.X,p.K,p.Ih,p.aa,S,p.U,b,h),r=new Su(p.U,p.oh,p.X,p.Ih,p.j,f,p.ot),p.Yw=new Zc(p.U,p.Ih,p.Uc,p.oh,p.X,p.K,p.bl,p.vn,p.Go,p.ot,p.xh,b,p.Qf,p.El),p.Zw=new ch(p.U,p.X,p.K,p.Ih),"CONTENTSQUARE"!==p.U.tagDeploymentMode&&(e=new dh(p.U,p.K,p.ot,p.Ih,p.Jw,l)),s=new Eh(p.U,p.Ih,p.Sa,p.oh,p.Qf),o=new Nh(p.Ih),u=new Lh(p.U,new ln(p.U,p.j),p.Dh),p.$w=new nh})),this.U.apiErrors.enabled&&this.hs.schedule((function(){p._h=new $c,p.tp=new ba(p.Ih,p._h),p.tp.init()})),this.U.apiErrors.enabled&&this.hs.schedule((function(){var t,n;n=(null===(t=p.U.apiErrors.collectionRules)||void 0===t?void 0:t.length)?new aa(p.U.apiErrors,p.j):new fa(p.U.apiErrors,p.j),p.Lr=new _h(new ia,new ra,n),p.Ur=new Mh(p._h,p.Go),p.Jr=new ea;var i=new Fh(p.Lr,p.Ur,p.U,p.oh,p.aa,p.Ih,p.Dh);i.init(),p.Uc.addListener(i)})),this.U.customErrors.enabled&&this.hs.schedule((function(){p.Nd=new Ra(p.j);var t=new Yh(p.Nd,p.U,p.oh,p.Ih,p.Qf,p.Dh,p.aa,undefined);t.init(),p.Uc.addListener(t)})),this.U.jsErrorsEnabled&&this.hs.schedule((function(){p.gd=new Rh,p.Dr=new Ph(p.j,p.ot);var t=new zh(p.gd,p.Dr,p.U,p.oh,p.aa,p.Ih,p.Qf,p.ot,p.Dh);t.init(),p.Uc.addListener(t)})),this.hs.schedule((function(){p.Uw.init()})),this.hs.schedule((function(){i.init()})),this.hs.schedule((function(){n.init()})),this.hs.schedule((function(){r.init()})),this.hs.schedule((function(){p.qw.init()})),this.hs.schedule((function(){p.Yw.init()})),this.hs.schedule((function(){p.Zw.init()})),"CONTENTSQUARE"!==this.U.tagDeploymentMode&&this.hs.schedule((function(){e.init()})),this.hs.schedule((function(){s.init()})),this.hs.schedule((function(){p.jw.init()})),this.hs.schedule((function(){o.init()})),this.hs.schedule((function(){u.init()})),this.hs.schedule((function(){p.Hw.init()})),this.hs.schedule((function(){p.Uc.addListener(p.Zw),p.Uc.addListener(p.xw),p.Uc.addListener(t),p.Uc.addListener(p.Uw),p.Uc.addListener(i),p.Uc.addListener(r),p.Uc.addListener(p.qw),p.Uc.addListener(p.Yw),"CONTENTSQUARE"!==p.U.tagDeploymentMode&&p.Uc.addListener(e),p.Uc.addListener(s),p.Uc.addListener(n),p.Uc.addListener(c),p.Uc.addListener(u),p.Uc.addListener(y)})),jh.isRecordingSupported()&&this.hs.schedule((function(){var t=new Jo(h,p.K,p.U,p.oh,p.Ih,p.j,f,v,p.Dr,p.Lr,p.Ur,p._h,p.Uc,p.Qf,p.aa,p.xh,p.Dh,p.Go,p.Jr,p.Qw(),p.Nd);t.init(),p.Uc.addListener(t),i.setRecordingService(t.recordingService)})),this.hs.schedule((function(){t.init()})),this.hs.schedule((function(){p.U.isQuotaEnabled()?f.onSessionExpired((function(){p.Kw()})):f.onSessionExpired((function(){p.Ww()})),p.Xw()})))},t.prototype.Xw=function(t){var n=this;if(void 0===t&&(t=!1),this.U.hasTargetingRules())return this.Bw(t),this.Ih.start(),void(this.zw&&this.zw.checkInitialUrlTargetingRules());this.Ih.start(),this.$w.onLoad((function(){n.Uc.emitStartTracking(t)})),ah(this.U)&&!t||this.Jw(t)},t.prototype.Qw=function(){if(this.Lh)return this.Lh;var t=new ta;return this.Lh=new Zh(this.bl,this.U,this.ot,t),this.Lh.init(),this.Lh},t}(),Ca=function(){function t(t,n,i,r,e,s,o,u){this.U=t,this.X=n,this.ln=i,this.np=r,this.ip=e,this.rp=s,this.ep=o,this.sp=u}return t.prototype.compute=function(t){var n,i,r=this;this.U.crossDomainTracking&&!this.U.cookielessTrackingEnabled?this.U.crossDomainSingleIframeTracking?null===(n=this.ep)||void 0===n||n.start((function(){return r.op(t)})):null===(i=this.rp)||void 0===i||i.applyUpToDate((function(){return r.op(t)})):this.op(t)},t.prototype.op=function(t){this.ip.handle(),this.np.clear(),this.up()?(this.np.restoreClearedVisitor(),t(!0)):(this.ln.exclude(this.U),t(!1))},t.prototype.up=function(){var t=kt.boolean(this.U.sampleRate);return this.sp.isForceIncluded()||!this.ln.isExcluded()&&this.X.doesVisitorExist()||!this.ln.isExcluded()&&t},t}();!function(t){t.generate=function(){var t=navigator.userAgent+navigator.language+navigator.platform,n=csString.prototype.slice.call(function(t){for(var n=0,i=0;i<t.length;i+=1)n=csString.prototype.charCodeAt.call(t,i)+(n<<6)+(n<<16)-n;return Math.abs(n)}(t).toString(16),-4),i=(new csDate).getTime(),r="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===t?n:7&n|8).toString(16)}));return csString.prototype.replace.call(r,"hhhh",n)}}(Ta||(Ta={}));var _a,Ma=function(){function t(t,n,i,r){this.U=t,this.cp=n,this.K=i,this.Uc=r,this.hp=1e4}return t.prototype.createOrUpdateVisitor=function(){var t=this.getVisitor();null===t&&(t=this.ap(),this.K.removeSession()),this.fp(t),this.setVisitor(t)},t.prototype.ap=function(){return{id:Ta.generate(),visitsCount:0,appliedTrackingDraw:this.U.lastTrackingDraw,creationTimestamp:sn(),lastVisitTimestamp:0,hitTimestamp:0,expires:rn()+this.U.visitorCookieTimeout,allowSubdomains:this.U.allowSubdomains}},t.prototype.fp=function(t){var n=sn();this.K.doesSessionExist()||(t.visitsCount+=1,t.lastVisitTimestamp=n),t.hitTimestamp=n,t.appliedTrackingDraw=this.U.lastTrackingDraw,this.lp=t.visitsCount},t.prototype.getRequestParameters=function(){var t=this.getVisitor();return t?{uu:t.id,sn:"".concat(t.visitsCount),hd:"".concat(t.hitTimestamp)}:{}},t.prototype.getVisitor=function(){return this.cp.get()},t.prototype.setVisitor=function(t){this.cp.set(t)},t.prototype.doesVisitorExist=function(){return null!==this.cp.get()},t.prototype.resetVisitor=function(){this.vp(),this.Uc.emitAfterVisitorCleared()},t.prototype.removeVisitor=function(){this.cp.remove()},t.prototype.hasAllowSubdomainsChanged=function(){var t=this.getVisitor();return!!t&&t.allowSubdomains!==this.U.allowSubdomains},t.prototype.handleSubdomainChange=function(){this.cp.handleSubdomainChange()},t.prototype.isSessionRenewed=function(){var t=this.getVisitor();return null!==t&&void 0!==this.lp&&t.visitsCount!==this.lp},t.prototype.dp=function(){return!N(this.yp)||rn()-this.yp>this.hp},t.prototype.renewVisitor=function(){this.dp()?(this.yp=rn(),this.vp(),this.Uc.emitAfterVisitorRenewal()):_n.warn("session:start:newVisitor is trying to renew visitor under time limit")},t.prototype.vp=function(){this.Uc.emitBeforeVisitorRenewal(),this.removeVisitor()},t}(),Pa="_cs_s",xa=18e5,Da=/^(\d+\.[01356789TBWX](\.[01])?(\.[39])?)(\.\d+)?$/,La=".";!function(t){t[t.NOT_FOUND=0]="NOT_FOUND",t[t.EXPIRED=1]="EXPIRED",t[t.FOUND=2]="FOUND"}(_a||(_a={}));var Ua,ja=function(){function t(t,n,i){this.U=t,this.Fw=n,this.wp=i,this.Js=null,this.pp=!1}return t.prototype.get=function(n){var i=this.getRawSession(n);return this.isValid(i)?t.fromString(i):null},t.prototype.getRawSession=function(n){if(n){var i=this.mp();return t.gp(i)}var r=this.Sp(),e=r.sessionString,s=r.status,o=t.gp(e);if(s!==_a.EXPIRED)return o;if(this.U.cookielessTrackingEnabled)return null;var u=this.mp();if(!u)return null;var c=csString.prototype.split.call(u,La);if(!t.bp(c))return u;var h=c[c.length-1],a=parseInt(h,10);return isNaN(a)||this.Ep(a),o},t.prototype.onCookieToSet=function(t){this.Ap=t},t.prototype.onCookieToRemove=function(t){this.Rp=t},t.prototype.set=function(t,n){var i;void 0===n&&(n=xa);var r=rn()+n,e=this.toString(t);e+="".concat(La).concat(r),this.Tp(e,r),this.U.cookielessTrackingEnabled?this.wp.setItem(Pa,e):(this.Fw.set(Pa,e,n),null===(i=this.Ap)||void 0===i||i.call(this,Pa,e,n))},t.prototype.remove=function(){var t;this.U.cookielessTrackingEnabled?this.wp.removeItem(Pa):(this.Fw.delete(Pa),null===(t=this.Rp)||void 0===t||t.call(this,Pa)),this.Op()},t.prototype.handleSubdomainChange=function(){if(!this.U.cookielessTrackingEnabled){var t=this.get(!0);t&&(this.U.allowSubdomains?this.Fw.delete(Pa,hi.CURRENT_DOMAIN):this.Fw.delete(Pa,this.Fw.getRootDomain()),this.set(t))}},t.prototype.isValid=function(n){return null!==n&&t.isValidSessionString(n)},t.prototype.toString=function(t){return csArray.prototype.join.call([t.pageNumber,t.collectState,t.etrState,t.etrStatus],La)},t.prototype.Tp=function(t,n){this.Js={sessionString:t,expires:n}},t.prototype.Sp=function(){return this.Js?this.Js&&rn()<=this.Js.expires?{sessionString:this.Js.sessionString,status:_a.FOUND}:{sessionString:this.Js.sessionString,status:_a.EXPIRED}:{sessionString:this.mp(),status:_a.NOT_FOUND}},t.prototype.Op=function(){this.Js=null},t.prototype.Ep=function(t){this.Js&&(this.Js.expires=t,this.pp=!0)},t.prototype.isCacheRefreshed=function(){return this.pp},t.prototype.resetCacheRefreshed=function(){this.pp=!1},t.prototype.mp=function(){if(this.U.cookielessTrackingEnabled){var t=this.wp.getItem(Pa);return!t||this.Np(t)?null:t}var n=this.Fw.get(Pa);return!n||this.Np(n)?null:n},t.prototype.Np=function(n){var i=csString.prototype.split.call(n,La);if(!t.bp(i))return!1;var r=parseInt(i[i.length-1],10);return!isNaN(r)&&rn()>r},t.bp=function(t){return 13===t[t.length-1].length},t.gp=function(t){var n;if(!t)return null;var i=null===(n=csString.prototype.match.call(t,Da))||void 0===n?void 0:n[1];return null!=i?i:null},t.fromRawString=function(n){var i=t.gp(n);return null!==i?t.fromString(i):null},t.fromString=function(t){var n,i,r=Et(csString.prototype.split.call(t,La),4),e=r[0],s=r[1],o=r[2],u=r[3];return{collectState:s,etrState:null!==(n=o)&&void 0!==n?n:Nr.ETR_OFF,etrStatus:null!==(i=u)&&void 0!==i?i:Ir.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}},t.isValidSessionString=function(t){return Da.test(t)},t}();!function(t){t[t.NO=0]="NO",t[t.WITHDRAWN=1]="WITHDRAWN",t[t.GRANTED=2]="GRANTED"}(Ua||(Ua={}));var qa,Ha=function(){function t(t,n){this.kp=t,this.Mw=n,this.Ip=null,this.Cp=0,this._p=Ua.NO}return t.prototype.setDynamicVariablesService=function(t){this.Mp=t},t.prototype.createOrUpdateSession=function(){this.Pp(),this.xp=rn(),this.Cp=0;var t=this.Dp();null===t?(t=this.Lp(),this.jp(t),this.qp(t)):(t=this.Mw.sanitizeSessionCollectState(t),this.jp(t),t.collectState=this.Mw.getEligibleCollectState(t)),this.setSession(t)},t.prototype.grantReplayRecording=function(t){t.collectState=this.Mw.getInitialCollectState(),t.collectState=this.Mw.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)},t.prototype.grantReplayRecordingBeforeSessionStart=function(){this._p=Ua.GRANTED},t.prototype.withdrawnReplayRecording=function(t){t.collectState=this.Mw.getRecordingConsentWithdrawn(),this.setSession(t)},t.prototype.withdrawnReplayRecordingBeforeSessionStart=function(){this._p=Ua.WITHDRAWN},t.prototype.qp=function(t){this._p===Ua.WITHDRAWN?(t.collectState=this.Mw.getRecordingConsentWithdrawn(),this.setSession(t)):this._p===Ua.GRANTED?t.collectState=this.Mw.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.Mw.computeInitialCollectState(t),this._p=Ua.NO},t.prototype.Lp=function(){return{pageNumber:0,collectState:this.Mw.getInitialCollectState(),etrState:Nr.ETR_OFF,etrStatus:Ir.ETR_NOT_SAVED_SESSION}},t.prototype.jp=function(t){t.pageNumber+=1},t.prototype.isReplayRecorded=function(){var t=this.getSession();return!!t&&this.Mw.isReplayRecorded(t)},t.prototype.isTemporarilyRecorded=function(){var t=this.getSession();return(null==t?void 0:t.collectState)===Or.RECORDING_TEMPORARILY},t.prototype.abortQuotaServiceRequest=function(){this.Mw.abortQuotaServiceRequest()},t.prototype.getRequestParameters=function(){var t={},n=this.getSession();return null!==n&&(t.pn="".concat(n.pageNumber)),t},t.prototype.getSession=function(){return this.kp.get()},t.prototype.Dp=function(){return this.kp.get(!0)},t.prototype.doesSessionExist=function(){return null!==this.kp.get()},t.prototype.setSession=function(t){this.kp.set(t)},t.prototype.refreshSession=function(){var t=this.Dp();t&&this.setSession(t)},t.prototype.removeSession=function(){this.kp.remove()},t.prototype.getCollectStates=function(){var t=this.getSession(),n=[];return t&&(t.collectState!==Or.ANALYTICS_ONLY&&csArray.prototype.push.call(n,t.collectState),t.etrState===Nr.ETR_ON&&csArray.prototype.push.call(n,Or.RECORDING_ETR_SAMPLING)),n},t.prototype.updateCollectState=function(t,n){var i=this.getSession();null!==i&&(i.collectState=t,i.etrState=n,this.setSession(i))},t.prototype.hasValidSession=function(){var t=this.kp.getRawSession();return this.kp.isValid(t)},t.prototype.handleSubdomainChange=function(){this.kp.handleSubdomainChange()},t.prototype.pollCacheRefreshEvent=function(t){void 0===t&&(t=!0);var n=this.kp.isCacheRefreshed();return n&&t&&this.kp.resetCacheRefreshed(),n},t.prototype.extendSessionPeriodically=function(){this.Ip||this.Hp()},t.prototype.extendSession=function(){var t=this.getSession();return null===t?(_n.warn("extendSession is trying to extend an expired session"),this.Pp(),!1):(this.kp.set(t,xa),!0)},t.prototype.Hp=function(){this.Fp()?this.Pp():this.extendSession()&&(this.Vp(),this.Bp())},t.prototype.Bp=function(){var t=this;this.Ip=window.csSetTimeout((function(){t.Hp()}),174e4)},t.prototype.Fp=function(){return 1434e4-(rn()+xa-this.xp)<0},t.prototype.Pp=function(){this.Ip&&(window.csClearTimeout(this.Ip),this.Ip=null)},t.prototype.Vp=function(){this.Cp+=1,this.Mp.trackDynamicVariable("session_expiry_update",this.Cp)},t}(),Fa=function(){function t(t,n,i){this.U=t,this.X=n,this.ln=i}return t.prototype.clear=function(){this.zp()&&(this.Gp=this.X.getVisitor(),this.X.removeVisitor()),this.$p()&&this.ln.removeExclusion()},t.prototype.zp=function(){return this.X.doesVisitorExist()&&this.X.getVisitor().appliedTrackingDraw!==this.U.lastTrackingDraw},t.prototype.$p=function(){return this.ln.getAppliedTrackingDraw()!==this.U.lastTrackingDraw},t.prototype.restoreClearedVisitor=function(){this.Gp&&this.X.setVisitor(this.Gp)},t}(),Va=function(){function t(t,n,i){this.X=t,this.K=n,this.Jp=i}return t.prototype.handle=function(){this.X.hasAllowSubdomainsChanged()&&(this.X.handleSubdomainChange(),this.K.handleSubdomainChange(),this.Jp.handleSubdomainChange())},t}(),Ba="_cs_c";!function(t){t[t.NOT_REQUIRED=0]="NOT_REQUIRED",t[t.NOT_EXPRESSED=1]="NOT_EXPRESSED",t[t.GRANTED=2]="GRANTED",t[t.WITHDRAWN=3]="WITHDRAWN"}(qa||(qa={}));var za,Ga=function(){function t(t,n,i){this.U=t,this.Fw=n,this.Vw=i}return t.prototype.get=function(){var t;return null===(t=this.U.cookielessTrackingEnabled?this.Vw.getItem(Ba):this.Fw.get(Ba))?t:Number(t)},t.prototype.set=function(t){this.U.cookielessTrackingEnabled?this.Vw.setItem(Ba,csString(t)):this.Fw.set(Ba,csString(t),Nt)},t.prototype.remove=function(){this.U.cookielessTrackingEnabled?this.Vw.removeItem(Ba):this.Fw.delete(Ba)},t.prototype.handleSubdomainChange=function(){this.U.cookielessTrackingEnabled||(this.U.allowSubdomains?this.Fw.delete(Ba,hi.CURRENT_DOMAIN):this.Fw.delete(Ba,this.Fw.getRootDomain()))},t}(),$a=function(){function t(t,n,i){this.U=t,this.K=n,this.Uc=i}return t.prototype.grantReplayConsent=function(){if(Uo.isReplayConsentNeeded(this.U)){var t=this.K.getSession();t?Uo.isRecordingBlockedByConsent(t)&&(this.K.grantReplayRecording(t),this.Uc.emitAfterReplayRecordingConsentGranted()):this.K.grantReplayRecordingBeforeSessionStart()}},t.prototype.withdrawReplayConsent=function(){if(Uo.isReplayConsentNeeded(this.U)){var t=this.K.getSession();t?Uo.isRecordingWithDrawn(t)||(this.K.withdrawnReplayRecording(t),this.Uc.emitAfterReplayRecordingConsentWithdrawn()):this.K.withdrawnReplayRecordingBeforeSessionStart()}},t}(),Ja=["replay:consent:unanonymized:granted","trackConsentGranted"],Ya=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],Wa=["replay:consent:startForSession:granted"],Xa=["replay:consent:startForSession:withdrawn"],Ka=function(){function t(t,n,i,r,e){this.U=t,this.Ih=n,this.bl=i,this.K=r,this.Uc=e}return t.prototype.init=function(){this.Yp=new $a(this.U,this.K,this.Uc),this.bl.setInitialConsent(),this.md()},t.prototype.md=function(){var t=this;this.Ih.register(Ja,(function(){t.bl.grantReplayAnonymizationConsent()})),this.Ih.register(Ya,(function(){t.bl.withdrawReplayAnonymizationConsent()})),this.Ih.register(Wa,(function(){t.Yp.grantReplayConsent()})),this.Ih.register(Xa,(function(){t.Yp.withdrawReplayConsent()}))},t.prototype.onOptout=function(){this.bl.removeAllConsents()},t.prototype.onBeforeVisitorRenewal=function(){this.bl.removeAllConsents()},t.prototype.onAfterVisitorRenewal=function(){this.bl.setInitialConsent()},t.prototype.onAfterVisitorCleared=function(){this.bl.setInitialConsent()},t}(),Qa=function(){function t(t,n,i){this.U=t,this.cp=n,this.Uc=i}return t.prototype.setInitialConsent=function(){var t=this.cp.get();(null===t||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()},t.prototype.hasConsentRequiredChanged=function(t){var n=this.U.consentRequired;return n&&t===qa.NOT_REQUIRED||!n&&t!==qa.NOT_REQUIRED},t.prototype.handleSubdomainChange=function(){this.cp.handleSubdomainChange()},t.prototype.setDefaultReplayAnonymization=function(){var t=this.U.consentRequired?qa.NOT_EXPRESSED:qa.NOT_REQUIRED;this.cp.set(t)},t.prototype.grantReplayAnonymizationConsent=function(){this.U.consentRequired&&(this.cp.set(qa.GRANTED),this.Uc.emitReplayUnanonymizationConsentGranted())},t.prototype.withdrawReplayAnonymizationConsent=function(){this.U.consentRequired&&(this.cp.set(qa.WITHDRAWN),this.Uc.emitReplayUnanonymizationConsentWithdrawn())},t.prototype.removeAllConsents=function(){this.cp.remove()},t.prototype.isReplayUnanonymizedAllowedByConsent=function(){return!this.U.consentRequired||this.cp.get()===qa.GRANTED},t.prototype.getRequestParameters=function(){return{uc:"".concat(this.cp.get())}},t}(),Za=function(){function t(t,n,i,r,e,s,o){this.Uc=t,this.Ih=n,this.xw=i,this.Dw=r,this.Lw=e,this.Wp=s,this.Uw=o}return t.prototype.start=function(){this.Uc.addListener(this.Wp),this.Uc.addListener(this.Uw),this.Uc.addListener(this.xw),this.Uw.init(),this.Dw.init(),this.Lw.init(),this.Lw.isActive()||this.Ih.start()},t}(),tf="_cs_ex",nf=2592e6,rf=/^[0-9]+$/,ef=function(){function t(t,n,i){this.U=t,this.Fw=n,this.wp=i}return t.prototype.onCookieToSet=function(t){this.Ap=t},t.prototype.onCookieToRemove=function(t){this.Rp=t},t.prototype.get=function(){return this.U.cookielessTrackingEnabled?Number(this.wp.getItem(tf)):Number(this.Fw.get(tf))},t.prototype.set=function(t){var n;this.U.cookielessTrackingEnabled?this.wp.setItem(tf,t):(this.Fw.set(tf,t,nf),null===(n=this.Ap)||void 0===n||n.call(this,tf,t,nf))},t.prototype.remove=function(){var t;this.U.cookielessTrackingEnabled?this.wp.removeItem(tf):(this.Fw.delete(tf),null===(t=this.Rp)||void 0===t||t.call(this,tf))},t.isValidExclusionString=function(t){return rf.test(t)},t}(),sf=function(){function t(t,n){this.qe=t,this.cp=n}return t.prototype.exclude=function(t){this.cp.set(csString(t.lastTrackingDraw))},t.prototype.removeExclusion=function(){this.cp.remove()},t.prototype.isExcluded=function(){return this.Xp()||this.Kp()},t.prototype.Xp=function(){return 0!==this.getAppliedTrackingDraw()},t.prototype.getAppliedTrackingDraw=function(){return this.cp.get()},t.prototype.Kp=function(){return csString.prototype.indexOf.call(this.qe.href,tf)>0},t}(),of=function(){function t(t){this.Ea=t}return t.prototype.onOptout=function(){this.Ea.removeExclusion()},t}();!function(t){t.SessionReplay="SR",t.None=""}(za||(za={}));var uf=function(){function t(t){this.ot=t,this.Qp=new csRegExp("".concat(".^"))}return t.prototype.setExcludeUrlForSessionReplay=function(t){this.Qp=new csRegExp(t)},t.prototype.Zp=function(){return this.Qp.test(this.ot.getAnonymizedUrl())?za.SessionReplay:za.None},t.prototype.isUrlExcludedForSessionReplay=function(){return this.Zp()===za.SessionReplay},t.prototype.getRequestParameters=function(){return{ex:this.Zp()}},t}(),cf=["excludeURLforReplay"],hf=function(){function t(t,n){this.Ea=t,this.Ih=n}return t.prototype.init=function(){var t=this;this.Ih.register(cf,(function(n){R(n)&&t.Ea.setExcludeUrlForSessionReplay(n)}))},t}(),af="_cs_inc",ff=function(){function t(t,n){this.qe=t,this.Fw=n}return t.prototype.isForceIncluded=function(){return this.tm()||this.nm()},t.prototype.isForceReplayRecorded=function(){return this.im(Or.RECORDING_GLOBAL_SAMPLING)},t.prototype.tm=function(){return null!==this.Fw.get(af)},t.prototype.im=function(t){return this.Fw.get(af)===t},t.prototype.nm=function(){return csString.prototype.indexOf.call(this.qe.href,af)>0},t}(),lf="_cs_optout",vf=function(){function t(t,n,i){this.U=t,this.Fw=n,this.Vw=i}return t.prototype.get=function(){return this.U.cookielessTrackingEnabled?this.Vw.getItem(lf):this.Fw.get(lf)},t.prototype.set=function(t){this.U.cookielessTrackingEnabled?this.Vw.setItem(lf,t):this.Fw.set(lf,t,Nt)},t}(),df=function(){function t(t,n,i){this.Uc=t,this.qe=n,this.cp=i}return t.prototype.init=function(){!this.isActive()&&this.rm()&&this.activate()},t.prototype.isActive=function(){return"1"===this.cp.get()},t.prototype.activate=function(){this.Uc.emitOptout(),this.cp.set("1")},t.prototype.rm=function(){return csString.prototype.indexOf.call(this.qe.href,lf)>0},t}(),yf=["optout"],wf=function(){function t(t,n){this.Ih=t,this.Lw=n}return t.prototype.init=function(){var t=this;this.Ih.register(yf,(function(){t.Lw.activate()}))},t}(),pf=function(){function t(t,n){this.Ih=t,this.aa=n}return t.prototype.init=function(){this.aa.addListener(this.Ih)},t.prototype.onOptout=function(){this.Ih.stop()},t.prototype.onBeforeSessionRenewal=function(){this.Ih.stop()},t}();var mf;!function(t){t.UXA="_uxa",t.WVT="cs_wvt"}(mf||(mf={}));var gf,Sf=function(t){function n(n){var i=t.call(this)||this;return i.sm=n,i.om={},i}return yt(n,t),n.prototype.register=function(t,n,i){var r,e;try{for(var s=bt(t),o=s.next();!o.done;o=s.next()){var u=o.value;this.om[u]={callback:n,configuration:i},this.om}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}},n.prototype.onStart=function(){this.um(),this.hm()},n.prototype.onStop=function(){var t,n;try{for(var i=bt(this.sm),r=i.next();!r.done;r=i.next()){var e=r.value;window[e]=[]}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.applyFromIntegration=function(t,n,i){this.am(t,n,"Commands.apply.from.integration: ".concat(i))},n.prototype.applyFromImplementation=function(t,n,i){this.am(t,n,"Commands.apply.from.implementation: ".concat(i))},n.prototype.onIframeCommands=function(t){var n,i;try{for(var r=bt(t.commands),e=r.next();!e.done;e=r.next()){var s=e.value;this.fm(s.name,s.params,t.iframePath)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.am=function(t,n,i){var r=this;this.isStarted?_n.tryToExecute(i,(function(){var i;if(r.om[t])return(i=r.om[t]).callback.apply(i,At([],Et(n),!1))}))():window._uxa.push(At([t],Et(n),!1))},n.prototype.fm=function(t,n,i){var r=this;_n.tryToExecute("Commands.apply.from.iframe: ".concat(i),(function(){var i;if(r.om[t])return(i=r.om[t]).callback.apply(i,At([],Et(n),!1))}))()},n.prototype.um=function(){var t,n,i=this;try{for(var r=bt(this.sm),e=r.next();!e.done;e=r.next()){var s=e.value;window[s].forEach((function(t){var n=Et(t),r=n[0],e=n.slice(1);return i.lm(r,e,!1)}))}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.hm=function(){var t,n,i=this;try{for(var r=bt(this.sm),e=r.next();!e.done;e=r.next()){var s=e.value;window[s]={push:function(t){var n=Et(t),r=n[0],e=n.slice(1);return i.lm(r,e,!0)}}}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.lm=function(t,n,i){var r,e,s;if(this.om[t]){if((null===(e=this.om[t].configuration)||void 0===e?void 0:e.disableApplyPending)&&!i||(null===(s=this.om[t].configuration)||void 0===s?void 0:s.disableApplyImmediate)&&i)return;try{return(r=this.om[t]).callback.apply(r,At([],Et(n),!1))}catch(i){_n.error("Command ".concat(t," failed - params: ").concat(csJSON.stringify(n)),i)}}},n}(Sr),bf=function(){function t(t,n,i,r){this.U=t,this.X=n,this.K=i,this.vm=r}return t.prototype.getRequestParameters=function(){var t,n,i,r,e,s=wt(wt({},Qt()),this.U.getRequestParameters()),o=this.K.getSession();o&&(s.pn="".concat(o.pageNumber));var u=this.X.getVisitor();if(u&&(s.sn="".concat(u.visitsCount),s.uu="".concat(u.id)),(null===(t=this.vm)||void 0===t?void 0:t.hasSubProjectId())&&(s.subProjectID="".concat(this.vm.getSubProjectId())),window.heap)try{s.happid=window.heap.appid,s.hsid=null===(i=(n=window.heap).getSessionId)||void 0===i?void 0:i.call(n),s.huu=(null===(e=(r=window.heap).getUserId)||void 0===e?void 0:e.call(r))||window.heap.userId}catch(t){delete s.happid,delete s.hsid,delete s.huu}return s},t}(),Ef=function(){function t(t,n){this.Ih=t,this.C=n}return t.prototype.init=function(){var t=this;this.Ih.register(["debugEvents"],(function(n){"boolean"==typeof n&&t.C.updateDynamicFields("emitDebugEvents",n)}))},t}();function Af(t,n,i){if(!N(n)&&!N(i))return t.href;var r=N(n)?Rf(n):t.pathname,e=N(i)?function(t){return Ot(t,"?")||""===t?t:"?".concat(t)}(i):t.search;return"".concat(t.protocol,"//").concat(t.host).concat(r).concat(e)}function Rf(t){return Ot(t,"/")?t:"/".concat(t)}!function(t){t[t.page=1]="page",t[t.onNextPageviewOnly=2]="onNextPageviewOnly"}(gf||(gf={}));var Tf,Of=function(){function t(t,n){this.qe=t,this.Go=n,this.dm=10}return t.prototype.overridePath=function(t,n){if(""!==t){var i=this.ym(n);i&&(this.wm=i),this.pm=n?this.gm(t,n):t}else this.pm=void 0},t.prototype.overrideQuery=function(t,n){var i=this.ym(n);i&&(this.Sm=i),this.bm=n?this.gm(t,n):t},t.prototype.computeOverriddenUrl=function(t){return this.Em(t)?this.getAnonymizedUrl():t},t.prototype.Am=function(t){return("string"==typeof t||"number"==typeof t)&&t in gf},t.prototype.Em=function(t){var n=this.Rm(this.qe.href);return this.Rm(t)===n},t.prototype.Rm=function(t){return n=t,i="/",-1!==csString.prototype.indexOf.call(n,i,n.length-i.length)?csString.prototype.slice.call(t,0,-1):t;var n,i},t.prototype.ym=function(t){return N(null==t?void 0:t.lifespan)&&this.Am(null==t?void 0:t.lifespan)?null==t?void 0:t.lifespan:null},t.prototype.Tm=function(){return this.wm&&this.wm in gf},t.prototype.Om=function(){return this.Sm&&this.Sm in gf},t.prototype.cleanupOverrideLifespan=function(){this.Tm()&&(this.pm=void 0,this.wm=void 0),this.Om()&&(this.bm=void 0,this.Sm=void 0)},t.prototype.getAnonymizedUrl=function(){var t=Af(this.qe,this.pm,this.bm);return this.Go.anonymizeUrl(t)},t.prototype.getUrl=function(){return Af(this.qe,this.pm,this.bm)},t.prototype.getAnonymizedPath=function(){var t=N(this.pm)?Rf(this.pm):location.pathname;return this.Go.anonymizeUrl(t)},t.prototype.getUrlProtocol=function(){return this.qe.protocol},t.prototype.getRequestParameters=function(){return{url:this.getAnonymizedUrl()}},t.prototype.gm=function(t,n){return this.Nm(n)?this.km(t):this.Im(n)?this.Cm(t):t},t.prototype.Im=function(t){return Boolean(t.decodeURI)},t.prototype.Cm=function(t){return this._m(t,1,!1)},t.prototype.Nm=function(t){return Boolean(t.decodeURIDeep)},t.prototype.km=function(t){return this._m(t,this.dm,!0)},t.prototype._m=function(t,n,i){for(var r=t,e=0;e<n;e++)try{var s=window.decodeURI(r);if(s===r)return r;r=s}catch(t){return r}return i&&_n.warn("decodeURIDeep limit reached: ".concat(r)),r},t}(),Nf=function(){function t(){this.listeners=[]}return t.prototype.addListener=function(t){csArray.prototype.push.call(this.listeners,t)},t}(),kf=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.emitPageEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onPageEvent&&s.onPageEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitEventTriggerRecording=function(t,n){var i,r;try{for(var e=bt(this.listeners),s=e.next();!s.done;s=e.next()){var o=s.value;o.onEventTriggerRecording&&o.onEventTriggerRecording(t,n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.emitCustomJavaScriptErrorEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onCustomJavaScriptErrorEvent&&s.onCustomJavaScriptErrorEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitCustomErrorEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onCustomErrorEvent&&s.onCustomErrorEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitUserIdentifierEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onUserIdentifierEvent&&s.onUserIdentifierEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitExternalEvent=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onExternalEvent&&s.onExternalEvent({type:Qo.EXTERNAL_EVENT,name:t,ts:0})}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitTargetingRulesArtificialPageview=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTargetingRulesArtificialPageview&&s.onTargetingRulesArtificialPageview(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(Nf),If="|iframe|",Cf=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.Mm=n,s.Pm=i,s.xm=r,s.Dm=e,s}return yt(n,t),n.prototype.emitIframeEvent=function(t,n,i){if(this.Lm(n)&&null===t)_n.error("iframeEventEmitter received event ".concat(n," with null iframe, content:").concat(csJSON.stringify(i)));else switch(n){case Tn.ChildLogMessage:this.Um(i);break;case Tn.AnalysisEvent:var r=i,e=this.Mm.transformEvent(t,r);e.isUserEvent?this.jm(e.event):this.qm(e.event);break;case Tn.RecordingEvent:var s=i,o=this.Dm.transformEvents(t,s);if(0===o.events.length)return;o.containsUserEvent?this.Hm(o.events):this.Fm(o.events);break;case Tn.JavascriptError:this.Vm(i);break;case Tn.ApiError:this.Bm(i);break;case Tn.DetailedApiError:this.zm(i);break;case Tn.CustomError:this.Gm(i);break;case Tn.EmerchandisingMessage:var u=this.xm.transformEvent(t,i);this.$m(u);break;case Tn.Commands:var c=this.Pm.transformEvent(t,i);this.Jm(c);break;case Tn.IntegrationCallback:this.Ym(i);break;case Tn.StaticResource:this.Wm(i);break;case Tn.TrackingContextRequestMessage:this.Xm(i);break;default:_n.error("Parent received unknown data type from iframe : ".concat(csJSON.stringify(i)))}},n.prototype.Lm=function(t){var n=[Tn.AnalysisEvent,Tn.RecordingEvent,Tn.EmerchandisingMessage,Tn.Commands];return-1!==csArray.prototype.indexOf.call(n,t)},n.prototype.Um=function(t){var n=t.message,i=t.errorCode;switch(t.level){case Ct.debug:_n.debug(n,i);break;case Ct.warn:_n.warn(n,!0,i);break;case Ct.error:_n.error(n,i);break;case Ct.critical:_n.critical(n,i)}},n.prototype.jm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeAnalysisUserEvent&&s.onIframeAnalysisUserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.qm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeAnalysisBrowserEvent&&s.onIframeAnalysisBrowserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Hm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeRecordingUserEvent&&s.onIframeRecordingUserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Fm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeRecordingBrowserEvent&&s.onIframeRecordingBrowserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Vm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeJavascriptError&&s.onIframeJavascriptError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Bm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeApiError&&s.onIframeApiError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.zm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeDetailedApiError&&s.onIframeDetailedApiError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.$m=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeEmerchandisingMessage&&s.onIframeEmerchandisingMessage(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Jm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeCommands&&s.onIframeCommands(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Ym=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeIntegrationCallback&&s.onIframeIntegrationCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Wm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeStaticResource&&s.onIframeStaticResource(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Xm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTrackingContextRequestCallback&&s.onTrackingContextRequestCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.Gm=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeCustomError&&s.onIframeCustomError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(Nf);!function(t){t.COMPRESSION_DISABLED="compressionDisabled"}(Tf||(Tf={}));var _f=function(){function t(){}return t.init=function(t){this.Km&&void 0===t||this.initFlags(t)},t.initFlags=function(t){var n;void 0===t&&(t=document.cookie);var i=null===(n=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))||void 0===n?void 0:n[1];if(this.Km=new Map,i)for(var r=csString.prototype.split.call(i,"."),e=0;e<r.length;e++){var s=Et(csString.prototype.split.call(r[e],"="),2),o=s[0],u=s[1];this.Km.set(o,u||"true")}},t.getBoolean=function(t){var n=this.getString(t);return null!=n&&"false"!==n&&0!==parseInt(n)},t.getString=function(t){var n;return this.init(),null===(n=this.Km)||void 0===n?void 0:n.get(t)},t.isCompressionEnabled=function(){return!this.getBoolean(Tf.COMPRESSION_DISABLED)},t.Log=function(n){return function(i,r,e){var s,o=r.toString(),u="".concat(null===(s=i.constructor)||void 0===s?void 0:s.name,".").concat(o),c=e.value;(function(t,n){var i;if(null==t)return!1;return t===n||!!(null===(i=csString.prototype.match.call(t,new csRegExp("(^|,)("+n+")(,|$)")))||void 0===i?void 0:i.length)})(t.getString("debugLog"),n)&&(e.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return console.log.apply(console,At([u],Et(t),!1)),c.bind(this).apply(void 0,At([],Et(t),!1))})}},t}();function Mf(){function t(t){for(var n=t.length;--n>=0;)t[n]=0}var n=256,i=286,r=30,e=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);t(h);var a=new Array(60);t(a);var f=new Array(512);t(f);var l=new Array(256);t(l);var v=new Array(29);t(v);var d,y,w,p=new Array(r);function m(t,n,i,r,e){this.static_tree=t,this.extra_bits=n,this.extra_base=i,this.elems=r,this.max_length=e,this.has_stree=t&&t.length}function g(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}t(p);var S=function(t){return t<256?f[t]:f[256+(t>>>7)]},b=function(t,n){t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255},E=function(t,n,i){t.bi_valid>16-i?(t.bi_buf|=n<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=n>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=i)},A=function(t,n,i){E(t,i[2*n],i[2*n+1])},R=function(t,n){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--n>0);return i>>>1},T=function(t,n,i){var r,s,o=new Array(16),u=0;for(r=1;r<=e;r++)o[r]=u=u+i[r-1]<<1;for(s=0;s<=n;s++){var c=t[2*s+1];0!==c&&(t[2*s]=R(o[c]++,c))}},O=function(t){var n;for(n=0;n<i;n++)t.dyn_ltree[2*n]=0;for(n=0;n<r;n++)t.dyn_dtree[2*n]=0;for(n=0;n<19;n++)t.bl_tree[2*n]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},N=function(t){t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},k=function(t,n,i,r){var e=2*n,s=2*i;return t[e]<t[s]||t[e]===t[s]&&r[n]<=r[i]},I=function(t,n,i){for(var r=t.heap[i],e=i<<1;e<=t.heap_len&&(e<t.heap_len&&k(n,t.heap[e+1],t.heap[e],t.depth)&&e++,!k(n,r,t.heap[e],t.depth));)t.heap[i]=t.heap[e],i=e,e<<=1;t.heap[i]=r},C=function(t,i,r){var e,u,c,h,a=0;if(0!==t.last_lit)do{e=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],u=t.pending_buf[t.l_buf+a],a++,0===e?A(t,u,i):(c=l[u],A(t,c+n+1,i),0!==(h=s[c])&&(u-=v[c],E(t,u,h)),e--,c=S(e),A(t,c,r),0!==(h=o[c])&&(e-=p[c],E(t,e,h)))}while(a<t.last_lit);A(t,256,i)},_=function(t,n){var i,r,s,o=n.dyn_tree,u=n.stat_desc.static_tree,c=n.stat_desc.has_stree,h=n.stat_desc.elems,a=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<h;i++)0!==o[2*i]?(t.heap[++t.heap_len]=a=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)o[2*(s=t.heap[++t.heap_len]=a<2?++a:0)]=1,t.depth[s]=0,t.opt_len--,c&&(t.static_len-=u[2*s+1]);for(n.max_code=a,i=t.heap_len>>1;i>=1;i--)I(t,o,i);s=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],I(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,o[2*s]=o[2*i]+o[2*r],t.depth[s]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,o[2*i+1]=o[2*r+1]=s,t.heap[1]=s++,I(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,n){var i,r,s,o,u,c,h=n.dyn_tree,a=n.max_code,f=n.stat_desc.static_tree,l=n.stat_desc.has_stree,v=n.stat_desc.extra_bits,d=n.stat_desc.extra_base,y=n.stat_desc.max_length,w=0;for(o=0;o<=e;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)(o=h[2*h[2*(r=t.heap[i])+1]+1]+1)>y&&(o=y,w++),h[2*r+1]=o,r>a||(t.bl_count[o]++,u=0,r>=d&&(u=v[r-d]),c=h[2*r],t.opt_len+=c*(o+u),l&&(t.static_len+=c*(f[2*r+1]+u)));if(0!==w){do{for(o=y-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[y]--,w-=2}while(w>0);for(o=y;0!==o;o--)for(r=t.bl_count[o];0!==r;)(s=t.heap[--i])>a||(h[2*s+1]!==o&&(t.opt_len+=(o-h[2*s+1])*h[2*s],h[2*s+1]=o),r--)}}(t,n),T(o,a,t.bl_count)},M=function(t,n,i){var r,e,s=-1,o=n[1],u=0,c=7,h=4;for(0===o&&(c=138,h=3),n[2*(i+1)+1]=65535,r=0;r<=i;r++)e=o,o=n[2*(r+1)+1],++u<c&&e===o||(u<h?t.bl_tree[2*e]+=u:0!==e?(e!==s&&t.bl_tree[2*e]++,t.bl_tree[32]++):u<=10?t.bl_tree[34]++:t.bl_tree[36]++,u=0,s=e,0===o?(c=138,h=3):e===o?(c=6,h=3):(c=7,h=4))},P=function(t,n,i){var r,e,s=-1,o=n[1],u=0,c=7,h=4;for(0===o&&(c=138,h=3),r=0;r<=i;r++)if(e=o,o=n[2*(r+1)+1],!(++u<c&&e===o)){if(u<h)do{A(t,e,t.bl_tree)}while(0!=--u);else 0!==e?(e!==s&&(A(t,e,t.bl_tree),u--),A(t,16,t.bl_tree),E(t,u-3,2)):u<=10?(A(t,17,t.bl_tree),E(t,u-3,3)):(A(t,18,t.bl_tree),E(t,u-11,7));u=0,s=e,0===o?(c=138,h=3):e===o?(c=6,h=3):(c=7,h=4)}},x=!1,D=function(t,n,i,r){E(t,0+(r?1:0),3),function(t,n,i,r){N(t),r&&(b(t,i),b(t,~i)),t.pending_buf.set(t.window.subarray(n,n+i),t.pending),t.pending+=i}(t,n,i,!0)},L=function(t){x||(!function(){var t,n,c,g,S,b=new Array(16);for(c=0,g=0;g<28;g++)for(v[g]=c,t=0;t<1<<s[g];t++)l[c++]=g;for(l[c-1]=g,S=0,g=0;g<16;g++)for(p[g]=S,t=0;t<1<<o[g];t++)f[S++]=g;for(S>>=7;g<r;g++)for(p[g]=S<<7,t=0;t<1<<o[g]-7;t++)f[256+S++]=g;for(n=0;n<=e;n++)b[n]=0;for(t=0;t<=143;)h[2*t+1]=8,t++,b[8]++;for(;t<=255;)h[2*t+1]=9,t++,b[9]++;for(;t<=279;)h[2*t+1]=7,t++,b[7]++;for(;t<=287;)h[2*t+1]=8,t++,b[8]++;for(T(h,287,b),t=0;t<r;t++)a[2*t+1]=5,a[2*t]=R(t,5);d=new m(h,s,257,i,e),y=new m(a,o,0,r,e),w=new m(new Array(0),u,0,19,7)}(),x=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,y),t.bl_desc=new g(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,O(t)},U=function(t,i,r,e){var s,o,u=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var i,r=4093624447;for(i=0;i<=31;i++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*i])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(i=32;i<n;i++)if(0!==t.dyn_ltree[2*i])return 1;return 0}(t)),_(t,t.l_desc),_(t,t.d_desc),u=function(t){var n;for(M(t,t.dyn_ltree,t.l_desc.max_code),M(t,t.dyn_dtree,t.d_desc.max_code),_(t,t.bl_desc),n=18;n>=3&&0===t.bl_tree[2*c[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n}(t),s=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=s&&(s=o)):s=o=r+5,r+4<=s&&-1!==i?D(t,i,r,e):4===t.strategy||o===s?(E(t,2+(e?1:0),3),C(t,h,a)):(E(t,4+(e?1:0),3),function(t,n,i,r){var e;for(E(t,n-257,5),E(t,i-1,5),E(t,r-4,4),e=0;e<r;e++)E(t,t.bl_tree[2*c[e]+1],3);P(t,t.dyn_ltree,n-1),P(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),C(t,t.dyn_ltree,t.dyn_dtree)),O(t),e&&N(t)},j=function(t,i,r){return t.pending_buf[t.d_buf+2*t.last_lit]=i>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&i,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===i?t.dyn_ltree[2*r]++:(t.matches++,i--,t.dyn_ltree[2*(l[r]+n+1)]++,t.dyn_dtree[2*S(i)]++),t.last_lit===t.lit_bufsize-1},q=function(t){E(t,2,3),A(t,256,h),function(t){16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},H={_tr_init:L,_tr_stored_block:D,_tr_flush_block:U,_tr_tally:j,_tr_align:q},F=function(t,n,i,r){for(var e=65535&t,s=t>>>16&65535,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{s=s+(e=e+n[r++]|0)|0}while(--o);e%=65521,s%=65521}return e|s<<16},V=new Uint32Array(function(){for(var t,n=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;n[i]=t}return n}()),B=function(t,n,i,r){var e=V,s=r+i;t^=-1;for(var o=r;o<s;o++)t=t>>>8^e[255&(t^n[o])];return~t},z={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G=0,$=2,J=3,Y=4,W=0,X=1,K=-1,Q=0,Z=8,tt=H._tr_init,nt=H._tr_stored_block,it=H._tr_flush_block,rt=H._tr_tally,et=H._tr_align,st=G,ot=1,ut=J,ct=Y,ht=5,at=W,ft=X,lt=-2,vt=-3,dt=-5,yt=K,wt=1,pt=2,mt=3,gt=4,St=Q,bt=2,Et=Z,At=258,Rt=262,Tt=103,Ot=113,Nt=666,kt=function(t,n){return t.msg=z[n],n},It=function(t){return(t<<1)-(t>4?9:0)},Ct=function(t){for(var n=t.length;--n>=0;)t[n]=0},_t=function(t,n,i){return(n<<t.hash_shift^i)&t.hash_mask},Mt=function(t){var n=t.state,i=n.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+i),t.next_out),t.next_out+=i,n.pending_out+=i,t.total_out+=i,t.avail_out-=i,n.pending-=i,0===n.pending&&(n.pending_out=0))},Pt=function(t,n){it(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,Mt(t.strm)},xt=function(t,n){t.pending_buf[t.pending++]=n},Dt=function(t,n){t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n},Lt=function(t,n,i,r){var e=t.avail_in;return e>r&&(e=r),0===e?0:(t.avail_in-=e,n.set(t.input.subarray(t.next_in,t.next_in+e),i),1===t.state.wrap?t.adler=F(t.adler,n,e,i):2===t.state.wrap&&(t.adler=B(t.adler,n,e,i)),t.next_in+=e,t.total_in+=e,e)},Ut=function(t,n){var i,r,e=t.max_chain_length,s=t.strstart,o=t.prev_length,u=t.nice_match,c=t.strstart>t.w_size-Rt?t.strstart-(t.w_size-Rt):0,h=t.window,a=t.w_mask,f=t.prev,l=t.strstart+At,v=h[s+o-1],d=h[s+o];t.prev_length>=t.good_match&&(e>>=2),u>t.lookahead&&(u=t.lookahead);do{if(h[(i=n)+o]===d&&h[i+o-1]===v&&h[i]===h[s]&&h[++i]===h[s+1]){s+=2,i++;do{}while(h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&s<l);if(r=At-(l-s),s=l-At,r>o){if(t.match_start=n,o=r,r>=u)break;v=h[s+o-1],d=h[s+o]}}}while((n=f[n&a])>c&&0!=--e);return o<=t.lookahead?o:t.lookahead},jt=function(t){var n,i,r,e,s,o=t.w_size;do{if(e=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-Rt)){t.window.set(t.window.subarray(o,o+o),0),t.match_start-=o,t.strstart-=o,t.block_start-=o,n=i=t.hash_size;do{r=t.head[--n],t.head[n]=r>=o?r-o:0}while(--i);n=i=o;do{r=t.prev[--n],t.prev[n]=r>=o?r-o:0}while(--i);e+=o}if(0===t.strm.avail_in)break;if(i=Lt(t.strm,t.window,t.strstart+t.lookahead,e),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=_t(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=_t(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Rt&&0!==t.strm.avail_in)},qt=function(t,n){for(var i,r;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&n===st)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Ut(t,i)),t.match_length>=3)if(r=rt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=_t(t,t.ins_h,t.window[t.strstart+1]);else r=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2},Ht=function(t,n){for(var i,r,e;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&n===st)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Ut(t,i),t.match_length<=5&&(t.strategy===wt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){e=t.strstart+t.lookahead-3,r=rt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=e&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Pt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=rt(t,0,t.window[t.strstart-1]))&&Pt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=rt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2};function Ft(t,n,i,r,e){this.good_length=t,this.max_lazy=n,this.nice_length=i,this.max_chain=r,this.func=e}var Vt=[new Ft(0,0,0,0,(function(t,n){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(jt(t),0===t.lookahead&&n===st)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,Pt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Rt&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Pt(t,!1),t.strm.avail_out),1)})),new Ft(4,4,8,4,qt),new Ft(4,5,16,8,qt),new Ft(4,6,32,32,qt),new Ft(4,4,16,16,Ht),new Ft(8,16,32,32,Ht),new Ft(8,16,128,128,Ht),new Ft(8,32,128,256,Ht),new Ft(32,128,258,1024,Ht),new Ft(32,258,258,4096,Ht)];function Bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Et,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ct(this.dyn_ltree),Ct(this.dyn_dtree),Ct(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ct(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ct(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var zt=function(t){if(!t||!t.state)return kt(t,lt);t.total_in=t.total_out=0,t.data_type=bt;var n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:Ot,t.adler=2===n.wrap?0:1,n.last_flush=st,tt(n),at},Gt=function(t){var n=zt(t);return n===at&&function(t){t.window_size=2*t.w_size,Ct(t.head),t.max_lazy_match=Vt[t.level].max_lazy,t.good_match=Vt[t.level].good_length,t.nice_match=Vt[t.level].nice_length,t.max_chain_length=Vt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),n},$t=function(t,n,i,r,e,s){if(!t)return lt;var o=1;if(n===yt&&(n=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),e<1||e>9||i!==Et||r<8||r>15||n<0||n>9||s<0||s>gt)return kt(t,lt);8===r&&(r=9);var u=new Bt;return t.state=u,u.strm=t,u.wrap=o,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=e+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Uint8Array(2*u.w_size),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<e+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Uint8Array(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=n,u.strategy=s,u.method=i,Gt(t)},Jt=function(t,n){var i,r;if(!t||!t.state||n>ht||n<0)return t?kt(t,lt):lt;var e=t.state;if(!t.output||!t.input&&0!==t.avail_in||e.status===Nt&&n!==ct)return kt(t,0===t.avail_out?dt:lt);e.strm=t;var s=e.last_flush;if(e.last_flush=n,42===e.status)if(2===e.wrap)t.adler=0,xt(e,31),xt(e,139),xt(e,8),e.gzhead?(xt(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),xt(e,255&e.gzhead.time),xt(e,e.gzhead.time>>8&255),xt(e,e.gzhead.time>>16&255),xt(e,e.gzhead.time>>24&255),xt(e,9===e.level?2:e.strategy>=pt||e.level<2?4:0),xt(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(xt(e,255&e.gzhead.extra.length),xt(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=B(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69):(xt(e,0),xt(e,0),xt(e,0),xt(e,0),xt(e,0),xt(e,9===e.level?2:e.strategy>=pt||e.level<2?4:0),xt(e,3),e.status=Ot);else{var o=Et+(e.w_bits-8<<4)<<8;o|=(e.strategy>=pt||e.level<2?0:e.level<6?1:6===e.level?2:3)<<6,0!==e.strstart&&(o|=32),o+=31-o%31,e.status=Ot,Dt(e,o),0!==e.strstart&&(Dt(e,t.adler>>>16),Dt(e,65535&t.adler)),t.adler=1}if(69===e.status)if(e.gzhead.extra){for(i=e.pending;e.gzindex<(65535&e.gzhead.extra.length)&&(e.pending!==e.pending_buf_size||(e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),Mt(t),i=e.pending,e.pending!==e.pending_buf_size));)xt(e,255&e.gzhead.extra[e.gzindex]),e.gzindex++;e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex===e.gzhead.extra.length&&(e.gzindex=0,e.status=73)}else e.status=73;if(73===e.status)if(e.gzhead.name){i=e.pending;do{if(e.pending===e.pending_buf_size&&(e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),Mt(t),i=e.pending,e.pending===e.pending_buf_size)){r=1;break}r=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,xt(e,r)}while(0!==r);e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),0===r&&(e.gzindex=0,e.status=91)}else e.status=91;if(91===e.status)if(e.gzhead.comment){i=e.pending;do{if(e.pending===e.pending_buf_size&&(e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),Mt(t),i=e.pending,e.pending===e.pending_buf_size)){r=1;break}r=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,xt(e,r)}while(0!==r);e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),0===r&&(e.status=Tt)}else e.status=Tt;if(e.status===Tt&&(e.gzhead.hcrc?(e.pending+2>e.pending_buf_size&&Mt(t),e.pending+2<=e.pending_buf_size&&(xt(e,255&t.adler),xt(e,t.adler>>8&255),t.adler=0,e.status=Ot)):e.status=Ot),0!==e.pending){if(Mt(t),0===t.avail_out)return e.last_flush=-1,at}else if(0===t.avail_in&&It(n)<=It(s)&&n!==ct)return kt(t,dt);if(e.status===Nt&&0!==t.avail_in)return kt(t,dt);if(0!==t.avail_in||0!==e.lookahead||n!==st&&e.status!==Nt){var u=e.strategy===pt?function(t,n){for(var i;;){if(0===t.lookahead&&(jt(t),0===t.lookahead)){if(n===st)return 1;break}if(t.match_length=0,i=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2}(e,n):e.strategy===mt?function(t,n){for(var i,r,e,s,o=t.window;;){if(t.lookahead<=At){if(jt(t),t.lookahead<=At&&n===st)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[e=t.strstart-1])===o[++e]&&r===o[++e]&&r===o[++e]){s=t.strstart+At;do{}while(r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&e<s);t.match_length=At-(s-e),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=rt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2}(e,n):Vt[e.level].func(e,n);if(3!==u&&4!==u||(e.status=Nt),1===u||3===u)return 0===t.avail_out&&(e.last_flush=-1),at;if(2===u&&(n===ot?et(e):n!==ht&&(nt(e,0,0,!1),n===ut&&(Ct(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),Mt(t),0===t.avail_out))return e.last_flush=-1,at}return n!==ct?at:e.wrap<=0?ft:(2===e.wrap?(xt(e,255&t.adler),xt(e,t.adler>>8&255),xt(e,t.adler>>16&255),xt(e,t.adler>>24&255),xt(e,255&t.total_in),xt(e,t.total_in>>8&255),xt(e,t.total_in>>16&255),xt(e,t.total_in>>24&255)):(Dt(e,t.adler>>>16),Dt(e,65535&t.adler)),Mt(t),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?at:ft)},Yt=function(t,n){var i=n.length;if(!t||!t.state)return lt;var r=t.state,e=r.wrap;if(2===e||1===e&&42!==r.status||r.lookahead)return lt;if(1===e&&(t.adler=F(t.adler,n,i,0)),r.wrap=0,i>=r.w_size){0===e&&(Ct(r.head),r.strstart=0,r.block_start=0,r.insert=0);var s=new Uint8Array(r.w_size);s.set(n.subarray(i-r.w_size,i),0),n=s,i=r.w_size}var o=t.avail_in,u=t.next_in,c=t.input;for(t.avail_in=i,t.next_in=0,t.input=n,jt(r);r.lookahead>=3;){var h=r.strstart,a=r.lookahead-2;do{r.ins_h=_t(r,r.ins_h,r.window[h+3-1]),r.prev[h&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=h,h++}while(--a);r.strstart=h,r.lookahead=2,jt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=u,t.input=c,t.avail_in=o,r.wrap=e,at},Wt={deflateInit:function(t,n){return $t(t,n,Et,15,8,St)},deflateInit2:$t,deflateReset:Gt,deflateResetKeep:zt,deflateSetHeader:function(t,n){return t&&t.state?2!==t.state.wrap?lt:(t.state.gzhead=n,at):lt},deflate:Jt,deflateEnd:function(t){if(!t||!t.state)return lt;var n=t.state.status;return 42!==n&&69!==n&&73!==n&&91!==n&&n!==Tt&&n!==Ot&&n!==Nt?kt(t,lt):(t.state=null,n===Ot?kt(t,vt):at)},deflateSetDictionary:Yt,deflateInfo:"pako deflate (from Nodeca project)"},Xt=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},Kt=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)Xt(i,r)&&(t[r]=i[r])}}return t},Qt=function(t){for(var n=0,i=0,r=t.length;i<r;i++)n+=t[i].length;var e=new Uint8Array(n),s=(i=0,0);for(r=t.length;i<r;i++){var o=t[i];e.set(o,s),s+=o.length}return e},Zt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Zt=!1}for(var tn=new Uint8Array(256),nn=0;nn<256;nn++)tn[nn]=nn>=252?6:nn>=248?5:nn>=240?4:nn>=224?3:nn>=192?2:1;tn[254]=tn[254]=1;var rn=function(t,n){if(void 0===n&&(n=t.length),n<65534&&t.subarray&&Zt)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[r]);return i},en=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var n,i,r,e,s,o=t.length,u=0;for(e=0;e<o;e++)55296==(64512&(i=t.charCodeAt(e)))&&e+1<o&&56320==(64512&(r=t.charCodeAt(e+1)))&&(i=65536+(i-55296<<10)+(r-56320),e++),u+=i<128?1:i<2048?2:i<65536?3:4;for(n=new Uint8Array(u),s=0,e=0;s<u;e++)55296==(64512&(i=t.charCodeAt(e)))&&e+1<o&&56320==(64512&(r=t.charCodeAt(e+1)))&&(i=65536+(i-55296<<10)+(r-56320),e++),i<128?n[s++]=i:i<2048?(n[s++]=192|i>>>6,n[s++]=128|63&i):i<65536?(n[s++]=224|i>>>12,n[s++]=128|i>>>6&63,n[s++]=128|63&i):(n[s++]=240|i>>>18,n[s++]=128|i>>>12&63,n[s++]=128|i>>>6&63,n[s++]=128|63&i);return n};var sn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},on=Object.prototype.toString,un=G,cn=$,hn=J,an=Y,fn=W,ln=X,vn=K,dn=Q,yn=Z;function wn(t){this.options=Kt({level:vn,method:yn,chunkSize:16384,windowBits:15,memLevel:8,strategy:dn},t||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sn,this.strm.avail_out=0;var i=Wt.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(i!==fn)throw new Error(z[i]);if(n.header&&Wt.deflateSetHeader(this.strm,n.header),n.dictionary){var r=void 0;if(r="string"==typeof n.dictionary?en(n.dictionary):"[object ArrayBuffer]"===on.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(i=Wt.deflateSetDictionary(this.strm,r))!==fn)throw new Error(z[i]);this._dict_set=!0}}function pn(t,n){return(n=n||{}).gzip=!0,function(t,n){var i=new wn(n=n||{});if(i.push(t,!0),i.err)throw i.msg||z[i.err];return i.result}(t,n)}return wn.prototype.push=function(t,n){var i,r,e=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(r=n===~~n?n:!0===n?an:un,"string"==typeof t?e.input=en(t):"[object ArrayBuffer]"===on.call(t)?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(s),e.next_out=0,e.avail_out=s),(r===cn||r===hn)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if((i=Wt.deflate(e,r))===ln)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=Wt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===fn;if(0!==e.avail_out){if(r>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},wn.prototype.onData=function(t){this.chunks.push(t)},wn.prototype.onEnd=function(t){t===fn&&(this.result=Qt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(t,n,i){var r=pn(t);return r="base64"===n?btoa(rn(r)):r.buffer,i&&i(r),r}}var Pf=function(t){function n(n){var i=t.call(this,n)||this;return i.algorithm=li.GZIP,i.Qm=Mf(),i.Zm=function(t,n,r){r(i.Qm(t,n))},i.compress=xf(),"undefined"!=typeof CompressionStream&&rr||(i.compress=i.Zm,i.getCompressorSourceCode=function(){return Mf.toString()}),i}return yt(n,t),n.prototype.compressSync=function(t,n){return this.Qm(t,n)},n.prototype.getCompressorSourceCode=function(){return xf.toString()},n}(wi);function xf(){return function(t,n,i){var r=new Response(t).body.pipeThrough(new CompressionStream("gzip")),e=new Response(r).arrayBuffer();"base64"!==n?e.then((function(t){return i(t)})):e.then((function(t){return n=t,new Promise((function(t){var i=new FileReader;i.onload=function(n){return t(n.target.result.split(",")[1])},i.readAsDataURL(new Blob([n]))}));var n})).then((function(t){return i(t)}))}}var Df=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.algorithm=li.UNCOMPRESSED,n}return yt(n,t),n.prototype.compress=function(t,n,i){i(this.compressSync(t,n))},n.prototype.compressSync=function(t,n){return t},n.prototype.getCompressorSourceCode=function(){return function(){return function(t,n,i){return i(t)}}.toString()},n}(wi),Lf=function(){function t(){}return t.create=function(t,n){return void 0===n&&(n=!0),this.instance?this.instance:n&&!_f.isCompressionEnabled()?new Df(t):this.instance=new Pf(t)},t}(),Uf=function(){function t(){}return t.prototype.setItem=function(t,n){window.sessionStorage.setItem(t,n)},t.prototype.getItem=function(t){return window.sessionStorage.getItem(t)},t.prototype.removeItem=function(t){window.sessionStorage.removeItem(t)},t}(),jf=function(){function t(){}return t.prototype.setItem=function(t,n){window.localStorage.setItem(t,n)},t.prototype.getItem=function(t){return window.localStorage.getItem(t)},t.prototype.removeItem=function(t){window.localStorage.removeItem(t)},t}(),qf="_cs_cvars",Hf=function(){function t(t,n,i){this.U=t,this.Fw=n,this.wp=i}return t.prototype.onCookieToSet=function(t){this.Ap=t},t.prototype.onCookieToRemove=function(t){this.Rp=t},t.prototype.get=function(){return this.U.cookielessTrackingEnabled?this.wp.getItem(qf):this.Fw.get(qf)},t.prototype.set=function(t){var n;this.U.cookielessTrackingEnabled?this.wp.setItem(qf,t):(this.Fw.set(qf,t),null===(n=this.Ap)||void 0===n||n.call(this,qf,t))},t.prototype.remove=function(){var t;this.U.cookielessTrackingEnabled?this.wp.removeItem(qf):(this.Fw.delete(qf),null===(t=this.Rp)||void 0===t||t.call(this,qf))},t.isValidCustomVarString=function(t){return"string"==typeof t},t}(),Ff=["visit",2],Vf=["page",3],Bf=["nextPageOnly",4],zf=function(){function t(t,n){this.j=t,this.cp=n,this.tg={},this.ng={}}return t.prototype.set=function(t,n,i,r){var e,s;if(t>0&&k(n)&&k(i)&&!I(n)&&!I(i)){var o=this.j.anonymizePII(csString(n)),u=this.j.anonymizePII(csString(i));if(e=[csString.prototype.slice.call(o,0,512),csString.prototype.slice.call(u,0,255)],s=""!==i,!N(r)||csArray.prototype.indexOf.call(Ff,r)>=0){var c=this.getCustomVariablesSession();s?c[t]=e:delete c[t],this.setCustomVariableSession(c)}(!N(r)||csArray.prototype.indexOf.call(Vf,r)>=0)&&(s?this.tg[t]=e:delete this.tg[t]),N(r)&&csArray.prototype.indexOf.call(Bf,r)>=0&&(s?this.ng[t]=e:delete this.ng[t])}},t.prototype.getCustomVariablesSession=function(){var t=this.cp.get();if(!t)return{};var n=window.csJSON.parse(t);return null!==n&&O(n)?n:{}},t.prototype.setCustomVariableSession=function(t){this.cp.set(window.csJSON.stringify(t))},t.prototype.removeCustomVariablesSession=function(){this.cp.remove()},t.prototype.removeCustomVariablesPage=function(){this.tg={}},t.prototype.getRequestParameters=function(){var t=this.getCustomVariablesSession();for(var n in this.ng)this.ng.hasOwnProperty(n)&&(this.tg[n]=this.ng[n]);for(var n in this.tg)this.tg.hasOwnProperty(n)&&(t[n]=this.tg[n]);if(window.csJSON.stringify(t).length<=2)return{};var i={cvars:this.ig(t)};return this.tg&&window.csJSON.stringify(this.tg).length>2&&(i.cvarp=this.ig(this.tg)),i},t.prototype.deleteNextPageOnlyCustomVariables=function(){if(Object.keys(this.ng).length>0)for(var t in this.ng)this.ng[t]===this.tg[t]&&(delete this.tg[t],delete this.ng[t])},t.prototype.rg=function(t){for(var n in t)if(t.hasOwnProperty(n)){var i=parseInt(n,10),r=t[n],e=r[0],s=r[1];u=1,c=20,(!(A(o=i)&&o>=u&&o<=c)||e.length>512||s.length>255)&&delete t[n]}var o,u,c},t.prototype.ig=function(t){this.rg(t);var n=function(t){var n;for(n in t)return!1;return!0}(t)?[]:t;return window.csJSON.stringify(n)},t.prototype.getAllValidCustomVars=function(){var t=this.getCustomVariablesSession();for(var n in this.ng)this.ng.hasOwnProperty(n)&&(this.tg[n]=this.ng[n]);for(var n in this.tg)this.tg.hasOwnProperty(n)&&(t[n]=this.tg[n]);return this.rg(t),t},t}(),Gf=["setCustomVariable"],$f=function(){function t(t,n){this.Ih=t,this.vn=n}return t.prototype.init=function(){var t=this;this.Ih.register(Gf,(function(n,i,r,e){t.vn.set(n,i,r,e)}))},t.prototype.onAfterArtificialPageView=function(){this.vn.deleteNextPageOnlyCustomVariables()},t.prototype.onAfterNaturalPageView=function(){this.vn.deleteNextPageOnlyCustomVariables()},t.prototype.onOptout=function(){this.vn.removeCustomVariablesSession()},t.prototype.onBeforeVisitorRenewal=function(){this.vn.removeCustomVariablesSession(),this.vn.removeCustomVariablesPage()},t}(),Jf="_cs_id",Yf=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.(None|Lax|X)\.(0|1))?(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,Wf=function(){function t(t,n,i){this.U=t,this.Fw=n,this.wp=i}return t.prototype.onCookieToSet=function(t){this.Ap=t},t.prototype.onCookieToRemove=function(t){this.Rp=t},t.prototype.get=function(){var n;return(n=this.U.cookielessTrackingEnabled?this.wp.getItem(Jf):this.Fw.get(Jf))?t.fromString(n):null},t.prototype.set=function(n){var i,r=t.toString(n);if(this.U.cookielessTrackingEnabled)this.wp.setItem(Jf,r);else{var e=new csDate(n.expires);this.Fw.set(Jf,r,e),null===(i=this.Ap)||void 0===i||i.call(this,Jf,r,e)}},t.prototype.remove=function(){var t;this.U.cookielessTrackingEnabled?this.wp.removeItem(Jf):(this.Fw.delete(Jf),null===(t=this.Rp)||void 0===t||t.call(this,Jf))},t.prototype.handleSubdomainChange=function(){if(!this.U.cookielessTrackingEnabled){var t=this.get();t&&(t.allowSubdomains=this.U.allowSubdomains,this.U.allowSubdomains?this.Fw.delete(Jf,hi.CURRENT_DOMAIN):this.Fw.delete(Jf,this.Fw.getRootDomain()),this.set(t))}},t.fromString=function(t){var n=Et(csString.prototype.split.call(t,"."),8),i=n[0],r=n[1],e=n[2],s=n[3],o=n[4],u=n[5],c=n[6],h=n[7];return{id:i,creationTimestamp:Number(r),visitsCount:Number(e),hitTimestamp:Number(s),lastVisitTimestamp:Number(o),appliedTrackingDraw:Number(u),expires:Number(c),allowSubdomains:void 0===h?void 0:!!Number(h)}},t.toString=function(t){return csArray.prototype.join.call([t.id,t.creationTimestamp,t.visitsCount,t.hitTimestamp,t.lastVisitTimestamp,t.appliedTrackingDraw,t.expires,t.allowSubdomains?1:0],".")},t.isValidVisitorString=function(t){return Yf.test(t)},t}(),Xf=function(){function t(t){this.j=t}return t.prototype.anonymizeUrl=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var r=this.j.anonymizePII(t);r=this.j.anonymizeJwt(r);var e=this.eg(r,n);return e!==r?e:this.sg(r,i)},t.prototype.removeQueryString=function(t){var n=this.og(t),i=n.path;return""!==n.queryString?"".concat(i,"?"):i},t.prototype.og=function(t){var n,i=csString.prototype.indexOf.call(t,"?"),r="";return-1!==i?(n=csString.prototype.slice.call(t,0,i),r=csString.prototype.slice.call(t,i,t.length)):n=t,{path:n,queryString:r}},t.prototype.eg=function(t,n){var i,r;if(0===n.length)return t;var e=this.og(t),s=e.path,o=e.queryString,u=csString.prototype.split.call(s,"/");try{for(var c=bt(n),h=c.next();!h.done;h=c.next()){var a=h.value,f=this.ug(u,a);if(null!==f)return"".concat(f).concat(o)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return t},t.prototype.ug=function(t,n){if(t.length<n.length)return null;for(var i=[],r=0;r<t.length;r++){var e=t[r];if(r>=n.length)csArray.prototype.push.call(i,e);else{var s=n[r].key;if(this.cg(s)){var o=n[r].value;csArray.prototype.push.call(i,o)}else{if(e!==s)return null;csArray.prototype.push.call(i,e)}}}return csArray.prototype.join.call(i,"/")},t.prototype.sg=function(t,n){var i,r;if(0===n.length)return t;var e=this.og(t),s=e.path,o=e.queryString,u=csString.prototype.split.call(s,"/");try{for(var c=bt(n),h=c.next();!h.done;h=c.next()){var a=h.value;u=this.hg(u,a)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return"".concat(csArray.prototype.join.call(u,"/")).concat(o)},t.prototype.hg=function(t,n){for(var i=[],r=0,e=0;e<t.length;e++){var s=t[e],o=n[r].key;if(this.cg(o)&&s.length>0){var u=n[r].value;csArray.prototype.push.call(i,u),++r===n.length&&(r=0)}else if(s!==o){for(var c=0;c<r;c++){i[h=e-r+c]=t[h]}r=0,csArray.prototype.push.call(i,s)}else csArray.prototype.push.call(i,s),++r===n.length&&(r=0)}for(e=0;e<r;e++){var h;i[h=t.length-r+e]=t[h]}return i},t.prototype.cg=function(t){return Ot(t,":")},t}(),Kf=function(){function t(t,n){this.Ba=t,this.U=n}return t.prototype.getEventTargetPath=function(t){var n=nr(t);return this.Ba.getElementPath(n,wt({dynamicIdRegex:this.U.dynamicIdRegex},this.U.pathComputationRules))},t.prototype.getEventTargetPathAndTargetLink=function(t){var n=nr(t),i=this.Ba.getElementPathAndFirstAnchorParent(n,wt({dynamicIdRegex:this.U.dynamicIdRegex},this.U.pathComputationRules)),r=i.path,e=i.firstAnchorParent;return{path:r,targetLink:this.ag(e)?e.href:""}},t.prototype.hasValidEventTarget=function(t){var n=nr(t);return this.Ba.isValidElement(n)},t.prototype.getElementPath=function(t){return this.Ba.getElementPath(t,wt({dynamicIdRegex:this.U.dynamicIdRegex},this.U.pathComputationRules))},t.prototype.ag=function(t){var n;return null!==t&&t.hasAttribute("href")&&!Ot(null!==(n=t.getAttribute("href"))&&void 0!==n?n:"","#")},t}(),Qf=function(){function t(t){this.Tf=t}return t.prototype.transformEvent=function(t,n){this.fg(t,n.event);var i=this.Tf.getElementPath(t);return this.lg(i,n.event),n},t.prototype.fg=function(t,n){if(function(t){return void 0!==t.x&&void 0!==t.y}(n)){var i=t.getBoundingClientRect();n.x=Math.round(i.left+n.x+oe.windowOffsetX()),n.y=Math.round(i.top+n.y+oe.windowOffsetY())}},t.prototype.lg=function(t,n){Eu(n)&&(n.tgt="".concat(t).concat(If).concat(n.tgt)),function(t){return void 0!==t.tgtHM}(n)&&(n.tgtHM="".concat(t).concat(If).concat(n.tgtHM)),function(t){return void 0!==t.tgtLk}(n)&&(n.tgtLk="".concat(t).concat(If).concat(n.tgtLk))},t}(),Zf=function(){function t(t){this.Tf=t}return t.prototype.transformEvent=function(t,n){var i=this.Tf.getElementPath(t);return{iframePath:n.iframePath?"".concat(i).concat(If).concat(n.iframePath):i,commands:n.commands}},t}(),tl=function(){function t(t){this.Tf=t}return t.prototype.transformEvent=function(t,n){if(0===n.products.length)return n;var i=this.Tf.getElementPath(t),r=csArray.prototype.map.call(n.products,(function(t){return wt(wt({},t),{targetPath:"".concat(i).concat(If).concat(t.targetPath)})}));return wt(wt({},n),{products:r})},t}(),nl=function(){function t(){this.vg={clientX:2,clientY:3},this.dg={clientX:1,clientY:2},this.yg=[Wi.POINTER_DOWN,Wi.POINTER_MOVE,Wi.POINTER_UP],this.wg=[Wi.TOUCH_START,Wi.TOUCH_MOVE,Wi.TOUCH_END]}return t.prototype.transformEvents=function(t,n){var i,r,e=this;if(!he.isConnected(t))return n.events=csArray.prototype.filter.call(n.events,(function(t){return t.type!==Wi.VISIBILITY_CHANGE})),0===n.events.length||(_n.warn("IframeRecordingEventsTransformer received event ".concat(Tn.RecordingEvent,"\n        from disconnected iframe, content:").concat(csJSON.stringify(n.events))),n.events=[]),n;var s=ar(t),o=null;csArray.prototype.some.call(n.events,(function(t){return e.pg(t)||e.mg(t)}))&&(o=t.getBoundingClientRect());try{for(var u=bt(n.events),c=u.next();!c.done;c=u.next()){var h=c.value;this.pg(h)?this.gg(o,h):this.mg(h)&&this.Sg(o,h),h.context=h.context&&h.context.length>0?"".concat(s,"/").concat(h.context):"".concat(s)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return n},t.prototype.Sg=function(t,n){this.bg(this.dg,t,n)},t.prototype.gg=function(t,n){this.bg(this.vg,t,n)},t.prototype.bg=function(t,n,i){i.args&&(i.args[t.clientX]=Math.round(n.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(n.top+i.args[t.clientY]))},t.prototype.pg=function(t){return-1!==csArray.prototype.indexOf.call(this.yg,t.type)},t.prototype.mg=function(t){return-1!==csArray.prototype.indexOf.call(this.wg,t.type)},t}(),il=function(){function t(t){this.Eg=t}return t.prototype.start=function(){var t=this;this.Eg.onEvent((function(n){return t.ve(n)})),this.Eg.start()},t.prototype.stop=function(){this.Eg.stop()},t.prototype.ve=function(t){var n="Content Security Policy error. Violated directive: ".concat(t.violatedDirective," - Source file: ").concat(t.sourceFile);_n.warn(n)},t}(),rl=function(){function t(){var t=this;this.ou={boundElement:document,type:"securitypolicyviolation",listener:function(n){return t.securityPolicyViolationListener(n)}}}return t.prototype.start=function(){Gi(this.ou)},t.prototype.stop=function(){$i(this.ou)},t.prototype.onEvent=function(t){this.Fe=t},t.prototype.Ag=function(n){if(!n)return!1;var i=n.disposition;return R(n.sourceFile)&&csArray.prototype.some.call(t.Rg,(function(t){return csString.prototype.indexOf.call(n.sourceFile,t)>0}))&&"report"!==i},t.prototype.securityPolicyViolationListener=function(t){this.Ag(t)&&this.Fe({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})},t.Rg=["contentsquare","cdnssl.clicktale.net"],mt([Bn("Event handler type: securitypolicyviolation")],t.prototype,"securityPolicyViolationListener",null),t}(),el=function(){function t(){}return t.prototype.init=function(){this.Tg=new il(new rl),this.Tg.start()},t.prototype.onOptout=function(){this.Tg.stop()},t}(),sl=Object.prototype.toString;var ol=function(t){return"symbol"==typeof t||"object"==typeof t&&null!=t&&"[object Symbol]"===(null==(n=t)?void 0===n?"[object Undefined]":"[object Null]":sl.call(n));var n};function ul(t){if("string"==typeof t||ol(t))return t;var n="".concat(t);return"number"==typeof t?"0"===n&&1/t==-1/0?"-0":n:t instanceof Number&&"0"===n&&1/t.valueOf()==-1/0?"-0":n}var cl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hl=/^\w*$/;function al(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var i=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var s=n?n.apply(this,r):r[0],o=i.cache;if(o.has(s))return o.get(s);var u=t.apply(this,r);return i.cache=o.set(s,u)||o,u};return i.cache=new(al.Cache||Map),i}al.Cache=Map;var fl,ll,vl=".".charCodeAt(0),dl=/\\(\\)?/g,yl=csRegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),wl=(fl=function(t){var n=[];return csString.prototype.charCodeAt.call(t,0)===vl&&csArray.prototype.push.call(n,""),csString.prototype.replace.call(t,yl,(function(t,i,r,e){var s=t;return r?s=csString.prototype.replace.call(e,dl,"$1"):i&&(s=csString.prototype.trim.call(i)),csArray.prototype.push.call(n,s),t})),n},ll=al(fl,(function(t){var n=ll.cache;return 500===n.size&&n.clear(),t})));function pl(t,n){return csArray.isArray(t)?t:function(t,n){return!csArray.isArray(t)&&(!("number"!=typeof t&&"boolean"!=typeof t&&null!=t&&!ol(t))||hl.test(t)||!cl.test(t)||null!=n&&t in Object(n))}(t,n)?[t]:wl(t)}function ml(t,n,i){var r=null==t?void 0:function(t,n){for(var i=pl(n,t),r=t,e=0,s=i.length;null!=r&&e<s;)r=r[ul(i[e])],e+=1;return e&&e===s?r:void 0}(t,n);return void 0===r?i:r}var gl=/\b__p \+= '';/g,Sl=/\b(__p \+=) '' \+/g,bl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,El=/['\n\r\u2028\u2029\\]/g,Al=/[&<>"']/g,Rl=csRegExp(Al.source),Tl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ol=/($^)/,Nl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kl=/[()=,{}[\]/\s]/,Il=/<%=([\s\S]+?)%>/g,Cl=Object.prototype.hasOwnProperty;function _l(t){return"\\".concat(Nl[t])}var Ml={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pl={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Il,variable:"",imports:{_:{template:xl,escape:function(t){return t&&Rl.test(t)?csString.prototype.replace.call(t,Al,(function(t){return Ml[t]})):null!=t?t:""}}}};function xl(t,n){var i,r,e=wt(wt({},Pl),n),s=Object.keys(e.imports||{}),o=csArray.prototype.map.call(s,(function(t){return null==e?void 0:e.imports[t]})),u=0,c=e.interpolate||Ol,h="__p += '",a=csRegExp("".concat((e.escape||Ol).source,"|").concat(c.source,"|").concat((c===Il?Tl:Ol).source,"|").concat((e.evaluate||Ol).source,"|$"),"g"),f="//# sourceURL=".concat(Cl.call(e,"sourceURL")?csString.prototype.replace.call("".concat(e.sourceURL),/\s/g," "):void 0,"\n");null==t||csString.prototype.replace.call(t,a,(function(n,e,s,o,c,a){var f=s||o;return h+=csString.prototype.replace.call(csString.prototype.slice.call(t,u,a),El,_l),e&&(i=!0,h+="' +\n__e(".concat(e,") +\n'")),c&&(r=!0,h+="';\n".concat(c,";\n__p += '")),f&&(h+="' +\n((__t = (".concat(f,")) == null ? '' : __t) +\n'")),u=a+n.length,n})),h+="';\n";var l,v=Cl.call(e,"variable")&&e.variable;if(v){if(kl.test(v))throw new Error("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n".concat(h,"\n}\n");h=csString.prototype.replace.call(csString.prototype.replace.call(r?csString.prototype.replace.call(h,gl,""):h,Sl,"$1"),bl,"$1;"),h="function(".concat(v||"obj",") {\n").concat(v?"":"obj || (obj = {});\n","var __t, __p = ''").concat(i?", __e = _.escape":"").concat(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n").concat(h,"return __p\n}");try{l=Function.apply(void 0,At(At([],Et(s),!1),["".concat(f,"return ").concat(h)],!1)).apply(void 0,At([],Et(o),!1))}catch(t){l=t}if(l.source=h,l instanceof Error)throw l;return l}var Dl=/^(\s*("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*,?)+$/,Ll=/^document\.querySelector\(("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\)\.textContent$/;function Ul(t){if(!Dl.test(t))throw new Error("whitelisted function is wrongly used")}var jl={"window.location.hash.replace(":function(t,n){return Ul(csString.prototype.substring.call(t,29,t.length-1)),xl("${".concat(t,"}"))(n)},"window.sessionStorage.getItem(":function(t,n){return Ul(csString.prototype.substring.call(t,30,t.length-1)),xl("${".concat(t,"}"))(n)},"document.querySelector(":function(t,n){if(Ll.test(t))return xl("${".concat(t,"}"))(n)},"new Date().getTime()":function(t,n){return(new csDate).getTime().toString()}};var ql,Hl,Fl=/\$\{(.+?)\}/g,Vl=function(t){return function(n,i,r){var e="";return csArray.prototype.forEach.call(csString.prototype.split.call(i,"+"),(function(n){var i,r=csString.prototype.trim.call(n),s=ml(t,r);if(void 0===s)if(cn(i=r,"'")&&hn(i,"'"))s=csString.prototype.substring.call(r,1,r.length-1);else{var o=function(t){var n=bi(Object.keys(jl),(function(n){return cn(t,n)}));if(n)return jl[n]}(r);if(o&&(s=o(r,t)),void 0===s)throw new Error("undefined not allowed")}e+=s})),e}};function Bl(t,n){try{return csString.prototype.replace.call(t,Fl,Vl(n))}catch(t){return null}}function zl(t,n){var i,r,e={};try{for(var s=bt(Object.keys(t)),o=s.next();!o.done;o=s.next()){var u=o.value,c=t[u];if(R(c)){var h=Bl(c,n);if(null===h)return null;e[u]=h}else e[u]=c}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return e}function Gl(t,n){var i=csArray.prototype.join.call(csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(t,","),(function(t){return Bl(t,n)})),(function(t){return null!==t&&vr(t)})),",");return vr(i)?i:null}function $l(t,n){try{var i=/^values\(([a-zA-Z0-9_$[\].]+)\)\[\?([a-zA-Z0-9_$]+)\]$/.exec(t);if(!i)return null;var r=i[1],e=i[2],s=ml(n,(u=r,csArray.isArray(u)?csArray.prototype.map.call(u,ul):ol(u)?[u]:csArray.from(wl(u))));if("object"!=typeof s||null===s)return null;var o=[];return csArray.prototype.forEach.call(Object.keys(s),(function(t){var n=s[t];"object"==typeof n&&null!==n&&!csArray.isArray(n)&&e in n&&csArray.prototype.push.call(o,n)})),o}catch(t){return null}var u}function Jl(t,n){var i=csString.prototype.split.call(t,"|");if(i.length>2)return null;var r=$l(csString.prototype.trim.call(i[0]),n);return 2===i.length?null===r?null:function(t,n){var i=/^\[([0-9]+):([0-9+])\]$/.exec(t);if(!i)return null;var r=parseInt(i[1],10),e=parseInt(i[2],10);return e<=r||e>n.length?null:csArray.prototype.slice.call(n,r,e)}(csString.prototype.trim.call(i[1]),r):r}function Yl(t,n){return function(t,n){switch(t){case Hl.EXIST:case Hl.NOT_EXIST:return function(t,n){var i=Et(n,1),r=i[0];if(!vr(r))return!1;switch(t){case Hl.EXIST:return null!==window.csquerySelector[document.nodeType].call(document,r);case Hl.NOT_EXIST:return null===window.csquerySelector[document.nodeType].call(document,r);default:return!1}}(t,n);default:return function(t,n){var i=Et(n,2),r=i[0],e=i[1],s=t in ql;if(!(s||R(r)&&R(e)))return!1;switch(t){case ql.AND:return!!csArray.prototype.reduce.call(n,(function(t,n){return t&&n}));case ql.OR:return!!csArray.prototype.reduce.call(n,(function(t,n){return t||n}));case Hl.STARTS_WITH:return cn(r,e);case Hl.EQUALS:return r===e;case Hl.NOT_EQUALS:return r!==e;case Hl.CONTAINS:return csString.prototype.indexOf.call(r,e)>-1;case Hl.MATCHES:var o=function(t){var n=/^\/(.*)\/([gimy]*)$/.exec(t),i=null;if(n){var r=Et(n,3),e=r[1],s=r[2];try{i=new csRegExp(e,s)}catch(t){i=null}}return i}(e);return null!==o&&o.test(r);default:return!1}}(t,n)}}(t.operator,function(t,n){return csArray.prototype.map.call(t,(function(t){return function(t){return!!(t&&t.operator&&t.args)}(t)?Yl(t,n):R(t)?Bl(t,n):t}))}(t.args,n))}function Wl(t){switch(t){case"no decoding":default:return null;case"decode once":return{decodeURI:!0};case"decode multiple times":return{decodeURIDeep:!0}}}function Xl(t){return"on next pageview only"===(null==t?void 0:t[0])?{lifespan:"onNextPageviewOnly"}:null}!function(t){t.AND="AND",t.OR="OR"}(ql||(ql={})),function(t){t.STARTS_WITH="startsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.CONTAINS="contains",t.MATCHES="matches",t.EXIST="exist",t.NOT_EXIST="notExist"}(Hl||(Hl={}));var Kl,Ql,Zl=function(t,n){this.commandsService=t,this.args=n},tv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n}(Zl),nv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){if(t.path){var n=[t.path],i=Wl(t.decodeURI),r=Xl(t.lifespan),e=wt(wt({},i),r);Object.keys(e).length&&n.push(e),this.Og(n)}else this.Og([])},n.prototype.Og=function(t){this.commandsService.applyFromImplementation(Jc[0],t,"ArtificialPageviewTemplate")},n}(Zl),iv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t,n){var i,r,e=Bl(t.message,n);if(null!==e){var s={};try{for(var o=bt(t.attributes),u=o.next();!u.done;u=o.next()){var c=u.value,h=Bl(c.value,n);null!==h&&(s[c.key]=h)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.commandsService.applyFromImplementation(Bh[0],[e,s],"CustomErrorTemplate")}},n}(tv),rv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Gf[0],[t.index,t.name,t.value,t.scope[0]],"CustomVariableTemplate")},n}(Zl),ev=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Bo[0],[t.selector],"DataCsEncryptTemplate")},n}(Zl),sv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){if(vr(t.selector)){var n=window.csquerySelector[document.nodeType].call(document,t.selector);n&&n.setAttribute("data-cs-override-id",t.value)}},n}(Zl),ov=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t,n){var i=zl(t,n);null!==i?this.Og(i):this.Ng(t,n)()},n.prototype.Ng=function(t,n){var i=this;return function(){var r=0,e=window.csSetInterval((function(){r+=1;var s=zl(t,n);if(null!==s)return window.csClearInterval(e),e=void 0,r=0,void i.Og(s);r>=20&&(window.csClearInterval(e),e=void 0,r=0)}),100)}},n.prototype.Og=function(t){var n=t.value;if("Integer"===t.type){var i=Number.parseInt(t.value,10);Number.isNaN(i)||(n=i)}this.commandsService.applyFromImplementation(au[0],[{key:t.key,value:n}],"DynamicVariableTemplate")},n}(tv),uv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.kg({id:t.transactionId,revenue:t.revenue,currency:t.currency}),this.Ig({id:t.transactionId,name:t.name,sku:t.sku,category:t.category,price:t.price,quantity:t.quantity}),this.Cg()},n.prototype.kg=function(t){this.commandsService.applyFromImplementation(pu[0],[t],"EcTransactionAllTemplate")},n.prototype.Ig=function(t){this.commandsService.applyFromImplementation(mu[0],[t],"EcTransactionAllTemplate")},n.prototype.Cg=function(){this.commandsService.applyFromImplementation(gu[0],[],"EcTransactionAllTemplate")},n}(Zl),cv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(pu[0],[t],"EcTransactionCreateTemplate")},n}(Zl),hv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(mu[0],[t],"EcTransactionItemsAddTemplate")},n}(Zl),av=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(){this.commandsService.applyFromImplementation(gu[0],[],"EcTransactionSendTemplate")},n}(Zl),fv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Vo[0],[t.selector],"ElementUnmaskingTemplate")},n}(Zl),lv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(bh[0],["@ETP@".concat(t.eventName)],"EventTriggerRecordingPageTemplate")},n}(Zl),vv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(bh[0],["@ETS@".concat(t.eventName)],"EventTriggerRecordingSessionTemplate")},n}(Zl),dv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Sh[0],[t.eventName],"PageEventTemplate")},n}(Zl),yv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t,n){var i=csArray.prototype.filter.call(csArray.prototype.map.call(t.cssSelectors,(function(t){return Gl(t,n)})),(function(t){return!!t})),r=csArray.prototype.filter.call(csArray.prototype.map.call(t.attributes,(function(t){return{attrName:Bl(t.attrName,n),selector:Gl(t.selector,n)}})),(function(t){return!!t.attrName&&!!t.selector})),e={PIISelectors:At([],Et(i),!1),Attributes:At([],Et(r),!1)};this.commandsService.applyFromImplementation(ya[0],[e],"PIIMaskingTemplate")},n}(tv),wv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(bh[0],["".concat(t.eventName)],"RecordingEventTriggerTemplate")},n}(Zl),pv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){var n=[t.path],i=Wl(t.decodeURI),r=Xl(t.lifespan),e=wt(wt({},i),r);Object.keys(e).length&&n.push(e),this.commandsService.applyFromImplementation(Yc[0],n,"SetPathTemplate")},n}(Zl),mv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){var n=[t.query],i=Wl(t.decodeURI),r=Xl(t.lifespan),e=wt(wt({},i),r);Object.keys(e).length&&n.push(e),this.commandsService.applyFromImplementation(Wc[0],n,"SetQueryTemplate")},n}(Zl),gv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(){this.commandsService.applyFromImplementation(Go[0],[],"SrmOnlineAssetsTemplate")},n}(Zl),Sv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){if(vr(t.selector)){var n=window.csquerySelector[document.nodeType].call(document,t.selector);n&&this.commandsService.applyFromImplementation(Uc[0],[t.status,n],"SubmitTemplate")}},n}(Zl),bv=function(){function t(t,n,i){this.commandsService=t,this.args=n,this.condition=i,this.isStarted=!1,this._g=!1}return t.prototype.onEvent=function(t){this.onEventCallback=t},t.prototype.start=function(){this._g||(this.onInit(),this._g=!0),this.isStarted||(this.onStart(),this.isStarted=!0)},t.prototype.stop=function(){this.isStarted&&(this.onStop(),this.isStarted=!1)},mt([Bn()],t.prototype,"start",null),mt([Bn()],t.prototype,"stop",null),t}(),Ev=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.Mg=!0,n}return yt(n,t),n.prototype.onInit=function(){var t=this;vr(this.args.selector)?(this.Pg=!this.args.frequency||"once per pageview"===this.args.frequency,this.Ci=new Cs((function(n,i){return t.dn(n,i)}))):this.Mg=!1},n.prototype.onStart=function(){this.Mg&&this.Ci.observe(this.args.selector)},n.prototype.onStop=function(){this.Mg&&(this.Ci.processPendingMutations(),this.Ci.disconnect())},n.prototype.dn=function(t,n){var i=this;"added"===n&&(this.Pg?(this.stop(),this.onEventCallback({element:t[0]})):new Set(t).forEach((function(t){return i.onEventCallback({element:t})})))},n}(bv),Av=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.Mg=!0,n.xg=!1,n}return yt(n,t),n.prototype.onInit=function(){var t=this;vr(this.args.selector)?this.Ci=new Cs((function(n,i){t.dn(n,i)})):this.Mg=!1},n.prototype.onStart=function(){this.Mg&&(this.Ci.observe(this.args.selector),this.xg=!0)},n.prototype.onStop=function(){this.Mg&&(this.Ci.processPendingMutations(),this.Ci.disconnect())},n.prototype.dn=function(t,n){var i=this;this.xg?"added"===n&&new Set(t).forEach((function(t){return i.onEventCallback({element:t})})):this.onEventCallback({element:t[0]})},n}(bv),Rv=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.Mg=!0,n}return yt(n,t),n.prototype.onInit=function(){var t=this;vr(this.args.selector)?(this.eu=new Cs((function(n){return t.Dg(n)})),this.gn=new Ae((function(n){return t.Lg(n)}))):this.Mg=!1},n.prototype.onStart=function(){this.Mg&&(this.Ug=csSymbol("MatchingElement"),this.eu.observe(this.args.selector),this.gn.observe())},n.prototype.onStop=function(){this.Mg&&(this.eu.processPendingMutations(),this.eu.disconnect(),this.gn.disconnect())},n.prototype.Dg=function(t){var n=this;new Set(t).forEach((function(t){return n.jg(t)}))},n.prototype.Lg=function(t){var n,i,r,e=this,s=gi(t,(function(t){return t.removedNodes})),o=[];try{for(var u=bt(s),c=u.next();!c.done;c=u.next()){var h=c.value;(r=csArray.prototype.push).call.apply(r,At([o],Et(this.qg(h)),!1))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}new Set(o).forEach((function(t){return e.onEventCallback({element:t})}))},n.prototype.jg=function(t){t[this.Ug]=!0},n.prototype.qg=function(t){var n=this,i=[];return Mi(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){t[n.Ug]&&(he.isConnected(t)&&nt.call(t,n.args.selector)||delete t[n.Ug],csArray.prototype.push.call(i,t))})),i},n}(bv),Tv=function(){function t(t){this.dn=t}var n;return t.tc=function(t){this.callbacks.has(t)||(this.callbacks.add(t),1===this.callbacks.size&&Gi(this.eventHandler,!1))},t.nc=function(t){this.callbacks.delete(t),0===this.callbacks.size&&$i(this.eventHandler,!1)},t.prototype.observe=function(){n.tc(this.dn)},t.prototype.disconnect=function(){n.nc(this.dn)},n=t,t.callbacks=new Set,t.readyStateChangeListener=function(t){return n.callbacks.forEach((function(n){return n(t)}))},t.eventHandler={boundElement:e.document,type:"readystatechange",listener:n.readyStateChangeListener},t}(),Ov=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.onInit=function(){var t=this;try{this.Ar=this.args.state.toLowerCase()}catch(t){this.Ar="any",_n.warn("Implementations: PageStateTrigger has wrong argument.")}this.Ci=new Tv((function(){t.Hg(t.Ar,document.readyState)&&(t.onEventCallback(),t.Ci.disconnect())}))},n.prototype.onStart=function(){this.Hg(this.Ar,document.readyState)?this.onEventCallback():this.Ci.observe()},n.prototype.onStop=function(){this.Ci.disconnect()},n.prototype.Hg=function(t,i){var r=n.Fg[i];return n.Fg[t]<=r},n.Fg={complete:3,interactive:2,loading:1,any:0},n}(bv),Nv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.Vg=function(){this.isStarted&&this.onEventCallback()},n.prototype.onInit=function(){var t=this;this.commandsService.applyFromImplementation(iu[0],[function(){return t.Vg()}],"AfterPageViewTrigger")},n.prototype.onStart=function(){},n.prototype.onStop=function(){},n}(bv),kv=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.Mg=!0,n.Ec=!0,n.Bg={boundElement:document,type:"click",listener:function(t){return n.clickListener(t)}},n}return yt(n,t),n.prototype.clickListener=function(t){var n=t.target;k(n)&&C(n)&&nt.call(n,this.args.selector)&&this.onEventCallback({element:n})},n.prototype.onInit=function(){vr(this.args.selector)||(this.Mg=!1)},n.prototype.onStart=function(){this.Mg&&Gi(this.Bg,this.Ec)},n.prototype.onStop=function(){this.Mg&&$i(this.Bg,this.Ec)},mt([Bn("clickListener")],n.prototype,"clickListener",null),n}(bv),Iv=function(){function t(t){this.dn=t}return t.zg=function(){var t,n,i,r;if("history"in window){var e=Object.getOwnPropertyDescriptors(history);if((null===(t=e.pushState)||void 0===t?void 0:t.writable)&&(null===(n=e.replaceState)||void 0===n?void 0:n.writable))return history}if(History.prototype){var s=Object.getOwnPropertyDescriptors(History.prototype);if((null===(i=s.pushState)||void 0===i?void 0:i.writable)&&(null===(r=s.replaceState)||void 0===r?void 0:r.writable))return History.prototype}Vn.warn("Unable to override pushState, replaceState",!0,"HistoryChangeObserver")},t.Kd=function(){var n=t.zg();null===t.Gg&&I(null==n?void 0:n.pushState)&&(t.Gg=Fi({target:n,methodName:"pushState",hook:function(n){var i=n.args;t.$g("pushstate",i)}})),null===t.Jg&&I(null==n?void 0:n.replaceState)&&(t.Jg=Fi({target:n,methodName:"replaceState",hook:function(n){var i=n.args;t.$g("replacestate",i)}}))},t.mn=function(n){var i,r;t.En.add(n),1===t.En.size&&(null!==t.Gg&&null!==t.Jg||t.Kd(),null===(i=t.Gg)||void 0===i||i.activate(),null===(r=t.Jg)||void 0===r||r.activate(),Gi(t.Yg),Gi(t.Wg))},t.Nn=function(n){var i,r;t.En.delete(n),0===t.En.size&&(null===(i=t.Gg)||void 0===i||i.deactivate(),null===(r=t.Jg)||void 0===r||r.deactivate(),$i(t.Yg),$i(t.Wg))},t.$g=function(n,i){var r={type:n,state:i[0]};R(i[2])&&(r.url=i[2]),t.mu(r)},t.popstateListener=function(n){t.mu({type:"popstate",state:n.state})},t.hashchangeListener=function(n){t.mu({type:"hashchange",state:null,url:n.newURL})},t.mu=function(n){t.En.forEach((function(t){t(n)}))},t.prototype.observe=function(){t.mn(this.dn)},t.prototype.disconnect=function(){t.Nn(this.dn)},t.Gg=null,t.Jg=null,t.Yg={boundElement:e,type:"popstate",listener:function(n){return t.popstateListener(n)}},t.Wg={boundElement:e,type:"hashchange",listener:function(n){return t.hashchangeListener(n)}},t.En=new Set,Ln([Bn("popstateListener")],t,"popstateListener",null),Ln([Bn("hashchangeListener")],t,"hashchangeListener",null),t}(),Cv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.onInit=function(){var t=this;"yes"===this.args.useDebounce?this.ur=xo((function(){t.onEventCallback()}),this.args.window):this.ur=this.onEventCallback,this.Ci=new Iv((function(n){return t.Xg(n)}))},n.prototype.Kg=function(){return window.location.href},n.prototype.Xg=function(t){var n="replacestate"===t.type&&-1===this.args.listeners.indexOf("replaceState"),i="hashchange"===t.type&&-1===this.args.listeners.indexOf("hashchange");if(!n&&!i){var r=this.Kg();this.Qg!==r&&(this.Qg=r,this.ur())}},n.prototype.onStart=function(){this.Qg=this.Kg(),this.Ci.observe()},n.prototype.onStop=function(){this.Ci.disconnect()},n}(bv),_v=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.Mg=!0,n.Ec=!0,n.Bg={boundElement:document,type:"submit",listener:function(t){return n.submitListener(t)}},n}return yt(n,t),n.prototype.submitListener=function(t){var n=t.target;k(n)&&C(n)&&nt.call(n,this.args.selector)&&this.onEventCallback({element:n})},n.prototype.onInit=function(){vr(this.args.selector)||(this.Mg=!1)},n.prototype.onStart=function(){this.Mg&&Gi(this.Bg,this.Ec)},n.prototype.onStop=function(){this.Mg&&$i(this.Bg,this.Ec)},mt([Bn("submitListener")],n.prototype,"submitListener",null),n}(bv),Mv=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.Mg=!0,n.Zg={boundElement:document,type:"mouseover",listener:function(t){return n.mouseoverListener(t)}},n.tS={boundElement:document,type:"mouseleave",listener:function(t){return n.mouseleaveListener(t)}},n}return yt(n,t),n.prototype.onInit=function(){vr(this.args.selector)||(this.Mg=!1)},n.prototype.mouseleaveListener=function(t){var n=t.target;k(n)&&C(n)&&n[this.nS]&&delete n[this.nS]},n.prototype.mouseoverListener=function(t){var n=t.target;if(k(n)&&C(n)){var i=dr(n,this.args.selector);null===i||i[this.nS]||(i[this.nS]=!0,this.onEventCallback({element:i}))}},n.prototype.onStart=function(){this.Mg&&(this.nS=csSymbol("Hovered"),Gi(this.tS,!0),Gi(this.Zg,!0))},n.prototype.onStop=function(){this.Mg&&($i(this.Zg),$i(this.tS))},mt([Bn("mouseleaveListener")],n.prototype,"mouseleaveListener",null),mt([Bn("mouseoverListener")],n.prototype,"mouseoverListener",null),n}(bv),Pv=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.Bg={boundElement:window,type:"hashchange",listener:function(t){return n.hashChangedListener(t)}},n}return yt(n,t),n.prototype.hashChangedListener=function(t){t.newURL&&t.newURL===t.oldURL||this.onEventCallback()},n.prototype.onInit=function(){},n.prototype.onStart=function(){Gi(this.Bg)},n.prototype.onStop=function(){$i(this.Bg)},mt([Bn("hashChangedListener")],n.prototype,"hashChangedListener",null),n}(bv),xv=function(t){function n(){var n=t.apply(this,At([],Et(arguments),!1))||this;return n.iS=!0,n}return yt(n,t),n.prototype.onInit=function(){var t=this;vr(this.args.selector)&&Os.isSupported()?(this.Mo=new Os({delay:0,trackOnce:!0,reobserve:!0}),this.eu=new Cs((function(n){return t.rS(n)}),{closest:!0})):this.iS=!1},n.prototype.rS=function(t){var n,i;try{for(var r=bt(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.Mo.observe(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.eS=function(t,n){if(this.isStarted&&n===As.VisibleInViewPort){var i=dr(t,this.args.selector);i&&(this.onEventCallback({element:i}),this.stop(),this.iS=!1)}},n.prototype.onStart=function(){var t=this;this.iS&&(this.Mo.start((function(n,i){return t.eS(n,i)})),this.eu.observe(this.args.selector))},n.prototype.onStop=function(){this.iS&&(this.Mo.stop(),this.eu.disconnect())},n}(bv),Dv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Hh[0],[t.url],"ApiErrorsMaskUrlTemplate")},n}(Zl),Lv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(ga[0],[t.maskingPattern],"NetworkRequestMaskUrlTemplate")},n}(Zl),Uv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yt(n,t),n.prototype.onInit=function(){var t;O(this.args)&&csArray.isArray(this.args.pageviewTypes)&&this.args.pageviewTypes.length>0?this.sS=this.args.pageviewTypes:(this.sS=["natural","artificial"],_n.warn("Implementations: BeforePageViewTrigger has wrong argument: ".concat(null===(t=this.args)||void 0===t?void 0:t.pageviewTypes,".")))},n.prototype.onPageView=function(t){this.isStarted&&-1!==csArray.prototype.indexOf.call(this.sS,t)&&this.onEventCallback()},n.prototype.onStart=function(){},n.prototype.onStop=function(){},n}(bv),jv=function(){function t(t){this.Ih=t,this.oS={ApiErrorsMaskUrl:Dv,NetworkRequestMaskUrls:Lv,ArtificialPageview:nv,CustomError:iv,CustomVariable:rv,DataCsEncrypt:ev,DataCsOverride:sv,DynamicVariable:ov,EcTransactionAll:uv,EcTransactionCreate:cv,EcTransactionItemsAdd:hv,EcTransactionSend:av,ElementUnmasking:fv,EventTriggerRecordingPage:lv,EventTriggerRecordingSession:vv,PageEvent:dv,PiiMasking:yv,RecordingEventTrigger:wv,SetPath:pv,SetQuery:mv,SrmOnlineAssets:gv,Submit:Sv},this.uS={AfterPageView:Nv,ElementAdded:Ev,ElementExist:Av,ElementRemoved:Rv,ElementVisibility:xv,ElementClick:kv,FormSubmit:_v,HashChange:Pv,HistoryChange:Cv,Mouseover:Mv,PageState:Ov,BeforePageView:Uv}}return t.prototype.cS=function(t){var n=this.oS[t.name];return n?new n(this.Ih,t.args):(_n.error("Implementations: template ".concat(t.name," does not exist")),null)},t.prototype.hS=function(t){var n=this.uS[t.name];return n?new n(this.Ih,t.args,t.condition):(_n.error("Implementations: trigger ".concat(t.name," does not exist")),null)},t.prototype.parse=function(t){var n,i,r,e,s=[];try{for(var o=bt(t),u=o.next();!u.done;u=o.next()){var c=u.value,h=c.triggers,a=c.template,f=this.cS(a);if(f)try{for(var l=(r=void 0,bt(h)),v=l.next();!v.done;v=l.next()){var d=v.value,y=this.hS(d);y&&csArray.prototype.push.call(s,{trigger:y,template:f})}}catch(t){r={error:t}}finally{try{v&&!v.done&&(e=l.return)&&e.call(l)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s},t}(),qv=function(){function t(t,n,i){this.aS=t,this.hs=i,this.Bs={window:window,document:document,location:location,cookies:{}},this.uS=new Set,this.fS=new jv(n)}return t.prototype.init=function(){var t,n,i=this;Object.defineProperty(this.Bs,"cookies",{get:function(){return i.lS()}});var r=this.fS.parse(this.aS),e=function(t,n){if(t instanceof Uv&&n instanceof nv)return"continue";s.uS.add(t),t.onEvent((function(t){i.onTriggerEvent(t,n)}))},s=this;try{for(var o=bt(r),u=o.next();!u.done;u=o.next()){var c=u.value;e(c.trigger,c.template)}}catch(n){t={error:n}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},t.prototype.start=function(t){var n=this;void 0===t&&(t=!1),this.uS.forEach((function(i){if(i.condition&&!Yl(i.condition,n.Bs))return;t?n.hs.schedule((function(){i.start()})):i.start()}))},t.prototype.stop=function(){this.uS.forEach((function(t){t.stop()}))},t.prototype.onBeforePageView=function(t){this.uS.forEach((function(n){n instanceof Uv&&n.onPageView(t)}))},t.prototype.onTriggerEvent=function(t,n){var i,r,e,s,o,u=wt(wt({},this.Bs),t),c=[];if("iterable"in n.args&&R(n.args.iterable)&&n.args.iterable.length>0){var h=Jl(n.args.iterable,u);if(k(h)){var a=csArray.prototype.map.call(h,(function(t){return wt(wt({},u),{$:t})}));(i=csArray.prototype.push).call.apply(i,At([c],Et(a),!1))}}else csArray.prototype.push.call(c,u);if(n instanceof tv)try{for(var f=bt(c),l=f.next();!l.done;l=f.next()){var v=l.value;n.execute(n.args,v)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(e=f.return)&&e.call(f)}finally{if(r)throw r.error}}else try{for(var d=bt(c),y=d.next();!y.done;y=d.next()){v=y.value;var w=zl(n.args,v);w&&n.execute(w)}}catch(t){s={error:t}}finally{try{y&&!y.done&&(o=d.return)&&o.call(d)}finally{if(s)throw s.error}}},t.prototype.lS=function(){var t;try{t=document.cookie}catch(n){t=""}return csArray.prototype.reduce.call(csString.prototype.split.call(t,"; "),(function(t,n){var i=Et(csString.prototype.split.call(n,"="),2),r=i[0],e=i[1];return void 0!==e&&(t[r]=e),t}),{})},mt([ci("implementationsService.start")],t.prototype,"start",null),mt([Bn()],t.prototype,"onTriggerEvent",null),t}(),Hv=function(){function t(t,n,i){this.vS=new qv(t,n,i)}return t.prototype.init=function(){this.vS.init()},t.prototype.onInitTracking=function(){this.vS.start(!0)},t.prototype.onOptout=function(){this.vS.stop()},t.prototype.onAfterSessionRenewal=function(){this.vS.stop(),this.vS.start()},t.prototype.onAfterArtificialPageView=function(){this.vS.stop(),this.vS.start()},t.prototype.onBeforeArtificialPageView=function(){this.vS.onBeforePageView("artificial")},t.prototype.onBeforeNaturalPageView=function(){this.vS.onBeforePageView("natural")},t}(),Fv=function(t){function n(n,i,r){var e=t.call(this,n,i)||this;return e.dS=null,e.yS=(null==r?void 0:r.type)||"json",e.wS=null==r?void 0:r.cacheMinutes,e.hn=null==r?void 0:r.timeout,e}return yt(n,t),n.prototype.onLoad=function(t){this.en=t},n.prototype.onError=function(t){this.un=t},n.prototype.onTimeout=function(t,n){this.cn=t,this.hn=n},n.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,(function(t){return t()}));var t=this.retrieveParameters();this.N(t);var n=_t.toQuery(t),i="".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(n);this.hl(i,this.yS)},n.prototype.abort=function(){this.dS&&(this.dS.abort(),this.dS=null)},n.prototype.isInProgress=function(){return null!==this.dS},n.prototype.hl=function(t,n){var i,r=this,e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType=n,e.onerror=function(){return r.un(e)},e.ontimeout=function(){return r.cn(e)},e.onload=function(){e.status>=200&&e.status<400?(r.en(r.pS(e,n)?e.response:e.responseText),csArray.prototype.forEach.call(r.afterRequestCallbacks,(function(t){return t()}))):r.un(e)},e.onloadend=function(){r.dS=null},e.timeout=null!==(i=this.hn)&&void 0!==i?i:5e3,this.dS=e,e.send()},n.prototype.pS=function(t,n){var i=t.getResponseHeader("Content-Type");return null===i?"json"===n:csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0},n.prototype.N=function(t){var n,i,r;n=this.wS?"".concat((i=this.wS,r=60*i*1e3,"".concat(Math.floor(csDate.now()/r)))):csString.prototype.slice.call("".concat(Math.random()),2,8),t.r=n},n}(Lt),Vv=function(t){this.configuration=t},Bv=function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.configuration=n,e.mS=i,e.Uc=r,e.gS=Or.RECORDING_GLOBAL_SAMPLING,e}return yt(n,t),n.prototype.refreshQuota=function(){this.SS=void 0,this.bS()},n.prototype.onQuotaReady=function(t){this.ES=t},n.prototype.init=function(){this.AS()},n.prototype.sanitizeSessionCollectState=function(t){return t},n.prototype.canCollect=function(t){return null!==t&&t.collectState!==Or.QUOTA_REACHED},n.prototype.computeInitialCollectState=function(t){return this.SS?(this.Uc.emitCollectStateChange(this.SS,Nr.ETR_OFF),this.SS):(_n.warn("Quota file error computeInitialCollectState() called before quota answered"),Or.QUOTA_REACHED)},n.prototype.getEligibleCollectState=function(t){return t.collectState===Or.QUOTA_REACHED?Or.QUOTA_REACHED:!jh.isRecordingSupported()&&this.isReplayRecorded(t)?Or.ANALYTICS_ONLY:t.collectState===Or.RECORDING_RULES_TARGETING?Or.RECORDING_RULES_TARGETING:t.collectState===Or.ANALYTICS_ONLY_RULES_TARGETING?Or.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===Or.RECORDING_GLOBAL_SAMPLING?Or.RECORDING_GLOBAL_SAMPLING:Or.ANALYTICS_ONLY},n.prototype.abortQuotaServiceRequest=function(){},n.prototype.isReplayRecorded=function(t){return t.collectState===Or.RECORDING_GLOBAL_SAMPLING||t.collectState===Or.RECORDING_RULES_TARGETING},n.prototype.getInitialCollectState=function(){return this.SS||Or.QUOTA_REACHED},n.prototype.setVisitorService=function(t){},n.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(t){return Or.ANALYTICS_ONLY},n.prototype.RS=function(t){this.SS=t,this.ES&&this.ES(t)},n.prototype.AS=function(){var t=this;this.mS.onError((function(n){return t.quotaServiceErrorHandler("HTTP:".concat(n.status," - fetching quota file for pid: ").concat(t.configuration.projectId))})),this.mS.onTimeout((function(){return t.quotaServiceErrorHandler("timeout")})),this.mS.onLoad((function(n){return t.quotaFileHandler(n)}))},n.prototype.bS=function(){this.mS.isInProgress()||this.mS.send()},n.prototype.quotaFileHandler=function(t){var n;(null===(n=null==t?void 0:t.quotas)||void 0===n?void 0:n.length)?this.TS(t):this.quotaServiceErrorHandler("Quota types missing from config file")},n.prototype.quotaServiceErrorHandler=function(t){var n="Quota error - ".concat(t);_n.warn(n),this.RS(this.gS)},n.prototype.TS=function(t){var n,i,r=!1,e=!1;try{for(var s=bt(t.quotas),o=s.next();!o.done;o=s.next()){var u=o.value;"ANALYTICS"===u.quotaType&&u.value?r=!0:"RECORDING"===u.quotaType&&u.value&&kt.boolean(Math.round(100*u.value))&&(e=!0)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}!r&&e?this.quotaServiceErrorHandler("Quota types impossible: replay without analytics - ".concat(csJSON.stringify(t))):r&&e?jh.isRecordingSupported()?this.RS(Or.RECORDING_GLOBAL_SAMPLING):this.RS(Or.ANALYTICS_ONLY):r&&!e?this.RS(Or.ANALYTICS_ONLY):this.RS(Or.QUOTA_REACHED)},n.prototype.getRecordingConsentWithdrawn=function(){return Or.ANALYTICS_ONLY},mt([Bn("Quota File: quotaFileHandler")],n.prototype,"quotaFileHandler",null),mt([Bn("Quota File: onerror")],n.prototype,"quotaServiceErrorHandler",null),n}(Vv),zv=function(t){function n(n,i,r,e,s){var o=t.call(this,n)||this;return o.configuration=n,o.OS=i,o.Uc=r,o.sp=e,o.ot=s,o.NS=[],o}return yt(n,t),n.prototype.refreshQuota=function(){},n.prototype.onQuotaReady=function(t){},n.prototype.canCollect=function(t){return!0},n.prototype.init=function(){this.kS()},n.prototype.sanitizeSessionCollectState=function(t){return t.collectState!==Or.QUOTA_REACHED&&t.collectState!==Or.RECORDING_RULES_TARGETING&&t.collectState!==Or.RECORDING_TEMPORARILY||(t.collectState=Or.ANALYTICS_ONLY),t},n.prototype.computeInitialCollectState=function(t){return Uo.isReplayConsentNeeded(this.configuration)?Or.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.qp(t)},n.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(t){return this.qp(t)},n.prototype.qp=function(t){return jh.isRecordingSupported()?(this.NS=[],kt.percentage()<this.configuration.replayRecordingRate||this.sp.isForceReplayRecorded()?csArray.prototype.push.call(this.NS,Or.RECORDING_GLOBAL_SAMPLING):this.configuration.malkaUrlEnabled&&csArray.prototype.push.call(this.NS,Or.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.NS,Or.RECORDING_ETR_SAMPLING),this.NS.length>0?(this.bS(t),Or.RECORDING_TEMPORARILY):Or.ANALYTICS_ONLY):Or.ANALYTICS_ONLY},n.prototype.getEligibleCollectState=function(t){return jh.isRecordingSupported()?Uo.isRecordingBlockedByConsent(t)?t.collectState===Or.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Or.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:Or.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:t.collectState===Or.RECORDING_GLOBAL_SAMPLING?Or.RECORDING_GLOBAL_SAMPLING:(this.NS=[],this.configuration.malkaUrlEnabled&&(csArray.prototype.push.call(this.NS,Or.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.NS,Or.RECORDING_ETR_SAMPLING)),this.NS.length>0?(this.bS(t),Or.RECORDING_TEMPORARILY):(t.etrState===Nr.ETR_ON&&this.Uc.emitCollectStateChange(Or.ANALYTICS_ONLY,Nr.ETR_ON),Or.ANALYTICS_ONLY)):Or.ANALYTICS_ONLY},n.prototype.bS=function(t){var n,i=null===(n=this.X)||void 0===n?void 0:n.getVisitor();this.OS.send({recordingTypes:csArray.prototype.map.call(this.NS,Number),url:this.ot.getAnonymizedUrl(),projectId:this.configuration.projectId,uu:(null==i?void 0:i.id)||"",sn:(null==i?void 0:i.visitsCount)||"",pn:(null==t?void 0:t.pageNumber)||""})},n.prototype.abortQuotaServiceRequest=function(){this.OS.abort()},n.prototype.isReplayRecorded=function(t){return!Uo.isRecordingBlockedByConsent(t)&&(t.collectState===Or.RECORDING_TEMPORARILY||t.collectState===Or.RECORDING_GLOBAL_SAMPLING||t.collectState===Or.RECORDING_URL_SAMPLING||t.etrState===Nr.ETR_ON)},n.prototype.kS=function(){var t=this;this.OS.onError((function(){return t.quotaServiceErrorHandler("NetworkError")})),this.OS.onTimeout((function(){return t.quotaServiceTimeoutHandler()}),3e3),this.OS.onLoad((function(n){return t.quotaServiceLoadHandler(n)}))},n.prototype.quotaServiceErrorHandler=function(t){this.IS("error - ".concat(t))},n.prototype.quotaServiceTimeoutHandler=function(){this.IS("timeout")},n.prototype.IS=function(t){var n=Or.ANALYTICS_ONLY;this.CS(this.NS)?(n=Or.RECORDING_GLOBAL_SAMPLING,_n.warn("Quota Service: request ".concat(t," - bypassed by GLOBAL_SAMPLING"))):_n.warn("Quota Service: request ".concat(t)),this.Uc.emitCollectStateChange(n,Nr.ETR_OFF)},n.prototype.quotaServiceLoadHandler=function(t){if(200===t.status){var n;try{n=csJSON.parse(t.responseText)}catch(n){return void this.quotaServiceErrorHandler("Unable to parse the quota service response: ".concat(t.responseText))}var i=null==n.allowedRecordingTypes?void 0:csArray.prototype.map.call(n.allowedRecordingTypes,csString);if(i){var r=Nr.ETR_OFF,e=Or.ANALYTICS_ONLY;this.CS(i)?e=Or.RECORDING_GLOBAL_SAMPLING:this._S(i)&&(e=Or.RECORDING_URL_SAMPLING),this.MS(i)&&(r=Nr.ETR_ON),this.Uc.emitCollectStateChange(e,r)}else this.quotaServiceErrorHandler("recording types missing from quota service response")}else this.quotaServiceErrorHandler("Status code: ".concat(t.status))},n.prototype.CS=function(t){return csArray.prototype.some.call(t,(function(t){return t===Or.RECORDING_GLOBAL_SAMPLING}))},n.prototype._S=function(t){return csArray.prototype.some.call(t,(function(t){return t===Or.RECORDING_URL_SAMPLING}))},n.prototype.MS=function(t){return csArray.prototype.some.call(t,(function(t){return t===Or.RECORDING_ETR_SAMPLING}))},n.prototype.setVisitorService=function(t){this.X=t},n.prototype.getInitialCollectState=function(){return Or.ANALYTICS_ONLY},n.prototype.getRecordingConsentWithdrawn=function(){return Or.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},mt([Bn("Quota Service: onerror")],n.prototype,"quotaServiceErrorHandler",null),mt([Bn("Quota Service: ontimeout")],n.prototype,"quotaServiceTimeoutHandler",null),mt([Bn("Quota Service: onload")],n.prototype,"quotaServiceLoadHandler",null),n}(Vv),Gv=function(){function t(t,n,i,r,e){var s=this;this.U=t,this.ut=n,this.q=i,this.hs=r,this.Uc=e,this.PS=function(){var t=ei.get(Pa);null!==t&&ja.isValidSessionString(t)?s.Mw.canCollect(ja.fromRawString(t))&&s.init():(s.Mw.onQuotaReady((function(t){t!==Or.QUOTA_REACHED&&s.init()})),s.Mw.refreshQuota())}}return t.prototype.initWithQuota=function(){var t=new Fv(this.U.getQuotaUri(),"",{type:"json",cacheMinutes:15});this.Mw=new Bv(this.U,t,this.Uc),this.Mw.init(),this.PS()},t.prototype.init=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,E,A,R,T,O,N,k,I,C,_,M=this;vh.isSupported()&&vh.setDigestSalt(this.U.projectId.toString()),this.hs.schedule((function(){t=new Xt,n=new Xf(t),r=new Of(window.location,n),(i=new hi(M.U,r,M.ut)).init()})),this.hs.schedule((function(){e=new Uf,s=new jf,y=new ff(window.location,i),(new el).init(),w=Lf.create(_n.warn);var t=(d=new Ci(w)).create("".concat(M.U.getLegacyQuotaUri(),"/quota"),!0);void 0===M.Mw&&(M.Mw=new zv(M.U,t,M.Uc,y,r),M.Mw.init())})),this.hs.schedule((function(){o=new ja(M.U,i,e),u=new Ha(o,M.Mw)})),this.hs.schedule((function(){c=new Wf(M.U,i,e),h=new Ma(M.U,c,u,M.Uc),M.q.setContext(h,u),M.Mw.setVisitorService(h)})),this.hs.schedule((function(){C=new Qa(M.U,new Ga(M.U,i,s),M.Uc),a=new Va(h,u,C),f=new ef(M.U,i,e),l=new sf(window.location,f),v=new of(l),p=new Fa(M.U,h,l),k=new Kf(ft,M.U),A=new Qf(k),R=new Zf(k),T=new tl(k),O=new nl,N=new Cf(A,R,T,O),E=new Sf([mf.UXA]),m=new pf(E,N),g=new uf(r),S=new hf(g,E);var n=new Hf(M.U,i,e);I=new zf(t,n),b=new $f(E,I);new _i(h,u,l,I,M.U)})),this.hs.schedule((function(){var e=new Ca(M.U,h,l,p,a,undefined,undefined,y);M.U.implementations&&((_=new Hv(M.U.implementations,E,M.hs)).init(),M.Uc.addListener(_)),e.compute((function(e){M.hs.schedule((function(){m.init();var o=new kf,c=new Ka(M.U,E,C,u,M.Uc),a=new vf(M.U,i,s),f=new df(M.Uc,window.location,a),l=new wf(E,f),y=new Ef(E,M.U);var p=new bf(M.U,h,u,undefined);e?(M.Uc.emitInitTracking(),new Ia(p,w,h,u,M.Uc,E,m,M.U,l,f,c,C,t,k,n,r,y,o,N,I,b,g,S,M.hs,d,i,s,M.Mw).start()):new Za(M.Uc,E,m,l,f,v,c).start()}))}))}))},t}();!function(t){var n,i={loadBundle:function(t){var s,o,u,h,a=t.source,f=t.data;if(r(f)){n=f.token,c(i.loadBundle),e(t.origin)&&(h=function(t,n){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(t,"{version}",n.version),"{token}",n.token),"{domain}",n.domain)}("{domain}/tag/tag.bundle.js?v={version}",f),s=h,o=function(){return a.postMessage("csBundleLoaded",t.origin)},(u=document.createElement("script")).type="text/javascript",u.async=!0,u.src=s,u.onload=o,u.charset="utf-8",document.head.appendChild(u))}}};function r(t){return t&&"csBundleInjection"===t.type&&e(t.domain)&&o(t.version)&&s(t.token)}function e(n){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(n)||t.hjDomainRegex.test(n)}function s(t){return/^[a-zA-Z0-9]+$/.test(t)}function o(t){return/^[a-zA-Z0-9\.]+$/.test(t)}function u(t){window.addEventListener("message",t,!1)}function c(t){window.removeEventListener("message",t,!1)}t.getToken=function(){return n},t.isAuthorizedIncomingMessage=r,t.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/,t.isAuthorizedDomain=e,t.isAuthorizedToken=s,t.isAuthorizedTagVersion=o,t.isActivable=function(){var t=window.opener||window.parent;return window!==t&&window.addEventListener},t.waitForBundleInjection=function(){u(i.loadBundle)},t.listen=u,t.removeListener=c}(Kl||(Kl={})),function(t){var n,i,r=window.opener||window.parent,e=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,Kl.hjDomainRegex],s={ping:function(t){if("ping"===t.data&&o(t.origin)){var r=Kl.hjDomainRegex.test(t.origin);n=r?"https://app.contentsquare.com":t.origin,i=r?t.origin:void 0,h(s.ping),c(s.insertMessageScript),u("".concat("utils.js","?cb=").concat((new csDate).getTime()))}},insertMessageScript:a((function(t){var n=t.data;"string"==typeof n&&"ping"!==n&&(h(s.insertMessageScript),u(n))}))};function o(t){return csArray.prototype.some.call(e,(function(n){return n.test(t)}))}function u(t,i){var r=document.createElement("script");r.type="text/javascript",r.async=!0;var e=csString.prototype.replace.call(n,/^https?:/,"");r.src="".concat(e,"/").concat("tag","/").concat(t),r.onload=i,r.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(r),function(t){csString.prototype.includes.call(t,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(t,"&mode=")[1])}(t)}function c(t){window.addEventListener("message",t,!1)}function h(t){window.removeEventListener("message",t,!1)}function a(t){return function(r){(r.origin===n||i)&&t(r)}}t.getToken=function(){return Kl.getToken()},t.isActivable=function(){return window!==r&&window.addEventListener},t.isAuthorizedDomain=o,t.waitForConnection=function(){c(s.ping),Kl.waitForBundleInjection()},t.listen=c,t.removeListener=h,t.secureListener=a,t.post=function(t){i?r.postMessage(t,i):n&&r.postMessage(t,n)}}(Ql||(Ql={}));var $v,Jv=window.CSFrameCommunication||Ql,Yv=function(t){function n(n){var i=t.call(this)||this;return i.hs=n,i}return yt(n,t),n.prototype.emitBeforeNaturalPageView=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterNaturalPageView=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterNaturalPageView&&e.onAfterNaturalPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitInitTracking=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onInitTracking&&e.onInitTracking()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitStartTracking=function(t){var n,i,r=function(n){n.onStartTracking&&e.hs.schedule((function(){return n.onStartTracking(t)}))},e=this;try{for(var s=bt(this.listeners),o=s.next();!o.done;o=s.next()){r(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.emitArtificialPageViewEnd=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd()}catch(t){_n.error(t)}}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitBeforeArtificialPageView=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeArtificialPageView&&e.onBeforeArtificialPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterArtificialPageView=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterArtificialPageView&&e.onAfterArtificialPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitBeforeSessionRenewal=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeSessionRenewal&&e.onBeforeSessionRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterSessionRenewal=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterSessionRenewal&&e.onAfterSessionRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitOptout=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onOptout&&e.onOptout()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitReplayUnanonymizationConsentGranted=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onReplayUnanonymizationConsentGranted&&e.onReplayUnanonymizationConsentGranted()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitReplayUnanonymizationConsentWithdrawn=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onReplayUnanonymizationConsentWithdrawn&&e.onReplayUnanonymizationConsentWithdrawn()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterReplayRecordingConsentGranted=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterReplayRecordingConsentGranted&&e.onAfterReplayRecordingConsentGranted()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterReplayRecordingConsentWithdrawn=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterReplayRecordingConsentWithdrawn&&e.onAfterReplayRecordingConsentWithdrawn()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitCollectStateChange=function(t,n){var i,r;try{for(var e=bt(this.listeners),s=e.next();!s.done;s=e.next()){var o=s.value;o.onCollectStateChange&&o.onCollectStateChange(t,n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.emitInitialDomStart=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onInitialDomStart&&e.onInitialDomStart()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitInitialDomDone=function(t){var n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onInitialDomDone&&s.onInitialDomDone(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitRecordingContextChange=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onRecordingContextChange&&e.onRecordingContextChange()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitSensitiveStatusChange=function(){var t,n,i;try{for(var r=bt(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;null===(i=s.onSensitiveStatusChange)||void 0===i||i.call(s)}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.emitBeforeVisitorRenewal=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeVisitorRenewal&&e.onBeforeVisitorRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterVisitorCleared=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterVisitorCleared&&e.onAfterVisitorCleared()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterVisitorRenewal=function(){var t,n;try{for(var i=bt(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterVisitorRenewal&&e.onAfterVisitorRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},mt([ci("emitStartTracking")],n.prototype,"emitStartTracking",null),n}(Nf),Wv=function(){function t(t,n,i){this.U=t,this.At=n,this.q=i}return t.prototype.start=function(){var t,n,i,r,e;if(!window.UXAnalytics){window.UXAnalytics={};var s=new os(!!(null===(t=this.U.taskSchedulerOptions)||void 0===t?void 0:t.enabled),null===(n=this.U.taskSchedulerOptions)||void 0===n?void 0:n.maxProcessingTime,null===(i=this.U.taskSchedulerOptions)||void 0===i?void 0:i.waitDuration),o=new fi(this.At,this.U);o.init();var u=new vi(this.U,o);if(this.At.isTopWindowTracker()&&u.canTrack()){if((null===(r=window.CSProtectnativeFunctionsLogs)||void 0===r?void 0:r.Warning)&&_n.warn("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Warning)),null===(e=window.CSProtectnativeFunctionsLogs)||void 0===e?void 0:e.Critical)return void _n.error("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Critical));var c=new Yv(s),h=new Gv(this.U,o,this.q,s,c);this.U.isQuotaEnabled()?h.initWithQuota():h.init()}else{}var a=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive:function(t){return lr.isMaskedElement(t)||lr.isMaskedElementChild(t)},isAttributeSensitive:function(t,n){return lr.isMaskedAttribute(t,n)},getSensitiveAttributes:function(t){return Ai(t.attributes,(function(n){return lr.isMaskedAttribute(t,n.name)}))}},Console:{warn:function(t){a&&console.warn("cs.tracking.warning",t)},error:function(t){a&&console.error("cs.tracking.error",t)}}},!window.CSFrameCommunication&&Jv.isActivable()&&(window.CSFrameCommunication=Jv,Jv.waitForConnection())}},mt([ci("main.start"),Bn("main.start")],t.prototype,"start",null),t}();!function(t){t.isCSJavascriptBridgeDefined=function(){return"object"==typeof window.CSJavascriptBridge&&"function"==typeof window.CSJavascriptBridge.optIn&&"function"==typeof window.CSJavascriptBridge.optOut&&"function"==typeof window.CSJavascriptBridge.sendEvent&&"function"==typeof window.CSJavascriptBridge.sendDynamicVar&&"function"==typeof window.CSJavascriptBridge.sendTransaction},t.getBridgeVersion=function(){if("function"==typeof window.CSJavascriptBridge.getVersion)try{var t=window.CSJavascriptBridge.getVersion();if(E(t))return t}catch(t){_n.warn("an error occurred when calling getVersion")}return null},t.notifyIsReadyForTracking=function(){"function"==typeof window.CSJavascriptBridge.onWebviewTrackingReady&&window.CSJavascriptBridge.onWebviewTrackingReady()},t.sendAnalysisEvent=function(t){window.CSJavascriptBridge.sendEvent(csJSON.stringify(t))},t.sendSREvent=function(t){var n,i;if(window.CSJavascriptBridge.sendSREvent)try{for(var r=bt(t.events),e=r.next();!e.done;e=r.next()){var s=e.value;window.CSJavascriptBridge.sendSREvent(csJSON.stringify(s))}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.sendLog=function(t){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(t))},t.sendOptIn=function(){window.CSJavascriptBridge.optIn()},t.sendOptOut=function(){window.CSJavascriptBridge.optOut()},t.sendDynamicVariable=function(t,n){window.CSJavascriptBridge.sendDynamicVar(t,n)},t.sendTransaction=function(t,n,i){window.CSJavascriptBridge.sendTransaction(t,n,i)},t.sendAssets=function(t,n){if(window.CSJavascriptBridge.sendAssets){var i=csJSON.stringify(t);window.CSJavascriptBridge.sendAssets(i,n||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(t,(function(t){return t.assetId})))},t.sendNativeSREvent=function(t){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(t))}}($v||($v={}));var Xv=function(){function t(){}return t.prototype.send=function(t,n,i){void 0===i&&(i=Ct.warn);var r={message:t,errorCode:n,level:i};$v.sendLog(r)},t}();function Kv(){var t=new Pt(window.CS_CONF);window._uxa=window._uxa||[],t.processOptionOverrides(window._uxa);var n=new xt(window,t);n.init();var i=new In;if(Vn=_n,Gn=!0,_n.computeIsActive(t.validationRate),n.isTopWindowTracker()){var r=new yn(t,i);_n.setStrategy(r)}else if(n.isInIframeContext()){var e=new kn(t);_n.setStrategy(e)}else if(n.isInWebViewContext()){var s=new Xv;_n.setStrategy(s)}Qn(),new Wv(t,n,i).start()}window.CSCurrentScript=document.currentScript,csSetTimeout((function(){try{Kv()}catch(t){}}))}();