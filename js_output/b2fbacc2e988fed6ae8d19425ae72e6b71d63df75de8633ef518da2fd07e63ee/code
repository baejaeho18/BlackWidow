"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[457],{470:(t,e,i)=>{i.d(e,{AG:()=>l,FX:()=>h,n1:()=>o,uR:()=>c});var s=i(9599),n=i(5277),r=i(248),a=Object.prototype.hasOwnProperty;function l(t,e,i){return t||0===t||""===t?e(t)+(i?",":""):"!"}function c(t,e){return e?Math.floor(t).toString(36):void 0===t||0===t?"":Math.floor(t).toString(36)}function h(t){var e=Object.hasOwnProperty("create")?Object.create(null):{},i=0;return function(s){if(void 0===s||""===s)return"";var n=new r.RR({agentIdentifier:t});s=String(s),n.shouldObfuscate()&&(s=n.obfuscateString(s));return a.call(e,s)?c(e[s],!0):(e[s]=i++,function(t){return"'"+t.replace(d,"\\$1")}(s))}}function o(t,e){var i=[];return(0,s.D)(t,(function(t,s){if(!(i.length>=64)){var r,a=5;switch(t=e(t),typeof s){case"object":s?r=e((0,n.P)(s)):a=9;break;case"number":a=6,r=s%1?s:s+".";break;case"boolean":a=s?7:8;break;case"undefined":a=9;break;default:r=e(s)}i.push([a,t+(r?","+r:"")])}})),i}var d=/([,\\;])/g},4457:(t,e,i)=>{i.r(e),i.d(e,{Aggregate:()=>u});var s=i(470),n=(i(9206),i(9599)),r=i(5569),a=i(4539),l=i(6621),c=i(3195),h=i(5970),o=i(8025),d=i(8438);class u extends o.W{constructor(t,e){var i;if(super(t,e),i=this,d.il){this.timings=[],this.timingsSent=[],this.lcpRecorded=!1,this.lcp=null,this.clsSupported=!1,this.cls=0,this.clsSession={value:0,firstEntryTime:0,lastEntryTime:0},this.curSessEndRecorded=!1;try{this.clsSupported=PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch(t){}var s=(0,h.Mt)(this.agentIdentifier,"page_view_timing.maxLCPTimeSeconds")||60,n=(0,h.Mt)(this.agentIdentifier,"page_view_timing.initialHarvestSeconds")||10,l=(0,h.Mt)(this.agentIdentifier,"page_view_timing.harvestTimeSeconds")||30;this.scheduler=new r.o("events",{onFinished:function(){return i.onHarvestFinished(...arguments)},getPayload:function(){return i.prepareHarvest(...arguments)},onUnload:()=>this.recordLcp()},this),(0,a.X)("timing",(function(){return i.processTiming(...arguments)}),void 0,this.ee),(0,a.X)("lcp",(function(){return i.updateLatestLcp(...arguments)}),void 0,this.ee),(0,a.X)("cls",(function(){return i.updateClsScore(...arguments)}),void 0,this.ee),(0,a.X)("docHidden",(t=>this.endCurrentSession(t)),void 0,this.ee),(0,a.X)("winPagehide",(t=>this.recordPageUnload(t)),void 0,this.ee),setTimeout((()=>{this.recordLcp(),this.lcpRecorded=!0}),1e3*s),this.scheduler.startTimer(l,n)}}recordLcp(){if(!this.lcpRecorded&&null!==this.lcp){var t=this.lcp[0],e=this.lcp[1],i=this.lcp[2],s={size:t.size,eid:t.id};i&&(i["net-type"]&&(s["net-type"]=i["net-type"]),i["net-etype"]&&(s["net-etype"]=i["net-etype"]),i["net-rtt"]&&(s["net-rtt"]=i["net-rtt"]),i["net-dlink"]&&(s["net-dlink"]=i["net-dlink"])),t.url&&(s.elUrl=(0,l.f)(t.url)),t.element&&t.element.tagName&&(s.elTag=t.element.tagName),(e>0||this.clsSupported)&&(s.cls=e),this.addTiming("lcp",Math.floor(t.startTime),s,!1),this.lcpRecorded=!0}}updateLatestLcp(t,e){if(this.lcp&&this.lcp[0].size>=t.size)return;this.lcp=[t,this.cls,e]}updateClsScore(t){(t.startTime-this.clsSession.lastEntryTime>1e3||t.startTime-this.clsSession.firstEntryTime>5e3)&&(this.clsSession={value:0,firstEntryTime:t.startTime,lastEntryTime:t.startTime}),this.clsSession.value+=t.value,this.clsSession.lastEntryTime=Math.max(this.clsSession.lastEntryTime,t.startTime),this.cls<this.clsSession.value&&(this.cls=this.clsSession.value)}endCurrentSession(t){this.curSessEndRecorded||(this.addTiming("pageHide",t,null,!0),this.curSessEndRecorded=!0)}recordPageUnload(t){this.addTiming("unload",t,null,!0),this.endCurrentSession(t)}addTiming(t,e,i,s){this.blocked||(i=i||{},(this.cls>0||this.clsSupported)&&s&&(i.cls=this.cls),this.timings.push({name:t,value:e,attrs:i}),(0,c.p)("pvtAdded",[t,e,i],void 0,void 0,this.ee))}processTiming(t,e,i){var s=this;"fi"===t&&setTimeout((function(){return s.recordLcp(...arguments)}),0),this.addTiming(t,e,i,!0)}onHarvestFinished(t){if(t.retry&&this.timingsSent.length>0){for(var e=0;e<this.timingsSent.length;e++)this.timings.push(this.timingsSent[e]);this.timingsSent=[]}}appendGlobalCustomAttributes(t){var e=t.attrs||{},i=(0,h.C5)(this.agentIdentifier).jsAttributes||{},s=["size","eid","cls","type","fid","elTag","elUrl","net-type","net-etype","net-rtt","net-dlink"];(0,n.D)(i,(function(t,i){s.indexOf(t)<0&&(e[t]=i)}))}prepareHarvest(t){if(0!==this.timings.length){var e=this.getPayload(this.timings);if(t.retry)for(var i=0;i<this.timings.length;i++)this.timingsSent.push(this.timings[i]);return this.timings=[],{body:{e}}}}getPayload(t){for(var e=(0,s.FX)(this.agentIdentifier),i="bel.6;",n=0;n<t.length;n++){var r=t[n];i+="e,",i+=e(r.name)+",",i+=(0,s.AG)(r.value,s.uR,!1)+",",this.appendGlobalCustomAttributes(r);var a=(0,s.n1)(r.attrs,e);a&&a.length>0&&(i+=(0,s.uR)(a.length)+";"+a.join(";")),n+1<t.length&&(i+=";")}return i}}}}]);