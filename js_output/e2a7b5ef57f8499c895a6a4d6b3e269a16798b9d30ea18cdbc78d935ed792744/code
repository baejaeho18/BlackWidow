/*! For license information please see Support.Main.min.js.LICENSE.txt */
!function(){var e,t={7046:function(e,t){var n={parseBuffer:function(e){return new r(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(i.prototype._boxProcessors[e]=t)},createFile:function(){return new r},createBox:function(e,t,n){var r=i.create(e);return t&&t.append(r,n),r},createFullBox:function(e,t,r){var i=n.createBox(e,t,r);return i.version=0,i.flags=0,i},Utils:{}};n.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var a=e.getUint8(i++);a<128||(a<224?(a=(31&a)<<6,a|=63&e.getUint8(i++)):a<240?(a=(15&a)<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++)):(a=(7&a)<<18,a|=(63&e.getUint8(i++))<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++))),r.push(String.fromCharCode(a))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},n.Utils.utf8ToByteArray=function(e){var t,n;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},n.Utils.appendBox=function(e,t,n){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==n)if(null!=n){var r,i=-1;if("number"==typeof n)i=n;else{if("string"==typeof n)r=n;else{if("object"!=typeof n||!n.type)return void e.boxes.push(t);r=n.type}for(var a=0;a<e.boxes.length;a++)if(r===e.boxes[a].type){i=a+1;break}}e.boxes.splice(i,0,t)}else e.boxes.push(t)},t.parseBuffer=n.parseBuffer,t.addBoxProcessor=n.addBoxProcessor,t.createFile=n.createFile,t.createBox=n.createBox,t.createFullBox=n.createFullBox,t.Utils=n.Utils,n.Cursor=function(e){this.offset=void 0===e?0:e};var r=function(e){this._cursor=new n.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};r.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},r.prototype.fetchAll=function(e,t){var n=[];return r._sweep.call(this,e,n,t),n},r.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=i.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},r._sweep=function(e,t,n){for(var i in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;r._sweep.call(this.boxes[i],e,t,n)}},r.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var n=new Uint8Array(t);for(this._rawo=new DataView(n.buffer),this.bytes=n,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return n.buffer},r.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)};var i=function(){this._cursor=new n.Cursor};i.parse=function(e){var t=new i;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},i.create=function(e){var t=new i;return t.type=e,t.boxes=[],t},i.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca","meta","grpl","prsl"],i.prototype._boxProcessors={},i.prototype._procField=function(e,t,n){this._parsing?this[e]=this._readField(t,n):this._writeField(t,n,this[e])},i.prototype._procFieldArray=function(e,t,n,r){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(n,r);else for(i=0;i<this[e].length;i++)this._writeField(n,r,this[e][i])},i.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},i.prototype._procEntries=function(e,t,n){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push({}),n.call(this,this[e][r]);else for(r=0;r<t;r++)n.call(this,this[e][r])},i.prototype._procSubEntries=function(e,t,n,r){var i;if(this._parsing)for(e[t]=[],i=0;i<n;i++)e[t].push({}),r.call(this,e[t][i]);else for(i=0;i<n;i++)r.call(this,e[t][i])},i.prototype._procEntryField=function(e,t,n,r){this._parsing?e[t]=this._readField(n,r):this._writeField(n,r,e[t])},i.prototype._procSubBoxes=function(e,t){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push(i.parse(this));else for(n=0;n<t;n++)this._rawo?this[e][n].write():this.size+=this[e][n].getLength()},i.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();case"utf8string":return this._readUTF8TerminatedString();default:return-1}},i.prototype._readInt=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(n);break;case 16:t=this._raw.getInt16(n);break;case 32:t=this._raw.getInt32(n);break;case 64:var r=this._raw.getInt32(n),i=this._raw.getInt32(n+4);t=r*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},i.prototype._readUint=function(e){var t,n,r=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:r=this._raw.getUint8(i);break;case 16:r=this._raw.getUint16(i);break;case 24:r=((t=this._raw.getUint16(i))<<8)+(n=this._raw.getUint8(i+2));break;case 32:r=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),n=this._raw.getUint32(i+4),r=t*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,r},i.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},i.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},i.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},i.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var n=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,n}return null},i.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?n.Utils.dataViewToString(t):t},i.prototype._readUTF8TerminatedString=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;if(e>0){var r;for(t=new DataView(this._raw.buffer,this._cursor.offset,e),r=0;r<e&&0!==t.getUint8(r);r++);t=new DataView(this._raw.buffer,this._cursor.offset,r),this._cursor.offset+=Math.min(r+1,e)}return t?n.Utils.dataViewToString(t):t},i.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},i.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},i.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(i.parse(this))},i.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)},i.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},i.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},i.prototype._writeInt=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(n,t);break;case 16:this._rawo.setInt16(n,t);break;case 32:this._rawo.setInt32(n,t);break;case 64:var r=Math.floor(t/Math.pow(2,32)),i=t-r*Math.pow(2,32);this._rawo.setUint32(n,r),this._rawo.setUint32(n+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeUint=function(e,t){if(this._rawo){var n,r,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:n=(16776960&t)>>8,r=255&t,this._rawo.setUint16(i,n),this._rawo.setUint8(i+2,r);break;case 32:this._rawo.setUint32(i,t);break;case 64:r=t-(n=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,n),this._rawo.setUint32(i+4,r)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeString=function(e,t){for(var n=0;n<e;n++)this._writeUint(8,t.charCodeAt(n))},i.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},i.prototype._writeTemplate=function(e,t){var n=Math.floor(t),r=(t-n)*Math.pow(2,e/2);this._writeUint(e/2,n),this._writeUint(e/2,r)},i.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,n=0;n<e.length;n++)this._rawo.setInt8(t+n,e[n]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},i.prototype._writeUTF8String=function(e){var t=n.Utils.utf8ToByteArray(e);if(this._rawo)for(var r=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)r.setUint8(i,t[i]);else this.size+=t.length},i.prototype._writeField=function(e,t,n){switch(e){case"uint":this._writeUint(t,n);break;case"int":this._writeInt(t,n);break;case"template":this._writeTemplate(t,n);break;case"string":-1==t?this._writeTerminatedString(n):this._writeString(t,n);break;case"data":this._writeData(n);break;case"utf8":this._writeUTF8String(n)}},i.prototype._boxProcessors.ardi=function(){this._procFullBox(),this._procField("audio_rendering_indication","uint",8)},i.prototype._boxProcessors.avc1=i.prototype._boxProcessors.avc2=i.prototype._boxProcessors.avc3=i.prototype._boxProcessors.avc4=i.prototype._boxProcessors.hvc1=i.prototype._boxProcessors.hev1=i.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},i.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_offset",1===this.version?"int":"uint",32)}))},i.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.elng=function(){this._procFullBox(),this._procField("extended_language","utf8string")},i.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},i.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},i.prototype._boxProcessors.free=i.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},i.prototype._boxProcessors.ftyp=i.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},i.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},i.prototype._boxProcessors.imda=function(){this._procField("imda_identifier","uint",32),this._procField("data","data",-1)},i.prototype._boxProcessors.kind=function(){this._procFullBox(),this._procField("schemeURI","utf8string"),this._procField("value","utf8string")},i.prototype._boxProcessors.labl=function(){this._procFullBox(),this.is_group_label=0!=(1&this.flags),this._procField("label_id","uint",16),this._procField("language","utf8string"),this._procField("label","utf8string")},i.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},i.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},i.prototype._boxProcessors.meta=function(){this._procFullBox()},i.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},i.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},i.prototype._boxProcessors.mp4a=i.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},i.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},i.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},i.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},i.prototype._boxProcessors.prsl=function(){this._procFullBox(),this._procField("group_id","uint",32),this._procField("num_entities_in_group","uint",32),this._procEntries("entities",this.num_entities_in_group,(function(e){this._procEntryField(e,"entity_id","uint",32)})),4096&this.flags&&this._procField("preselection_tag","utf8string"),8192&this.flags&&this._procField("selection_priority","uint",8),16384&this.flags&&this._procField("interleaving_tag","utf8string")},i.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},i.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},i.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},i.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},i.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},i.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},i.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},i.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_count","uint",32),this._procEntryField(e,"sample_delta","uint",32)}))},i.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},i.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},i.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},i.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},i.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},i.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},i.prototype._boxProcessors["url "]=i.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},i.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},i.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},i.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},i.prototype._boxProcessors.vtte=function(){}},8488:function(e,t,n){var r=n(2746);e.exports=r},3104:function(e,t,n){var r=n(7273);e.exports=r},6564:function(e,t,n){var r=n(2445),i=n(3478),a=n(7269),o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not a function")}},5719:function(e,t,n){var r=n(2445),i=n(3478),a=r.String,o=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+a(e)+" as a prototype")}},1313:function(e,t,n){var r=n(4486),i=n(6635),a=n(9783),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},3855:function(e,t,n){var r=n(2445),i=n(7455),a=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw a("Incorrect invocation")}},4482:function(e,t,n){var r=n(2445),i=n(3406),a=r.String,o=r.TypeError;e.exports=function(e){if(i(e))return e;throw o(a(e)+" is not an object")}},3410:function(e,t,n){"use strict";var r=n(2445),i=n(6981),a=n(5633),o=n(2048),s=n(7065),u=n(1977),c=n(9795),l=n(579),d=n(1859),f=n(7172),p=n(2506),h=r.Array;e.exports=function(e){var t=o(e),n=c(this),r=arguments.length,g=r>1?arguments[1]:void 0,v=void 0!==g;v&&(g=i(g,r>2?arguments[2]:void 0));var m,y,b,w,x,S,T=p(t),k=0;if(!T||this==h&&u(T))for(m=l(t),y=n?new this(m):h(m);m>k;k++)S=v?g(t[k],k):t[k],d(y,k,S);else for(x=(w=f(t,T)).next,y=n?new this:[];!(b=a(x,w)).done;k++)S=v?s(w,g,[b.value,k],!0):b.value,d(y,k,S);return y.length=k,y}},6272:function(e,t,n){var r=n(8436),i=n(3088),a=n(579),o=function(e){return function(t,n,o){var s,u=r(t),c=a(u),l=i(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},8330:function(e,t,n){var r=n(2445),i=n(3088),a=n(579),o=n(1859),s=r.Array,u=Math.max;e.exports=function(e,t,n){for(var r=a(e),c=i(t,r),l=i(void 0===n?r:n,r),d=s(u(l-c,0)),f=0;c<l;c++,f++)o(d,f,e[c]);return d.length=f,d}},9827:function(e,t,n){var r=n(8330),i=Math.floor,a=function(e,t){var n=e.length,u=i(n/2);return n<8?o(e,t):s(e,a(r(e,0,u),t),a(r(e,u),t),t)},o=function(e,t){for(var n,r,i=e.length,a=1;a<i;){for(r=a,n=e[a];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var i=t.length,a=n.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?r(t[o],n[s])<=0?t[o++]:n[s++]:o<i?t[o++]:n[s++];return e};e.exports=a},7065:function(e,t,n){var r=n(4482),i=n(6911);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},7730:function(e,t,n){var r=n(6460),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},6394:function(e,t,n){var r=n(2445),i=n(7956),a=n(3478),o=n(7730),s=n(4486)("toStringTag"),u=r.Object,c="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=u(e),s))?n:c?o(t):"Object"==(r=o(t))&&a(t.callee)?"Arguments":r}},4189:function(e,t,n){var r=n(680),i=n(3512),a=n(1472),o=n(9783);e.exports=function(e,t){for(var n=i(t),s=o.f,u=a.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},6206:function(e,t,n){var r=n(8772);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6065:function(e,t,n){"use strict";var r=n(5022).IteratorPrototype,i=n(6635),a=n(4226),o=n(4544),s=n(3031),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),s[l]=u,e}},8502:function(e,t,n){var r=n(9751),i=n(9783),a=n(4226);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},4226:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},1859:function(e,t,n){"use strict";var r=n(7118),i=n(9783),a=n(4226);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},3212:function(e,t,n){"use strict";var r=n(4418),i=n(5633),a=n(4571),o=n(7698),s=n(3478),u=n(6065),c=n(3716),l=n(4987),d=n(4544),f=n(8502),p=n(9825),h=n(4486),g=n(3031),v=n(5022),m=o.PROPER,y=o.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,x=h("iterator"),S="keys",T="values",k="entries",C=function(){return this};e.exports=function(e,t,n,o,h,v,A){u(n,t,o);var E,I,M,_=function(e){if(e===h&&N)return N;if(!w&&e in L)return L[e];switch(e){case S:case T:case k:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",D=!1,L=e.prototype,R=L[x]||L["@@iterator"]||h&&L[h],N=!w&&R||_(h),O="Array"==t&&L.entries||R;if(O&&(E=c(O.call(new e)))!==Object.prototype&&E.next&&(a||c(E)===b||(l?l(E,b):s(E[x])||p(E,x,C)),d(E,P,!0,!0),a&&(g[P]=C)),m&&h==T&&R&&R.name!==T&&(!a&&y?f(L,"name",T):(D=!0,N=function(){return i(R,this)})),h)if(I={values:_(T),keys:v?N:_(S),entries:_(k)},A)for(M in I)(w||D||!(M in L))&&p(L,M,I[M]);else r({target:t,proto:!0,forced:w||D},I);return a&&!A||L[x]===N||p(L,x,N,{name:h}),g[t]=N,I}},9751:function(e,t,n){var r=n(8772);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7189:function(e,t,n){var r=n(2445),i=n(3406),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},7221:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8620:function(e,t,n){var r=n(7189)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},3134:function(e,t,n){var r=n(3688);e.exports=r("navigator","userAgent")||""},9224:function(e,t,n){var r,i,a=n(2445),o=n(3134),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},1769:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4418:function(e,t,n){var r=n(2445),i=n(1472).f,a=n(8502),o=n(9825),s=n(1680),u=n(4189),c=n(1958);e.exports=function(e,t){var n,l,d,f,p,h=e.target,g=e.global,v=e.stat;if(n=g?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(f=t[l],d=e.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(g?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),o(n,l,f,e)}}},8772:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},6981:function(e,t,n){var r=n(6460),i=n(6564),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?a(e,t):function(){return e.apply(t,arguments)}}},5633:function(e){var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},7698:function(e,t,n){var r=n(9751),i=n(680),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},6460:function(e){var t=Function.prototype,n=t.bind,r=t.call,i=n&&n.bind(r);e.exports=n?function(e){return e&&i(r,e)}:function(e){return e&&function(){return r.apply(e,arguments)}}},3688:function(e,t,n){var r=n(2445),i=n(3478);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},2506:function(e,t,n){var r=n(6394),i=n(9984),a=n(3031),o=n(4486)("iterator");e.exports=function(e){if(null!=e)return i(e,o)||i(e,"@@iterator")||a[r(e)]}},7172:function(e,t,n){var r=n(2445),i=n(5633),a=n(6564),o=n(4482),s=n(7269),u=n(2506),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(a(n))return o(i(n,e));throw c(s(e)+" is not iterable")}},9984:function(e,t,n){var r=n(6564);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},2445:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},680:function(e,t,n){var r=n(6460),i=n(2048),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},1475:function(e){e.exports={}},1984:function(e,t,n){var r=n(3688);e.exports=r("document","documentElement")},8452:function(e,t,n){var r=n(9751),i=n(8772),a=n(7189);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},6037:function(e,t,n){var r=n(2445),i=n(6460),a=n(8772),o=n(7730),s=r.Object,u=i("".split);e.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?u(e,""):s(e)}:s},5409:function(e,t,n){var r=n(6460),i=n(3478),a=n(1447),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},425:function(e,t,n){var r,i,a,o=n(5057),s=n(2445),u=n(6460),c=n(3406),l=n(8502),d=n(680),f=n(1447),p=n(5913),h=n(1475),g="Object already initialized",v=s.TypeError,m=s.WeakMap;if(o||f.state){var y=f.state||(f.state=new m),b=u(y.get),w=u(y.has),x=u(y.set);r=function(e,t){if(w(y,e))throw new v(g);return t.facade=e,x(y,e,t),t},i=function(e){return b(y,e)||{}},a=function(e){return w(y,e)}}else{var S=p("state");h[S]=!0,r=function(e,t){if(d(e,S))throw new v(g);return t.facade=e,l(e,S,t),t},i=function(e){return d(e,S)?e[S]:{}},a=function(e){return d(e,S)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},1977:function(e,t,n){var r=n(4486),i=n(3031),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},3478:function(e){e.exports=function(e){return"function"==typeof e}},9795:function(e,t,n){var r=n(6460),i=n(8772),a=n(3478),o=n(6394),s=n(3688),u=n(5409),c=function(){},l=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),h=!f.exec(c),g=function(e){if(!a(e))return!1;try{return d(c,l,e),!0}catch(e){return!1}};e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!p(f,u(e))}:g},1958:function(e,t,n){var r=n(8772),i=n(3478),a=/#|\.prototype\./,o=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},3406:function(e,t,n){var r=n(3478);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},4571:function(e){e.exports=!1},4013:function(e,t,n){var r=n(2445),i=n(3688),a=n(3478),o=n(7455),s=n(1731),u=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return a(t)&&o(t.prototype,u(e))}},6911:function(e,t,n){var r=n(5633),i=n(4482),a=n(9984);e.exports=function(e,t,n){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw n;if(s)throw o;return i(o),n}},5022:function(e,t,n){"use strict";var r,i,a,o=n(8772),s=n(3478),u=n(6635),c=n(3716),l=n(9825),d=n(4486),f=n(4571),p=d("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(r=i):h=!0),null==r||o((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=u(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},3031:function(e){e.exports={}},579:function(e,t,n){var r=n(1276);e.exports=function(e){return r(e.length)}},1226:function(e,t,n){var r=n(9224),i=n(8772);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1779:function(e,t,n){var r=n(8772),i=n(4486),a=n(4571),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},5057:function(e,t,n){var r=n(2445),i=n(3478),a=n(5409),o=r.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},7501:function(e,t,n){"use strict";var r=n(9751),i=n(6460),a=n(5633),o=n(8772),s=n(577),u=n(1432),c=n(8590),l=n(2048),d=n(6037),f=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!f||o((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,o=1,f=u.f,p=c.f;i>o;)for(var g,v=d(arguments[o++]),m=f?h(s(v),f(v)):s(v),y=m.length,b=0;y>b;)g=m[b++],r&&!a(p,v,g)||(n[g]=v[g]);return n}:f},6635:function(e,t,n){var r,i=n(4482),a=n(5678),o=n(1769),s=n(1475),u=n(1984),c=n(7189),l=n(5913),d="prototype",f="script",p=l("IE_PROTO"),h=function(){},g=function(e){return"<"+f+">"+e+"</"+f+">"},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;m="undefined"!=typeof document?document.domain&&r?v(r):(t=c("iframe"),n="java"+f+":",t.style.display="none",u.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):v(r);for(var i=o.length;i--;)delete m[d][o[i]];return m()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[d]=i(e),n=new h,h[d]=null,n[p]=e):n=m(),void 0===t?n:a(n,t)}},5678:function(e,t,n){var r=n(9751),i=n(9783),a=n(4482),o=n(8436),s=n(577);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),u=s(t),c=u.length,l=0;c>l;)i.f(e,n=u[l++],r[n]);return e}},9783:function(e,t,n){var r=n(2445),i=n(9751),a=n(8452),o=n(4482),s=n(7118),u=r.TypeError,c=Object.defineProperty;t.f=i?c:function(e,t,n){if(o(e),t=s(t),o(n),a)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1472:function(e,t,n){var r=n(9751),i=n(5633),a=n(8590),o=n(4226),s=n(8436),u=n(7118),c=n(680),l=n(8452),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},3856:function(e,t,n){var r=n(1015),i=n(1769).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},1432:function(e,t){t.f=Object.getOwnPropertySymbols},3716:function(e,t,n){var r=n(2445),i=n(680),a=n(3478),o=n(2048),s=n(5913),u=n(6206),c=s("IE_PROTO"),l=r.Object,d=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof l?d:null}},7455:function(e,t,n){var r=n(6460);e.exports=r({}.isPrototypeOf)},1015:function(e,t,n){var r=n(6460),i=n(680),a=n(8436),o=n(6272).indexOf,s=n(1475),u=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(l,n)||u(l,n));return l}},577:function(e,t,n){var r=n(1015),i=n(1769);e.exports=Object.keys||function(e){return r(e,i)}},8590:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},4987:function(e,t,n){var r=n(6460),i=n(4482),a=n(5719);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2516:function(e,t,n){var r=n(2445),i=n(5633),a=n(3478),o=n(3406),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&a(n=e.toString)&&!o(r=i(n,e)))return r;if(a(n=e.valueOf)&&!o(r=i(n,e)))return r;if("string"!==t&&a(n=e.toString)&&!o(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},3512:function(e,t,n){var r=n(3688),i=n(6460),a=n(3856),o=n(1432),s=n(4482),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?u(t,n(e)):t}},1430:function(e,t,n){var r=n(2445);e.exports=r},4792:function(e,t,n){var r=n(9825);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},9825:function(e,t,n){var r=n(2445),i=n(3478),a=n(680),o=n(8502),s=n(1680),u=n(5409),c=n(425),l=n(7698).CONFIGURABLE,d=c.get,f=c.enforce,p=String(String).split("String");(e.exports=function(e,t,n,u){var c,d=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,g=!!u&&!!u.noTargetGet,v=u&&void 0!==u.name?u.name:t;i(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(n,"name")||l&&n.name!==v)&&o(n,"name",v),(c=f(n)).source||(c.source=p.join("string"==typeof v?v:""))),e!==r?(d?!g&&e[t]&&(h=!0):delete e[t],h?e[t]=n:o(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return i(this)&&d(this).source||u(this)}))},9018:function(e,t,n){var r=n(2445).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},1680:function(e,t,n){var r=n(2445),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4544:function(e,t,n){var r=n(9783).f,i=n(680),a=n(4486)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},5913:function(e,t,n){var r=n(2126),i=n(4722),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},1447:function(e,t,n){var r=n(2445),i=n(1680),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},2126:function(e,t,n){var r=n(4571),i=n(1447);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},1726:function(e,t,n){var r=n(6460),i=n(524),a=n(4066),o=n(9018),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,d=a(o(t)),f=i(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=u(d,f))<55296||r>56319||f+1===p||(l=u(d,f+1))<56320||l>57343?e?s(d,f):r:e?c(d,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},1187:function(e,t,n){"use strict";var r=n(2445),i=n(6460),a=2147483647,o=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",c=r.RangeError,l=i(s.exec),d=Math.floor,f=String.fromCharCode,p=i("".charCodeAt),h=i([].join),g=i([].push),v=i("".replace),m=i("".split),y=i("".toLowerCase),b=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;)e=d(e/35),r+=36;return d(r+36*e/(e+38))},x=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=p(e,n++);if(i>=55296&&i<=56319&&n<r){var a=p(e,n++);56320==(64512&a)?g(t,((1023&i)<<10)+(1023&a)+65536):(g(t,i),n--)}else g(t,i)}return t}(e);var n,r,i=e.length,o=128,s=0,l=72;for(n=0;n<e.length;n++)(r=e[n])<128&&g(t,f(r));var v=t.length,m=v;for(v&&g(t,"-");m<i;){var y=a;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<y&&(y=r);var x=m+1;if(y-o>d((a-s)/x))throw c(u);for(s+=(y-o)*x,o=y,n=0;n<e.length;n++){if((r=e[n])<o&&++s>a)throw c(u);if(r==o){for(var S=s,T=36;;){var k=T<=l?1:T>=l+26?26:T-l;if(S<k)break;var C=S-k,A=36-k;g(t,f(b(k+C%A))),S=d(C/A),T+=36}g(t,f(b(S))),l=w(s,x,m==v),s=0,m++}}s++,o++}return h(t,"")};e.exports=function(e){var t,n,r=[],i=m(v(y(e),s,"."),".");for(t=0;t<i.length;t++)n=i[t],g(r,l(o,n)?"xn--"+x(n):n);return h(r,".")}},3088:function(e,t,n){var r=n(524),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},8436:function(e,t,n){var r=n(6037),i=n(9018);e.exports=function(e){return r(i(e))}},524:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},1276:function(e,t,n){var r=n(524),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},2048:function(e,t,n){var r=n(2445),i=n(9018),a=r.Object;e.exports=function(e){return a(i(e))}},6189:function(e,t,n){var r=n(2445),i=n(5633),a=n(3406),o=n(4013),s=n(9984),u=n(2516),c=n(4486),l=r.TypeError,d=c("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!a(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},7118:function(e,t,n){var r=n(6189),i=n(4013);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},7956:function(e,t,n){var r={};r[n(4486)("toStringTag")]="z",e.exports="[object z]"===String(r)},4066:function(e,t,n){var r=n(2445),i=n(6394),a=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},7269:function(e,t,n){var r=n(2445).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},4722:function(e,t,n){var r=n(6460),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},1731:function(e,t,n){var r=n(1226);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},4486:function(e,t,n){var r=n(2445),i=n(2126),a=n(680),o=n(4722),s=n(1226),u=n(1731),c=i("wks"),l=r.Symbol,d=l&&l.for,f=u?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(l,e)?c[e]=l[e]:c[e]=u&&d?d(t):f(t)}return c[e]}},2891:function(e,t,n){"use strict";var r=n(8436),i=n(1313),a=n(3031),o=n(425),s=n(3212),u="Array Iterator",c=o.set,l=o.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},1282:function(e,t,n){"use strict";var r=n(1726).charAt,i=n(4066),a=n(425),o=n(3212),s="String Iterator",u=a.set,c=a.getterFor(s);o(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},3472:function(e,t,n){var r=n(2445),i=n(7221),a=n(8620),o=n(2891),s=n(8502),u=n(4486),c=u("iterator"),l=u("toStringTag"),d=o.values,f=function(e,t){if(e){if(e[c]!==d)try{s(e,c,d)}catch(t){e[c]=d}if(e[l]||s(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(t){e[n]=o[n]}}};for(var p in i)f(r[p]&&r[p].prototype,p);f(a,"DOMTokenList")},5151:function(e,t,n){"use strict";n(2891);var r=n(4418),i=n(2445),a=n(3688),o=n(5633),s=n(6460),u=n(1779),c=n(9825),l=n(4792),d=n(4544),f=n(6065),p=n(425),h=n(3855),g=n(3478),v=n(680),m=n(6981),y=n(6394),b=n(4482),w=n(3406),x=n(4066),S=n(6635),T=n(4226),k=n(7172),C=n(2506),A=n(4486),E=n(9827),I=A("iterator"),M="URLSearchParams",_=M+"Iterator",P=p.set,D=p.getterFor(M),L=p.getterFor(_),R=a("fetch"),N=a("Request"),O=a("Headers"),U=N&&N.prototype,j=O&&O.prototype,F=i.RegExp,B=i.TypeError,V=i.decodeURIComponent,$=i.encodeURIComponent,z=s("".charAt),H=s([].join),q=s([].push),K=s("".replace),G=s([].shift),X=s([].splice),W=s("".split),Y=s("".slice),J=/\+/g,Z=Array(4),Q=function(e){return Z[e-1]||(Z[e-1]=F("((?:%[\\da-f]{2}){"+e+"})","gi"))},ee=function(e){try{return V(e)}catch(t){return e}},te=function(e){var t=K(e,J," "),n=4;try{return V(t)}catch(e){for(;n;)t=K(t,Q(n--),ee);return t}},ne=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ie=function(e){return re[e]},ae=function(e){return K($(e),ne,ie)},oe=function(e,t){if(e<t)throw B("Not enough arguments")},se=f((function(e,t){P(this,{type:_,iterator:k(D(e).entries),kind:t})}),"Iterator",(function(){var e=L(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===z(e,0)?Y(e,1):e:x(e)))};ue.prototype={type:M,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,s,u,c=C(e);if(c)for(n=(t=k(e,c)).next;!(r=o(n,t)).done;){if(a=(i=k(b(r.value))).next,(s=o(a,i)).done||(u=o(a,i)).done||!o(a,i).done)throw B("Expected sequence with length 2");q(this.entries,{key:x(s.value),value:x(u.value)})}else for(var l in e)v(e,l)&&q(this.entries,{key:l,value:x(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=W(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=W(t,"="),q(this.entries,{key:te(G(n)),value:te(H(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],q(n,ae(e.key)+"="+ae(e.value));return H(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){h(this,le),P(this,new ue(arguments.length>0?arguments[0]:void 0))},le=ce.prototype;if(l(le,{append:function(e,t){oe(arguments.length,2);var n=D(this);q(n.entries,{key:x(e),value:x(t)}),n.updateURL()},delete:function(e){oe(arguments.length,1);for(var t=D(this),n=t.entries,r=x(e),i=0;i<n.length;)n[i].key===r?X(n,i,1):i++;t.updateURL()},get:function(e){oe(arguments.length,1);for(var t=D(this).entries,n=x(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){oe(arguments.length,1);for(var t=D(this).entries,n=x(e),r=[],i=0;i<t.length;i++)t[i].key===n&&q(r,t[i].value);return r},has:function(e){oe(arguments.length,1);for(var t=D(this).entries,n=x(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){oe(arguments.length,1);for(var n,r=D(this),i=r.entries,a=!1,o=x(e),s=x(t),u=0;u<i.length;u++)(n=i[u]).key===o&&(a?X(i,u--,1):(a=!0,n.value=s));a||q(i,{key:o,value:s}),r.updateURL()},sort:function(){var e=D(this);E(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=D(this).entries,r=m(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new se(this,"keys")},values:function(){return new se(this,"values")},entries:function(){return new se(this,"entries")}},{enumerable:!0}),c(le,I,le.entries,{name:"entries"}),c(le,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),d(ce,M),r({global:!0,forced:!u},{URLSearchParams:ce}),!u&&g(O)){var de=s(j.has),fe=s(j.set),pe=function(e){if(w(e)){var t,n=e.body;if(y(n)===M)return t=e.headers?new O(e.headers):new O,de(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:T(0,x(n)),headers:T(0,t)})}return e};if(g(R)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return R(e,arguments.length>1?pe(arguments[1]):{})}}),g(N)){var he=function(e){return h(this,U),new N(e,arguments.length>1?pe(arguments[1]):{})};U.constructor=he,he.prototype=U,r({global:!0,forced:!0},{Request:he})}}e.exports={URLSearchParams:ce,getState:D}},9693:function(e,t,n){"use strict";n(1282);var r,i=n(4418),a=n(9751),o=n(1779),s=n(2445),u=n(6981),c=n(6460),l=n(5678),d=n(9825),f=n(3855),p=n(680),h=n(7501),g=n(3410),v=n(8330),m=n(1726).codeAt,y=n(1187),b=n(4066),w=n(4544),x=n(5151),S=n(425),T=S.set,k=S.getterFor("URL"),C=x.URLSearchParams,A=x.getState,E=s.URL,I=s.TypeError,M=s.parseInt,_=Math.floor,P=Math.pow,D=c("".charAt),L=c(/./.exec),R=c([].join),N=c(1..toString),O=c([].pop),U=c([].push),j=c("".replace),F=c([].shift),B=c("".split),V=c("".slice),$=c("".toLowerCase),z=c([].unshift),H="Invalid scheme",q="Invalid host",K="Invalid port",G=/[a-z]/i,X=/[\d+-.a-z]/i,W=/\d/,Y=/^0x/i,J=/^[0-7]+$/,Z=/^\d+$/,Q=/^[\da-f]+$/i,ee=/[\0\t\n\r #%/:<>?@[\\\]^|]/,te=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,re=/[\t\n\r]/g,ie=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=_(e/256);return R(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=N(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},oe=h({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),se=h({},oe,{"#":1,"?":1,"{":1,"}":1}),ue=h({},se,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(e,t){var n=m(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},le={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&L(G,D(e,0))&&(":"==(n=D(e,1))||!t&&"|"==n)},fe=function(e){var t;return e.length>1&&de(V(e,0,2))&&(2==e.length||"/"===(t=D(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===$(e)},he={},ge={},ve={},me={},ye={},be={},we={},xe={},Se={},Te={},ke={},Ce={},Ae={},Ee={},Ie={},Me={},_e={},Pe={},De={},Le={},Re={},Ne=function(e,t,n){var r,i,a,o=b(e);if(t){if(i=this.parse(o))throw I(i);this.searchParams=null}else{if(void 0!==n&&(r=new Ne(n,!0)),i=this.parse(o,null,r))throw I(i);(a=A(new C)).bindURL(this),this.searchParams=a}};Ne.prototype={type:"URL",parse:function(e,t,n){var i,a,o,s,u,c=this,l=t||he,d=0,f="",h=!1,m=!1,y=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=j(e,ne,"")),e=j(e,re,""),i=g(e);d<=i.length;){switch(a=i[d],l){case he:if(!a||!L(G,a)){if(t)return H;l=ve;continue}f+=$(a),l=ge;break;case ge:if(a&&(L(X,a)||"+"==a||"-"==a||"."==a))f+=$(a);else{if(":"!=a){if(t)return H;f="",l=ve,d=0;continue}if(t&&(c.isSpecial()!=p(le,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&le[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?l=Ee:c.isSpecial()&&n&&n.scheme==c.scheme?l=me:c.isSpecial()?l=xe:"/"==i[d+1]?(l=ye,d++):(c.cannotBeABaseURL=!0,U(c.path,""),l=De)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=a)return H;if(n.cannotBeABaseURL&&"#"==a){c.scheme=n.scheme,c.path=v(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Re;break}l="file"==n.scheme?Ee:be;continue;case me:if("/"!=a||"/"!=i[d+1]){l=be;continue}l=Se,d++;break;case ye:if("/"==a){l=Te;break}l=Pe;continue;case be:if(c.scheme=n.scheme,a==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query;else if("/"==a||"\\"==a&&c.isSpecial())l=we;else if("?"==a)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query="",l=Le;else{if("#"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.path.length--,l=Pe;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query,c.fragment="",l=Re}break;case we:if(!c.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Pe;continue}l=Te}else l=Se;break;case xe:if(l=Se,"/"!=a||"/"!=D(f,d+1))continue;d++;break;case Se:if("/"!=a&&"\\"!=a){l=Te;continue}break;case Te:if("@"==a){h&&(f="%40"+f),h=!0,o=g(f);for(var w=0;w<o.length;w++){var x=o[w];if(":"!=x||y){var S=ce(x,ue);y?c.password+=S:c.username+=S}else y=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(h&&""==f)return"Invalid authority";d-=g(f).length+1,f="",l=ke}else f+=a;break;case ke:case Ce:if(t&&"file"==c.scheme){l=Me;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(c.isSpecial()&&""==f)return q;if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(f))return s;if(f="",l=_e,t)return;continue}"["==a?m=!0:"]"==a&&(m=!1),f+=a}else{if(""==f)return q;if(s=c.parseHost(f))return s;if(f="",l=Ae,t==Ce)return}break;case Ae:if(!L(W,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()||t){if(""!=f){var T=M(f,10);if(T>65535)return K;c.port=c.isSpecial()&&T===le[c.scheme]?null:T,f=""}if(t)return;l=_e;continue}return K}f+=a;break;case Ee:if(c.scheme="file","/"==a||"\\"==a)l=Ie;else{if(!n||"file"!=n.scheme){l=Pe;continue}if(a==r)c.host=n.host,c.path=v(n.path),c.query=n.query;else if("?"==a)c.host=n.host,c.path=v(n.path),c.query="",l=Le;else{if("#"!=a){fe(R(v(i,d),""))||(c.host=n.host,c.path=v(n.path),c.shortenPath()),l=Pe;continue}c.host=n.host,c.path=v(n.path),c.query=n.query,c.fragment="",l=Re}}break;case Ie:if("/"==a||"\\"==a){l=Me;break}n&&"file"==n.scheme&&!fe(R(v(i,d),""))&&(de(n.path[0],!0)?U(c.path,n.path[0]):c.host=n.host),l=Pe;continue;case Me:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&de(f))l=Pe;else if(""==f){if(c.host="",t)return;l=_e}else{if(s=c.parseHost(f))return s;if("localhost"==c.host&&(c.host=""),t)return;f="",l=_e}continue}f+=a;break;case _e:if(c.isSpecial()){if(l=Pe,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=r&&(l=Pe,"/"!=a))continue}else c.fragment="",l=Re;else c.query="",l=Le;break;case Pe:if(a==r||"/"==a||"\\"==a&&c.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(u=$(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==a||"\\"==a&&c.isSpecial()||U(c.path,"")):pe(f)?"/"==a||"\\"==a&&c.isSpecial()||U(c.path,""):("file"==c.scheme&&!c.path.length&&de(f)&&(c.host&&(c.host=""),f=D(f,0)+":"),U(c.path,f)),f="","file"==c.scheme&&(a==r||"?"==a||"#"==a))for(;c.path.length>1&&""===c.path[0];)F(c.path);"?"==a?(c.query="",l=Le):"#"==a&&(c.fragment="",l=Re)}else f+=ce(a,se);break;case De:"?"==a?(c.query="",l=Le):"#"==a?(c.fragment="",l=Re):a!=r&&(c.path[0]+=ce(a,ae));break;case Le:t||"#"!=a?a!=r&&("'"==a&&c.isSpecial()?c.query+="%27":c.query+="#"==a?"%23":ce(a,ae)):(c.fragment="",l=Re);break;case Re:a!=r&&(c.fragment+=ce(a,oe))}d++}},parseHost:function(e){var t,n,r;if("["==D(e,0)){if("]"!=D(e,e.length-1))return q;if(t=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,f=function(){return D(e,d)};if(":"==f()){if(":"!=D(e,1))return;d+=2,l=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&L(Q,f());)t=16*t+M(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!L(W,f()))return;for(;L(W,f());){if(a=M(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;d++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!=c)return;return u}(V(e,1,-1)),!t)return q;this.host=t}else if(this.isSpecial()){if(e=y(e),L(ee,e))return q;if(t=function(e){var t,n,r,i,a,o,s,u=B(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(a=10,i.length>1&&"0"==D(i,0)&&(a=L(Y,i)?16:8,i=V(i,8==a?1:2)),""===i)o=0;else{if(!L(10==a?Z:8==a?J:Q,i))return e;o=M(i,a)}U(n,o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=P(256,5-t))return null}else if(o>255)return null;for(s=O(n),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s}(e),null===t)return q;this.host=t}else{if(L(te,e))return q;for(t="",n=g(e),r=0;r<n.length;r++)t+=ce(n[r],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(le,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=ie(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+R(o,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw I(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Oe(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ie(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",he)},getUsername:function(){return this.username},setUsername:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ce(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ce(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ie(e):ie(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getHostname:function(){var e=this.host;return null===e?"":ie(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ce)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ae))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+R(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,_e))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==D(e,0)&&(e=V(e,1)),this.query="",this.parse(e,Le)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==D(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,Re)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Oe=function(e){var t=f(this,Ue),n=T(t,new Ne(e,!1,arguments.length>1?arguments[1]:void 0));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Ue=Oe.prototype,je=function(e,t){return{get:function(){return k(this)[e]()},set:t&&function(e){return k(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&l(Ue,{href:je("serialize","setHref"),origin:je("getOrigin"),protocol:je("getProtocol","setProtocol"),username:je("getUsername","setUsername"),password:je("getPassword","setPassword"),host:je("getHost","setHost"),hostname:je("getHostname","setHostname"),port:je("getPort","setPort"),pathname:je("getPathname","setPathname"),search:je("getSearch","setSearch"),searchParams:je("getSearchParams"),hash:je("getHash","setHash")}),d(Ue,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),d(Ue,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),E){var Fe=E.createObjectURL,Be=E.revokeObjectURL;Fe&&d(Oe,"createObjectURL",u(Fe,E)),Be&&d(Oe,"revokeObjectURL",u(Be,E))}w(Oe,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Oe})},6989:function(e,t,n){"use strict";var r=n(4418),i=n(5633);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},2746:function(e,t,n){var r=n(8907);n(3472),e.exports=r},7273:function(e,t,n){var r=n(2097);e.exports=r},8907:function(e,t,n){n(5151);var r=n(1430);e.exports=r.URLSearchParams},2097:function(e,t,n){n(9693),n(6989),n(5151);var r=n(1430);e.exports=r.URL},917:function(e,t,n){!function(){var e="undefined"!=typeof window?window:n.g,r={};for(var i in function(e,t,n){var r;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function s(e,t){if(t)e:{var n=o;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&a(n,e,{configurable:!0,writable:!0,value:t})}}function u(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return{next:i(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}s("Symbol",(function(e){function t(e,t){this.g=e,a(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),s("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=o[t[n]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&a(r.prototype,e,{configurable:!0,writable:!0,value:function(){return u(i(this))}})}return e}));var d,f="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var p;e:{var h={};try{h.__proto__={a:!0},p=h.a;break e}catch(e){}p=!1}d=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var g=d;function v(e,t){if(e.prototype=f(t.prototype),e.prototype.constructor=e,g)g(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.pk=t.prototype}function m(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.A=this.i=null}function y(e){if(e.o)throw new TypeError("Generator is already running");e.o=!0}function b(e,t){e.i={vg:t,Ig:!0},e.g=e.m||e.j}function w(e,t,n){return e.g=n,{value:t}}function x(e){e.g=0}function S(e,t,n){e.m=t,null!=n&&(e.j=n)}function T(e,t){e.m=0,e.j=t||0}function k(e,t,n){e.g=t,e.m=n||0}function C(e,t){return e.m=t||0,t=e.i.vg,e.i=null,t}function A(e){e.A=[e.i],e.m=0,e.j=0}function E(e,t){var n=e.A.splice(0)[0];(n=e.i=e.i||n)?n.Ig?e.g=e.m||e.j:null!=n.u&&e.j<n.u?(e.g=n.u,e.i=null):e.g=e.j:e.g=t}function I(e){this.g=new m,this.h=e}function M(e,t,n,r){try{var i=t.call(e.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.o=!1,i;var a=i.value}catch(t){return e.g.l=null,b(e.g,t),_(e)}return e.g.l=null,r.call(e.g,a),_(e)}function _(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.o=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,b(e.g,t)}if(e.g.o=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Ig)throw t.vg;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function P(e){this.next=function(t){return y(e.g),e.g.l?t=M(e,e.g.l.next,t,e.g.s):(e.g.s(t),t=_(e)),t},this.throw=function(t){return y(e.g),e.g.l?t=M(e,e.g.l.throw,t,e.g.s):(b(e.g,t),t=_(e)),t},this.return=function(t){return function(e,t){y(e.g);var n=e.g.l;return n?M(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),_(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function D(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new P(new I(e)))}function L(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function O(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Gg:i,v:a}}return{Gg:-1,v:void 0}}function U(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}m.prototype.s=function(e){this.h=e},m.prototype.return=function(e){this.i={return:e},this.g=this.j},m.prototype.u=function(e){this.g=e},s("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var i=o.setTimeout;n.prototype.i=function(e){i(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.F),reject:e(this.l)}},t.prototype.F=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.C(e):this.m(e)}},t.prototype.C=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.I(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.A()},t.prototype.G=function(){var e=this;i((function(){if(e.B()){var t=o.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.H=function(e){var t=this.j();e.Gd(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){a(e)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.Gd(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Gd=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=c(e),a=i.next();!a.done;a=i.next())r(a.value).Gd(t,n)}))},t.all=function(e){var n=c(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).Gd(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),s("WeakMap",(function(e){function t(e){if(this.g=(u+=Math.random()+1).toString(),e){e=c(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!R(e,s)){var t=new n;a(e,s,{value:t})}}function o(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(e){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!R(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.g]=t,this},t.prototype.get=function(e){return r(e)&&R(e,s)?e[s][this.g]:void 0},t.prototype.has=function(e){return r(e)&&R(e,s)&&R(e[s],this.g)},t.prototype.delete=function(e){return!!(r(e)&&R(e,s)&&R(e[s],this.g))&&delete e[s][this.g]},t})),s("Map",(function(e){function t(){var e={};return e.Pb=e.next=e.head=e}function n(e,t){var n=e[1];return u((function(){if(n){for(;n.head!=e[1];)n=n.Pb;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e[0][n];if(r&&R(e[0],n))for(e=0;e<r.length;e++){var i=r[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:r,index:e,entry:i}}return{id:n,list:r,index:-1,entry:void 0}}function i(e){if(this[0]={},this[1]=t(),this.size=0,e){e=c(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(e){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this[0][n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this[1],Pb:this[1].Pb,head:this[1],key:e,value:t},n.list.push(n.entry),this[1].Pb.next=n.entry,this[1].Pb=n.entry,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).entry||!e.list||(e.list.splice(e.index,1),e.list.length||delete this[0][e.id],e.entry.Pb.next=e.entry.next,e.entry.next.Pb=e.entry.Pb,e.entry.head=null,this.size--,0))},i.prototype.clear=function(){this[0]={},this[1]=this[1].Pb=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).entry},i.prototype.get=function(e){return(e=r(this,e).entry)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),s("Set",(function(e){function t(e){if(this.g=new Map,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(r){return e.call(t,r,r,n)}))},t)})),s("Array.prototype.keys",(function(e){return e||function(){return N(this,(function(e){return e}))}})),s("Array.prototype.findIndex",(function(e){return e||function(e,t){return O(this,e,t).Gg}})),s("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),s("Array.prototype.values",(function(e){return e||function(){return N(this,(function(e,t){return t}))}})),s("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),s("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var i=n[t];if(i===e||Object.is(i,e))return!0}return!1}})),s("String.prototype.includes",(function(e){return e||function(e,t){return-1!==U(this,e,"includes").indexOf(e,t||0)}})),s("String.fromCodePoint",(function(e){return e||function(e){for(var t="",n=0;n<arguments.length;n++){var r=Number(arguments[n]);if(0>r||1114111<r||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);65535>=r?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(r>>>10&1023|55296),t+=String.fromCharCode(1023&r|56320))}return t}})),s("WeakSet",(function(e){function t(e){if(this.g=new WeakMap,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}}return function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([t]);return!(!r.has(t)||r.has(n))&&(r.delete(t),r.add(n),!r.has(t)&&r.has(n))}catch(e){return!1}}()?e:(t.prototype.add=function(e){return this.g.set(e,!0),this},t.prototype.has=function(e){return this.g.has(e)},t.prototype.delete=function(e){return this.g.delete(e)},t)})),s("Array.prototype.find",(function(e){return e||function(e,t){return O(this,e,t).v}})),s("String.prototype.startsWith",(function(e){return e||function(e,t){var n=U(this,e,"startsWith"),r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}})),s("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)R(e,t)&&n.push([t,e[t]]);return n}}));var j="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)R(r,i)&&(e[i]=r[i])}return e};s("Object.assign",(function(e){return e||j})),s("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),s("Array.prototype.entries",(function(e){return e||function(){return N(this,(function(e,t){return[e,t]}))}})),s("Number.isNaN",(function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}})),s("String.prototype.repeat",(function(e){return e||function(e){var t=U(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}})),s("Number.isFinite",(function(e){return e||function(e){return"number"==typeof e&&!isNaN(e)&&1/0!==e&&-1/0!==e}})),s("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)R(e,t)&&n.push(e[t]);return n}})),s("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}})),s("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991})),s("String.prototype.endsWith",(function(e){return e||function(e,t){var n=U(this,e,"endsWith");void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var r=e.length;0<r&&0<t;)if(n[--t]!=e[--r])return!1;return 0>=r}})),s("Math.trunc",(function(e){return e||function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}}));var F=this||self;function B(e,t){e=e.split(".");var n,r=F;e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function V(){}function $(){}function z(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function H(e){return e.h/(1-Math.pow(e.g,e.i))}function q(){this.h=new z(2),this.j=new z(5),this.g=0,this.i=128e3,this.l=16e3}function K(){}function G(){}function X(){}function W(e){var t=L.apply(1,arguments);J.has(e)||(J.add(e),X.apply(K,l(t)))}function Y(){}z.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)},q.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},q.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},q.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(H(this.h),H(this.j))};var J=new Set;function Z(){this.g={}}function Q(){this.g=new Z}function ee(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=te;if(null==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(e){t=!1}te=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.g)}e.console&&(X=function(){return console.warn.apply(console,l(L.apply(0,arguments)))},G=function(){console.error.apply(console,l(L.apply(0,arguments)))}),(r=Z.prototype).push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},r.get=function(e){return(e=this.g[e])?e.slice():null},r.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter((function(e){return e!=t})),0==this.g[e].length&&delete this.g[e])},r.forEach=function(e){for(var t in this.g)e(t,this.g[t])},r.size=function(){return Object.keys(this.g).length},r.keys=function(){return Object.keys(this.g)},(r=Q.prototype).release=function(){this.Va(),this.g=null},r.D=function(e,t,n,r){this.g&&(e=new ee(e,t,n,r),this.g.push(t,e))},r.va=function(e,t,n,r){var i=this;this.D(e,t,(function r(a){i.cb(e,t,r),n(a)}),r)},r.cb=function(e,t,n){if(this.g)for(var r=this.g.get(t)||[],i=(r=c(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.cb(),this.g.remove(t,i))},r.Va=function(){if(this.g){var e,t=this.g,n=[];for(e in t.g)n.push.apply(n,l(t.g[e]));for(n=(t=c(n)).next();!n.done;n=t.next())n.value.cb();this.g.g={}}},B("shaka.util.EventManager",Q),Q.prototype.removeAll=Q.prototype.Va,Q.prototype.unlisten=Q.prototype.cb,Q.prototype.listenOnce=Q.prototype.va,Q.prototype.listen=Q.prototype.D,Q.prototype.release=Q.prototype.release,ee.prototype.cb=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var te=void 0;function ne(t){if(ie.has(t))return ie.get(t);if(e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported(t);return ie.set(t,n),n}return!!e.MediaSource&&(n=MediaSource.isTypeSupported(t),ie.set(t,n),n)}function re(){return!!e.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType}var ie=new Map;function ae(e,t){this.g=e,this.h=t}function oe(e,t){var n=new ae(5,0),r=ce,i=r.g,a=n.h-i.h;(0<(n.g-i.g||a)?r.i:r.h)(r.g,n,e,t)}function se(e,t,n,r){X([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function ue(e,t,n,r){G([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(" "))}ae.prototype.toString=function(){return"v"+this.g+"."+this.h};var ce=null;function le(){}function de(){}function fe(){}function pe(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(he(e)==he(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=ve(e);t=ve(t);for(var r=0;r<e.byteLength;r++)if(n[r]!=t[r])return!1;return!0}function he(e){return e instanceof ArrayBuffer?e:e.buffer}function ge(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function ve(e,t,n){return be(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function me(e,t,n){return be(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint16Array)}function ye(e,t,n){return be(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function be(e,t,n,r){var i=he(e),a=1;"BYTES_PER_ELEMENT"in r&&(a=r.BYTES_PER_ELEMENT);var o=((e.byteOffset||0)+e.byteLength)/a;return new r(i,e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/a,o))),Math.floor(Math.min(e+Math.max(n,0),o))-e)}function we(){}function xe(e){this.l=new de,(e=Se[e.toLowerCase()])&&(this.l=e()),this.h=new le,(e=Te)&&(this.h=e())}le.prototype.extract=function(){},le.prototype.decode=function(){return[]},le.prototype.clear=function(){},le.prototype.getStreams=function(){return[]},de.prototype.init=function(){},de.prototype.parse=function(){return[]},B("shaka.util.BufferUtils",fe),fe.toDataView=ye,fe.toUint16=me,fe.toUint8=ve,fe.toArrayBuffer=ge,fe.equal=pe,we.prototype.init=function(){},we.prototype.i=function(){},we.prototype.g=function(){},we.prototype.j=function(){},B("shaka.media.IClosedCaptionParser",we),xe.prototype.init=function(e,t){void 0!==t&&t||this.g(),this.l.init(e)},xe.prototype.i=function(e){for(var t=(e=c(e=this.l.parse(e))).next();!t.done;t=e.next()){var n=ve((t=t.value).packet);0<n.length&&this.h.extract(n,t.pts)}return this.h.decode()},xe.prototype.g=function(){this.h.clear()},xe.prototype.j=function(){return this.h.getStreams()},B("shaka.media.ClosedCaptionParser",xe),xe.findDecoder=function(){return Te},xe.unregisterDecoder=function(){Te=null},xe.registerDecoder=function(e){Te=e},xe.findParser=function(e){return Se[e]},xe.unregisterParser=function(e){delete Se[e]},xe.registerParser=function(e,t){Se[e]=t};var Se={},Te=null;function ke(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Ce,this.scroll=Ae}B("shaka.text.CueRegion",ke);var Ce=1;ke.units={PX:0,PERCENTAGE:Ce,LINES:2};var Ae="";function Ee(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function Ie(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function Me(e,t,n){if(n||(n=Ee),e.length!=t.length)return!1;t=t.slice();for(var r=(e=c(e)).next(),i={};!r.done;i={Jg:void 0},r=e.next()){if(i.Jg=r.value,-1==(r=t.findIndex(function(e){return function(t){return n(e.Jg,t)}}(i))))return!1;t[r]=t[t.length-1],t.pop()}return 0==t.length}function _e(e,t,n){if(n||(n=Ee),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Pe(e,t,n){var r=L.apply(3,arguments);if(this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code,De)try{throw Error(this.message||"Shaka Error")}catch(e){this.stack=e.stack}}ke.scrollMode={NONE:Ae,UP:"up"},Pe.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},B("shaka.util.Error",Pe);var De=!0;function Le(e){this.h=e,this.g=void 0}function Re(e,t){return!e.length||!t.length||e===t||0<Ne(e,t).length}function Ne(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=(e=c(e)).next();!r.done;r=e.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.keySystem==a.keySystem){i=new Map;for(var o=c((r.initData||[]).concat(a.initData||[])),s=o.next();!s.done;s=o.next())s=s.value,i.set(s.keyId,s);i=Array.from(i.values()),o=r.keyIds&&a.keyIds?new Set([].concat(l(r.keyIds),l(a.keyIds))):r.keyIds||a.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||a.persistentStateRequired,videoRobustness:r.videoRobustness||a.videoRobustness,audioRobustness:r.audioRobustness||a.audioRobustness,serverCertificate:r.serverCertificate||a.serverCertificate,serverCertificateUri:r.serverCertificateUri||a.serverCertificateUri,initData:i,keyIds:o});break}}return n}function Oe(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}Pe.Severity={RECOVERABLE:1,CRITICAL:2},Pe.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Pe.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007},Le.prototype.value=function(){return null==this.g&&(this.g=this.h()),this.g};var Ue=new Le((function(){return ge(new Uint8Array([0]))})),je=new Map;function Fe(e){this.h=e,this.g=null}function Be(e){this.h=e,this.g=null}function Ve(){var t=e.ManagedMediaSource||e.MediaSource;return!(!t||!t.isTypeSupported)}function $e(e){return""!=ot().canPlayType(e)}function ze(){return!!navigator.userAgent.match(/Edge?\//)}function He(){return at("Xbox One")}function qe(){return at("Tizen")}function Ke(){return at("Tizen 3")}function Ge(){return at("Web0S")}function Xe(){return at("CrKey")}function We(){if(!at("Chrome")||navigator.userAgent.match(/Edge\//))return null;var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}function Ye(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!qe()&&!at("PC=EOS")&&!at("PC=APL")&&!at("VirginMedia")&&!et()&&!Ze()&&!at("AFT")&&!at("WPE")&&!at("DT_STB_BCM")&&!at("Sky_STB")}function Je(){return at("PlayStation 5")}function Ze(){return at("PlayStation 4")}function Qe(){return at("Hisense")||at("VIDAA")}function et(){return at("SOPOpenBrowser")}function tt(){if(!Ye())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function nt(){return navigator.userAgentData&&navigator.userAgentData.platform?"windows"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("win32")}function rt(){return at("Android")}function it(){return!!(qe()||Ge()||He()||Ze()||Je()||at("AFT")||at("PC=EOS")||at("PC=APL")||at("VirginMedia")||et()||at("WPE")||Xe()||Qe()||at("DT_STB_BCM"))}function at(e){return(navigator.userAgent||"").includes(e)}function ot(){return lt||(ct||(ct=new Be((function(){lt=null}))),(lt=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(lt=document.createElement("video")),ct.Z(1),lt)}function st(t){return t?t===e.shakaMediaKeysPolyfill:!!e.shakaMediaKeysPolyfill}function ut(){var t,n,r,i,a,o,s,u,c,l,d,f,p;return D((function(h){switch(h.g){case 1:if(t={width:1/0,height:1/0},Xe()){if(d=e.cast&&cast.__platform__&&cast.__platform__.canDisplayType,t.width=1280,t.height=720,S(h,15),!(f=d)){h.u(17);break}return w(h,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),18)}if(qe()){t.width=1920,t.height=1080;try{webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution?(n=webapis.systeminfo.getMaxVideoResolution(),t.width=n.width,t.height=n.height):webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(t.width=7680,t.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(t.width=3840,t.height=2160)}catch(e){X("Tizen: Error detecting screen size, default screen size 1920x1080.")}h.u(3);break}if(He()){t.width=1920,t.height=1080;try{r=void 0,r="undefined"!=typeof Windows?Windows:chrome.webview.hostObjects.sync.Windows,i=new r.Media.Protection.ProtectionCapabilities,a=r.Media.Protection.ProtectionCapabilityResult,o=null;do{o=i.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation")}while(o===a.maybe);o===a.probably&&(t.width=3840,t.height=2160)}catch(e){X("Xbox: Error detecting screen size, default screen size 1920x1080.")}h.u(3);break}if(Ge()){try{s=JSON.parse(e.PalmSystem.deviceInfo),t.width=Math.max(1920,s.screenWidth),t.height=Math.max(1080,s.screenHeight)}catch(e){X("WebOS: Error detecting screen size, default screen size 1920x1080."),t.width=1920,t.height=1080}h.u(3);break}if(Qe()){e.Hisense_Get4KSupportState&&e.Hisense_Get4KSupportState()?(t.width=3840,t.height=2160):(t.width=1920,t.height=1080),h.u(3);break}if(!Ze()&&!Je()){h.u(3);break}return u=!1,S(h,9),w(h,e.msdk.device.getDisplayInfo(),11);case 11:c=h.h,u="4K"===c.resolution,k(h,10);break;case 9:return C(h),S(h,12),w(h,e.msdk.device.getDisplayInfoImmediate(),14);case 14:l=h.h,u="4K"===l.resolution,k(h,10);break;case 12:X("PlayStation: Failed to get the display info:",C(h));case 10:u?(t.width=3840,t.height=2160):(t.width=1920,t.height=1080),h.u(3);break;case 18:f=h.h;case 17:if(f){t.width=3840,t.height=2160,h.u(19);break}if(!(p=d)){h.u(20);break}return w(h,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),21);case 21:p=h.h;case 20:p&&(t.width=1920,t.height=1080);case 19:k(h,3);break;case 15:G("Failed to check canDisplayType:",C(h));case 3:return h.return(t)}}))}Fe.prototype.Z=function(t){var n=this;this.stop();var r=!0,i=null;return this.g=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.h()}),1e3*t),this},Fe.prototype.stop=function(){this.g&&(this.g(),this.g=null)},Be.prototype.hc=function(){return this.stop(),this.h(),this},Be.prototype.Z=function(e){var t=this;return this.stop(),this.g=new Fe((function(){t.h()})).Z(e),this},Be.prototype.Ra=function(e){var t=this;return this.stop(),this.g=new Fe((function(){t.g.Z(e),t.h()})).Z(e),this},Be.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},B("shaka.util.Timer",Be),Be.prototype.stop=Be.prototype.stop,Be.prototype.tickEvery=Be.prototype.Ra,Be.prototype.tickAfter=Be.prototype.Z,Be.prototype.tickNow=Be.prototype.hc;var ct=null,lt=null;function dt(){}function ft(t){if(!t)return"";if(239==(t=ve(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),e.TextDecoder&&!Ze())return(t=(new TextDecoder).decode(t)).includes("�")&&G('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t;for(var n="",r=0;r<t.length;++r){var i=65533;if(0==(128&t[r])?i=t[r]:t.length>=r+2&&192==(224&t[r])&&128==(192&t[r+1])?(i=(31&t[r])<<6|63&t[r+1],r+=1):t.length>=r+3&&224==(240&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])?(i=(15&t[r])<<12|(63&t[r+1])<<6|63&t[r+2],r+=2):t.length>=r+4&&240==(241&t[r])&&128==(192&t[r+1])&&128==(192&t[r+2])&&128==(192&t[r+3])&&(i=(7&t[r])<<18|(63&t[r+1])<<12|(63&t[r+2])<<6|63&t[r+3],r+=3),65535>=i)n+=String.fromCharCode(i);else{var a=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+a)}}return n}function pt(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new Pe(2,2,2004);n=Math.floor(e.byteLength/2);var r=new Uint16Array(n);e=ye(e);for(var i=0;i<n;i++)r[i]=e.getUint16(2*i,t);return mt(r)}function ht(e){function t(e){return n.byteLength<=e||32<=n[e]&&126>=n[e]}if(!e)return"";var n=ve(e);if(239==n[0]&&187==n[1]&&191==n[2])return ft(n);if(254==n[0]&&255==n[1])return pt(n.subarray(2),!1);if(255==n[0]&&254==n[1])return pt(n.subarray(2),!0);if(0==n[0]&&0==n[2])return pt(e,!1);if(0==n[1]&&0==n[3])return pt(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return ft(e);throw new Pe(2,2,2003)}function gt(t){if(e.TextEncoder&&!Ze()){var n=new TextEncoder;return ge(n.encode(t))}t=encodeURIComponent(t),t=unescape(t),n=new Uint8Array(t.length);for(var r=0;r<t.length;r++)n[r]=t[r].charCodeAt(0);return ge(n)}function vt(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n}function mt(e){return bt.value()(e)}function yt(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,(function(e){return"#"==e[1]?0<=(e="x"==e[2]||"X"==e[2]?parseInt(e.substring(3),16):parseInt(e.substring(2),10))&&1114111>=e?String.fromCodePoint(e):"":t[e]||"'"})):e||""}B("shaka.util.StringUtils",dt),dt.resetFromCharCode=function(){bt.g=void 0},dt.toUTF16=vt,dt.toUTF8=gt,dt.fromBytesAutoDetect=ht,dt.fromUTF16=pt,dt.fromUTF8=ft;var bt=new Le((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(e){return!1}}for(var t={fc:65536};0<t.fc;(t={fc:t.fc}).fc/=2)if(e(t.fc))return function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.fc)n+=String.fromCharCode.apply(null,t.subarray(r,r+e.fc));return n}}(t);return null}));function wt(e){this.h=e||"",this.g=0}function xt(e){St(e,/[ \t]+/gm)}function St(e,t){return t.lastIndex=e.g,t=null==(t=t.exec(e.h))?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||null==t||t.position!=e.g?null:(e.g+=t.length,t.results)}function Tt(e){return e.g==e.h.length?null:(e=St(e,/[^ \t\n]*/gm))?e[0]:null}function kt(e){if(null==(e=St(e,At)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function Ct(e){return e?kt(new wt(e)):null}var At=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function Et(e){var t=new WeakSet;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer instanceof ArrayBuffer)return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function It(e){var t,n={};for(t in e)n[t]=e[t];return n}function Mt(e,t){var n=void 0!==n&&n;return _t(e=ht(e),t,n)}function _t(e,t,n){return e=function(e,t){function n(){for(var t=r;-1==="\r\n\t>/= ".indexOf(e[r])&&e[r];)r++;return e.slice(t,r)}var r=0;return function i(a,o){o=void 0!==o&&o;for(var s=[];e[r];)if(60==e.charCodeAt(r)){if(47===e.charCodeAt(r+1)){o=r+2,r=e.indexOf(">",r);var u=(o=e.substring(o,r)).indexOf(a);if(-1==u){var c=a.indexOf(".");0<c&&(u=o.indexOf(a.substring(0,c)))}if(-1==u)throw a=e.substring(0,r).split("\n"),Error("Unexpected close tag\nLine: "+(a.length-1)+"\nColumn: "+(a[a.length-1].length+1)+"\nChar: "+e[r]);r+1&&(r+=1);break}if(33===e.charCodeAt(r+1)){if(45==e.charCodeAt(r+2)){for(;-1!==r&&(62!==e.charCodeAt(r)||45!=e.charCodeAt(r-1)||45!=e.charCodeAt(r-2)||-1==r);)r=e.indexOf(">",r+1);-1===r&&(r=e.length)}else if(91===e.charCodeAt(r+2)&&91===e.charCodeAt(r+8)&&"cdata"===e.substr(r+3,5).toLowerCase()){-1==(u=e.indexOf("]]>",r))?(s.push(e.substr(r+9)),r=e.length):(s.push(e.substring(r+9,u)),r=u+3);continue}r++;continue}e:{c=o,r++;var d=n(),f={};for(u=[];62!==e.charCodeAt(r)&&e[r];){var p=e.charCodeAt(r);if(64<p&&91>p||96<p&&123>p){p=n();for(var h=e.charCodeAt(r);h&&39!==h&&34!==h&&!(64<h&&91>h||96<h&&123>h)&&62!==h;)r++,h=e.charCodeAt(r);var g=r+1;if(r=e.indexOf(e[r],g),g=e.slice(g,r),39===h||34===h){if(-1===r){if(c={tagName:d,attributes:f,children:u,parent:null},t)for(d=0;d<u.length;d++)"string"!=typeof u[d]&&(u[d].parent=c);u=c;break e}}else g=null,r--;if(p.startsWith("xmlns:")){h=g;var v=p.split(":")[1];on.set(h,v),sn.set(v,h)}"tt"===d&&"xml:space"===p&&"preserve"===g&&(c=!0),f[p]=g}r++}for(47!==e.charCodeAt(r-1)?(r++,u=i(d,c)):r++,c={tagName:d,attributes:f,children:u,parent:null},d=u.length,f=0;f<d;f++)"string"!=typeof(p=u[f])?t&&(p.parent=c):f==d-1&&"\n"==p&&u.pop();u=c}if(s.push(u),"string"==typeof u)break;"?"===u.tagName[0]&&u.children&&(s.push.apply(s,l(u.children)),u.children=[])}else u=r,-2==(r=e.indexOf("<",r)-1)&&(r=e.length),u=e.slice(u,r+1),o?0<u.length&&s.push(u):(s.length&&1==u.length&&"\n"==u[0]||0<u.trim().length)&&s.push(u),r++;return s}("")}(e,void 0!==n&&n),!t&&e.length?e[0]:(e=e.find((function(e){return t.split(",").includes(e.tagName)})))?e:null}function Pt(e){return on.has(e)?on.get(e):""}function Dt(e){return"string"==typeof e}function Lt(e){var t=[];if(!e.children)return[];for(var n=(e=c(e.children)).next();!n.done;n=e.next())"string"!=typeof(n=n.value)&&t.push(n);return t}function Rt(e,t){var n=[];if(!e.children)return[];for(var r=(e=c(e.children)).next();!r.done;r=e.next())(r=r.value).tagName===t&&n.push(r);return n}function Nt(e){return"string"==typeof e?yt(e):""===(e=e.children.reduce((function(e,t){return"string"==typeof t?e+t:e}),""))?null:yt(e)}function Ot(e){return Array.from(e.children).every((function(e){return"string"==typeof e}))?((e=Nt(e))&&(e=e.trim()),e):null}function Ut(e,t,n){if(n=void 0===n?[]:n,e.tagName===t&&n.push(e),e.children)for(var r=(e=c(e.children)).next();!r.done;r=e.next())Ut(r.value,t,n);return n}function jt(e,t){return 1!=(e=Rt(e,t)).length?null:e[0]}function Ft(e,t,n){return 1!=(e=$t(e,t,n)).length?null:e[0]}function Bt(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.attributes[t])&&(i=n(e)),null==i?r:i}function Vt(e,t,n){return t=Pt(t),e.attributes[t+":"+n]||null}function $t(e,t,n){t=Pt(t);var r=[];if(e.children)for(var i=(e=c(e.children)).next();!i.done;i=e.next())(i=i.value)&&i.tagName===t+":"+n&&r.push(i);return r}function zt(e,t,n){for(var r=(t=c(t)).next();!r.done;r=t.next())if(r=Vt(e,r.value,n))return r;return null}function Ht(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function qt(e){return e&&(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function Kt(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Gt(e){return 0==(e=Number(e))%1?e:null}function Xt(e){return 0==(e=Number(e))%1&&0<e?e:null}function Wt(e){return 0==(e=Number(e))%1&&0<=e?e:null}function Yt(e){return e=Number(e),isNaN(e)?null:e}function Jt(e){return!!e&&"true"===e.toLowerCase()}function Zt(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Qt(e){for(var t=[],n=(e=c(e=yt(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/))).next();!n.done;n=e.next()){var r=(n=n.value).match(/^([\w]+)/);if(r){var i=n.match(/(@id='(.*?)')/),a=n.match(/(@t='(\d+)')/),o=n.match(/(@n='(\d+)')/),s=n.match(/\[(\d+)\]/);t.push({name:r[0],id:i?i[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:s?Number(s[1])-1:null,Vb:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].Vb=n.slice(1))}return t}function en(e,t){var n=Qt(t.attributes.sel||"");if(n.length){var r=n[n.length-1],i=t.attributes.pos||null;null==(n=r.position)&&(null!==r.t&&(n=tn(e,"t",r.t)),null!==r.n&&(n=tn(e,"n",r.n))),null===n?n="prepend"===i?0:e.length:"prepend"===i?--n:"after"===i&&++n,i=t.tagName,(r=r.Vb)&&e[n]?nn(e[n],i,r,Ot(t)||""):("remove"!==i&&"replace"!==i||e.splice(n,1),"add"!==i&&"replace"!==i||e.splice.apply(e,[n,0].concat(l(t.children))))}}function tn(e,t,n){for(var r=0,i=(e=c(e)).next();!i.done;i=e.next()){if(Number(i.value.attributes[t])===n)return r;r++}return null}function nn(e,t,n,r){"remove"===t?delete e.attributes[n]:"add"!==t&&"replace"!==t||(e.attributes[n]=r)}function rn(e){var t="",n=e.tagName.split(":");for(var r in 0<n.length&&(t=n[0],t=sn.has(t)?sn.get(t):""),t=document.createElementNS(t,e.tagName),e.attributes)t.setAttribute(r,e.attributes[r]);for(r=(e=c(e.children)).next();!r.done;r=e.next())n=void 0,n="string"==typeof(r=r.value)?new Text(r):rn(r),t.appendChild(n);return t}function an(e){if(!e)return null;for(var t={tagName:e.tagName,attributes:It(e.attributes),children:[],parent:null},n=(e=c(e.children)).next();!n.done;n=e.next())"string"==typeof(n=n.value)||((n=an(n)).parent=t),t.children.push(n);return t}var on=new Map,sn=new Map;function un(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new ke,this.position=null,this.positionAlign=gn,this.size=0,this.textAlign=vn,this.direction=wn,this.writingMode=xn,this.lineInterpretation=Sn,this.line=null,this.lineHeight="",this.lineAlign=Tn,this.displayAlign=yn,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=En,this.fontStyle=Mn,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={lc:32,rows:15}}function cn(e,t){return(e=new un(e,t,"")).lineBreak=!0,e}function ln(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!_e(e.nestedCues,t.nestedCues,ln))return!1}else if("region"==n||"cellResolution"==n){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!_e(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function dn(e,t){t=void 0===t?new Map:t;var n=e.payload;if(n.includes("<")){0===t.size&&fn(t);var r=n;n=[];for(var i=-1,a=0;a<r.length;a++)"<"===r[a]?i=a+1:">"===r[a]&&0<i&&((i=r.substr(i,a-i)).match(Ln)&&n.push(i),i=-1);for(a=(n=c(n)).next();!a.done;a=n.next())a=a.value,r=r.replace("<"+a+">",'<div time="'+a+'">'),r+="</div>";e:{a=r,i=[];var o=-1;n="",r=!1;for(var s=0;s<a.length;s++)if("/"===a[s]){var u=a.indexOf(">",s);if(-1===u){n=a;break e}if((u=a.substring(s+1,u))&&"v"==u){r=!0;var l=null;if(i.length&&(l=i[i.length-1]),l){if(l===u)n+="/"+u+">";else{if(!l.startsWith("v")){n+=a[s];continue}n+="/"+l+">"}s+=u.length+1}else n+=a[s]}else n+=a[s]}else"<"===a[s]?"v"!=a[o=s+1]&&(o=-1):">"===a[s]&&0<o&&(i.push(a.substr(o,s-o)),o=-1),n+=a[s];for(i=(a=c(i)).next();!i.done;i=a.next())o=(i=i.value).replace(" ",".voice-"),n=(n=n.replace("<"+i+">","<"+o+">")).replace("</"+i+">","</"+o+">"),r||(n+="</"+o+">")}n=function(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,r=RegExp(n.source);return e&&r.test(e)?e.replace(n,(function(e){return t[e]||""})):e||""}(n),e.payload="";try{var d=_t("<span>"+n+"</span>","span")}catch(e){}if(d)if(1!=(d=d.children).length||d[0].tagName)for(n=(d=c(d)).next();!n.done;n=d.next())pn(n.value,e,t);else e.payload=yt(n);else e.payload=yt(n)}else e.payload=yt(n)}function fn(e){for(var t=c(Object.entries(Cn)),n=t.next();!n.done;n=t.next()){var r=c(n.value);n=r.next().value,r=r.next().value;var i=new un(0,0,"");i.color=r,e.set("."+n,i)}for(n=(t=c(Object.entries(An))).next();!n.done;n=t.next())n=(r=c(n.value)).next().value,r=r.next().value,(i=new un(0,0,"")).backgroundColor=r,e.set("."+n,i)}function pn(e,t,n){var r=t.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new ke,r.position=null,r.size=0,r.textAlign=vn,e.tagName)for(var i=c(e.tagName.split(/(?=[ .])+/g)),a=i.next();!a.done;a=i.next()){var o=a=a.value;if(o.startsWith(".voice-")){var s=o.split("-").pop();o='v[voice="'+s+'"]',n.has(o)||(o="v[voice="+s+"]")}switch(n.has(o)&&(s=r,o=n.get(o))&&(s.backgroundColor=hn(o.backgroundColor,s.backgroundColor),s.color=hn(o.color,s.color),s.fontFamily=hn(o.fontFamily,s.fontFamily),s.fontSize=hn(o.fontSize,s.fontSize),s.textShadow=hn(o.textShadow,s.textShadow),s.fontWeight=o.fontWeight,s.fontStyle=o.fontStyle,s.opacity=o.opacity,s.rubyTag=o.rubyTag,s.textCombineUpright=o.textCombineUpright,s.wrapLine=o.wrapLine),a){case"br":return r=cn(r.startTime,r.endTime),void t.nestedCues.push(r);case"b":r.fontWeight=In;break;case"i":r.fontStyle=_n;break;case"u":r.textDecoration.push(Dn);break;case"font":(a=e.attributes.color)&&(r.color=a);break;case"div":if(!(a=e.attributes.time))break;(a=Ct(a))&&(r.startTime=a);break;case"ruby":case"rp":case"rt":r.rubyTag=a}}if(i=e.children,Dt(e)||1==i.length&&Dt(i[0]))for(n=Nt(e).split("\n"),e=!0,i=(n=c(n)).next();!i.done;i=n.next())i=i.value,e||(e=cn(r.startTime,r.endTime),t.nestedCues.push(e)),0<i.length&&((e=r.clone()).payload=yt(i),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(r),e=(t=c(i)).next();!e.done;e=t.next())pn(e.value,r,n)}function hn(e,t){return e&&0<e.length?e:t}un.prototype.clone=function(){var e,t=new un(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},B("shaka.text.Cue",un),un.parseCuePayload=dn,un.equal=ln,un.prototype.clone=un.prototype.clone;var gn="auto";un.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:gn};var vn="center",mn={LEFT:"left",RIGHT:"right",CENTER:vn,START:"start",END:"end"};un.textAlign=mn;var yn="after",bn={BEFORE:"before",CENTER:"center",AFTER:yn};un.displayAlign=bn;var wn="ltr";un.direction={HORIZONTAL_LEFT_TO_RIGHT:wn,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var xn="horizontal-tb";un.writingMode={HORIZONTAL_TOP_TO_BOTTOM:xn,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Sn=0;un.lineInterpretation={LINE_NUMBER:Sn,PERCENTAGE:1};var Tn="start",kn={CENTER:"center",START:Tn,END:"end"};un.lineAlign=kn;var Cn={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};un.defaultTextColor=Cn;var An={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};un.defaultTextBackgroundColor=An;var En=400,In=700;un.fontWeight={NORMAL:En,BOLD:In};var Mn="normal",_n="italic",Pn={NORMAL:Mn,ITALIC:_n,OBLIQUE:"oblique"};un.fontStyle=Pn;var Dn="underline";un.textDecoration={UNDERLINE:Dn,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var Ln=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function Rn(){}function Nn(e,t,n){Un[e.toLowerCase().split(";")[0]+"-"+n]={priority:n,he:t}}function On(e,t){for(var n=e.toLowerCase().split(";")[0],r=c([Vn,Bn,Fn,jn]),i=r.next();!i.done;i=r.next())if(i=Un[n+"-"+i.value]){var a=i.he(),o=a.isSupported(e,t);if(a.destroy(),o)return i.he}return null}Rn.prototype.destroy=function(){},B("shaka.transmuxer.TransmuxerEngine",Rn),Rn.findTransmuxer=On,Rn.unregisterTransmuxer=function(e,t){delete Un[e.toLowerCase().split(";")[0]+"-"+t]},Rn.registerTransmuxer=Nn,Rn.prototype.destroy=Rn.prototype.destroy;var Un={},jn=1,Fn=2,Bn=3,Vn=4;Rn.PluginPriority={FALLBACK:jn,PREFERRED_SECONDARY:Fn,PREFERRED:Bn,APPLICATION:Vn};var $n=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function zn(e){var t;e instanceof zn?(Hn(this,e.Db),this.Ac=e.Ac,qn(this,e.Fb),Kn(this,e.Sc),this.Ua=e.Ua,Gn(this,e.g.clone()),this.mc=e.mc):e&&(t=String(e).match($n))?(Hn(this,t[1]||"",!0),this.Ac=Xn(t[2]||""),qn(this,t[3]||"",!0),Kn(this,t[4]),this.Ua=Xn(t[5]||"",!0),Gn(this,t[6]||"",!0),this.mc=Xn(t[7]||"")):this.g=new nr(null)}function Hn(e,t,n){e.Db=n?Xn(t,!0):t,e.Db&&(e.Db=e.Db.replace(/:$/,""))}function qn(e,t,n){e.Fb=n?Xn(t,!0):t}function Kn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Sc=t}else e.Sc=null}function Gn(e,t,n){t instanceof nr?e.g=t:(n||(t=Wn(t,er)),e.g=new nr(t))}function Xn(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function Wn(e,t,n){return null!=e?(e=encodeURI(e).replace(t,Yn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=zn.prototype).Db="",r.Ac="",r.Fb="",r.Sc=null,r.Ua="",r.mc="",r.toString=function(){var e=[],t=this.Db;if(t&&e.push(Wn(t,Jn,!0),":"),t=this.Fb){e.push("//");var n=this.Ac;n&&e.push(Wn(n,Jn,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Sc)&&e.push(":",String(t))}return(t=this.Ua)&&(this.Fb&&"/"!=t.charAt(0)&&e.push("/"),e.push(Wn(t,"/"==t.charAt(0)?Qn:Zn,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.mc)&&e.push("#",Wn(t,tr)),e.join("")},r.resolve=function(e){var t=this.clone();"data"===t.Db&&(t=new zn);var n=!!e.Db;n?Hn(t,e.Db):n=!!e.Ac,n?t.Ac=e.Ac:n=!!e.Fb,n?qn(t,e.Fb):n=null!=e.Sc;var r=e.Ua;if(n)Kn(t,e.Sc);else if(n=!!e.Ua){if("/"!=r.charAt(0))if(this.Fb&&!this.Ua)r="/"+r;else{var i=t.Ua.lastIndexOf("/");-1!=i&&(r=t.Ua.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.Ua=r:n=""!==e.g.toString(),n?Gn(t,e.g.clone()):n=!!e.mc,n&&(t.mc=e.mc),t},r.clone=function(){return new zn(this)};var Jn=/[#\/\?@]/g,Zn=/[#\?:]/g,Qn=/[#\?]/g,er=/[#\?@]/g,tr=/#/g;function nr(e){this.g=e||null}function rr(e){if(!e.Pa&&(e.Pa={},e.bd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];a=decodeURIComponent(a.replace(/\+/g," ")),i=i||"",e.add(a,decodeURIComponent(i.replace(/\+/g," ")))}}function ir(e){return rr(e),e.bd}function ar(){}function or(e){return e=mt(ve(e)),btoa(e)}function sr(e,t){return t=null==t||t,e=or(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function ur(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function cr(t){for(var n=t.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.parseInt(t.substr(2*i,2),16);return r}function lr(e){var t=ve(e);e="";for(var n=(t=c(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function dr(){for(var e=L.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var r=n=0;r<e.length;++r){var i=e[r];i instanceof Uint8Array?t.set(i,n):t.set(ve(i),n),n+=i.byteLength}return t}function fr(e,t,n){if(n=void 0===n?"":n,0==t.length)return e;if(1==e.length&&1==t.length){var r=new zn(e[0]);return t=new zn(t[0]),t=r.resolve(t),n&&Gn(t,n),[t.toString()]}t=t.map((function(e){return new zn(e)})),r=[];for(var i=(e=c(e)).next();!i.done;i=e.next()){i=new zn(i.value);for(var a=c(t),o=a.next();!o.done;o=a.next())o=i.resolve(o.value),n&&Gn(o,n),r.push(o.toString())}return r}function pr(e,t,n,r){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},r&&(e.keySystemUris=new Set([r])),e}function hr(t,n){n=void 0===n?"cenc":n;var r=[],i=[],a=[];t.forEach((function(e,t){var n=t;22!=n.length&&(n=sr(cr(t),!1));var o=e;22!=o.length&&(o=sr(cr(e),!1)),e={kty:"oct",kid:n,k:o},r.push(e),i.push(e.kid),a.push(t)})),t=JSON.stringify({keys:r});var o=JSON.stringify({kids:i});return o=[{initData:ve(gt(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:n,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(a)}}function gr(e,t){if(1==t.length)return t[0];if(null!=(e=vr(e,t)))return e;throw new Pe(2,4,4025,t)}function vr(e,t){for(var n=c(xr[e]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return e==yr?"":null}function mr(e,t){for(var n=[],r=(e=c(xr[e])).next();!r.done;r=e.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())a=a.value,r.test(a.trim())&&n.push(a.trim())}return n}(r=nr.prototype).Pa=null,r.bd=null,r.add=function(e,t){rr(this),this.g=null;var n=this.Pa.hasOwnProperty(e)?this.Pa[e]:null;return n||(this.Pa[e]=n=[]),n.push(t),this.bd++,this},r.set=function(e,t){return rr(this),this.g=null,this.Pa.hasOwnProperty(e)?this.Pa[e]=[t]:this.add(e,t),this},r.get=function(e){return rr(this),this.Pa[e]||[]},r.toString=function(){if(this.g)return this.g;if(!this.Pa)return"";var e,t=[];for(e in this.Pa)for(var n=encodeURIComponent(e),r=this.Pa[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.g=t.join("&")},r.clone=function(){var e=new nr;if(e.g=this.g,this.Pa){var t,n={};for(t in this.Pa)n[t]=this.Pa[t].concat();e.Pa=n,e.bd=this.bd}return e},B("shaka.util.Uint8ArrayUtils",ar),ar.concat=dr,ar.toHex=lr,ar.fromHex=cr,ar.fromBase64=ur,ar.toBase64=sr,ar.toStandardBase64=or;var yr="text",br={la:"video",Y:"audio",wa:yr,Ie:"image",kj:"application"},wr=1/15,xr={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function Sr(){}function Tr(e,t){var n=e;return t&&!Nr.includes(e)&&(n+='; codecs="'+t+'"'),n}function kr(e,t){return t&&(e+='; codecs="'+t+'"'),e}function Cr(e,t,n){var r=Tr(e,t);return On(t=kr(e,t))?(e=On(t))?(n=(e=e()).convertCodecs(n,t),e.destroy()):n=t:n="video/mp2t"!=e&&"audio"==n?r.replace("video","audio"):r,n}function Ar(e,t,n){var r=[t];return Rr.forEach((function(t,i){var a=e[i];"codecs"==i?Nr.includes(e.mimeType)||r.push('codecs="'+n+'"'):a&&r.push(t+'="'+a+'"')})),"PQ"==e.hdr&&r.push('eotf="smpte2084"'),r.join(";")}function Er(e){return e.split(";")[0].split("/")[1]}function Ir(e){var t=Lr(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:case"mp4a"===e&&"40.34"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:return"ac-3";case"mp4a"===e&&"a6"===t:return"ec-3";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"vvc1"===e:case"vvi1"===e:return"vvc";case"dvh1"===e:case"dvhe"===e:return"dovi-hevc";case"dvav"===e:case"dva1"===e:return"dovi-avc";case"dav1"===e:return"dovi-av1";case"dvc1"===e:case"dvi1"===e:return"dovi-vvc"}return e}function Mr(e){for(var t=[],n=(e=c(e.split(","))).next();!n.done;n=e.next())n=Lr(n.value),t.push(n[0]);return t.sort().join(",")}function _r(e){return e.split(";")[0]}function Pr(e){return(e=e.split(/ *; */)).shift(),(e=e.find((function(e){return e.startsWith("codecs=")})))?e.split("=")[1].replace(/^"|"$/g,""):""}function Dr(e){return"application/x-mpegurl"===e||"application/vnd.apple.mpegurl"===e}function Lr(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}B("shaka.util.MimeUtils",Sr),Sr.getFullTypeWithAllCodecs=kr,Sr.getFullType=Tr;var Rr=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),Nr=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Or(e){this.i=null,this.j=e,this.B=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.C="",this.A=function(){},this.o=new Map}function Ur(e){return!!Br[e]||("application/cea-608"==e||"application/cea-708"==e)&&!!Te}function jr(e,t,n){if(e.C=t,t=e.o.get(t))for(var r=c(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter((function(e){return e.endTime<=n})))&&e.j.append(i)}function Fr(e,t,n){t.startTime+=n,t.endTime+=n;for(var r=(t=c(t.nestedCues)).next();!r.done;r=t.next())Fr(e,r.value,n)}Or.prototype.destroy=function(){return this.j=this.i=null,this.o.clear(),Promise.resolve()},Or.prototype.remove=function(e,t){var n=this;return D((function(r){if(1==r.g)return w(r,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||null==n.g||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),x(r)}))},B("shaka.text.TextEngine",Or),Or.prototype.destroy=Or.prototype.destroy,Or.findParser=function(e){return Br[e]},Or.unregisterParser=function(e){delete Br[e]},Or.registerParser=function(e,t){Br[e]=t};var Br={};function Vr(e,t){return e.concat(t)}function $r(){}function zr(e){return null!=e}function Hr(){}function qr(e,t){return e=Xr(e),t=Xr(t),e.split("-")[0]==t.split("-")[0]}function Kr(e,t){return e=Xr(e),t=Xr(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function Gr(e,t){return e=Xr(e),t=Xr(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function Xr(e){var t=(e=c(e.split("-x-"))).next().value;t=void 0===t?"":t,e=void 0===(e=e.next().value)?"":e;var n=c(t.split("-"));return t=void 0===(t=n.next().value)?"":t,n=void 0===(n=n.next().value)?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=Qr.get(t)||t,((n=n.toUpperCase())?t+"-"+n:t)+(e?"-"+e:"")}function Wr(e,t){return e=Xr(e),(t=Xr(t))==e?4:Kr(t,e)?3:Gr(t,e)?2:Kr(e,t)?1:0}function Yr(e){var t=e.indexOf("-");return e=(e=0<=t?e.substring(0,t):e).toLowerCase(),Qr.get(e)||e}function Jr(e){return e.language?Xr(e.language):e.audio&&e.audio.language?Xr(e.audio.language):e.video&&e.video.language?Xr(e.video.language):"und"}function Zr(e,t){e=Xr(e);for(var n=new Set,r=(t=c(t)).next();!r.done;r=t.next())n.add(Xr(r.value));for(r=(t=c(n)).next();!r.done;r=t.next())if((r=r.value)==e)return r;for(r=(t=c(n)).next();!r.done;r=t.next())if(Kr(r=r.value,e))return r;for(r=(t=c(n)).next();!r.done;r=t.next())if(Gr(r=r.value,e))return r;for(t=(n=c(n)).next();!t.done;t=n.next())if(Kr(e,t=t.value))return t;return null}B("shaka.util.LanguageUtils",Hr),Hr.findClosestLocale=Zr,Hr.getLocaleForVariant=Jr,Hr.getLocaleForText=function(e){return Xr(e.language||"und")},Hr.getBase=Yr,Hr.relatedness=Wr,Hr.areSiblings=function(e,t){var n=Yr(e),r=Yr(t);return e!=n&&t!=r&&n==r},Hr.normalize=Xr,Hr.isSiblingOf=Gr,Hr.isParentOf=Kr,Hr.areLanguageCompatible=qr,Hr.areLocaleCompatible=function(e,t){return(e=Xr(e))==Xr(t)};var Qr=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function ei(){}function ti(e,t,n,r,i){if(i.length){for(var a=e.textStreams,o=(i=c(i)).next(),s={};!o.done;s={ag:void 0},o=i.next())if(s.ag=o.value,(o=a.filter(function(e){return function(t){return!(!t.codecs.startsWith(e.ag)&&!t.mimeType.startsWith(e.ag))}}(s))).length){a=o;break}e.textStreams=a}if(a=e.variants,(t.length||n.length)&&(a=function(e,t,n){for(var r=(t=c(t)).next(),i={};!r.done;i={rh:void 0},r=t.next())if(i.rh=r.value,r=e.filter(function(e){return function(t){return t.video&&t.video.codecs.startsWith(e.rh)}}(i)),r.length){e=r;break}for(t=(n=c(n)).next(),r={};!t.done;r={kg:void 0},t=n.next())if(r.kg=t.value,t=e.filter(function(e){return function(t){return t.audio&&t.audio.codecs.startsWith(e.kg)}}(r)),t.length){e=t;break}return e}(a,t,n)),r.length){for(t=new Z,a=(n=c(a)).next();!a.done;a=n.next())a=a.value,t.push(String(a.video.width||0),a);var u=[];t.forEach((function(e,t){e=0;for(var n=[],i=(t=c(t)).next(),a={};!i.done;a={Be:void 0},i=t.next())a.Be=i.value,(i=r.filter(function(e){return function(t){return e.Be.decodingInfos[0][t]}}(a)).length)>e?(e=i,n=[a.Be]):i==e&&n.push(a.Be);u.push.apply(u,l(n))})),a=u}for(n=new Set,t=new Set,i=(a=c(a)).next();!i.done;i=a.next())(i=i.value).audio&&n.add(i.audio),i.video&&t.add(i.video);a=Array.from(n).sort((function(e,t){return e.bandwidth-t.bandwidth}));var d=[];for(n=new Map,i=(a=c(a)).next();!i.done;i=a.next()){if(o=(i=i.value).language+(i.channelsCount||0)+(i.audioSamplingRate||0)+i.roles.join(",")+i.label+i.groupId+i.fastSwitching,(s=n.get(o)||[]).length){var f=s[s.length-1],p=Ir(f.codecs),h=Ir(i.codecs);p!=h||i.bandwidth&&f.bandwidth&&!(i.bandwidth>f.bandwidth)||(s.push(i),d.push(i.id))}else s.push(i),d.push(i.id);n.set(o,s)}var g={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,av01:.75,"dovi-av1":.7,vvc:.65};a=Array.from(t).sort((function(e,t){if(!e.bandwidth||!t.bandwidth||e.bandwidth==t.bandwidth){if(e.codecs&&t.codecs&&e.codecs!=t.codecs&&e.width==t.width){var n=Ir(e.codecs),r=Ir(t.codecs);if(n!=r)return(g[n]||1)-(g[r]||1)}return e.width-t.width}return e.bandwidth-t.bandwidth})),t=re();var v=[];for(n=new Map,i=(a=c(a)).next();!i.done;i=a.next()){if(i=i.value,o=Math.round(i.frameRate||0)+(i.hdr||"")+i.fastSwitching,(s=n.get(o)||[]).length){if(f=s[s.length-1],!t&&(p=Ir(f.codecs))!==(h=Ir(i.codecs)))continue;i.width>f.width||i.height>f.height?(s.push(i),v.push(i.id)):i.width==f.width&&i.height==f.height&&((p=Ir(f.codecs))!=(h=Ir(i.codecs))||i.bandwidth&&f.bandwidth&&!(i.bandwidth>f.bandwidth)||(s.push(i),v.push(i.id)))}else s.push(i),v.push(i.id);n.set(o,s)}e.variants=e.variants.filter((function(e){var t=e.audio;return e=e.video,!(t&&!d.includes(t.id)||e&&!v.includes(e.id))}))}function ni(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;if(i&&i.width&&i.height){var a=i.width,o=i.height;if(o>a&&(a=(o=c([o,a])).next().value,o=o.next().value),!r(a,t.minWidth,Math.min(t.maxWidth,n.width))||!r(o,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!r(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function ri(e,t,n,r){var i,a;return D((function(o){if(1==o.g)return He()&&function(e){for(var t={dvav:"avc3",dva1:"avc1",dvhe:"hev1",dvh1:"hvc1",dvc1:"vvc1",dvi1:"vvi1"},n=new Set,r=(e=c(e)).next();!r.done;r=e.next())(r=r.value).video&&n.add(r.video);for(e=(n=c(n)).next();!e.done;e=n.next()){e=e.value;for(var i=(r=c(Object.keys(t))).next();!i.done;i=r.next())if(i=i.value,e.codecs.includes(i)){e.codecs=e.codecs.replace(i,t[i]);break}}}(t.variants),w(o,si(t.variants,n,!1,r),2);i=null,e&&(a=e.g)&&(i=a.keySystem),t.variants=t.variants.filter((function(e){var t=function(e,t){var n=He(),r=at("Firefox")&&rt(),i=e.video,a=i&&i.width||0,o=i&&i.height||0;if(n&&i&&(1920<a||1080<o)&&(i.codecs.includes("avc1.")||i.codecs.includes("avc3.")))return!1;if(i){if(n=li(i.codecs),i.codecs.includes(",")){if(n=li(n=gr("video",a=i.codecs.split(","))),a=ci(a=gr("audio",a),i.mimeType),!ne(o=Cr(i.mimeType,a,"audio")))return!1;n=[n,a].join()}if(!ne(a=Cr(i.mimeType,n,"video")))return!1;i.codecs=n}if(i=e.audio,r&&i&&i.encrypted&&i.codecs.toLowerCase().includes("opus"))return!1;if(i){if(r=ci(i.codecs,i.mimeType),!ne(n=Cr(i.mimeType,r,"audio")))return!1;i.codecs=r}return e.decodingInfos.some((function(e){return!(!e.supported||t&&(e=e.keySystemAccess)&&e.keySystem!=t)}))}(e,i);if(!t){var n=[];e.audio&&n.push(Ti(e.audio)),e.video&&n.push(Ti(e.video))}return t})),x(o)}))}function ii(e){var t=[];for(n in e)t.push(n);t.sort();for(var n=[],r=(t=c(t)).next();!r.done;r=t.next()){var i=r.value;r=JSON.stringify(i),(i=e[i])instanceof Object?(i=ii(i),n.push(r+":"+i)):(i=JSON.stringify(i),n.push(r+":"+i))}return"{"+n.join(",")+"}"}function ai(e,t){var n,r,i,a,o,s,u;return D((function(l){if(1==l.g){for(n=function(e,t){if(e){var n=It(e);return n.supported=e.supported&&t.supported,n.powerEfficient=e.powerEfficient&&t.powerEfficient,n.smooth=e.smooth&&t.smooth,t.keySystemAccess&&!n.keySystemAccess&&(n.keySystemAccess=t.keySystemAccess),n}return t},r=null,i=[],a=c(t),o=a.next(),s={};!o.done;s={cache:void 0,Fd:void 0},o=a.next())u=o.value,s.Fd=ii(u),s.cache=ki,s.cache[s.Fd]?r=n(r,s.cache[s.Fd]):i.push(oi(u).then(function(e){return function(t){for(var i=null,a=(t=c(t||[])).next();!a.done;a=t.next())i=n(i,a.value);i&&(e.cache[e.Fd]=i,r=n(r,i))}}(s)));return w(l,Promise.all(i),2)}r&&e.decodingInfos.push(r),x(l)}))}function oi(e){var t=[""];e.video&&(t=Pr(e.video.contentType).split(","));var n=[""];e.audio&&(n=Pr(e.audio.contentType).split(","));for(var r=[],i=(t=c(t)).next();!i.done;i=t.next()){i=i.value;for(var a=c(n),o=a.next(),s={};!o.done;s={Dc:void 0},o=a.next())o=o.value,s.Dc=Et(e),e.video&&(s.Dc.video.contentType=Tr(_r(s.Dc.video.contentType),i)),e.audio&&(s.Dc.audio.contentType=Tr(_r(s.Dc.audio.contentType),o)),r.push(new Promise(function(e){return function(t,n){navigator.mediaCapabilities.decodingInfo(e.Dc).then((function(e){t(e)})).catch(n)}}(s)))}return Promise.all(r).catch((function(){return JSON.stringify(e),null}))}function si(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,x,S,T;return D((function(k){switch(k.g){case 1:if(e.some((function(e){return e.decodingInfos.length})))return k.return();i=c(r),a=i.next(),o={};case 2:if(a.done){k.u(4);break}o.Tg=a.value,s=!1,u=c(e),l=u.next();case 5:if(l.done){k.u(7);break}d=l.value,f=ui(d,t,n).filter((C=o,function(e){return((e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)===C.Tg})),p=c(f),h=p.next();case 8:if(h.done){k.u(10);break}return g=h.value,w(k,ai(d,g),9);case 9:h=p.next(),k.u(8);break;case 10:d.decodingInfos.length&&(s=!0),l=u.next(),k.u(5);break;case 7:if(s)return k.return();o={Tg:void 0},a=i.next(),k.u(2);break;case 4:v=c(e),m=v.next();case 12:if(m.done){k.u(0);break}y=m.value,b=ui(y,t,n).filter((function(e){return!(e=(e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)||!r.includes(e)})),x=c(b),S=x.next();case 15:if(S.done){m=v.next(),k.u(12);break}return T=S.value,w(k,ai(y,T),16);case 16:S=x.next(),k.u(15)}var C}))}function ui(e,t,n){var r=e.audio,i=e.video,a=[],o=[];if(i)for(var s=c(i.fullMimeTypes),u=s.next();!u.done;u=s.next()){var l=Pr(u=u.value);if(l.includes(",")&&!r){var d=l.split(","),f=_r(u);l=gr("video",d),f=Cr(f,d=ci(d=gr("audio",d),f),"audio"),o.push({contentType:f,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(l=li(l),u={contentType:Cr(_r(u),l,"video"),width:i.width||64,height:i.height||64,bitrate:i.bandwidth||e.bandwidth||1,framerate:i.frameRate||1},i.hdr)switch(i.hdr){case"SDR":u.transferFunction="srgb";break;case"PQ":u.transferFunction="pq";break;case"HLG":u.transferFunction="hlg"}i.colorGamut&&(u.colorGamut=i.colorGamut),a.push(u)}if(r)for(u=(s=c(r.fullMimeTypes)).next();!u.done;u=s.next())u=Cr(u=_r(l=u.value),l=ci(Pr(l),u),"audio"),o.push({contentType:u,channels:r.channelsCount||2,bitrate:r.bandwidth||e.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});for(s=[],0==a.length&&a.push(null),0==o.length&&o.push(null),u=(a=c(a)).next();!u.done;u=a.next())for(u=u.value,f=(l=c(o)).next();!f.done;f=l.next())f=f.value,d={type:n?"file":"media-source"},u&&(d.video=u),f&&(d.audio=f),s.push(d);if(!(o=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[s];for(e=[],n=new Map,a=(o=c(o)).next();!a.done;a=o.next())a=a.value,n.get(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);for(o=t?"required":"optional",t=t?["persistent-license"]:["temporary"],u=(a=c(n.keys())).next();!u.done;u=a.next()){for(u=u.value,l=[],d=(f=c(s)).next();!d.done;d=f.next()){d=Object.assign({},d.value);for(var p=n.get(u),h={keySystem:u,initDataType:"cenc",persistentState:o,distinctiveIdentifier:"optional",sessionTypes:t},g=(p=c(p)).next();!g.done;g=p.next()){if((g=g.value).initData&&g.initData.length){for(var v=new Set,m=c(g.initData),y=m.next();!y.done;y=m.next())v.add(y.value.initDataType);h.initDataType=g.initData[0].initDataType}g.distinctiveIdentifierRequired&&(h.distinctiveIdentifier="required"),g.persistentStateRequired&&(h.persistentState="required"),g.sessionType&&(h.sessionTypes=[g.sessionType]),r&&(h.audio?(g.encryptionScheme&&(h.audio.encryptionScheme=h.audio.encryptionScheme||g.encryptionScheme),h.audio.robustness=h.audio.robustness||g.audioRobustness):(h.audio={robustness:g.audioRobustness},g.encryptionScheme&&(h.audio.encryptionScheme=g.encryptionScheme)),""==h.audio.robustness&&delete h.audio.robustness),i&&(h.video?(g.encryptionScheme&&(h.video.encryptionScheme=h.video.encryptionScheme||g.encryptionScheme),h.video.robustness=h.video.robustness||g.videoRobustness):(h.video={robustness:g.videoRobustness},g.encryptionScheme&&(h.video.encryptionScheme=g.encryptionScheme)),""==h.video.robustness&&delete h.video.robustness)}d.keySystemConfiguration=h,l.push(d)}e.push(l)}return e}function ci(e,t){return"flac"==e.toLowerCase()?tt()?"fLaC":"flac":"opus"===e.toLowerCase()?tt()&&"mp4"==Er(t)?"Opus":"opus":e}function li(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return e=t.shift()+".",(e+=parseInt(t.shift(),10).toString(16))+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function di(e){var t=e.audio,n=e.video,r=t?t.mimeType:null,i=n?n.mimeType:null,a=t?t.codecs:null,o=n?n.codecs:null,s=[];o&&s.push(o),a&&s.push(a);var u=[];n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null;var l=[];t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null;var d=new Set;if(t)for(var f=c(t.roles),p=f.next();!p.done;p=f.next())d.add(p.value);if(n)for(p=(f=c(n.roles)).next();!p.done;p=f.next())d.add(p.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:u,audioMimeType:r,videoMimeType:i,codecs:s.join(", "),audioCodec:a,videoCodec:o,primary:e.primary,roles:Array.from(d),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,o.includes(",")&&(e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage)),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage),e}function fi(e){return{id:e.id,active:!1,type:yr,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null,accessibilityPurpose:e.accessibilityPurpose,originalLanguage:e.originalLanguage}}function pi(e){var t=e.width||null,n=e.height||null,r=null;e.segmentIndex&&(r=eu(e.segmentIndex));var i=e.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=t&&(t/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:i||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId,accessibilityPurpose:null,originalLanguage:null}}function hi(e){return e.__shaka_id||(e.__shaka_id=Ci++),e.__shaka_id}function gi(e){var t=mi(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="unknown"),"subtitles"==e.kind&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),"forced"==e.kind&&(t.forced=!0),t}function vi(e){var t=mi(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function mi(e){var t=e.language;return{id:hi(e),active:!1,type:"",bandwidth:0,language:Xr(t||"und"),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:t}}function yi(e){return e.allowedByApplication&&e.allowedByKeySystem&&0==e.disabledUntilTime}function bi(e){return e.filter((function(e){return yi(e)}))}function wi(e,t,n,r){var i=e,a=e.filter((function(e){return e.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==o})),t){var s=Zr(Xr(t),e.map((function(e){return e.language})));s&&(i=e.filter((function(e){return Xr(e.language)==s})))}if(i=i.filter((function(e){return e.forced==r})),n){if((e=xi(i,n)).length)return e}else if(e=i.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=i.map((function(e){return e.roles})).reduce(Vr,[]),e.length?xi(i,e[0]):i}function xi(e,t){return e.filter((function(e){return e.roles.includes(t)}))}function Si(e,t){t.length&&(t=t.filter((function(t){return Ir(e.codecs)==Ir(t.codecs)})).sort((function(e,t){return e.bandwidth&&t.bandwidth&&e.bandwidth!=t.bandwidth?e.bandwidth-t.bandwidth:(e.width||0)-(t.width||0)})),e.trickModeVideo=t[0],1<t.length&&(t=t.find((function(t){return e.width==t.width&&e.height==t.height}))))&&(e.trickModeVideo=t)}function Ti(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}B("shaka.util.StreamUtils",ei),ei.meetsRestrictions=ni;var ki={},Ci=0,Ai=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),Ei=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function Ii(){var e=this;this.A=null,this.j=!1,this.i=new q,this.F=new Q,navigator.connection&&navigator.connection.addEventListener&&this.F.D(navigator.connection,"change",(function(){if(e.j&&e.g.useNetworkInformation){e.i=new q,e.g&&e.i.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}})),this.s=[],this.B=1,this.G=!1,this.h=this.o=this.g=this.l=null,this.C=new Be((function(){if(e.j&&e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}})),this.m=null}function Mi(e){if(!e.G){var t=e.i;if(!(t.g>=t.i))return;e.G=!0,e.l-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}Date.now()-e.l<1e3*e.g.switchInterval||(t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.A(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch))}function _i(e,t,n,r,i){if(e.m){var a=e.m.Cg();a&&(n=n.filter((function(e){return!e.bandwidth||!a||e.bandwidth<=a})))}return t&&(n=n.filter((function(e){return ni(e,t,{width:i,height:r})}))),n.sort((function(e,t){return e.bandwidth-t.bandwidth}))}(r=Ii.prototype).stop=function(){this.A=null,this.j=!1,this.s=[],this.B=1,this.o=this.l=null,this.h&&(this.h.disconnect(),this.h=null),this.C.stop(),this.m=null},r.release=function(){this.F.release(),this.C=null},r.init=function(e){this.A=e},r.chooseVariant=function(){var t=1/0,n=1/0;if(this.g.restrictToScreenSize){var r=this.g.ignoreDevicePixelRatio?1:e.devicePixelRatio;t=e.screen.height*r,n=e.screen.width*r}this.h&&this.g.restrictToElementSize&&(r=this.g.ignoreDevicePixelRatio?1:e.devicePixelRatio,t=Math.min(t,this.o.clientHeight*r),n=Math.min(n,this.o.clientWidth*r)),(r=this.s.filter((function(e){return e&&!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)}))).length||(r=this.s);var i=r;if(r.length!=this.s.length&&(i=this.s.filter((function(e){return e&&!!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)}))),r=_i(this,this.g.restrictions,i,1/0,1/0),1/0!=t||1/0!=n){r=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort((function(e,t){return e.width-t.width}))}(r);for(var a=(r=c(r)).next();!a.done;a=r.next())if((a=a.value).height>=t&&a.width>=n){t=a.height,n=a.width;break}r=_i(this,this.g.restrictions,i,t,n)}for(t=this.getBandwidthEstimate(),i.length&&!r.length&&(r=[(r=_i(this,null,i,1/0,1/0))[0]]),n=r[0]||null,i=0;i<r.length;i++){a=r[i];for(var o=isNaN(this.B)?1:Math.abs(this.B),s=o*a.bandwidth/this.g.bandwidthDowngradeTarget,u={bandwidth:1/0},l=i+1;l<r.length;l++)if(a.bandwidth!=r[l].bandwidth){u=r[l];break}o=o*u.bandwidth/this.g.bandwidthUpgradeTarget,t>=s&&t<=o&&(n.bandwidth!=a.bandwidth||n.bandwidth==a.bandwidth&&n.video&&a.video&&(n.video.width<a.video.width||n.video.height<a.video.height))&&(n=a)}return this.l=Date.now(),n},r.enable=function(){this.j=!0},r.disable=function(){this.j=!1},r.segmentDownloaded=function(e,t,n){e<this.g.cacheLoadThreshold||(this.i.sample(e,t),n&&null!=this.l&&this.j&&Mi(this))},r.trySuggestStreams=function(){null!=this.l&&this.j&&Mi(this)},r.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.i.getBandwidthEstimate(e),this.m?this.m.getBandwidthEstimate(e):e)},r.setVariants=function(e){this.s=e},r.playbackRateChanged=function(e){this.B=e},r.setMediaElement=function(t){var n=this;this.o=t,this.h&&(this.h.disconnect(),this.h=null),this.o&&"ResizeObserver"in e&&(this.h=new ResizeObserver((function(){n.C.Z(Pi)})),this.h.observe(this.o))},r.setCmsdManager=function(e){this.m=e},r.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)},B("shaka.abr.SimpleAbrManager",Ii),Ii.prototype.configure=Ii.prototype.configure,Ii.prototype.setCmsdManager=Ii.prototype.setCmsdManager,Ii.prototype.setMediaElement=Ii.prototype.setMediaElement,Ii.prototype.playbackRateChanged=Ii.prototype.playbackRateChanged,Ii.prototype.setVariants=Ii.prototype.setVariants,Ii.prototype.getBandwidthEstimate=Ii.prototype.getBandwidthEstimate,Ii.prototype.trySuggestStreams=Ii.prototype.trySuggestStreams,Ii.prototype.segmentDownloaded=Ii.prototype.segmentDownloaded,Ii.prototype.disable=Ii.prototype.disable,Ii.prototype.enable=Ii.prototype.enable,Ii.prototype.chooseVariant=Ii.prototype.chooseVariant,Ii.prototype.init=Ii.prototype.init,Ii.prototype.release=Ii.prototype.release,Ii.prototype.stop=Ii.prototype.stop;var Pi=1;function Di(e,t,n){for(n=void 0===n||n,this.h=e,this.g=new Set([e]),t=(e=c(t=t||[])).next();!t.done;t=e.next())this.add(t.value,n)}function Li(e,t){if(e.mimeType!=t.mimeType)return!1;if(e=e.codecs.split(",").map((function(e){return Mr(e)})),t=t.codecs.split(",").map((function(e){return Mr(e)})),e.length!=t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Ri(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;for(var n=(e=c(e)).next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function Ni(e,t){this.g=new Oi(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,e.video&&e.video.hdr?e.video.hdr:"",!(!e.audio||!e.audio.spatialAudio)&&e.audio.spatialAudio,e.video&&e.video.videoLayout?e.video.videoLayout:"","","",t,e.audio&&e.audio.codecs?e.audio.codecs:"")}function Oi(e,t,n,r,i,a,o,s,u,c){this.s=e,this.A=t,this.i=n,this.j=r,this.B=i,this.m=a,this.h=o,this.l=s,this.o=u,this.g=c}function Ui(){this.g=Bi,this.i=(new Map).set(Bi,2).set(Fi,1),this.h=0}function ji(e,t,n){e.i.set(Bi,n).set(Fi,t)}B("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),B("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"}),Di.prototype.add=function(e,t){var n,r=this.h;if(t=void 0===t||t,!(n=!!r.audio!=!!e.audio||!!r.video!=!!e.video||r.language!=e.language)&&(n=r.audio&&e.audio)){n=r.audio;var i=e.audio;n=!(!((!n.channelsCount||!i.channelsCount||2<n.channelsCount||2<i.channelsCount)&&n.channelsCount!=i.channelsCount||n.spatialAudio!==i.spatialAudio||t&&!Li(n,i))&&Ri(n.roles,i.roles)&&n.groupId===i.groupId)}return!n&&(n=r.video&&e.video)&&(r=r.video,n=e.video,n=!((!t||Li(r,n))&&Ri(r.roles,n.roles))),!n&&(this.g.add(e),!0)},Di.prototype.values=function(){return this.g.values()},Ni.prototype.create=function(e){return this.g.create(e)},Oi.prototype.create=function(t){var n=[];n=function(e,t){var n=Zr(t=Xr(t),e.map((function(e){return Jr(e)})));return n?e.filter((function(e){return n==Jr(e)})):[]}(t,this.s);var r=t.filter((function(e){return e.primary}));return t=function(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}(n=n.length?n:r.length?r:t,this.A),t.length&&(n=t),this.m&&(t=function(e,t){return e.filter((function(e){return!e.video||!e.video.videoLayout||e.video.videoLayout==t}))}(n,this.m),t.length&&(n=t)),this.j&&(t=function(t,n){return"AUTO"==n&&(n=e.matchMedia("(color-gamut: p3)").matches?t.some((function(e){return!(!e.video||!e.video.hdr||"HLG"!=e.video.hdr)}))?"HLG":"PQ":"SDR"),t.filter((function(e){return!e.video||!e.video.hdr||e.video.hdr==n}))}(n,this.j),t.length&&(n=t)),this.i&&(t=function(e,t){return e.filter((function(e){return!e.audio||!e.audio.channelsCount||e.audio.channelsCount==t}))}(n,this.i),t.length&&(n=t)),this.h&&(t=function(e,t){return e.filter((function(e){return!(!e.audio||!e.audio.label)&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(n,this.h),t.length&&(n=t)),this.l&&(t=function(e,t){return e.filter((function(e){return!(!e.video||!e.video.label)&&e.video.label.toLowerCase()==t.toLowerCase()}))}(n,this.l),t.length&&(n=t)),t=function(e,t){return e.filter((function(e){return!e.audio||e.audio.spatialAudio==t}))}(n,this.B),t.length&&(n=t),this.g&&(t=function(e,t){return e.filter((function(e){return!e.audio||e.audio.codecs==t}))}(n,this.g),t.length&&(n=t)),new Di(n[0],n,!("smooth"==this.o&&re()))};var Fi=0,Bi=1;function Vi(e,t){var n=2,r=1e3,i=2,a=.5;this.l=null==e.maxAttempts?n:e.maxAttempts,this.j=null==e.baseDelay?r:e.baseDelay,this.o=null==e.fuzzFactor?a:e.fuzzFactor,this.m=null==e.backoffFactor?i:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function $i(e){var t,n;return D((function(r){if(1==r.g){if(e.g>=e.l){if(!e.i)throw new Pe(2,7,1010);e.g=1,e.h=e.j}return t=e.g,e.g++,0==t?r.return():(n=e.h*(1+(2*Math.random()-1)*e.o),w(r,new Promise((function(e){new Be(e).Z(n/1e3)})),2))}e.h*=e.m,x(r)}))}function zi(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Hi(e,t){this.promise=e,this.i=t,this.g=null}function qi(e){return new Hi(Promise.reject(e),(function(){return Promise.resolve()}))}function Ki(){var e=Promise.reject(new Pe(2,7,7001));return e.catch((function(){})),new Hi(e,(function(){return Promise.resolve()}))}function Gi(e){return new Hi(Promise.resolve(e),(function(){return Promise.resolve()}))}function Xi(e){return new Hi(e,(function(){return e.catch((function(){}))}))}function Wi(e){return new Hi(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function Yi(t,n){if(n)if(n instanceof Map)for(var r=c(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function Ji(e){var t,n=new Yi(e.type);for(t in e)Object.defineProperty(n,t,{value:e[t],writable:!0,enumerable:!0});return n}zi.prototype.resolve=function(){},zi.prototype.reject=function(){},Hi.prototype.abort=function(){return this.g||(this.g=this.i()),this.g},Hi.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},Hi.prototype.Ca=function(e,t){function n(n){return function(s){if(i.g&&n)a.reject(o);else{var u=n?e:t;u?r=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}(u,s,a):(n?a.resolve:a.reject)(s)}}}function r(){return a.reject(o),i.abort()}var i=this,a=new zi,o=new Pe(2,7,7001);return this.promise.then(n(!0),n(!1)),new Hi(a,(function(){return r()}))},o.Object.defineProperties(Hi.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return null!==this.g}}}),B("shaka.util.AbortableOperation",Hi),Hi.prototype.chain=Hi.prototype.Ca,Hi.prototype.finally=Hi.prototype.finally,Hi.all=Wi,Hi.prototype.abort=Hi.prototype.abort,Hi.notAbortable=Xi,Hi.completed=Gi,Hi.aborted=Ki,Hi.failed=qi,Yi.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Yi.prototype.stopImmediatePropagation=function(){this.g=!0},Yi.prototype.stopPropagation=function(){},B("shaka.util.FakeEvent",Yi);var Zi={mj:"abrstatuschanged",nj:"adaptation",oj:"audiotrackchanged",pj:"buffering",qj:"complete",rj:"downloadfailed",sj:"downloadheadersreceived",tj:"drmsessionupdate",vj:"emsg",Pj:"prft",Error:"error",wj:"expirationupdated",xj:"firstquartile",yj:"gapjumped",Bj:"keystatuschanged",Fj:"loaded",Gj:"loading",Ij:"manifestparsed",Jj:"manifestupdated",Kj:"mediaqualitychanged",Lj:"mediasourcerecovered",Metadata:"metadata",Mj:"midpoint",Nj:"nospatialvideoinfo",Oj:"onstatechange",Qj:"ratechange",Sj:"segmentappended",Tj:"sessiondata",Uj:"spatialvideoinfo",Vj:"stalldetected",Wj:"started",Xj:"statechanged",Yj:"streaming",Zj:"textchanged",$j:"texttrackvisibility",ak:"thirdquartile",bk:"timelineregionadded",ck:"timelineregionenter",dk:"timelineregionexit",ek:"trackschanged",gk:"unloading",ik:"variantchanged"};function Qi(){this.qa=new Z,this.te=this}function ea(){this.g=[]}function ta(e,t){e.g.push(t.finally((function(){Ie(e.g,t)})))}function na(e,t,n,r,i,a){Qi.call(this),this.i=!1,this.o=new ea,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.B=n||null,this.C=r||null,this.G=i||null,this.F=a||null,this.s=this.A=!1,this.m=16e3}function ra(e,t,n,r){n=n||da;var i=fa[e];(!i||n>=i.priority)&&(fa[e]={priority:n,he:t,Hi:void 0!==r&&r})}function ia(e,t){for(var n=c(e.g),r=n.next();!r.done;r=n.next())t.g.add(r.value);for(n=(e=c(e.h)).next();!n.done;n=e.next())t.h.add(n.value)}function aa(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function oa(e,t,n,r,i,a,o,s){e.A&&(n.uris[a]=n.uris[a].replace("https://","http://")),e.s&&(n.uris[a]=n.uris[a].replace("http://","https://")),0<a&&e.G&&e.G(t,r,n.uris[a],n.uris[a-1]);var u=new zn(n.uris[a]),c=u.Db,l=!1;c||(Hn(u,c=(c=location.protocol).slice(0,-1)),n.uris[a]=u.toString()),c=c.toLowerCase();var d=(c=fa[c])?c.he:null;if(!d)return qi(new Pe(2,1,1e3,u));var f,p=c.Hi,h=null,g=null,v=!1,m=!1;return Xi($i(i)).Ca((function(){if(e.i)return Ki();f=Date.now();var i=0;n.requestStartTime=Date.now();var o=d(n.uris[a],n,t,(function(a,o,u){h&&h.stop(),g&&g.Z(c/1e3),e.l&&t==la&&(i++,n.packetNumber=i,e.l(a,o,sa(r),n),l=!0,s.g=u)}),(function(r){m=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.j&&e.j(r,n,t)}),{minBytesForProgressEvents:e.m});if(!p)return o;var u=n.retryParameters.connectionTimeout;u&&(h=new Be((function(){v=!0,o.abort()}))).Z(u/1e3);var c=n.retryParameters.stallTimeout;return c&&(g=new Be((function(){v=!0,o.abort()}))),o})).Ca((function(r){h&&h.stop(),g&&g.stop(),null==r.timeMs&&(r.timeMs=Date.now()-f);var i={response:r,mi:l};return!m&&e.j&&e.j(r.headers,n,t),i}),(function(u){if(h&&h.stop(),g&&g.stop(),e.B){var c=null,l=0;u instanceof Pe&&(c=u,1001==u.code&&(l=u.data[1])),e.B(n,c,l,v)}if(e.i)return Ki();if(v&&(u=new Pe(1,1,1003,n.uris[a],t)),u instanceof Pe){if(7001==u.code)throw u;if(1010==u.code)throw o;if(1==u.severity)return c=new Yi("retry",c=(new Map).set("error",u)),e.dispatchEvent(c),a=(a+1)%n.uris.length,oa(e,t,n,r,i,a,u,s)}throw u}))}function sa(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.o)return!1}return!0}function ua(){this.g=0}function ca(e,t,n){Hi.call(this,e,t),this.h=n}Qi.prototype.addEventListener=function(e,t){this.qa&&this.qa.push(e,t)},Qi.prototype.removeEventListener=function(e,t){this.qa&&this.qa.remove(e,t)},Qi.prototype.dispatchEvent=function(e){if(!this.qa)return!0;var t=this.qa.get(e.type)||[],n=this.qa.get("All");for(n&&(t=t.concat(n)),n=(t=c(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.te,e.currentTarget=this.te;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(e){}if(e.g)break}return e.defaultPrevented},Qi.prototype.release=function(){this.qa=null},ea.prototype.destroy=function(){for(var e=[],t=c(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.g=[],Promise.all(e)},v(na,Qi),(r=na.prototype).Uf=function(e){this.A=e},r.Vf=function(e){this.s=e},r.Ki=function(e){this.g.add(e)},r.fj=function(e){this.g.delete(e)},r.og=function(){this.g.clear()},r.Li=function(e){this.h.add(e)},r.gj=function(e){this.h.delete(e)},r.pg=function(){this.h.clear()},r.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),Qi.prototype.release.call(this),this.o.destroy()},r.request=function(e,t,n){var r=this,i=new ua;if(this.i){var a=Promise.reject(new Pe(2,7,7001));return a.catch((function(){})),new ca(a,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Et(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},t.uris=Et(t.uris),a=function(e,t,n,r){function i(e){a=a.Ca((function(){return n.body&&(n.body=ge(n.body)),e(t,n,r)}))}var a=Gi(void 0);e.C&&i(e.C);for(var o=(e=c(e.g)).next();!o.done;o=e.next())i(o.value);return a.Ca(void 0,(function(e){if(e instanceof Pe&&7001==e.code)throw e;throw new Pe(2,1,1006,e)}))}(this,e,t,n);var o=a.Ca((function(){return oa(r,e,t,n,new Vi(t.retryParameters,!1),0,null,i)})),s=o.Ca((function(t){return function(e,t,n,r){for(var i=Gi(void 0),a=(e=c(e.h)).next(),o={};!a.done;o={Yg:void 0},a=e.next())o.Yg=a.value,i=i.Ca(function(e){return function(){var i=n.response;return i.data&&(i.data=ge(i.data)),(0,e.Yg)(t,i,r)}}(o));return i.Ca((function(){return n}),(function(e){var t=2;if(e instanceof Pe){if(7001==e.code)throw e;t=e.severity}throw new Pe(t,1,1007,e)}))}(r,e,t,n)})),u=Date.now(),l=0;a.promise.then((function(){l=Date.now()-u}),(function(){}));var d=0;o.promise.then((function(){d=Date.now()}),(function(){}));var f=s.Ca((function(i){var a=Date.now()-d,o=i.response;return o.timeMs+=l,o.timeMs+=a,i.mi||!r.l||o.fromCache||"HEAD"==t.method||e!=la||r.l(o.timeMs,o.data.byteLength,sa(n)),r.F&&r.F(e,o,n),o}),(function(e){throw e&&(e.severity=2),e}));return a=new ca(f.promise,(function(){return f.abort()}),i),ta(this.o,a),a},B("shaka.net.NetworkingEngine",na),na.prototype.request=na.prototype.request,na.prototype.destroy=na.prototype.destroy,na.makeRequest=aa,na.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},na.prototype.clearAllResponseFilters=na.prototype.pg,na.prototype.unregisterResponseFilter=na.prototype.gj,na.prototype.registerResponseFilter=na.prototype.Li,na.prototype.clearAllRequestFilters=na.prototype.og,na.prototype.unregisterRequestFilter=na.prototype.fj,na.prototype.registerRequestFilter=na.prototype.Ki,na.unregisterScheme=function(e){delete fa[e]},na.registerScheme=ra,na.prototype.setForceHTTPS=na.prototype.Vf,na.prototype.setForceHTTP=na.prototype.Uf,na.NumBytesRemainingClass=ua,v(ca,Hi),na.PendingRequest=ca;var la=1;na.RequestType={MANIFEST:0,SEGMENT:la,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8},na.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var da=3;na.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:da};var fa={};function pa(e){this.g=!1,this.h=new zi,this.i=e}function ha(e,t){if(e.g){if(t instanceof Pe&&7003==t.code)throw t;throw new Pe(2,7,7003,t)}}function ga(e,t){for(var n=[],r=(e=c(e)).next();!r.done;r=e.next())n.push(t(r.value));return n}function va(e){for(var t=new Map,n=c(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function ma(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function ya(e,t){this.h=ye(e),this.i=t==wa,this.g=0}function ba(){return new Pe(2,3,3e3)}pa.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then((function(){e.h.resolve()}),(function(){e.h.resolve()})))},(r=ya.prototype).sa=function(){return this.g<this.h.byteLength},r.ya=function(){return this.g},r.getLength=function(){return this.h.byteLength},r.T=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch(e){throw ba()}},r.ma=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch(e){throw ba()}},r.P=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch(e){throw ba()}},r.Vg=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch(e){throw ba()}},r.Tc=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch(e){throw ba()}if(2097151<t)throw new Pe(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},r.vb=function(e){if(this.g+e>this.h.byteLength)throw ba();var t=ve(this.h,this.g,e);return this.g+=e,t},r.skip=function(e){if(this.g+e>this.h.byteLength)throw ba();this.g+=e},r.Si=function(e){if(this.g<e)throw ba();this.g-=e},r.seek=function(e){if(0>e||e>this.h.byteLength)throw ba();this.g=e},r.wc=function(){for(var e=this.g;this.sa()&&0!=this.h.getUint8(this.g);)this.g+=1;return e=ve(this.h,e,this.g-e),this.g+=1,ft(e)},B("shaka.util.DataViewReader",ya),ya.prototype.readTerminatedString=ya.prototype.wc,ya.prototype.seek=ya.prototype.seek,ya.prototype.rewind=ya.prototype.Si,ya.prototype.skip=ya.prototype.skip,ya.prototype.readBytes=ya.prototype.vb,ya.prototype.readUint64=ya.prototype.Tc,ya.prototype.readInt32=ya.prototype.Vg,ya.prototype.readUint32=ya.prototype.P,ya.prototype.readUint16=ya.prototype.ma,ya.prototype.readUint8=ya.prototype.T,ya.prototype.getLength=ya.prototype.getLength,ya.prototype.getPosition=ya.prototype.ya,ya.prototype.hasMoreData=ya.prototype.sa;var wa=1;function xa(){this.i=[],this.h=[],this.g=!1}function Sa(e){for(var t=Ma(e);e.reader.sa()&&!e.parser.g;)e.parser.Qc(e.start+t,e.reader,e.partialOkay)}function Ta(e){for(var t=Ma(e),n=e.reader.P(),r=0;r<n&&(e.parser.Qc(e.start+t,e.reader,e.partialOkay),!e.parser.g);r++);}function ka(e){var t=Ma(e);for(e.reader.skip(78);e.reader.sa()&&!e.parser.g;)e.parser.Qc(e.start+t,e.reader,e.partialOkay)}function Ca(e){var t=Ma(e);e.reader.skip(8);var n=e.reader.ma();for(e.reader.skip(6),2==n?e.reader.skip(48):e.reader.skip(12),1==n&&e.reader.skip(16);e.reader.sa()&&!e.parser.g;)e.parser.Qc(e.start+t,e.reader,e.partialOkay)}function Aa(e){return function(t){e(t.reader.vb(t.reader.getLength()-t.reader.ya()))}}function Ea(e){for(var t=0,n=(e=c(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Ia(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Ma(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}ya.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:wa},(r=xa.prototype).box=function(e,t){return e=Ea(e),this.i[e]=_a,this.h[e]=t,this},r.R=function(e,t){return e=Ea(e),this.i[e]=Pa,this.h[e]=t,this},r.stop=function(){this.g=!0},r.parse=function(e,t,n){for(e=new ya(e,0),this.g=!1;e.sa()&&!this.g;)this.Qc(0,e,t,n)},r.Qc=function(e,t,n,r){var i=t.ya();if(r&&i+8>t.getLength())this.g=!0;else{var a=t.P(),o=t.P(),s=Ia(o),u=!1;switch(a){case 0:a=t.getLength()-i;break;case 1:if(r&&t.ya()+8>t.getLength())return void(this.g=!0);a=t.Tc(),u=!0}var c=this.h[o];if(c){var l=null,d=null;if(this.i[o]==Pa){if(r&&t.ya()+4>t.getLength())return void(this.g=!0);l=(d=t.P())>>>24,d&=16777215}o=i+a,n&&o>t.getLength()&&(o=t.getLength()),r&&o>t.getLength()?this.g=!0:(r=o-t.ya(),c({name:s,parser:this,partialOkay:n||!1,version:l,flags:d,reader:t=new ya(t=0<r?t.vb(r):new Uint8Array(0),0),size:a,start:i+e,has64BitSize:u}))}else t.skip(Math.min(i+a-t.ya(),t.getLength()-t.ya()))}},B("shaka.util.Mp4Parser",xa),xa.headerSize=Ma,xa.typeToString=Ia,xa.allData=Aa,xa.audioSampleEntry=Ca,xa.visualSampleEntry=ka,xa.sampleDescription=Ta,xa.children=Sa,xa.prototype.parseNext=xa.prototype.Qc,xa.prototype.parse=xa.prototype.parse,xa.prototype.stop=xa.prototype.stop,xa.prototype.fullBox=xa.prototype.R,xa.prototype.box=xa.prototype.box;var _a=0,Pa=1;function Da(e){var t=this;this.g=[],this.h=[],this.data=[],(new xa).box("moov",Sa).box("moof",Sa).R("pssh",(function(e){if(!(1<e.version)){var n=ve(e.reader.h,-12,e.size);if(t.data.push(n),t.g.push(lr(e.reader.vb(16))),0<e.version){n=e.reader.P();for(var r=0;r<n;r++){var i=lr(e.reader.vb(16));t.h.push(i)}}}})).parse(e)}function La(e,t,n,r){var i=e.length,a=t.length+16+i;0<r&&(a+=4+16*n.size);var o=new Uint8Array(a),s=ye(o),u=0;if(s.setUint32(u,a),u+=4,s.setUint32(u,1886614376),u+=4,1>r?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,o.set(t,u),u+=t.length,0<r)for(s.setUint32(u,n.size),u+=4,n=(t=c(n)).next();!n.done;n=t.next())n=cr(n.value),o.set(n,u),u+=n.length;return s.setUint32(u,i),o.set(e,u+4),o}function Ra(e){var t=this;this.C=e,this.l=this.A=null,this.fa=this.aa=!1,this.H=0,this.g=null,this.o=new Q,this.i=new Map,this.B=new Map,this.m=new zi,this.h=null,this.s=function(n){2==n.severity&&t.m.reject(n),e.onError(n)},this.V=new Map,this.da=new Map,this.K=new Be((function(){return function(e){var t=e.V,n=e.da;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),(t=Array.from(n.values())).length&&t.every((function(e){return"expired"==e}))&&e.s(new Pe(2,6,6014)),e.C.ee(ma(n))}(t)})),this.M=!1,this.L=[],this.S=!1,this.I=new Be((function(){!function(e){e.i.forEach((function(t,n){var r=t.Ef,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.C.onExpirationUpdated(n.sessionId,i),t.Ef=i)}))}(t)})),this.m.catch((function(){})),this.j=new pa((function(){return function(e){return D((function(t){switch(t.g){case 1:return e.o.release(),e.o=null,e.m.reject(),e.I.stop(),e.I=null,e.K.stop(),e.K=null,w(t,Ga(e),2);case 2:if(!e.l){t.u(3);break}return S(t,4),w(t,e.l.setMediaKeys(null),6);case 6:k(t,5);break;case 4:C(t);case 5:e.l=null;case 3:e.g=null,e.A=null,e.B=new Map,e.h=null,e.s=function(){},e.C=null,e.$=!1,e.G=null,x(t)}}))}(t)})),this.$=!1,this.F=this.G=null,this.O=function(){return!1}}function Na(e,t,n){e.B=new Map;for(var r=(n=c(n)).next();!r.done;r=n.next())e.B.set(r.value,{initData:null,initDataType:null});for(r=(n=c(e.h.persistentSessionsMetadata)).next();!r.done;r=n.next())r=r.value,e.B.set(r.sessionId,{initData:r.initData,initDataType:r.initDataType});return e.M=0<e.B.size,Oa(e,t)}function Oa(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b;return D((function(x){if(1==x.g){if(n=function(e){return 0==(e=va(e.h.clearKeys)).size?null:hr(e)}(e))for(r=c(t),i=r.next();!i.done;i=r.next())(a=i.value).video&&(a.video.drmInfos=[n]),a.audio&&(a.audio.drmInfos=[n]);for((o=t.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||(s=va(e.h.servers),function(e,t){var n=[];for(t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})})),t=(e=c(e)).next();!t.done;t=e.next())(t=t.value).video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}(t,s)),u=new Set,l=c(t),d=l.next();!d.done;d=l.next())for(f=d.value,p=Xa(f),h=c(p),g=h.next();!g.done;g=h.next())v=g.value,u.add(v);for(m=c(u),y=m.next();!y.done;y=m.next())Ja(y.value,va(e.h.servers),va(e.h.advanced||{}),e.h.keySystemsMapping);return w(x,si(t,e.M,e.$,e.h.preferredKeySystems),2)}return ha(e.j),o||Object.keys(e.h.servers).length?(b=Va(e,void 0,t),x.return(o?b:b.catch((function(){})))):(e.aa=!0,x.return(Promise.resolve()))}))}function Ua(e){var t;return D((function(n){switch(n.g){case 1:if(e.l.mediaKeys)return n.return();if(!e.G){n.u(2);break}return w(n,e.G,3);case 3:return ha(e.j),n.return();case 2:return S(n,4),e.G=e.l.setMediaKeys(e.A),w(n,e.G,6);case 6:k(n,5);break;case 4:t=C(n),e.s(new Pe(2,6,6003,t.message));case 5:ha(e.j),x(n)}}))}function ja(e){var t,n,r,i;return D((function(a){if(1==a.g)return e.B.size?(e.B.forEach((function(t,n){Ha(e,n,t)})),w(a,e.m,3)):a.u(2);if(2!=a.g){if(0<(e.g&&e.g.keyIds||new Set([])).size&&function(e){for(var t=c(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if("usable"!==e.V.get(n.value))return!1;return!0}(e))return a.return(e.m);e.m=new zi,e.m.catch((function(){}))}for(t=(e.g?e.g.initData:[])||[],n=c(t),r=n.next();!r.done;r=n.next())i=r.value,Fa(e,i.initDataType,i.initData);return Wa(e)&&e.m.resolve(),a.return(e.m)}))}function Fa(e,t,n){if(n.length){if(e.h.ignoreDuplicateInitData){for(var r=e.i.values(),i=(r=c(r)).next();!i.done;i=r.next())if(pe(n,i.value.initData))return;var a=!1;if(e.B.forEach((function(e){!a&&pe(n,e.initData)&&(a=!0)})),a)return}0<e.i.size&&Wa(e)&&(e.m.resolve(),e.m=new zi,e.m.catch((function(){}))),function(e,t,n,r){try{var i=e.A.createSession(r)}catch(t){return void e.s(new Pe(2,6,6005,t.message))}e.o.D(i,"message",(function(t){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.S?e.L.push(t):qa(e,t)})),e.o.D(i,"keystatuseschange",(function(t){return Ka(e,t)})),e.i.set(i,{initData:n,initDataType:t,loaded:!1,Ef:1/0,nb:null,type:r});try{n=e.h.initDataTransform(n,t,e.g)}catch(n){return t=n,n instanceof Pe||(t=new Pe(2,6,6016,n)),void e.s(t)}e.h.logLicenseExchange&&sr(n),i.generateRequest(t,n).catch((function(t){if(!e.j.g){e.i.delete(i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}e.s(new Pe(2,6,6006,t.message,t,r))}}))}(e,t,n,e.g.sessionType)}}function Ba(e){return e=ga(e=e.i.keys(),(function(e){return e.sessionId})),Array.from(e)}function Va(e,t,n){var r,i,a,o,s,u;return D((function(l){switch(l.g){case 1:if(r=new Map,n.length){i=function(e,t,n){for(var r=c(t),i=r.next();!i.done;i=r.next())for(var a=(i=c(Xa(i.value))).next();!a.done;a=i.next())a=a.value,n.has(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);if(1==n.size&&n.has(""))throw new Pe(2,6,6e3);for(i=(e=c(e.h.preferredKeySystems)).next(),r={};!i.done;r={Ug:void 0},i=e.next())for(r.Ug=i.value,a=(i=c(t)).next();!a.done;a=i.next())if(a=a.value.decodingInfos.find(function(e){return function(t){return t.supported&&null!=t.keySystemAccess&&t.keySystemAccess.keySystem==e.Ug}}(r)))return a.keySystemAccess;for(r=(e=c([!0,!1])).next();!r.done;r=e.next())for(r=r.value,a=(i=c(t)).next();!a.done;a=i.next())for(var o=(a=c(a.value.decodingInfos)).next();!o.done;o=a.next())if((o=o.value).supported&&o.keySystemAccess)for(var s=n.get(o.keySystemAccess.keySystem),u=(s=c(s)).next();!u.done;u=s.next())if(!!u.value.licenseServerUri==r)return o.keySystemAccess;return null}(e,n,r),l.u(2);break}return w(l,function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y;return D((function(b){switch(b.g){case 1:if(1==t.size&&t.has(""))throw new Pe(2,6,6e3);for(r=c(t.values()),i=r.next();!i.done;i=r.next())0==(a=i.value).audioCapabilities.length&&delete a.audioCapabilities,0==a.videoCapabilities.length&&delete a.videoCapabilities;o=c(e.h.preferredKeySystems),s=o.next();case 2:if(s.done){b.u(4);break}if(u=s.value,!t.has(u)){b.u(3);break}return l=t.get(u),S(b,6),w(b,navigator.requestMediaKeySystemAccess(u,[l]),8);case 8:return n=b.h,b.return(n);case 6:C(b);case 7:ha(e.j);case 3:s=o.next(),b.u(2);break;case 4:d=c([!0,!1]),f=d.next();case 9:if(f.done){b.u(11);break}p=f.value,h=c(t.keys()),g=h.next();case 12:if(g.done){f=d.next(),b.u(9);break}if(v=g.value,m=t.get(v),y=m.drmInfos.some((function(e){return!!e.licenseServerUri})),y!=p){b.u(13);break}return S(b,15),w(b,navigator.requestMediaKeySystemAccess(v,[m]),17);case 17:return n=b.h,b.return(n);case 15:C(b);case 16:ha(e.j);case 13:g=h.next(),b.u(12);break;case 11:return b.return(n)}}))}(e,t),3);case 3:i=l.h;case 2:if(!(a=i))throw new Pe(2,6,6001);if(ha(e.j),S(l,4),a.getConfiguration(),n.length){var d=a.keySystem,f=r.get(a.keySystem),p=[],h=[],g=[],v=[],m=[],y=new Set,b=new Set;Ya(f,p,h,v,g,m,y,b);var x=e.M?"persistent-license":"temporary";for(d={keySystem:d,encryptionScheme:p[0],licenseServerUri:h[0],distinctiveIdentifierRequired:f[0].distinctiveIdentifierRequired,persistentStateRequired:f[0].persistentStateRequired,sessionType:f[0].sessionType||x,audioRobustness:f[0].audioRobustness||"",videoRobustness:f[0].videoRobustness||"",serverCertificate:v[0],serverCertificateUri:g[0],initData:m,keyIds:y},0<b.size&&(d.keySystemUris=b),b=(f=c(f)).next();!b.done;b=f.next())(b=b.value).distinctiveIdentifierRequired&&(d.distinctiveIdentifierRequired=b.distinctiveIdentifierRequired),b.persistentStateRequired&&(d.persistentStateRequired=b.persistentStateRequired);f=d}else f=a.keySystem,b=t.get(a.keySystem),d=[],p=[],h=[],g=[],v=[],m=new Set,Ya(b.drmInfos,d,p,g,h,v,m),f={keySystem:f,encryptionScheme:d[0],licenseServerUri:p[0],distinctiveIdentifierRequired:"required"==b.distinctiveIdentifier,persistentStateRequired:"required"==b.persistentState,sessionType:b.sessionTypes[0]||"temporary",audioRobustness:(b.audioCapabilities?b.audioCapabilities[0].robustness:"")||"",videoRobustness:(b.videoCapabilities?b.videoCapabilities[0].robustness:"")||"",serverCertificate:g[0],serverCertificateUri:h[0],initData:v,keyIds:m};if(e.g=f,!e.g.licenseServerUri)throw new Pe(2,6,6012,e.g.keySystem);return w(l,a.createMediaKeys(),6);case 6:if(o=l.h,ha(e.j),e.A=o,""==e.h.minHdcpVersion||!("getStatusForPolicy"in e.A)){l.u(7);break}return S(l,8),w(l,e.A.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),10);case 10:if("usable"!=l.h)throw new Pe(2,6,6018);ha(e.j),k(l,7,4);break;case 8:if((s=C(l,4))instanceof Pe)throw s;throw new Pe(2,6,6019,s.message);case 7:return e.aa=!0,w(l,function(e){var t,n;return D((function(r){switch(r.g){case 1:if(!e.A||!e.g)return r.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){r.u(2);break}return t=aa([e.g.serverCertificateUri],e.h.retryParameters),S(r,3),w(r,e.C.Ob.request(5,t,{isPreload:e.O()}).promise,5);case 5:n=r.h,e.g.serverCertificate=ve(n.data),k(r,4);break;case 3:throw new Pe(2,6,6017,C(r));case 4:if(e.j.g)return r.return();case 2:return e.g.serverCertificate&&e.g.serverCertificate.length?(S(r,6),w(r,e.A.setServerCertificate(e.g.serverCertificate),8)):r.return();case 8:k(r,0);break;case 6:throw new Pe(2,6,6004,C(r).message)}}))}(e),11);case 11:ha(e.j),k(l,0);break;case 4:if(u=C(l),ha(e.j,u),e.g=null,u instanceof Pe)throw u;throw new Pe(2,6,6002,u.message)}}))}function $a(e){Wa(e)&&e.m.resolve()}function za(e,t){new Be((function(){t.loaded=!0,$a(e)})).Z(Qa)}function Ha(e,t,n){var r,i,a,o,s,u,c;return D((function(l){switch(l.g){case 1:try{r=e.A.createSession("persistent-license")}catch(t){return i=new Pe(2,6,6005,t.message),e.s(i),l.return(Promise.reject(i))}return e.o.D(r,"message",(function(t){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.S?e.L.push(t):qa(e,t)})),e.o.D(r,"keystatuseschange",(function(t){return Ka(e,t)})),a={initData:n.initData,initDataType:n.initDataType,loaded:!1,Ef:1/0,nb:null,type:"persistent-license"},e.i.set(r,a),S(l,2),w(l,r.load(t),4);case 4:return o=l.h,ha(e.j),o||(e.i.delete(r),s=e.h.persistentSessionOnlinePlayback?1:2,e.s(new Pe(s,6,6013)),a.loaded=!0),za(e,a),$a(e),l.return(r);case 2:u=C(l),ha(e.j,u),e.i.delete(r),c=e.h.persistentSessionOnlinePlayback?1:2,e.s(new Pe(c,6,6005,u.message)),a.loaded=!0,$a(e);case 3:return l.return(Promise.resolve())}}))}function qa(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g;D((function(v){switch(v.g){case 1:if(n=t.target,e.h.logLicenseExchange&&sr(t.message),r=e.i.get(n),i=e.g.licenseServerUri,a=e.h.advanced[e.g.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=aa([i],e.h.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,o.drmInfo=e.g,r&&(o.initData=r.initData,o.initDataType=r.initDataType),a&&a.headers)for(s in a.headers)o.headers[s]=a.headers[s];if(Oe(e.g.keySystem)){var m=pt(o.body,!0,!0);if(m.includes("PlayReadyKeyMessage")){for(var y=Ut(m=_t(m,"PlayReadyKeyMessage"),"HttpHeader"),b=(y=c(y)).next();!b.done;b=y.next()){var T=b.value;b=Ut(T,"name")[0],T=Ut(T,"value")[0],o.headers[Nt(b)]=Nt(T)}m=Ut(m,"Challenge")[0],o.body=ur(Nt(m))}else o.headers["Content-Type"]="text/xml; charset=utf-8"}return u=Date.now(),S(v,2),w(v,e.C.Ob.request(2,o,{isPreload:e.O()}).promise,4);case 4:l=v.h,k(v,3);break;case 2:return d=C(v),e.j.g||(f=new Pe(2,6,6007,d),1==e.i.size?(e.s(f),r&&r.nb&&r.nb.reject(f)):(r&&r.nb&&r.nb.reject(f),e.i.delete(n),Wa(e)&&(e.m.resolve(),e.K.Z(.1)))),v.return();case 3:return e.j.g?v.return():(e.H+=(Date.now()-u)/1e3,e.h.logLicenseExchange&&sr(l.data),S(v,5),w(v,n.update(l.data),7));case 7:k(v,6);break;case 5:return p=C(v),h=new Pe(2,6,6008,p.message),e.s(h),r&&r.nb&&r.nb.reject(h),v.return();case 6:if(e.j.g)return v.return();g=new Yi("drmsessionupdate"),e.C.onEvent(g),r&&(r.nb&&r.nb.resolve(),za(e,r)),x(v)}}))}function Ka(e,t){t=t.target;var n=e.i.get(t),r=!1;t.keyStatuses.forEach((function(t,i){if("string"==typeof i){var a=i;i=t,t=a}if(Oe(e.g.keySystem)&&16==i.byteLength&&(ze()||Ze())){var o=(a=ye(i)).getUint32(0,!0),s=a.getUint16(4,!0),u=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,u,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(r=!0),i=lr(i).slice(0,32),e.V.set(i,t)}));var i=t.expiration-Date.now();(0>i||r&&1e3>i)&&n&&!n.nb&&(e.i.delete(t),t.close().catch((function(){}))),Wa(e)&&(e.m.resolve(),e.K.Z(eo))}function Ga(e){var t;return D((function(n){return t=Array.from(e.i.entries()),e.i.clear(),w(n,Promise.all(t.map((function(t){var n=(t=c(t)).next().value,r=t.next().value;return D((function(t){return 1==t.g?(S(t,2),e.fa||e.B.has(n.sessionId)||"persistent-license"!==r.type||e.h.persistentSessionOnlinePlayback?w(t,function(e){var t;return D((function(n){return 1==n.g?(t=new Promise((function(e,t){new Be(t).Z(Za)})),S(n,2),w(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=n.g?k(n,0):(C(n),void x(n))}))}(n),5):w(t,n.remove(),5)):2!=t.g?k(t,0):(C(t),void x(t))}))}))),0)}))}function Xa(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function Wa(e){return function(e,t){for(var n=(e=c(e)).next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}(e=e.i.values(),(function(e){return e.loaded}))}function Ya(t,n,r,i,a,o,s,u){for(var d=[],f=(t=c(t)).next(),p={};!f.done;p={ta:void 0},f=t.next()){if(p.ta=f.value,n.includes(p.ta.encryptionScheme)||n.push(p.ta.encryptionScheme),"org.w3.clearkey"==p.ta.keySystem&&p.ta.licenseServerUri.startsWith("data:application/json;base64,")?d.includes(p.ta.licenseServerUri)||d.push(p.ta.licenseServerUri):r.includes(p.ta.licenseServerUri)||r.push(p.ta.licenseServerUri),a.includes(p.ta.serverCertificateUri)||a.push(p.ta.serverCertificateUri),p.ta.serverCertificate&&(i.some(function(e){return function(t){return pe(t,e.ta.serverCertificate)}}(p))||i.push(p.ta.serverCertificate)),p.ta.initData)for(var h=(f=c(p.ta.initData)).next(),g={};!h.done;g={rf:void 0},h=f.next())g.rf=h.value,o.some(function(e){return function(t){var n=e.rf;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&pe(t.initData,n.initData)}}(g))||o.push(g.rf);if(p.ta.keyIds)for(h=(f=c(p.ta.keyIds)).next();!h.done;h=f.next())s.add(h.value);if(p.ta.keySystemUris&&u)for(f=(p=c(p.ta.keySystemUris)).next();!f.done;f=p.next())u.add(f.value)}if(1==d.length)r.push(d[0]);else if(0<d.length){for(n=[],i=(d=c(d)).next();!i.done;i=d.next())i=e.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),n.push.apply(n,l(i.keys));d=JSON.stringify({keys:n}),r.push("data:application/json;base64,"+e.btoa(d))}}function Ja(t,n,r,i){var a=t.keySystem;!a||"org.w3.clearkey"==a&&t.licenseServerUri||(n.size&&(n=n.get(a)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(r=r.get(a))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness),t.audioRobustness||(t.audioRobustness=r.audioRobustness),t.serverCertificate||(t.serverCertificate=r.serverCertificate),r.sessionType&&(t.sessionType=r.sessionType),t.serverCertificateUri||(t.serverCertificateUri=r.serverCertificateUri)),i[a]&&(t.keySystem=i[a]),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==a&&(t.keySystem="com.chromecast.playready"))}(r=Ra.prototype).destroy=function(){return this.j.destroy()},r.configure=function(e,t){this.h=e,t&&(this.O=t),this.I&&this.I.Ra(this.h.updateExpirationTime)},r.Ub=function(e){var t=this;return D((function(n){if(1==n.g)return t.A?(t.l=e,t.o.va(t.l,"play",(function(){for(var e=c(t.L),n=e.next();!n.done;n=e.next())qa(t,n.value);t.S=!0,t.L=[]})),t.l.remote?(t.o.D(t.l.remote,"connect",(function(){return Ga(t)})),t.o.D(t.l.remote,"connecting",(function(){return Ga(t)})),t.o.D(t.l.remote,"disconnect",(function(){return Ga(t)}))):"webkitCurrentPlaybackTargetIsWireless"in t.l&&t.o.D(t.l,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Ga(t)})),t.F=t.g&&t.g.initData.find((function(e){return 0<e.initData.length}))||null,t.F||"com.apple.fps"!==t.g.keySystem||t.B.size?w(n,Ua(t),2):n.u(2)):(t.o.va(e,"encrypted",(function(){t.s(new Pe(2,6,6010))})),n.return());ja(t).catch((function(){})),t.F||t.B.size||t.h.parseInbandPsshEnabled||t.o.D(t.l,"encrypted",(function(e){return function(e,t){return D((function(n){if(1==n.g)return w(n,Ua(e),2);Fa(e,t.initDataType,ve(t.initData)),x(n)}))}(t,e)})),x(n)}))},r.kf=function(){var e=this,t=this.i.keys();return t=ga(t,(function(t){var n=e.i.get(t);return{sessionId:t.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}})),Array.from(t)},r.ed=function(){for(var e=1/0,t=this.i.keys(),n=(t=c(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},r.Nd=function(){return ma(this.da)};var Za=1,Qa=5,eo=.5;function to(e,t,n){this.h=e,this.i=t,this.g=n}function no(e,t){return D((function(n){if(1==n.g)return w(n,function(e,t,n){return n=void 0===n?[]:n,D((function(r){return 1==r.g?w(r,ri(e,t,0<t.offlineSessionIds.length,n),2):(function(e){e.textStreams=e.textStreams.filter((function(e){return Ur(e=Tr(e.mimeType,e.codecs))}))}(t),w(r,function(e){var t,n,r,i,a,o,s;return D((function(u){switch(u.g){case 1:t=[],n=c(e.imageStreams),r=n.next();case 2:if(r.done){u.u(4);break}if(i=r.value,"application/mp4"==(a=i.mimeType)&&"mjpg"==i.codecs&&(a="image/jpg"),Ai.has(a)){u.u(5);break}if(!(o=Ei.get(a))){Ai.set(a,!1),u.u(5);break}return w(u,function(e){return new Promise((function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then((function(){t(!0)})).catch((function(){t(!1)})):n.onload=n.onerror=function(){t(2===n.height)}}))}(o),7);case 7:s=u.h,Ai.set(a,s);case 5:Ai.get(a)&&t.push(i),r=n.next(),u.u(2);break;case 4:e.imageStreams=t,x(u)}}))}(t),0))}))}(e.g,t,e.h.drm.preferredKeySystems),2);if(e.h.streaming.dontChooseCodecs||ti(t,e.h.preferredVideoCodecs,e.h.preferredAudioCodecs,e.h.preferredDecodingAttributes,e.h.preferredTextFormats),!t.variants.some(yi))throw new Pe(2,4,4032);return n.return(io(e,t))}))}function ro(e,t){var n=e.h.restrictions;e=e.i;for(var r=!1,i=(t=c(t.variants)).next();!i.done;i=t.next()){var a=(i=i.value).allowedByApplication;i.allowedByApplication=ni(i,n,e),a!=i.allowedByApplication&&(r=!0)}return r}function io(e,t){var n=ro(e,t);if(t){var r=e.g?e.g.g:null;if(r&&e.g.A)for(var i=c(t.variants),a=i.next();!a.done;a=i.next())a=a.value,ao(e,r.keySystem,a.video),ao(e,r.keySystem,a.audio);oo(e,t)}return n}function ao(e,t,n){if(n)for(var r=(n=c(n.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t)for(var i=(r=c(r.initData||[])).next();!i.done;i=r.next())i=i.value,Fa(e.g,i.initDataType,i.initData)}function oo(e,t){e=e.g?e.g.Nd():{};var n=Object.keys(e);n=n.length&&"00"==n[0];for(var r=!1,i=!1,a=new Set,o=new Set,s=(t=c(t.variants)).next();!s.done;s=t.next()){var u=[];(s=s.value).audio&&u.push(s.audio),s.video&&u.push(s.video);for(var l=(u=c(u)).next();!l.done;l=u.next())if((l=l.value).keyIds.size)for(var d=(l=c(l.keyIds)).next();!d.done;d=l.next()){d=d.value;var f=e[n?"00":d];f?so.includes(f)&&o.add(f):a.add(d)}s.allowedByApplication?s.allowedByKeySystem&&(r=!0):i=!0}if(!r)throw new Pe(2,4,4012,e={hasAppRestrictions:i,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(o)})}var so=["output-restricted","internal-error"];function uo(){}function co(e,t){if(t){var n=lo[t.toLowerCase()];if(n)return n}throw new Pe(2,4,4e3,e,t)}B("shaka.media.ManifestParser",uo),uo.unregisterParserByMime=function(e){delete lo[e]},uo.registerParserByMime=function(e,t){lo[e]=t},uo.registerParserByExtension=function(){oe("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},uo.AccessibilityPurpose={hk:"visually impaired",zj:"hard of hearing"};var lo={};function fo(e,t,n,r,i){var a=ho.value(),o=e.subarray(n.start,n.start+n.size),s=ye(o),u=new Uint8Array(n.size+a.byteLength);for(u.set(o,0),(o=ye(u)).setUint32(4,i),u.set(a,n.size),i=s.getUint32(4),o.setUint32(n.size+16,i),po(u,0,u.byteLength),i=new Uint8Array(e.byteLength+u.byteLength),n=He()||ze()?n.start:n.start+n.size,a=e.subarray(n),i.set(e.subarray(0,n)),i.set(u,n),i.set(a,n+u.byteLength),r=(e=c(r)).next();!r.done;r=e.next())po(i,(r=r.value).start,r.size+u.byteLength);return u=ye(i,t.start),t=Ma(t),e=u.getUint32(t),u.setUint32(t,e+1),i}function po(e,t,n){0!=(t=(e=ye(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))}var ho=new Le((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function go(e,t,n,r,i,a,o){this.N=e,this.Ka=t,this.ua=n,this.Oc=void 0===r?null:r,this.timescale=void 0===i?null:i,this.g=void 0===a?null:a,this.aesKey=void 0===o?null:o,this.mimeType=this.codecs=null}function vo(e,t){return e===t||(e&&t?e.$b()==t.$b()&&e.Yb()==t.Yb()&&_e(e.N().sort(),t.N().sort())&&pe(e.pc(),t.pc()):e==t)}function mo(e,t,n,r,i,a,o,s,u,l,d,f,p,h,g,v){for(l=void 0===l?[]:l,h=void 0===h?bo:h,this.startTime=e,this.j=this.endTime=t,this.C=n,this.Ka=r,this.ua=i,this.ba=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u,this.g=l,this.tilesLayout=void 0===d?"":d,this.A=void 0===f?null:f,this.h=void 0===p?null:p,this.status=h,this.preload=!1,this.l=!0,this.m=!1,this.aesKey=void 0===g?null:g,this.thumbnailSprite=null,this.i=-1,this.s=void 0!==v&&v,this.F=this.o=!1,t=(e=c(this.g)).next();!t.done;t=e.next())t.value.Ng();this.s&&this.g.length&&this.g[this.g.length-1].Mg(),this.B=this.bandwidth=this.mimeType=this.codecs=null}function yo(e,t){e.ba=t;for(var n=(e=c(e.g)).next();!n.done;n=e.next())yo(n.value,t)}go.prototype.$b=function(){return this.Ka},go.prototype.Yb=function(){return this.ua},go.prototype.pc=function(){return this.g},B("shaka.media.InitSegmentReference",go),go.prototype.getEndByte=go.prototype.Yb,go.prototype.getStartByte=go.prototype.$b,(r=mo.prototype).N=function(){return this.C()},r.getStartTime=function(){return this.startTime},r.Ph=function(){return this.endTime},r.$b=function(){return this.Ka},r.Yb=function(){return this.ua},r.hi=function(){return this.tilesLayout},r.gi=function(){return this.A},r.ac=function(){return this.status},r.Ai=function(){this.status=wo},r.Bf=function(){this.preload=!0},r.isPreload=function(){return this.preload},r.Nc=function(){this.l=!1},r.si=function(){return this.l},r.Ng=function(){this.o=!0},r.ui=function(){return this.o},r.Mg=function(){this.F=!0},r.ti=function(){return this.F},r.Lg=function(){this.m=!0},r.ni=function(){return this.m},r.qe=function(e){this.thumbnailSprite=e},r.fi=function(){return this.thumbnailSprite},r.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=c(this.g),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.j+=e},r.Zf=function(e){null==this.h?G("Sync attempted without sync time!"):(e=this.h-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},r.cj=function(e){this.B=e},r.pc=function(){return this.B},B("shaka.media.SegmentReference",mo),mo.prototype.getSegmentData=mo.prototype.pc,mo.prototype.setSegmentData=mo.prototype.cj,mo.prototype.syncAgainst=mo.prototype.Zf,mo.prototype.offset=mo.prototype.offset,mo.prototype.getThumbnailSprite=mo.prototype.fi,mo.prototype.setThumbnailSprite=mo.prototype.qe,mo.prototype.hasByterangeOptimization=mo.prototype.ni,mo.prototype.markAsByterangeOptimization=mo.prototype.Lg,mo.prototype.isLastPartial=mo.prototype.ti,mo.prototype.markAsLastPartial=mo.prototype.Mg,mo.prototype.isPartial=mo.prototype.ui,mo.prototype.markAsPartial=mo.prototype.Ng,mo.prototype.isIndependent=mo.prototype.si,mo.prototype.markAsNonIndependent=mo.prototype.Nc,mo.prototype.isPreload=mo.prototype.isPreload,mo.prototype.markAsPreload=mo.prototype.Bf,mo.prototype.markAsUnavailable=mo.prototype.Ai,mo.prototype.getStatus=mo.prototype.ac,mo.prototype.getTileDuration=mo.prototype.gi,mo.prototype.getTilesLayout=mo.prototype.hi,mo.prototype.getEndByte=mo.prototype.Yb,mo.prototype.getStartByte=mo.prototype.$b,mo.prototype.getEndTime=mo.prototype.Ph,mo.prototype.getStartTime=mo.prototype.getStartTime,mo.prototype.getUris=mo.prototype.N;var bo=0,wo=1;function xo(e){return 1==e.length&&1e-4>e.end(0)-e.start(0)}function So(e){return!e||xo(e)?null:e.length?e.end(e.length-1):null}function To(e,t){return!(!e||!e.length||xo(e)||t>e.end(e.length-1))&&t>=e.start(0)}function ko(e,t){if(!e||!e.length||xo(e))return 0;for(var n=0,r=(e=c(Co(e))).next();!r.done;r=e.next()){var i=r.value;r=i.start,(i=i.end)>t&&(n+=i-Math.max(r,t))}return n}function Co(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function Ao(){}function Eo(e,t){var n=document.createElement("source");return n.src=e,n.type=void 0===t?"":t,n}function Io(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Mo(){}function _o(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Po(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]}function Do(e,t){var n=(127&e[t])<<21;return n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}function Lo(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if("APIC"===e.type){if(2>e.size||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var r=ft(ve(e.data,1,n)),i=e.data[2+n],a=e.data.subarray(3+n).indexOf(0);if(-1===a)return null;var o,s=ft(ve(e.data,3+n,a));return o="--\x3e"===r?ft(ve(e.data,4+n+a)):ge(e.data.subarray(4+n+a)),t.mimeType=r,t.pictureType=i,t.description=s,t.data=o,t}return"TXXX"===e.type||"WXXX"===e.type?2>e.size||3!==e.data[0]||-1===(r=e.data.subarray(1).indexOf(0))?null:(n=ft(ve(e.data,1,r)),e=ft(ve(e.data,2+r)).replace(/\0*$/,""),t.description=n,t.data=e,t):"PRIV"===e.type?2>e.size||-1===(n=e.data.indexOf(0))?null:(n=ft(ve(e.data,0,n)),t.description=n,"com.apple.streaming.transportStreamTimestamp"==n?(n=e.data.subarray(n.length+1),e=1&n[3],n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=47721858.84),t.data=n):(e=ge(e.data.subarray(n.length+1)),t.data=e),t):"T"===e.type[0]?2>e.size||3!==e.data[0]?null:(e=ft(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):"W"===e.type[0]?(e=ft(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=ge(e.data),t):null}function Ro(e){for(var t=0,n=[];_o(e,t);){var r=Do(e,t+6);for(e[t+5]>>6&1&&(t+=10),r=(t+=10)+r;t+10<r;){var i=e.subarray(t),a=Do(i,4);(a=Lo(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:a,data:i.subarray(10,10+a)}))&&n.push(a),t+=i.size+10}Po(e,t)&&(t+=10)}return n}function No(e,t){for(var n=t=void 0===t?0:t,r=0;_o(e,t);)e[t+5]>>6&1&&(r+=10),r+=10,r+=Do(e,t+6),Po(e,t+10)&&(r+=10),t+=r;return 0<r?e.subarray(n,n+r):new Uint8Array([])}function Oo(e,t){var n=null,r=null,i=null,a=e.P();return 1&t&&(i=e.Tc()),2&t&&e.skip(4),8&t&&(n=e.P()),16&t&&(r=e.P()),{trackId:a,cd:n,Kd:r,jk:i}}function Uo(e,t){return 1==t?(t=e.P(),e=e.P(),{baseMediaDecodeTime:t*Math.pow(2,32)+e}):{baseMediaDecodeTime:e.P()}}function jo(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.P(),e.skip(4),e=e.ma(),{timescale:t,language:String.fromCharCode(96+(e>>10))+String.fromCharCode(96+((960&e)>>5))+String.fromCharCode(96+(31&e))}}function Fo(e,t,n){var r=e.P(),i=[],a=null;1&n&&(a=e.P()),4&n&&e.skip(4);for(var o=0;o<r;o++){var s={Pf:null,sampleSize:null,me:null};256&n&&(s.Pf=e.P()),512&n&&(s.sampleSize=e.P()),1024&n&&e.skip(4),2048&n&&(s.me=0==t?e.P():e.Vg()),i.push(s)}return{nk:r,Zg:i,Ih:a}}function Bo(e){e.skip(6),e.skip(2),e.skip(8);var t=e.ma();return e.skip(2),e.skip(2),e.skip(2),{channelCount:t,sampleRate:e=e.ma()+e.ma()/65536}}function Vo(e){return{codec:Ia(e=e.P())}}function $o(e,t){return t=void 0!==t&&t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function zo(e){return(10>e?"0":"")+e}function Ho(e,t){if(this.j=e,void 0!==t&&t){t=new Uint8Array(e.byteLength);for(var n=0,r=0;r<e.byteLength;r++)2<=r&&3==e[r]&&0==e[r-1]&&0==e[r-2]||(t[n]=e[r],n++);this.j=ve(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function qo(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),r=Math.min(4,e.i);0!==r&&(n.set(e.j.subarray(t,t+r)),e.h=new ya(n,0).P(),e.g=8*r,e.i-=r)}function Ko(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,qo(e)}e.h<<=t,e.g-=t}function Go(e,t){var n=Math.min(e.g,t),r=e.h>>>32-n;return e.g-=n,0<e.g?e.h<<=n:0<e.i&&qo(e),0<(n=t-n)?r<<n|Go(e,n):r}function Xo(e){var t;for(t=0;t<e.g;++t)if(0!=(e.h&2147483648>>>t))return e.h<<=t,e.g-=t,t;return qo(e),t+Xo(e)}function Wo(e){Ko(e,1+Xo(e))}function Yo(e){return Go(e,Xo(e)+1)-1}function Jo(e){return 1&(e=Yo(e))?1+e>>>1:-1*(e>>>1)}function Zo(e){return 1===Go(e,1)}function Qo(e){return Go(e,8)}function es(e,t){for(var n=8,r=8,i=0;i<t;i++)0!==r&&(r=(n+(r=Jo(e))+256)%256),n=0===r?n:r}function ts(e){return Qo(e),Yo(e),Yo(e)}function ns(){this.G=null,this.H=!1,this.m=this.I=null,this.j=[],this.g=[],this.A=this.B=null,this.i=[],this.h=[],this.C=null,this.l=[],this.F=this.o=this.s=null}function rs(e,t){if(1!=(t[0]<<16|t[1]<<8|t[2]))return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var r=t[7];if(192&r){var i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2;null==e.s&&(e.s=i),n.pts=as(i,e.s),e.s=n.pts,n.dts=n.pts,64&r&&(r=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,null==e.o&&(e.o=r),n.dts=as(r,e.o)),e.o=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}function is(e){var t=e.sc();return 1<t.length&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function as(e,t){var n=1;for(e>t&&(n=-1);4294967296<Math.abs(t-e);)e+=8589934592*n;return e}function os(e){return!(0>ss(e))}function ss(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71==e[n]&&71==e[n+188]&&71==e[n+376])return n;n++}return-1}mo.Status={lj:bo,fk:wo,Hj:2},B("shaka.util.Dom",Ao),Ao.removeAllChildren=Io,B("shaka.util.Id3Utils",Mo),Mo.getID3Data=No,Mo.getID3Frames=Ro,B("shaka.util.ExpGolomb",Ho),(r=ns.prototype).clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},r.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,ss(e)),n=e.length-(e.length+t)%188,r=!1,i=t;i<n;i+=188)if(71==e[i]){var a=!!(64&e[i+1]),o=((31&e[i+1])<<8)+e[i+2];if(1<(48&e[i+3])>>4){var s=i+5+e[i+4];if(s==i+188)continue}else s=i+4;switch(o){case 0:a&&(s+=e[s]+1),this.G=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.G:a&&(s+=e[s]+1),o={audio:-1,video:-1,Sd:-1,audioCodec:"",videoCodec:""};var u=s+3+((15&(a=e)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<u;){var c=(31&a[s+1])<<8|a[s+2],l=(15&a[s+3])<<8|a[s+4];switch(a[s]){case 6:if(0<l)for(var d=s+5,f=l;2<f;){var p=a[d+1]+2;switch(a[d]){case 5:var h=mt(a.subarray(d+2,d+p));-1==o.audio&&"Opus"===h?(o.audio=c,o.audioCodec="opus"):-1==o.video&&"AV01"===h&&(o.video=c,o.videoCodec="av1");break;case 106:-1==o.audio&&(o.audio=c,o.audioCodec="ac3");break;case 122:-1==o.audio&&(o.audio=c,o.audioCodec="ec3");break;case 124:-1==o.audio&&(o.audio=c,o.audioCodec="aac");break;case 127:"opus"==o.audioCodec&&(h=null,128===a[d+2]&&(h=a[d+3]),null!=h&&(this.F={channelCount:0==(15&h)?2:15&h,Fh:h,sampleRate:48e3}))}d+=p,f-=p}break;case 15:-1==o.audio&&(o.audio=c,o.audioCodec="aac");break;case 17:-1==o.audio&&(o.audio=c,o.audioCodec="aac-loas");break;case 21:-1==o.Sd&&(o.Sd=c);break;case 27:-1==o.video&&(o.video=c,o.videoCodec="avc");break;case 3:case 4:-1==o.audio&&(o.audio=c,o.audioCodec="mp3");break;case 36:-1==o.video&&(o.video=c,o.videoCodec="hvc");break;case 129:-1==o.audio&&(o.audio=c,o.audioCodec="ac3");break;case 132:case 135:-1==o.audio&&(o.audio=c,o.audioCodec="ec3")}s+=l+5}-1!=(a=o).video&&(this.I=a.video,this.m=a.videoCodec),-1!=a.audio&&(this.B=a.audio,this.A=a.audioCodec),-1!=a.Sd&&(this.C=a.Sd),r&&!this.H&&(r=!1,i=t-188),this.H=!0;break;case this.I:s=e.subarray(s,i+188),a?this.j.push([s]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(s);break;case this.B:s=e.subarray(s,i+188),a?this.i.push([s]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(s);break;case this.C:s=e.subarray(s,i+188),a?this.l.push([s]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(s);break;default:r=!0}}return this},r.Gi=function(e){return oe("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Hf(e)},r.Hf=function(e,t,n){var r=e.pts?e.pts/9e4:null,i=(e=e.data).byteLength,a=1;"hvc"==this.m&&(a=2);for(var o,s=n||0,u=[],c=-1,l=0,d=0;d<i;++d){var f=e[d];if(f){if(2<=s&&1==f){if(t&&!u.length&&-1==c&&(f=d-(3<s?3:s),n&&0!=f&&(f=e.subarray(0,f),t.data=dr(t.data,f),t.fullData=dr(t.fullData,f))),0<=c?(s=d-((3<s?3:s)+1),u.push({data:e.subarray(c+a,s+1),fullData:e.subarray(c,s+1),type:l,time:r})):t&&!u.length&&0<(c=d-s)&&(c=e.subarray(0,c),t.data=dr(t.data,c),t.fullData=dr(t.fullData,c)),d>=i-a)return u;c=++d,l="hvc"==this.m?e[d]>>1&63:31&e[d]}s=0}else s++;d>=i-1&&0<=c&&0<=s&&(o={data:e.subarray(c+a,i),fullData:e.subarray(c,i),type:l,time:r})}return o&&u.push(o),!u.length&&t&&(t.data=dr(t.data,e),t.fullData=dr(t.fullData,e)),u},r.getMetadata=function(){for(var e=[],t=c(this.l),n=t.next();!n.done;n=t.next())(n=rs(this,n=dr.apply(ar,l(n.value))))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Ro(n.data),dts:n.dts,pts:n.pts});return e},r.Xb=function(){if(this.i.length&&!this.h.length){for(var e=!1,t=c(this.i),n=t.next();!n.done;n=t.next()){var r=dr.apply(ar,l(n.value)),i=rs(this,r);n=this.h.length?this.h[this.h.length-1]:null,i&&null!=i.pts&&null!=i.dts&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?(this.h.length&&i.dts<(n.dts||0)&&(e=!0),this.h.push(i)):this.h.length&&(r=i?i.data:r)&&((n=this.h.pop()).data=dr(n.data,r),this.h.push(n))}e&&(this.h=this.h.sort((function(e,t){var n=(e.pts||0)-(t.pts||0);return(e.dts||0)-(t.dts||0)||n})))}return this.h},r.sc=function(e){if(e=void 0===e||e,this.j.length&&!this.g.length){for(var t=!1,n=c(this.j),r=n.next();!r.done;r=n.next()){var i=dr.apply(ar,l(r.value)),a=rs(this,i);r=this.g.length?this.g[this.g.length-1]:null,a&&null!=a.pts&&null!=a.dts&&(!r||r.pts!=a.pts&&r.dts!=a.dts)?(this.g.length&&a.dts<(r.dts||0)&&(t=!0),this.g.push(a)):this.g.length&&(i=a?a.data:i)&&((r=this.g.pop()).data=dr(r.data,i),this.g.push(r))}if(e){for(n=[],i=(r=c(this.g)).next();!i.done;i=r.next())if((i=i.value).nalus=this.Hf(i,o,void 0),i.nalus.length){n.push(i);var o=i.nalus[i.nalus.length-1]}this.g=n}t&&(this.g=this.g.sort((function(e,t){var n=(e.pts||0)-(t.pts||0);return(e.dts||0)-(t.dts||0)||n})))}return e?this.g:(e=this.g,this.g=[],e)},r.getStartTime=function(e){if("audio"==e){e=null;var t=this.Xb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return"video"==e?(e=null,(t=this.sc(!1)).length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},r.dd=function(){return{audio:this.A,video:this.m}},r.Qd=function(){for(var e=[],t=c(this.sc()),n=t.next();!n.done;n=t.next())e.push.apply(e,l(n.value.nalus));return e},r.ki=function(){oe("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.pf();return{height:e.height,width:e.width}},r.pf=function(){return"hvc"==this.m?function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.Qd();if(!n.length)return t;if(!(n=n.find((function(e){return 33==e.type}))))return t;var r=new Ho(n.fullData,!0);Qo(r),Qo(r),Go(r,4);var i=Go(r,3);Zo(r);var a=Go(r,2),o=Go(r,1),s=Go(r,5),u=Go(r,32);n=Qo(r);for(var c=Qo(r),l=Qo(r),d=Qo(r),f=Qo(r),p=Qo(r),h=Qo(r),g=[],v=[],m=0;m<i;m++)g.push(Zo(r)),v.push(Zo(r));if(0<i)for(m=i;8>m;m++)Go(r,2);for(m=0;m<i;m++)g[m]&&Go(r,88),v[m]&&Qo(r);Yo(r),3==(i=Yo(r))&&Go(r,1),g=Yo(r),v=Yo(r);var y=m=0,b=0,w=0;return Zo(r)&&(m+=Yo(r),y+=Yo(r),b+=Yo(r),w+=Yo(r)),t.width=String(g-(m+y)*(1===i||2===i?2:1)),t.height=String(v-(b+w)*(1===i?2:1)),r=function(e){for(var t=0,n=0;32>n;n++)t|=(e>>n&1)<<31-n;return t>>>0}(u),o=1==o?"H":"L",a="hvc1."+["","A","B","C"][a]+s,a+="."+r.toString(16).toUpperCase(),a+="."+o+h,p&&(a+="."+p.toString(16).toUpperCase()),f&&(a+="."+f.toString(16).toUpperCase()),d&&(a+="."+d.toString(16).toUpperCase()),l&&(a+="."+l.toString(16).toUpperCase()),c&&(a+="."+c.toString(16).toUpperCase()),n&&(a+="."+n.toString(16).toUpperCase()),t.codec=a,t.frameRate=is(e),t}(this):function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.Qd();if(!n.length)return t;if(!(n=n.find((function(e){return 7==e.type}))))return t;var r=Qo(n=new Ho(n.data)),i=Qo(n),a=Qo(n);if(Wo(n),us.includes(r)){var o=Yo(n);if(3===o&&Ko(n,1),Wo(n),Wo(n),Ko(n,1),Zo(n)){o=3!==o?8:12;for(var s=0;s<o;s++)Zo(n)&&es(n,6>s?16:64)}}if(Wo(n),0===(o=Yo(n)))Yo(n);else if(1===o)for(Ko(n,1),Wo(n),Wo(n),o=Yo(n),s=0;s<o;s++)Wo(n);Wo(n),Ko(n,1),o=Yo(n),s=Yo(n);var u=Go(n,1);0===u&&Ko(n,1),Ko(n,1);var c=0,l=0,d=0,f=0;return Zo(n)&&(c=Yo(n),l=Yo(n),d=Yo(n),f=Yo(n)),t.height=String((2-u)*(s+1)*16-2*d-2*f),t.width=String(16*(o+1)-2*c-2*l),t.codec="avc1."+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+a.toString(16).toUpperCase()).slice(-2),t.frameRate=is(e),t}(this)},B("shaka.util.TsParser",ns),ns.syncOffset=ss,ns.probe=os,ns.prototype.getVideoInfo=ns.prototype.pf,ns.prototype.getVideoResolution=ns.prototype.ki,ns.prototype.getVideoNalus=ns.prototype.Qd,ns.prototype.getCodecs=ns.prototype.dd,ns.prototype.getStartTime=ns.prototype.getStartTime,ns.prototype.getVideoData=ns.prototype.sc,ns.prototype.getAudioData=ns.prototype.Xb,ns.prototype.getMetadata=ns.prototype.getMetadata,ns.prototype.parseNalus=ns.prototype.Hf,ns.prototype.parseAvcNalus=ns.prototype.Gi,ns.prototype.parse=ns.prototype.parse,ns.prototype.clearData=ns.prototype.clearData,ns.Timescale=9e4;var us=[100,110,122,244,44,83,86,118,128,138,139,134];function cs(e,t,n){this.g=null,this.o=-1,this.l=e,this.i=t,this.m=n,this.j=!1;e:{if("undefined"==typeof libDPIModule&&X("Could not find LCEVC Library dependencies on this page"),"undefined"!=typeof LCEVCdec)this.h=LCEVCdec;else{if("undefined"==typeof LcevcDil){X("Could not find LCEVC Library on this page"),e=!1;break e}this.h=LcevcDil,this.j=!0,oe("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead")}void 0===this.h.SupportObject?(X("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||X(this.h.SupportObject.SupportError),e=void 0!==this.h&&"undefined"!=typeof libDPIModule&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function ls(e){e.g&&e.i.classList.add("shaka-hidden")}function ds(e,t,n){var r=0,i=-1;switch(t.mimeType){case"video/webm":r=1;break;case"video/mp4":r=2}switch(n){case"DASH":i=1;break;case"HLS":i=0}e.g&&(e.o=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(r),e.j||e.g.setStreamingFormat(i))}function fs(e,t,n,r){var i=this;this.g=e,this.F=n,this.A=null,this.fa=t,this.h={},this.G={},this.Ha={},this.i=null,this.xa=!1,this.da=r||null,this.l={},this.s=new Q,this.j={},this.H=null,this.O=new zi,this.Aa="",this.Na=!1,this.ra=!0,this.$=!1,this.B=this.I=null,this.m=ps(this,this.O),this.S=!1,this.K=new pa((function(){return function(e){var t,n,r,i,a,o,s;return D((function(u){if(1==u.g){for(n in t=[],e.l)for(r=e.l[n],i=r[0],e.l[n]=r.slice(0,1),i&&t.push(i.p.catch($r)),a=c(r.slice(1)),o=a.next();!o.done;o=a.next())o.value.p.reject(new Pe(2,7,7003,void 0));for(s in e.i&&t.push(e.i.destroy()),e.j)t.push(e.j[s].destroy());return w(u,Promise.all(t),2)}e.s&&(e.s.release(),e.s=null),e.g&&e.B&&e.g.removeChild(e.B),e.g&&e.I&&(e.g.removeChild(e.I),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.I=null,e.B=null,e.A=null,e.m=null,e.i=null,e.fa=null,e.h={},e.j={},e.H=null,e.l={},e.da=null,e.V={},e.F=null,x(u)}))}(i)})),this.C=!1,this.aa="UNKNOWN",this.Ga=this.La=!1,this.Ba=new zi,this.o=!1,this.qa=null,this.V={},this.ka=this.L=this.na=this.M=null,this.ja=new zi,this.g.remote&&(this.$="disconnected"!=this.g.remote.state,this.s.D(this.g.remote,"connect",(function(){i.$="disconnected"!=i.g.remote.state})),this.s.D(this.g.remote,"connecting",(function(){i.$="disconnected"!=i.g.remote.state})),this.s.D(this.g.remote,"disconnect",(function(){i.$="disconnected"!=i.g.remote.state})))}function ps(t,n){if(t.ra=!0,e.ManagedMediaSource){t.B||(t.g.disableRemotePlayback=!0);var r=new ManagedMediaSource;t.s.D(r,"startstreaming",(function(){t.ra=!0})),t.s.D(r,"endstreaming",(function(){t.ra=!1}))}else r=new MediaSource;return t.s.va(r,"sourceopen",(function(){URL.revokeObjectURL(t.Aa),n.resolve()})),t.s.va(t.g,"playing",(function(){t.Na=!0})),t.Aa=Ps(r),t.g.removeAttribute("src"),t.I&&t.g.removeChild(t.I),t.B&&t.g.removeChild(t.B),t.I=Eo(t.Aa),t.g.appendChild(t.I),t.B&&t.g.appendChild(t.B),t.g.load(),r}function hs(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,v;return D((function(m){switch(m.g){case 1:return i=br,a=V,o=$,w(m,function(e,t){var n,r,i,a,o,s,u,l,d,f;return D((function(p){if(1==p.g)return e.createSegmentIndex?w(p,e.createSegmentIndex(),2):p.u(2);if(!e.segmentIndex)return p.return(!1);if(0==e.segmentIndex.getNumReferences())return p.return(!0);for(n=br,r=new Set,i=c(e.segmentIndex),a=i.next();!a.done;a=i.next())if(o=a.value,s=o.mimeType||e.mimeType||"",u=o.codecs||e.codecs||"",l=s+":"+u,!r.has(l))if(r.add(l),t==n.wa){if(!Ur(Tr(s,u)))return p.return(!1)}else if(t==n.la?u=li(u):t==n.Y&&(u=ci(u,s)),d=Ar(e,s,u),f=kr(s,u),!ne(d)&&!On(f))return p.return(!1);return p.return(!0)}))}(n,t),2);case 2:if(o.call(a,m.h,"Type negotiation should happen before MediaSourceEngine.init!"),s=Tr(n.mimeType,r),t==i.wa){gs(e,s,e.C,n.external),m.u(0);break}if(u=e.A.forceTransmux,(!ne(s)||!e.C&&Nr.includes(s))&&(u=!0),l=kr(n.mimeType,r),!u){m.u(4);break}if(d=vr(i.Y,(r||"").split(",")),f=vr(i.la,(r||"").split(",")),!d||!f){m.u(5);break}return e.o=!0,w(m,hs(e,i.Y,n,d),6);case 6:return w(m,hs(e,i.la,n,f),7);case 7:return m.return();case 5:(p=On(l))&&(h=p(),e.j[t]=h,s=h.convertCodecs(t,l));case 4:g=s+e.A.addExtraFeaturesToSourceBuffer(s),ha(e.K);try{v=e.m.addSourceBuffer(g)}catch(t){throw new Pe(2,3,3015,t,"The mediaSource_ status was "+e.m.readyState+" expected 'open'",null)}e.C&&(v.mode=Ds),e.s.D(v,"error",(function(){var n=e.l[t][0];n.p.reject(new Pe(2,3,3014,e.g.error?e.g.error.code:0,n.uri))})),e.s.D(v,"updateend",(function(){return Cs(e,t)})),e.h[t]=v,e.G[t]=s,e.Ha[t]=!!n.drmInfos.length,x(m)}}))}function gs(e,t,n,r){e.i||(e.i=new Or(e.fa),e.i&&(e.i.A=e.A.modifyCueCallback));var i=e.i;r=r||e.xa,e=e.aa,"application/cea-608"==t||"application/cea-708"==t?i.i=null:(i.i=(0,Br[t])(),i.i.setSequenceMode?i.i.setSequenceMode(n):oe("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(e):oe("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),i.B=r)}function vs(e){return!(e.S||e.m&&"ended"!=e.m.readyState)}function ms(e,t){return e=Object.keys(e.h).length?t==yr?e.i.g:!(e=bs(e,t))||xo(e)?null:1==e.length&&0>e.start(0)?0:e.length?e.start(0):null:null}function ys(e,t){return Object.keys(e.h).length?t==yr?e.i.h:So(bs(e,t)):null}function bs(e,t){if(e.S||e.$)return null;try{return e.h[t].buffered}catch(e){return null}}function ws(e,t,n,r,i,a,o,s,u,l){var d,f,p,h,g,v,m,y,b,S,T,k,C,A;return o=void 0!==o&&o,s=void 0!==s&&s,u=void 0!==u&&u,l=void 0!==l&&l,D((function(E){switch(E.g){case 1:if(t!=(d=br).wa){E.u(2);break}if(!("HLS"==e.aa&&0<=r.i)){E.u(3);break}return w(E,e.Ba,4);case 4:f=E.h,e.i.s=f;case 3:return w(E,function(e,t,n,r,i){var a,o,s,u,l,d,f;return D((function(p){if(1==p.g)return w(p,Promise.resolve(),2);if(!e.i||!e.j)return p.return();if(null==n||null==r)return e.i.parseInit(ve(t)),p.return();for(a=e.B?n:e.s,o={periodStart:e.s,segmentStart:n,segmentEnd:r,vttOffset:a},s=e.i.parseMedia(ve(t),o,i,[]),u=c(s),l=u.next();!l.done;l=u.next())d=l.value,e.A(d,i||null,o);f=s.filter((function(t){return t.startTime>=e.l&&t.startTime<e.m})),e.j.append(f),null==e.g&&(e.g=Math.max(n,e.l)),e.h=Math.min(r,e.m),x(p)}))}(e.i,n,r?r.startTime:null,r?r.endTime:null,r?r.N()[0]:null),5);case 5:return E.return();case 2:if(l||!e.o){E.u(6);break}return w(E,ws(e,d.Y,n,r,i,a,o,s,u,!0),7);case 7:return w(E,ws(e,d.la,n,r,i,a,o,s,u,!0),8);case 8:return E.return();case 6:if(!e.h[t])return E.return();if(p=e.h[t].timestampOffset,h=e.G[t],e.j[t]&&(h=e.j[t].getOriginalMimeType()),r&&(g=function(e,t,n,r,i,a){var o=null,s=[],u=ve(n);if(Nr.includes(a))(t=Ro(u)).length&&r&&((n=t.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&n.data&&(o=Math.round(n.data)/1e3),e.F.onMetadata([{cueTime:r.startTime,data:u,frames:t,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(a.includes("/mp4")&&r&&r.ba&&r.ba.timescale){var c=r.ba.timescale;if(!isNaN(c)){var l=0,d=!1;u=new xa,(null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length||e.A.dispatchAllEmsgBoxes)&&u.R("emsg",(function(t){var n=i.emsgSchemeIdUris;if(0===t.version)var a=t.reader.wc(),o=t.reader.wc(),s=t.reader.P(),u=t.reader.P(),c=t.reader.P(),l=t.reader.P(),d=r.startTime+u/s;else s=t.reader.P(),u=(d=t.reader.Tc()/s+r.timestampOffset)-r.startTime,c=t.reader.P(),l=t.reader.P(),a=t.reader.wc(),o=t.reader.wc();t=t.reader.vb(t.reader.getLength()-t.reader.ya()),(n&&n.includes(a)||e.A.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==a?e.F.Fi():(n=d+c/s,(s=new Yi("emsg",s=(new Map).set("detail",{startTime:d,endTime:n,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:u,eventDuration:c,id:l,messageData:t}))).cancelable=!0,e.F.onEvent(s),s.defaultPrevented||"https://aomedia.org/emsg/ID3"!=a&&"https://developer.apple.com/streaming/emsg-id3"!=a||!(a=Ro(t)).length||e.F.onMetadata([{cueTime:d,data:t,frames:a,dts:d,pts:d}],0,n)))})),u.R("prft",(function(t){var n=t.reader,r=t.version;n.P(),t=1e3*(t=n.P())+n.P()/Math.pow(2,32)*1e3,0===r?n=n.P():(r=n.P(),n=n.P(),n=r*Math.pow(2,32)+n),t=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+t).getTime(),n=new Yi("prft",n=(new Map).set("detail",{wallClockTime:t,programStartDate:new Date(t-n/c*1e3)})),e.F.onEvent(n)})).box("moof",Sa).box("traf",Sa).R("tfdt",(function(e){l=Uo(e.reader,e.version).baseMediaDecodeTime/c,d=!0,e.parser.stop()})).parse(n,!0),d&&0==r.timestampOffset&&(o=l)}}else a.includes("/mp4")||a.includes("/webm")||!os(u)||(e.V[t]?e.V[t].clearData():e.V[t]=new ns,null!=(u=(s=e.V[t].parse(u)).getStartTime(t))&&(o=u),s=s.getMetadata());return{timestamp:o,metadata:s}}(e,t,n,r,i,h),v=g.timestamp,m=g.metadata,null!=v&&(null==e.M&&t==d.la&&(e.M=v,e.na=r.startTime,null!=e.L&&(y=0,e.na==e.ka&&(y=e.M-e.L),e.ja.resolve(y))),null==e.L&&t==d.Y&&(e.L=v,e.ka=r.startTime,null!=e.M&&(b=0,e.na==e.ka&&(b=e.M-e.L),e.ja.resolve(b))),S=r.startTime-v,(.001<=Math.abs(p-S)||o||s)&&(!u||0<S||!p)&&(p=S,e.Ga&&(As(e,t,(function(){return Ts(e,t)}),null),As(e,t,(function(){return ks(e,t,p)}),null))),(t==d.la||!(d.la in e.h))&&e.Ba.resolve(p)),m.length)&&e.F.onMetadata(m,p,r?r.endTime:null),a&&t==d.la&&(e.i||gs(e,"application/cea-608",e.C,!1),e.H||(T=h.split(";",1)[0],e.H=new xe(T)),r?(k=e.H.i(n)).length&&function(e,t,n,r,i){for(var a=n+" "+r,o=new Map,s=(t=c(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,u=u.cue,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),Fr(e,u,i),u.startTime>=e.l&&u.startTime<e.m&&(o.get(s).get(a).push(u),s==e.C&&e.j.append([u]))}for(a=(i=c(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.o.has(a)||e.o.set(a,new Map),s=(t=c(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.o.get(a).set(s,u);e.g=null==e.g?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(r,e.m))}(e.i,k,r.startTime,r.endTime,p):e.H.init(n,s)),!e.j[t]){E.u(9);break}return w(E,e.j[t].transmux(n,i,r,e.m.duration,t),10);case 10:n=E.h;case 9:if(n=function(e,t,n,r,i){var a=null==n,o=e.Ha[r];return n=e.F.Uh(),(a=e.A.insertFakeEncryptionInInit&&a&&o)&&(n=Oe(n),a=qe()||He()||et()||ze()&&nt()&&n),a&&"mp4"==Er(e.G[r])&&(t=function(e,t){function n(){o=!0}function r(e){s.push(e),Sa(e)}var i,a=e=ve(e),o=!1,s=[],u=[];if((new xa).box("moov",r).box("trak",r).box("mdia",r).box("minf",r).box("stbl",r).R("stsd",(function(e){i=e,s.push(e),Ta(e)})).R("encv",n).R("enca",n).R("dvav",(function(e){u.push({box:e,Ta:1701733238})})).R("dva1",(function(e){u.push({box:e,Ta:1701733238})})).R("dvh1",(function(e){u.push({box:e,Ta:1701733238})})).R("dvhe",(function(e){u.push({box:e,Ta:1701733238})})).R("dvc1",(function(e){u.push({box:e,Ta:1701733238})})).R("dvi1",(function(e){u.push({box:e,Ta:1701733238})})).R("hev1",(function(e){u.push({box:e,Ta:1701733238})})).R("hvc1",(function(e){u.push({box:e,Ta:1701733238})})).R("avc1",(function(e){u.push({box:e,Ta:1701733238})})).R("avc3",(function(e){u.push({box:e,Ta:1701733238})})).R("ac-3",(function(e){u.push({box:e,Ta:1701733217})})).R("ec-3",(function(e){u.push({box:e,Ta:1701733217})})).R("ac-4",(function(e){u.push({box:e,Ta:1701733217})})).R("mp4a",(function(e){u.push({box:e,Ta:1701733217})})).parse(e),o)return e;if(0==u.length||!i)throw lr(e),new Pe(2,3,3019,t);u.reverse();for(var l=(t=c(u)).next();!l.done;l=t.next())l=l.value,a=fo(a,i,l.box,s,l.Ta);return ze()&&nt()&&!He()?((t=new Uint8Array(e.byteLength+a.byteLength)).set(a),t.set(e,a.byteLength),t):a}(t,i)),t}(e,n,r?r.startTime:null,t,r?r.N()[0]:null),!r||!e.C||t==d.wa){E.u(11);break}if(!o&&!s){E.u(11);break}if(C=r.startTime,"HLS"!=e.aa||e.o||t!=d.Y||!e.h[d.la]){E.u(13);break}return w(E,e.ja,14);case 14:A=E.h,.1<Math.abs(A)&&(C-=A);case 13:As(e,t,(function(){return Ts(e,t)}),null),As(e,t,(function(){return ks(e,t,C)}),null);case 11:return w(E,As(e,t,(function(){var r=n;if("video"==t&&e.da){var i=e.da;i.g&&i.g.appendBuffer(r,"video",i.o,-p)}e.h[t].appendBuffer(r)}),r?r.N()[0]:null),15);case 15:x(E)}}))}function xs(e,t){var n;return D((function(r){return 1==r.g?t==(n=br).wa?e.i?w(r,e.i.remove(0,1/0),0):r.return():w(r,As(e,t,(function(){return Ss(e,t,0,e.m.duration)}),null),4):e.o?w(r,As(e,n.Y,(function(){return Ss(e,n.Y,0,e.m.duration)}),null),0):r.u(0)}))}function Ss(e,t,n,r){r<=n?Cs(e,t):e.h[t].remove(n,r)}function Ts(e,t){var n=e.h[t].appendWindowStart,r=e.h[t].appendWindowEnd;e.h[t].abort(),e.h[t].appendWindowStart=n,e.h[t].appendWindowEnd=r,Cs(e,t)}function ks(e,t,n){0>n&&(n+=.001),e.h[t].timestampOffset=n,Cs(e,t)}function Cs(e,t){if(!e.S){var n=e.l[t][0];n&&(n.p.resolve(),Is(e,t))}}function As(e,t,n,r){return ha(e.K),n={start:n,p:new zi,uri:r},e.l[t].push(n),1==e.l[t].length&&Ms(e,t),n.p}function Es(e,t){var n,r,i,a,o;return D((function(s){switch(s.g){case 1:for(i in ha(e.K),n=[],r={},e.h)(r={ready:void 0}).ready=new zi,a={start:function(e){return function(){return e.ready.resolve()}}(r),p:r.ready,uri:null},e.l[i].push(a),n.push(r.ready),1==e.l[i].length&&a.start();return S(s,2),w(s,Promise.all(n),4);case 4:k(s,3);break;case 2:throw C(s);case 3:return S(s,5,6),w(s,t(),6);case 6:for(o in A(s),e.h)Is(e,o);E(s,0);break;case 5:throw new Pe(2,3,3015,C(s),e.g.error||"No error in the media element",null)}}))}function Is(e,t){e.l[t].shift(),Ms(e,t)}function Ms(e,t){var n=e.l[t][0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new Pe(2,3,3017,t)):n.p.reject(new Pe(2,3,3015,r,e.g.error||"No error in the media element",n.uri)),Is(e,t)}}function _s(e,t){return Es(e,(function(){return function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,x,S,k,C,I,M,_,P;return D((function(D){switch(D.g){case 1:for(s in n=br,e.S=!0,e.o=!1,r=e.g.currentTime,i=e.g.autoplay,a=e.g.paused,e.Na&&(e.g.autoplay=!1),T(D,2),e.s.Va(),o=[],e.j)o.push(e.j[s].destroy());for(u in e.l)for(l=e.l[u],d=l[0],e.l[u]=l.slice(0,1),d&&o.push(d.p.catch($r)),f=c(l.slice(1)),p=f.next();!p.done;p=f.next())p.value.p.reject(new Pe(2,7,7003,void 0));for(h in e.h){g=e.h[h];try{e.m.removeSourceBuffer(g)}catch(e){}}return w(D,Promise.all(o),4);case 4:return e.j={},v=e.m.duration,e.O=new zi,e.m=ps(e,e.O),w(D,e.O,5);case 5:!isNaN(v)&&v?e.m.duration=v:!isNaN(e.qa)&&e.qa&&(e.m.duration=e.qa),m=new zi,y=e.m.sourceBuffers,b=t.size,x=0,S=function(){++x===b&&(m.resolve(),e.s.cb(y,"addsourcebuffer",S))},e.s.D(y,"addsourcebuffer",S),k=c(t.keys()),C=k.next();case 6:return C.done?((P=t.get(n.Y))&&P.isAudioMuxedInVideo&&(e.o=!0),e.g.currentTime=r,w(D,m,2)):(I=C.value,M=e.h[I]?{timestampOffset:e.h[I].timestampOffset,appendWindowStart:e.h[I].appendWindowStart,appendWindowEnd:e.h[I].appendWindowEnd}:null,_=t.get(I),w(D,hs(e,I,_,_.codecs),9));case 9:e.o?(e.l[n.Y]=[],e.l[n.la]=[]):e.l[I]=[],M&&e.h[I]&&(e.h[I].timestampOffset=M.timestampOffset,e.h[I].appendWindowEnd=M.appendWindowEnd,e.h[I].appendWindowStart=M.appendWindowStart),C=k.next(),D.u(6);break;case 2:A(D),e.S=!1,ha(e.K),e.s.va(e.g,"canplaythrough",(function(){e.K.g||(e.g.autoplay=i,a||e.g.play())})),E(D,0)}}))}(e,t)}))}cs.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},B("shaka.lcevc.Dec",cs),cs.prototype.release=cs.prototype.release,(r=fs.prototype).destroy=function(){return this.K.destroy()},r.init=function(e,t,n,r){t=void 0!==t&&t,n=void 0===n?"UNKNOWN":n,r=void 0!==r&&r;var i,a,o,s,u,l,d=this;return D((function(f){switch(f.g){case 1:return i=br,w(f,d.O,2);case 2:d.C=t,d.aa=n,d.La=r,d.Ga=!d.C&&"HLS"==d.aa&&!d.La,d.V={},d.M=null,d.na=null,d.L=null,d.ka=null,d.ja=new zi,a=c(e.keys()),o=a.next();case 3:if(o.done){f.u(5);break}return s=o.value,u=e.get(s),w(f,hs(d,s,u,u.codecs),6);case 6:d.o?(d.l[i.Y]=[],d.l[i.la]=[]):d.l[s]=[],o=a.next(),f.u(3);break;case 5:(l=e.get(i.Y))&&l.isAudioMuxedInVideo&&(d.o=!0),x(f)}}))},r.configure=function(e){this.A=e,this.i&&(this.i.A=e.modifyCueCallback)},r.zb=function(){var e={total:this.S?[]:Co(this.g.buffered),audio:Co(bs(this,"audio")),video:Co(bs(this,"video")),text:[]};if(this.i){var t=this.i.g,n=this.i.h;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},r.remove=function(e,t,n){var r,i=this;return D((function(a){return 1==a.g?e==(r=br).wa?w(a,i.i.remove(t,n),0):w(a,As(i,e,(function(){return Ss(i,e,t,n)}),null),4):i.o?w(a,As(i,r.Y,(function(){return Ss(i,r.Y,t,n)}),null),0):a.u(0)}))},r.flush=function(e){var t,n=this;return D((function(r){return 1==r.g?e==(t=br).wa?r.return():w(r,As(n,e,(function(){n.g.currentTime-=.001,Cs(n,e)}),null),2):n.o?w(r,As(n,t.Y,(function(){var e=t.Y;n.g.currentTime-=.001,Cs(n,e)}),null),0):r.u(0)}))},r.endOfStream=function(e){var t=this;return D((function(n){return w(n,Es(t,(function(){vs(t)||"closed"===t.m.readyState||(e?t.m.endOfStream(e):t.m.endOfStream())})),0)}))},r.bb=function(e){var t=this;return D((function(n){return w(n,Es(t,(function(){if(e<t.m.duration)for(var n in t.h){var r={start:function(){},p:new zi,uri:null};t.l[n].unshift(r)}t.m.duration=e,t.qa=e})),0)}))},r.getDuration=function(){return this.m.duration};var Ps=e.URL.createObjectURL,Ds="sequence";function Ls(e,t,n){this.i=e,this.C=t,this.o=this.l=1/0,this.h=1,this.g=this.j=null,this.A=0,this.B=!0,this.I=!1,this.H=0,this.F=void 0===n||n,this.G=0,this.s=!1,this.m=e}function Rs(e,t,n){this.j=n,this.l=e,this.s=Os(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.A=t,this.i=function(){}}function Ns(e){this.g=e}function Os(e){if(e.g.paused||0==e.g.playbackRate||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime;for(var n=(e=c(Co(e.g.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Us(e,t,n,r,i){var a=this;this.A=i,this.g=e,this.B=t,this.m=n,this.l=new Q,this.j=!1,this.F=e.readyState,this.C=this.i=0,this.h=r,this.s=!1,this.l.D(e,"waiting",(function(){return js(a)})),this.o=new Be((function(){js(a)})).Ra(this.m.gapJumpTimerTime)}function js(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.j)return}else e.j=!1;if(!e.g.paused||e.g.currentTime==e.i&&(e.g.autoplay||e.g.currentTime!=e.i)){var t;if(e.g.readyState!=e.F&&(e.F=e.g.readyState),!(t=!e.h)){var n=(t=e.h).l,r=Os(n),i=n.g.currentTime,a=Date.now()/1e3;t.g==i&&t.s==r||(t.m=a,t.g=i,t.s=r,t.h=!1),(r=(i=a-t.m)>=t.A&&r&&!t.h)&&(t.i(t.g,i),t.h=!0,t.g=n.g.currentTime,t.o++,t.j(new Yi("stalldetected"))),t=!r}t&&(t=e.g.currentTime,r=function(e,t,n){return e&&e.length&&!xo(e)&&0<=(e=Co(e).findIndex((function(e,r,i){return e.start>t&&(0==r||i[r-1].end-t<=n)})))?e:null}(n=e.g.buffered,t,e.m.gapDetectionThreshold),null!=r&&(0!=r||e.s))&&(i=n.start(r),(navigator.userAgent.match(/Edge\//)||He()||qe())&&(i=Math.ceil(100*(i+e.m.gapPadding))/100),i>=e.B.Bb()||.001>i-t||(0!=r&&n.end(r-1),e.g.currentTime=i,t==e.i&&(e.i=i),e.C++,e.A(new Yi("gapjumped"))))}}}function Fs(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Bs.value().get(t),n.va(e,t,r))}(r=Ls.prototype).getDuration=function(){return this.l},r.Wh=function(){return this.h},r.gh=function(e){this.i=e},r.bb=function(e){this.l=e},r.ai=function(){return this.i},r.eh=function(e){this.A=e},r.zc=function(e){e&&!this.B&&(this.I=!0),this.B=e},r.pe=function(e){this.o=e},r.Pd=function(){return this.o},r.Tf=function(e){this.C=e},r.Oh=function(){return this.C},r.Rg=function(e,t){if(0!=e.length){var n=(Date.now()+this.A)/1e3;if(0!=(e=e.filter((function(e){return e.start+t<n}))).length){var r=e[e.length-1].end+t;this.ce(e[0].start+t),this.h=e.reduce((function(e,t){return Math.max(e,t.end-t.start)}),this.h),this.g=Math.max(this.g,r),null!=this.i&&this.F&&!this.s&&(this.i=n-this.g-this.h)}}},r.td=function(e){if(0!=e.length){for(var t=e[0].startTime,n=e[0].endTime,r=(Date.now()+this.A)/1e3,i=(e=c(e)).next();!i.done;i=e.next())r<(i=i.value).startTime||(t=Math.min(t,i.startTime),n=Math.max(n,i.endTime),this.h=Math.max(this.h,i.endTime-i.startTime));this.ce(t),this.g=Math.max(this.g,n),null!=this.i&&this.F&&!this.s&&(this.i=r-this.g-this.h)}},r.Qg=function(e,t){this.ce(e),1/0==t||this.U()||(this.g=Math.max(this.g,t))},r.Xh=function(){return this.g},r.Yd=function(){this.s=!0},r.vi=function(){return this.s},r.fh=function(e){this.m=e},r.Th=function(){return this.m},r.ce=function(e){null==this.j?this.j=e:this.I||(this.j=Math.min(this.j,e))},r.Cf=function(e){this.h=Math.max(this.h,e)},r.offset=function(e){null!=this.j&&(this.j+=e),null!=this.g&&(this.g+=e)},r.U=function(){return 1/0==this.l&&!this.B},r.uc=function(){return 1/0!=this.l&&!this.B},r.qb=function(){return Math.max(this.H,this.Zb()-this.o)},r.jh=function(e){this.H=e},r.Zb=function(){return this.U()||this.uc()?Math.min(Math.max(0,(Date.now()+this.A)/1e3-this.h-this.i)+this.G,this.l):this.g?Math.min(this.g,this.l):this.l},r.gd=function(e){var t=Math.max(this.j,this.H);return 1/0==this.o?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.Zb()-this.o+e,this.Bb()))},r.Kb=function(){return this.gd(0)},r.Bb=function(){return Math.max(0,this.Zb()-(this.U()||this.uc()?this.C:0))},r.qh=function(){return!(null==this.i||null!=this.g&&this.F)},r.dh=function(e){this.G=e},r.Mh=function(){return this.G},B("shaka.media.PresentationTimeline",Ls),Ls.prototype.getAvailabilityTimeOffset=Ls.prototype.Mh,Ls.prototype.setAvailabilityTimeOffset=Ls.prototype.dh,Ls.prototype.usingPresentationStartTime=Ls.prototype.qh,Ls.prototype.getSeekRangeEnd=Ls.prototype.Bb,Ls.prototype.getSeekRangeStart=Ls.prototype.Kb,Ls.prototype.getSafeSeekRangeStart=Ls.prototype.gd,Ls.prototype.getSegmentAvailabilityEnd=Ls.prototype.Zb,Ls.prototype.setUserSeekStart=Ls.prototype.jh,Ls.prototype.getSegmentAvailabilityStart=Ls.prototype.qb,Ls.prototype.isInProgress=Ls.prototype.uc,Ls.prototype.isLive=Ls.prototype.U,Ls.prototype.offset=Ls.prototype.offset,Ls.prototype.notifyMaxSegmentDuration=Ls.prototype.Cf,Ls.prototype.notifyMinSegmentStartTime=Ls.prototype.ce,Ls.prototype.getInitialProgramDateTime=Ls.prototype.Th,Ls.prototype.setInitialProgramDateTime=Ls.prototype.fh,Ls.prototype.isStartTimeLocked=Ls.prototype.vi,Ls.prototype.lockStartTime=Ls.prototype.Yd,Ls.prototype.getMaxSegmentEndTime=Ls.prototype.Xh,Ls.prototype.notifyPeriodDuration=Ls.prototype.Qg,Ls.prototype.notifySegments=Ls.prototype.td,Ls.prototype.notifyTimeRange=Ls.prototype.Rg,Ls.prototype.getDelay=Ls.prototype.Oh,Ls.prototype.setDelay=Ls.prototype.Tf,Ls.prototype.getSegmentAvailabilityDuration=Ls.prototype.Pd,Ls.prototype.setSegmentAvailabilityDuration=Ls.prototype.pe,Ls.prototype.setStatic=Ls.prototype.zc,Ls.prototype.setClockOffset=Ls.prototype.eh,Ls.prototype.getPresentationStartTime=Ls.prototype.ai,Ls.prototype.setDuration=Ls.prototype.bb,Ls.prototype.setPresentationStartTime=Ls.prototype.gh,Ls.prototype.getMaxSegmentDuration=Ls.prototype.Wh,Ls.prototype.getDuration=Ls.prototype.getDuration,Rs.prototype.release=function(){this.j=this.l=null,this.i=function(){}},Us.prototype.release=function(){this.l&&(this.l.release(),this.l=null),null!=this.o&&(this.o.stop(),this.o=null),this.h&&(this.h.release(),this.h=null),this.g=this.B=this.A=null},Us.prototype.Ff=function(){this.s=!0,js(this)};var Bs=new Le((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Vs(e,t,n,r){var i=this;this.g=e,this.m=t,this.s=n,this.l=null,this.j=function(){return null==i.l&&(i.l=r()),i.l},this.o=!1,this.h=new Q,this.i=new Ks(e),Fs(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){Hs(i,i.j())}))}function $s(e){return e.o?e.g.currentTime:e.j()}function zs(e,t){0<e.g.readyState?Gs(e.i,t):Fs(e.g,HTMLMediaElement.HAVE_METADATA,e.h,(function(){Hs(e,e.j())}))}function Hs(e,t){.001>Math.abs(e.g.currentTime-t)?qs(e):(e.h.va(e.g,"seeking",(function(){qs(e)})),Gs(e.i,e.g.currentTime&&0!=e.g.currentTime?e.g.currentTime:t))}function qs(e){e.o=!0,e.h.D(e.g,"seeking",(function(){return e.m()})),e.s(e.g.currentTime)}function Ks(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new Be((function(){0>=t.i||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)}))}function Gs(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.Ra(.1)}function Xs(e){this.h=e,this.j=!1,this.g=null,this.i=new Q}function Ws(e,t,n,r,i,a){var o=this;this.i=e,this.g=t.presentationTimeline,this.B=t.minBufferTime||0,this.l=n,this.A=i,this.s=null,this.o=function(e,t,n){if(!t.stallEnabled)return null;var r=t.stallSkip;return function(e,t){e.i=t}(t=new Rs(new Ns(e),t.stallThreshold,n),(function(){r?e.currentTime+=r:(e.pause(),e.play())})),t}(e,n,a),this.j=new Us(e,t.presentationTimeline,n,this.o,a),this.h=new Vs(e,(function(){e:{var e=o.j;e.j=!0,e.s=!1;var t=$s(o.h);if(e=Js(o,t),.001<Math.abs(e-t)){if(t=!1,!Xe()||Xe()&&rt())t=!0;else{var n=Date.now()/1e3,r=Xe()&&at("Fuchsia")?3:1;(!o.s||o.s<n-r)&&(o.s=n,t=!0)}if(t){zs(o.h,e),e=void 0;break e}}o.A(),e=void 0}return e}),(function(e){var t=o.j;t.g.seeking&&!t.j&&(t.j=!0,t.i=e)}),(function(){var e=r;return null==e?e=1/0>o.g.getDuration()?o.g.Kb():o.g.Bb():0>e&&(e=o.g.Bb()+e),Ys(o,Zs(o,e))})),this.m=new Be((function(){if(0!=o.i.readyState&&!o.i.paused){var e=$s(o.h),t=o.g.Kb(),n=o.g.Bb();3>n-t&&(t=n-3),e<t&&(e=Js(o,e),o.i.currentTime=e)}}))}function Ys(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Js(e,t){var n=Math.max(e.B,e.l.rebufferingGoal),r=e.l.safeSeekOffset,i=e.g.Kb(),a=e.g.Bb(),o=e.g.getDuration();3>a-i&&(i=a-3);var s=e.g.gd(n),u=e.g.gd(r);return n=e.g.gd(n+r),t>=o?Ys(e,t):t>a?a-e.l.safeSeekEndOffset:t<i?To(e.i.buffered,u)?u:n:t>=s||To(e.i.buffered,t)?t:n}function Zs(e,t){var n=e.g.Kb();return t<n?n:t>(e=e.g.Bb())?e:t}function Qs(e){this.g=e,this.m=null,this.i=0,this.o=!1}function eu(e){return e.g[0]||null}function tu(e,t,n){return new Qs([e=new mo(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function nu(e,t,n,r){this.i=e,this.h=t,this.g=n,this.reverse=r}function ru(){Qs.call(this,[]),this.h=[]}function iu(e){var t=this;this.g=e,this.j=!1,this.i=this.g.Od(),this.h=new Be((function(){t.g.Og(.25*t.i)}))}function au(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{return void(e.g.Od()!=t&&e.g.Wf(t))}catch(e){}e.h.Ra(.25),0!=e.g.Od()&&e.g.Wf(0)}function ou(e){var t=this;this.h=e,this.g=new Set,this.i=new Be((function(){su(t,!1)})).Ra(.25)}function su(e,t){for(var n=c(e.g),r=n.next();!r.done;r=n.next())r.value.j(e.h.currentTime,t)}function uu(){this.g=null,this.h=[]}function cu(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration);for(var r=(e=c(e.h)).next();!r.done;r=e.next())n+=(r=r.value).state==t?r.duration:0;return n}function lu(){this.i=this.h=null,this.g=[]}function du(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function fu(){this.kc=this.Kg=this.s=this.A=this.I=this.B=this.o=this.j=this.H=this.C=this.i=this.S=this.V=this.L=this.M=this.O=this.l=this.m=NaN,this.K=0,this.F=this.G=NaN,this.g=new uu,this.h=new lu}function pu(e,t,n,r){this.m=e,this.i=t,this.l=n,this.h=new Map,this.j=new Map,this.g=null,this.o=r}function hu(e,t){e.l=t;for(var n=(e=c(e.h.values())).next();!n.done;n=e.next())n.value.g=t}function gu(e,t,n){if(n=void 0!==n&&n,!e.i.segmentIndex)return Promise.resolve();if(e.g||(e.g=e.i.segmentIndex.Jb(t,!0,e.o)),!e.g)return Promise.resolve();for(n&&e.g.next(),t=[];e.h.size<e.m&&(n=e.g.next().value);){var r=!0;n.isPreload()&&null!=n.ua&&(r=!1),2==n.ac()&&(r=!1),n.pc()&&(r=!1),r&&n.ba&&t.push(vu(e,n.ba)),r&&!e.h.has(n)&&(r=new Su(e.l),t.push(Tu(r,n,e.i)),e.h.set(n,r))}return bu(e),Promise.all(t)}function vu(e,t){if(!e.i.segmentIndex||t.pc()||Array.from(e.j.keys()).some((function(e){return vo(e,t)})))return Promise.resolve();var n=new Su(e.l),r=Tu(n,t,e.i);return e.j.set(t,n),r}function mu(e,t){for(var n=(t=c(t.keys())).next();!n.done;n=t.next())(n=n.value)&&xu(e,n)}function yu(e){mu(e,e.h),mu(e,e.j),e.g=null}function bu(e){for(var t=Array.from(e.h.keys()),n=c(e.j.keys()),r=n.next(),i={};!r.done;i={tf:void 0},r=n.next())i.tf=r.value,t.some(function(e){return function(t){return vo(t.ba,e.tf)}}(i))||xu(e,i.tf)}function wu(e,t){e.m=t;for(var n=Array.from(e.h.keys());n.length>t;){var r=n.pop();r&&xu(e,r)}bu(e)}function xu(e,t){var n=e.h;t instanceof go&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function Su(e){this.g=e,this.vd=this.Yf=null}function Tu(e,t,n){var r=new Uint8Array(0);return e.vd=e.g(t,n,(function(t){return D((function(n){if(1==n.g)return r=0<r.byteLength?dr(r,t):t,e.Yf?w(n,e.Yf(r),3):n.u(0);r=new Uint8Array(0),x(n)}))})),e.vd.promise.catch((function(e){return e instanceof Pe&&7001==e.code?Promise.resolve():Promise.reject(e)}))}function ku(e){Qi.call(this);var t=this;this.g=new Set,this.i=e,this.h=new Be((function(){for(var e=t.i(),n=c(t.g),r=n.next();!r.done;r=n.next())(r=r.value).endTime<e.start&&(t.g.delete(r),r=new Yi("regionremove",new Map([["region",r]])),t.dispatchEvent(r))})).Ra(2)}function Cu(e){Qi.call(this),this.g=new Map,this.h=e}function Au(e,t,n){return!!((e=e.h()[n])&&0<e.length&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function Eu(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return"video"==e.type&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),"audio"==e.type&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function Iu(e){var t=_r(e);return{type:t.split("/")[0],mimeType:t,codecs:e=Pr(e),language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Bd:null,colorGamut:null,frameRate:null}}function Mu(e){for(var t=new Set,n=[],r=(e=c(e)).next();!r.done;r=e.next()){var i=Mr(r=r.value);t.has(i)||(n.push(r),t.add(i))}return t=mr("audio",n),r=mr("video",n),e=mr(yr,n),r=function(e){if(1>=e.length)return e;var t=e.find((function(e){return e.startsWith("dvav.")||e.startsWith("dva1.")||e.startsWith("dvh1.")||e.startsWith("dvhe.")||e.startsWith("dav1.")||e.startsWith("dvc1.")||e.startsWith("dvi1.")}));return t?ne('video/mp4; codecs="'+t+'"')?[t]:e.filter((function(e){return e!=t})):e}(r),t=t.concat(r).concat(e),n.length&&!t.length?n:t}function _u(t,n,r){var i,a,o,s,u;return D((function(c){if(1==c.g)return(i=n).cryptoKey?c.u(2):w(c,i.fetchKey(),3);if(!(a=i.iv))for(a=ve(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+r,s=a.byteLength-1;0<=s;s--)a[s]=255&o,o>>=8;return u="CBC"==n.blockCipherMode?{name:"AES-CBC",iv:a}:{name:"AES-CTR",counter:a,length:64},c.return(e.crypto.subtle.decrypt(u,i.cryptoKey,t))}))}function Pu(e,t,n,r,i){return e=aa(e,r,i),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Du(e,t){var n=this;this.g=t,this.l=e,this.h=null,this.G=new Map,this.B=1,this.s=this.j=null,this.I=0,this.i=new Map,this.F=!1,this.K=null,this.A=!1,this.m=new pa((function(){return function(e){var t,n,r,i,a,o;return D((function(s){if(1==s.g){for(t=[],n=c(e.i.values()),r=n.next();!r.done;r=n.next())Xu(i=r.value),t.push(Wu(i)),i.W&&(yu(i.W),i.W=null);for(a=c(e.o.values()),o=a.next();!o.done;o=a.next())yu(o.value);return w(s,Promise.all(t),2)}e.i.clear(),e.o.clear(),e.g=null,e.l=null,e.h=null,x(s)}))}(n)})),this.L=Date.now()/1e3,this.o=new Map,this.H={projection:null,hfov:null},this.O=0,this.M=1/0,this.C=null}function Lu(e,t){for(var n=0>e.g.ib(),r=c(e.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).ha&&i.ha.Xc(n),i.W&&i.W.Xc(n);for(i=(r=c(e.o.values())).next();!i.done;i=r.next())i.value.Xc(n);(n=e.i.get("video"))&&(r=n.stream)&&(t?(t=r.trickModeVideo)&&!n.dc&&(Ou(e,t,!1,0,!1),n.dc=r):(t=n.dc)&&(n.dc=null,Ou(e,t,!0,0,!1)))}function Ru(e,t,n,r,i,a){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,a=void 0!==a&&a,e.j=t,e.F&&(t.video&&Ou(e,t.video,n,r,i,a),t.audio&&Ou(e,t.audio,n,r,i,a))}function Nu(e,t){D((function(n){if(1==n.g)return e.C=null,e.s=t,e.F?t.segmentIndex?n.u(2):w(n,t.createSegmentIndex(),2):n.return();Ou(e,t,!0,0,!1),x(n)}))}function Ou(e,t,n,r,i,a){var o=e.i.get(t.type);o||t.type!=yr?o&&(o.dc&&(t.trickModeVideo?(o.dc=t,t=t.trickModeVideo):o.dc=null),o.stream!=t||i)&&(e.o.has(t)?o.W=e.o.get(t):o.W&&function(e,t){t&&t!==e.i&&(yu(e),e.i=t)}(o.W,t),t.type==yr&&(i=Tr(t.mimeType,t.codecs),gs(e.g.ca,i,e.l.sequenceMode,t.external)),!e.o.has(o.stream)&&o.stream.closeSegmentIndex&&(o.Ea?(i="("+o.type+":"+o.stream.id+")",e.G.has(i)||e.G.set(i,o.stream.closeSegmentIndex)):o.stream.closeSegmentIndex()),i=o.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,o.stream=t,o.ha=null,o.jg=!!a,i?Ju(e,!0,!1):(n?o.$c?o.De=!0:o.Ea?(o.jc=!0,o.Jd=r,o.De=!0):(Xu(o),Ku(e,o,!0,r).catch((function(t){e.g&&e.g.onError(t)}))):o.Ea||o.eb||Gu(e,o,0),function(e,t){var n,r;return D((function(i){if(1==i.g)return t.mb?(n=t.stream,r=t.mb,n.segmentIndex?i.u(2):w(i,n.createSegmentIndex(),2)):i.return();if(t.mb!=r||t.stream!=n)return i.return();var a=e.g.fd(),o=ys(e.g.ca,t.type),s=t.stream.segmentIndex.find(t.Sa?t.Sa.endTime:a),u=null==s?null:t.stream.segmentIndex.get(s);s=u&&u.ua?u.ua-u.Ka:null,u&&!s&&(s=(u.endTime-u.getStartTime())*(t.stream.bandwidth||0)/8),s?((u=u.ba)&&(s+=(u.ua?u.ua-u.Ka:null)||0),a=8*s/(u=e.g.getBandwidthEstimate())<(o||0)-a-Math.max(e.l.minBufferTime||0,e.h.rebufferingGoal)||t.mb.h.g>s):a=!1,a&&t.mb.abort(),x(i)}))}(e,o).catch((function(t){e.g&&e.g.onError(t)})))):function(e,t){var n,r,i,a,o;D((function(s){switch(s.g){case 1:return n=br,e.I++,r=e.I,S(s,2),w(s,xs(e.g.ca,n.wa),4);case 4:k(s,3);break;case 2:i=C(s),e.g&&e.g.onError(i);case 3:a=Tr(t.mimeType,t.codecs),gs(e.g.ca,a,e.l.sequenceMode,t.external),(e.g.ca.fa.isTextVisible()||e.h.alwaysStreamText)&&e.I==r&&(o=ju(e,t),e.i.set(n.wa,o),Gu(e,o,0)),x(s)}}))}(e,t)}function Uu(e,t){t.$c||t.jc||(t.Ea?(t.jc=!0,t.Jd=0):null==ms(e.g.ca,t.type)?null==t.eb&&Gu(e,t,0):(Xu(t),Ku(e,t,!1,0).catch((function(t){e.g&&e.g.onError(t)}))))}function ju(e,t){return{stream:t,type:t.type,ha:null,W:Fu(e,t),Sa:null,Mc:null,Xd:null,Wd:null,Vd:null,dc:null,endOfStream:!1,Ea:!1,eb:null,jc:!1,Jd:0,De:!1,$c:!1,Vc:!0,Lf:!1,jd:!1,mb:null}}function Fu(e,t){if("video"===t.type&&e.h.disableVideoPrefetch||"audio"===t.type&&e.h.disableAudioPrefetch||t.type===yr&&("application/cea-608"==t.mimeType||"application/cea-708"==t.mimeType)||t.type===yr&&e.h.disableTextPrefetch)return null;if(e.o.has(t))return e.o.get(t);var n=e.i.get(t.type);return(n=n&&n.W)&&t===n.i?n:0<e.h.segmentPrefetchLimit?new pu(e.h.segmentPrefetchLimit,t,(function(t,n,r){return qu(t,n,r||null,e.h.retryParameters,e.g.Ob)}),0>e.g.ib()):null}function Bu(e,t,n,r,i,a,o,s){var u,c,l,d;return D((function(f){if(1==f.g)return u=br,c=new Map,e.j.audio&&c.set(u.Y,e.j.audio),e.j.video&&c.set(u.la,e.j.video),S(f,2),t.Wd=r,t.Vd=i,o&&(t.yf=o),s&&(t.zf=s),t.Xd=n,l=e.l.sequenceMode||"HLS"==e.l.type,w(f,function(e,t,n,r,i,a,o,s,u){var c,l;return D((function(d){return 1==d.g?t==(c=br).wa?(a||(e.i.s=n),function(e,t,n){e.l=t,e.m=n}(e.i,r,i),d.return()):(l=[],w(d,function(e,t,n,r,i){var a,o,s,u,c,l,d,f,p,h,g,v,m,y,b;return D((function(x){return 1==x.g?t==(a=br).wa?x.return(!1):(o=Ir(Pr(e.G[t])),s=_r(e.G[t]),c=!1,l=Tr(n,r),d=e.A.forceTransmux,(!ne(l)||!e.C&&Nr.includes(l))&&(d=!0),d&&(f=kr(n,r),p=On(f))&&(u=p(),h=vr(a.Y,(r||"").split(",")),g=vr(a.la,(r||"").split(",")),h&&g?(c=!0,v=g,t==a.Y&&(v=h),l=u.convertCodecs(t,kr(n,v))):l=u.convertCodecs(t,f)),m=Ir(Pr(l)),y=_r(l),o===m&&s===y?(e.j[t]&&!u?(e.j[t].destroy(),delete e.j[t]):!e.j[t]&&u?e.j[t]=u:u&&(e.j[t]&&e.j[t].transmux!=u.transmux?(e.j[t].destroy(),delete e.j[t],e.j[t]=u):u.destroy()),x.return(!1)):(b=!0,(e.o||c&&u&&!e.j[t])&&(b=!1),b&&"smooth"===e.A.codecSwitchingStrategy&&re()?w(x,function(e,t,n,r){return As(e,t,(function(){t!==yr&&(re()&&(e.j[t]&&(e.j[t].destroy(),delete e.j[t]),r&&(e.j[t]=r),e.h[t].changeType(n+e.A.addExtraFeaturesToSourceBuffer(n)),e.G[t]=n),Cs(e,t))}),null)}(e,t,l,u),3):(u&&u.destroy(),w(x,_s(e,i),3)))):x.return(!0)}))}(e,t,o,s,u),2)):(d.h||(l.push(As(e,t,(function(){return Ts(e,t)}),null)),e.o&&l.push(As(e,c.Y,(function(){return Ts(e,c.Y)}),null))),a||(l.push(As(e,t,(function(){return ks(e,t,n)}),null)),e.o&&l.push(As(e,c.Y,(function(){return ks(e,c.Y,n)}),null))),l.push(As(e,t,(function(){e.h[t].appendWindowStart=0,e.h[t].appendWindowEnd=i,e.h[t].appendWindowStart=r,Cs(e,t)}),null)),e.o&&l.push(As(e,c.Y,(function(){var t=c.Y;e.h[t].appendWindowStart=0,e.h[t].appendWindowEnd=i,e.h[t].appendWindowStart=r,Cs(e,t)}),null)),w(d,Promise.all(l),0))}))}(e.g.ca,t.type,n,r,i,l,a.mimeType||t.stream.mimeType,a.codecs||t.stream.codecs,c),4);if(2!=f.g)return k(f,0);throw d=C(f),t.Wd=null,t.Vd=null,t.yf=null,t.zf=null,t.Xd=null,d}))}function Vu(e,t,n,r,i,a,o,s){var u,c,l,d,f,p;return o=void 0!==o&&o,s=void 0!==s&&s,D((function(h){switch(h.g){case 1:return u=r.closedCaptions&&0<r.closedCaptions.size,e.h.shouldFixTimestampOffset&&(l="video/mp4"==r.mimeType||"audio/mp4"==r.mimeType,d=null,i.ba&&(d=i.ba.timescale),(f=l&&d&&"video"===r.type&&"DASH"==e.l.type)&&(c=new xa),f&&c.box("moof",Sa).box("traf",Sa).R("tfdt",(function(n){var r,a,o,s,u;return D((function(c){return r=Uo(n.reader,n.version),(a=r.baseMediaDecodeTime)?(o=-a/d,(Number(t.Xd)||0)<o?(s=t.Wd,u=t.Vd,w(c,Bu(e,t,o,s,u,i),0)):c.u(0)):c.return()}))})),f&&c.parse(a,!1,o)),w(h,$u(e,t,n),2);case 2:return ha(e.m),p=t.Vc,t.Vc=!1,w(h,e.g.mg(t.type,a),3);case 3:return w(h,ws(e.g.ca,t.type,a,i,r,u,p,s,o),4);case 4:ha(e.m),x(h)}}))}function $u(e,t,n){var r,i,a,o;return D((function(s){return 1==s.g?((r=t.stream.segmentIndex)instanceof ru&&r.Ia(e.l.presentationTimeline.Kb()),i=Math.max(e.h.bufferBehind*e.B,e.l.presentationTimeline.h),null==(a=ms(e.g.ca,t.type))?(e.C==t&&(e.C=null),s.return()):(o=n-a-i)<=e.h.evictionGoal?s.return():w(s,e.g.ca.remove(t.type,a,a+o),2)):4!=s.g?(ha(e.m),e.C?w(s,$u(e,e.C,n),4):s.u(0)):(ha(e.m),void x(s))}))}function zu(e){return e&&e.type==yr&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function Hu(e,t,n,r){var i,a,o,s,u;return D((function(c){switch(c.g){case 1:if(i=n.pc())return c.return(i);if(a=null,t.W){var l=t.W,d=l.h;n instanceof go&&(d=l.j),d.has(n)?(l=d.get(n),r&&(l.Yf=r),a=l.vd):a=null}return a||(a=qu(n,t.stream,r||null,e.h.retryParameters,e.g.Ob)),o=0,t.ha&&(o=t.ha.h),t.mb=a,w(c,a.promise,2);case 2:if(s=c.h,t.mb=null,u=s.data,!n.aesKey){c.u(3);break}return w(c,_u(u,n.aesKey,o),4);case 4:u=c.h;case 3:return c.return(u)}}))}function qu(e,t,n,r,i,a){a=void 0!==a&&a;var o=e instanceof mo?e:void 0,s=o?1:0;return(e=Pu(e.N(),e.Ka,e.ua,r,n)).contentType=t.type,i.request(la,e,{type:s,stream:t,segment:o,isPreload:a})}function Ku(e,t,n,r){var i,a;return D((function(o){return 1==o.g?(t.jc=!1,t.De=!1,t.Jd=0,t.$c=!0,t.Sa=null,t.ha=null,t.W&&!e.o.has(t.stream)&&yu(t.W),r?(i=e.g.fd(),a=e.g.ca.getDuration(),w(o,e.g.ca.remove(t.type,i+r,a),3)):w(o,xs(e.g.ca,t.type),4)):3!=o.g?(ha(e.m),n?w(o,e.g.ca.flush(t.type),3):o.u(3)):(ha(e.m),t.$c=!1,t.endOfStream=!1,t.Ea||t.eb||Gu(e,t,0),void x(o))}))}function Gu(t,n,r){var i=n.type;(i!=yr||t.i.has(i))&&(n.eb=new Fe((function(){var r;return D((function(i){return 1==i.g?(S(i,2),w(i,function(t,n){var r,i,a,o,s,u;return D((function(l){switch(l.g){case 1:if(ha(t.m),n.Ea||null==n.eb||n.$c)return l.return();if(n.eb=null,!n.jc){l.u(2);break}return w(l,Ku(t,n,n.De,n.Jd),3);case 3:return l.return();case 2:if(function(e,t){for(var n=c(e.G.entries()),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,r.includes(t.type)&&(i(),e.G.delete(r))}}(t,n),n.stream.segmentIndex){l.u(4);break}return r=n.stream,S(l,5),w(l,n.stream.createSegmentIndex(),7);case 7:k(l,6);break;case 5:return i=C(l),w(l,Yu(t,n,i),8);case 8:return l.return();case 6:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.Ea||n.eb||Gu(t,n,0),l.return();case 4:S(l,9),a=function(t,n){if(zu(n))return function(e,t){var n=ys(e,"video")||0;jr(e.i,t,n)}(t.g.ca,n.stream.originalId||""),null;if(n.type==yr&&function(e){e.i&&jr(e.i,"",0)}(t.g.ca),n.stream.isAudioMuxedInVideo)return null;if(!function(e){return e.ra&&!e.$}(t.g.ca)&&n.type!=yr)return t.h.updateIntervalSeconds/2;var r=t.g.fd();if("audio"===n.type)for(var i=c(t.o.keys()),a=i.next();!a.done;a=i.next())(a=t.o.get(a.value)).Ia(r,!0),gu(a,r);i=n.Sa?n.Sa.endTime:r;var o=function(e,t,n){return t==yr?null==(e=e.i).h||e.h<n?0:e.h-Math.max(n,e.g):ko(e=bs(e,t),n)}(t.g.ca,n.type,r),s=Math.max(1,Math.max(t.l.minBufferTime||0,t.h.rebufferingGoal,t.h.bufferingGoal)*t.B),u=t.l.presentationTimeline.getDuration()-i;if(a=ys(t.g.ca,n.type),1e-6>u&&a)return n.endOfStream=!0,"video"==n.type&&(t=t.i.get(yr))&&zu(t)&&(t.endOfStream=!0),null;if(n.endOfStream=!1,o>=s)return t.h.updateIntervalSeconds/2;if(s=!n.ha,a=function(e,t,n,r){if(t.ha)return t.ha.current();if(t.Sa||r)return n=t.Sa?t.Sa.endTime:r,e=0>e.g.ib(),t.stream.segmentIndex&&(t.ha=t.stream.segmentIndex.Jb(n,!1,e)),t.ha&&t.ha.next().value;r=e.l.sequenceMode?0:e.h.inaccurateManifestTolerance;var i=Math.max(n-r,0);e=0>e.g.ib();var a=null;return r&&(t.stream.segmentIndex&&(t.ha=t.stream.segmentIndex.Jb(i,!1,e)),a=t.ha&&t.ha.next().value),a||(t.stream.segmentIndex&&(t.ha=t.stream.segmentIndex.Jb(n,!1,e)),a=t.ha&&t.ha.next().value),a}(t,n,r,a),!a)return t.h.updateIntervalSeconds;o=!1,s&&n.jg&&(o=!0,n.jg=!1),s=1/0;for(var l=(u=c(u=Array.from(t.i.values()))).next();!l.done;l=u.next())zu(l=l.value)||l.ha&&!l.ha.current()||(s=Math.min(s,l.Sa?l.Sa.endTime:r));return i>=s+t.l.presentationTimeline.h?t.h.updateIntervalSeconds:(n.W&&n.ha&&!t.o.has(n.stream)&&(n.W.Ia(a.startTime),gu(n.W,a.startTime)),function(t,n,r,i,a){var o,s,u,c,l,d,f,p,h,g,v,m,y,b,T;return D((function(A){switch(A.g){case 1:if(o=br,s=n.stream,u=n.ha,n.Ea=!0,S(A,2),2==i.ac())throw new Pe(1,1,1011);return w(A,function(e,t,n,r){var i,a,o,s,u,c,l,d,f,p,h,g,v,m,y,b;return D((function(x){switch(x.g){case 1:if(i=br,a=null==t.Sa,o=[],s=Math.max(0,Math.max(n.appendWindowStart,e.O)-.1),u=Math.min(n.appendWindowEnd,e.M)+.01,c=n.codecs||t.stream.codecs,l=Mr(c),d=_r(n.mimeType||t.stream.mimeType),(f=n.timestampOffset)==t.Xd&&s==t.Wd&&u==t.Vd&&l==t.yf&&d==t.zf){x.u(2);break}if(p=t.yf&&t.zf&&function(e,t,n,r){if(t==yr)var i=!1;else{i=Ir(Pr(e.G[t]));var a=_r(e.G[t]),o=Tr(n,r),s=e.A.forceTransmux;(!ne(o)||!e.C&&Nr.includes(o))&&(s=!0),n=kr(n,r),s&&(s=On(n))&&(o=(s=s()).convertCodecs(t,n),s.destroy()),t=Ir(Pr(o)),o=_r(o),i=i!==t||a!==o}return!!i&&("smooth"!==e.A.codecSwitchingStrategy||!re()||e.o)}(e.g.ca,t.type,d,c),!p){x.u(3);break}if(h=null,t.type===i.la?h=e.i.get(i.Y):t.type===i.Y&&(h=e.i.get(i.la)),!h){x.u(3);break}return w(x,Wu(h).catch((function(){})),5);case 5:h.Mc=null,Uu(e,h);case 3:return w(x,Bu(e,t,f,s,u,n,l,d),2);case 2:return vo(n.ba,t.Mc)||(t.Mc=n.ba,n.l&&n.ba&&(g=Hu(e,t,n.ba),v=function(){var a,o,s,u,c,l;return D((function(d){switch(d.g){case 1:return S(d,2),w(d,g,4);case 4:return a=d.h,ha(e.m),o=null,s=new Map,u={projection:null,hfov:null},(new xa).box("moov",Sa).box("trak",Sa).box("mdia",Sa).R("mdhd",(function(e){o=jo(e.reader,e.version).timescale})).box("hdlr",(function(e){switch((e=e.reader).skip(8),e.wc()){case"soun":s.set(i.Y,o);break;case"vide":s.set(i.la,o)}o=null})).box("minf",Sa).box("stbl",Sa).R("stsd",Ta).box("encv",ka).box("avc1",ka).box("avc3",ka).box("hev1",ka).box("hvc1",ka).box("dvav",ka).box("dva1",ka).box("dvh1",ka).box("dvhe",ka).box("dvc1",ka).box("dvi1",ka).box("vexu",Sa).box("proj",Sa).R("prji",(function(e){e=e.reader.wc(),u.projection=e})).box("hfov",(function(e){e=e.reader.P()/1e3,u.hfov=e})).parse(a),function(e,t){if(e.H.projection!=t.projection||e.H.hfov!=t.hfov){if(null!=t.projection||null!=t.hfov){var n=(new Map).set("detail",t);n=new Yi("spatialvideoinfo",n)}else n=new Yi("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.H=t}}(e,u),s.has(t.type)?n.ba.timescale=s.get(t.type):null!=o&&(n.ba.timescale=o),c=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,w(d,e.g.mg(t.type,a),5);case 5:return w(d,ws(e.g.ca,t.type,a,null,t.stream,c,t.Vc,r),6);case 6:k(d,0);break;case 2:throw l=C(d),t.Mc=null,l}}))},m=n.startTime,a&&null!=(y=ys(e.g.ca,t.type))&&(m=y),e.g.Ei(m,n.ba),o.push(v()))),b=t.Sa?t.Sa.i:null,n.i!=b&&o.push(function(e,t,n){var r;return D((function(i){return 1==i.g?t==(r=br).wa?i.return():(t==r.la&&(e.Ba=new zi),e.C?(As(e,t,(function(){return Ts(e,t)}),null),e.o&&As(e,r.Y,(function(){return Ts(e,r.Y)}),null),w(i,As(e,t,(function(){return ks(e,t,n)}),null),2)):i.return()):e.o?w(i,As(e,r.Y,(function(){return ks(e,r.Y,n)}),null),0):i.u(0)}))}(e.g.ca,t.type,n.startTime)),w(x,Promise.all(o),0)}}))}(t,n,i,a),4);case 4:return ha(t.m),t.A?A.return():(c="video/mp4"==s.mimeType||"audio/mp4"==s.mimeType,l=e.ReadableStream,t.h.lowLatencyMode&&t.l.isLowLatency&&l&&c&&("HLS"!=t.l.type||i.m)?(f=new Uint8Array(0),h=p=!1,v=function(e){var o,u,c;return D((function(l){switch(l.g){case 1:if(p)return l.return();if(h=!0,ha(t.m),t.A)return l.return();if(S(l,2),f=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(f,e),o=!1,u=0,(new xa).box("mdat",(function(e){u=e.size+e.start,o=!0})).parse(f,!1,!0),!o){l.u(4);break}return c=f.subarray(0,u),f=f.subarray(u),w(l,Vu(t,n,r,s,i,c,!0,a),5);case 5:n.W&&n.ha&&gu(n.W,i.startTime,!0);case 4:k(l,0);break;case 2:g=C(l),x(l)}}))},w(A,Hu(t,n,i,v),9)):w(A,Hu(t,n,i),7));case 7:return d=A.h,ha(t.m),t.A?A.return():(ha(t.m),n.jc?(n.Ea=!1,Gu(t,n,0),A.return()):w(A,Vu(t,n,r,s,i,d,!1,a),6));case 9:if(m=A.h,g)throw g;if(h){A.u(10);break}return p=!0,ha(t.m),t.A?A.return():n.jc?(n.Ea=!1,Gu(t,n,0),A.return()):w(A,Vu(t,n,r,s,i,m,!1,a),10);case 10:n.W&&n.ha&&gu(n.W,i.startTime,!0);case 6:if(ha(t.m),t.A)return A.return();n.Sa=i,u.next(),n.Ea=!1,n.Lf=!1,y=t.g.ca.zb(),b=y[n.type],JSON.stringify(b),n.jc||t.g.Ff(i,n.stream),Gu(t,n,0),k(A,0);break;case 2:if(T=C(A),ha(t.m,T),t.A)return A.return();if(n.Ea=!1,7001==T.code)n.Ea=!1,Xu(n),Gu(t,n,0),A.u(0);else{if(n.type!=o.wa||!t.h.ignoreTextStreamFailures)return 3017==T.code?w(A,function(e,t,n){var r,i,a;return D((function(o){if(1==o.g){if(Array.from(e.i.values()).some((function(e){return e!=t&&e.Lf})))return o.u(2);if(r=0===e.h.maxDisabledTime&&1011==n.code?1:e.h.maxDisabledTime,e.g.disableStream(t.stream,r))return o.return();if(20<(i=Math.round(100*e.B)))e.B-=.2;else{if(!(4<i))return t.jd=!0,e.A=!0,e.g.onError(n),o.return();e.B-=.04}return t.Lf=!0,a=e.g.fd(),w(o,$u(e,t,a),2)}Gu(e,t,4),x(o)}))}(t,n,T),0):(n.jd=!0,1==T.category&&n.W&&xu(n.W,i),T.severity=2,w(A,Yu(t,n,T),0));t.i.delete(o.wa),A.u(0)}}}))}(t,n,r,a,o).catch((function(){})),null)}(t,n),null!=a&&(Gu(t,n,a),n.jd=!1),k(l,10);break;case 9:return o=C(l),w(l,Yu(t,n,o),11);case 11:return l.return();case 10:if(s=Array.from(t.i.values()),!t.F||!s.every((function(e){return e.endOfStream}))){l.u(0);break}return w(l,t.g.ca.endOfStream(),13);case 13:ha(t.m),0!=(u=t.g.ca.getDuration())&&u<t.l.presentationTimeline.getDuration()&&t.l.presentationTimeline.bb(u),x(l)}}))}(t,n),4)):2!=i.g?k(i,0):(r=C(i),t.g&&t.g.onError(r),void x(i))}))})).Z(r))}function Xu(e){null!=e.eb&&(e.eb.stop(),e.eb=null)}function Wu(e){return D((function(t){return e.mb?w(t,e.mb.abort(),0):t.u(0)}))}function Yu(e,t,n){var r;return D((function(i){if(1==i.g)return w(i,$i(e.K),2);if(ha(e.m),1===n.category&&1003!=n.code){if(t.dc)return Lu(e,!1),i.return();r=0===e.h.maxDisabledTime&&1011==n.code?1:e.h.maxDisabledTime,n.handled=e.g.disableStream(t.stream,r),n.handled&&(n.severity=1)}n.handled&&1011==n.code||e.g.onError(n),n.handled||e.h.failureCallback(n),x(i)}))}function Ju(e,t,n){var r,i,a,o,s,u;return t=void 0!==t&&t,n=void 0===n||n,D((function(c){if(1==c.g){if(r=Date.now()/1e3,i=e.h.minTimeBetweenRecoveries,!t){if(!e.h.allowMediaSourceRecoveries||r-e.L<i)return c.return(!1);e.L=r}return a=br,(o=e.i.get(a.Y))&&(o.Mc=null,n&&Uu(e,o),Wu(o).catch((function(){})),o.ha&&o.ha.Nf()),(s=e.i.get(a.la))&&(s.Mc=null,n&&Uu(e,s),Wu(s).catch((function(){})),s.ha&&s.ha.Nf()),u=new Map,e.j.audio&&u.set(a.Y,e.j.audio),e.j.video&&u.set(a.la,e.j.video),w(c,_s(e.g.ca,u),2)}return!s||s.Ea||s.eb||Gu(e,s,0),!o||o.Ea||o.eb||Gu(e,o,0),c.return(!0)}))}function Zu(){}function Qu(e,t,n,r,i){var a,o=i in r,s=o?n.constructor==Object&&0==Object.keys(r).length:n.constructor==Object&&0==Object.keys(n).length,u=o||s,c=!0;for(a in t){var l=i+"."+a,d=o?r[i]:n[a];u||a in n?void 0===t[a]?void 0===d||u?delete e[a]:e[a]=Et(d):s?e[a]=t[a]:d.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=Et(d)),l=Qu(e[a],t[a],d,r,l),c=c&&l):typeof t[a]!=typeof d||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=d.constructor?(G("Invalid config, wrong type for "+l),c=!1):("function"==typeof n[a]&&n[a].length!=t[a].length&&X("Unexpected number of arguments for "+l),e[a]=t[a]):(G("Invalid config, unrecognized key "+l),c=!1)}return c}function ec(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function tc(e,t){return e&&t}function nc(e,t){function n(e){return Array.isArray(e)&&0===e.length}function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}return e=function e(t,i){return Object.keys(t).reduce((function(a,o){var s=t[o];return i.hasOwnProperty(o)?r(s)&&r(i[o])?(s=e(s,i[o]),(0<Object.keys(s).length||!r(s))&&(a[o]=s)):n(s)&&n(i[o])||Number.isNaN(s)&&Number.isNaN(i[o])||s!==i[o]&&(a[o]=s):a[o]=s,a}),{})}(e,t),function e(t){for(var i=c(Object.keys(t)),a=i.next();!a.done;a=i.next())r(t[a=a.value])&&0===Object.keys(t[a]).length||n(t[a])||"function"==typeof t[a]?delete t[a]:r(t[a])&&(e(t[a]),0===Object.keys(t[a]).length&&delete t[a])}(e),e}function rc(){}function ic(e){return new zn(e=ht(e)).Fb}function ac(e,t,n){function r(e){ye(a).setUint32(o,e.byteLength,!0),o+=4,a.set(ve(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new Pe(2,6,6015);var i;i="string"==typeof t?vt(t,!0):t,e=vt(e=ht(e),!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),o=0;return r(e),r(i),r(n),a}function oc(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,ac(e,n=ht(e).split("skd://").pop(),t))}function sc(e,t){2===e&&(t.headers["Content-Type"]="application/octet-stream")}function uc(){}function cc(){var t=1/0;navigator.connection&&navigator.connection.saveData&&(t=360);var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(e,t,n){return st()&&"skd"==t&&(t=n.serverCertificate,e=ac(e,n=ic(e),t)),e},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:He(),minHdcpVersion:"",ignoreDuplicateInitData:!at("Tizen 2")};(He()||Ze())&&n.preferredKeySystems.push("com.microsoft.playready");var r="reload",i=!1;!re()||qe()||Ze()||Je()||Ge()&&79===We()||!(!Xe()||Xe()&&rt()||Xe()&&at("Fuchsia"))||nt()&&ze()||(r="smooth",i=!0),i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps"},manifestPreprocessor:dc,manifestPreprocessorTXml:fc,sequenceMode:!1,multiTypeVariantsAllowed:i,useStreamOnceInPeriodFlattening:!1,updatePeriod:-1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:!(Ke()||at("Tizen 2")||Ge()&&38===We()||Ze()),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,updatePeriod:-1,allowLowLatencyByteRangeOptimization:!0},mss:{manifestPreprocessor:dc,manifestPreprocessorTXml:fc,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}};var a={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(e){return tc([e])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:.01,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:0,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,infiniteLiveStreamDuration:!1,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:Ze()||Je(),dontChooseCodecs:!1,shouldFixTimestampOffset:Ge()||qe()};(Ge()||qe()||Xe()||Qe())&&(a.stallSkip=0),qe()&&(a.gapPadding=2);var o={trackSelectionCallback:function(e){return D((function(t){return t.return(e)}))},downloadSizeCallback:function(e){var t;return D((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?w(n,navigator.storage.estimate(),3):n.return(!0):(t=n.h,n.return(t.usage+e<.95*t.quota))}))},progressCallback:function(e,t){return tc([e,t])},usePersistentLicense:!0,numberOfParallelDownloads:5};t={enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:20,minTimeToSwitch:Ye()?.5:0,preferNetworkInformationBandwidth:!1},r={codecSwitchingStrategy:r,addExtraFeaturesToSourceBuffer:function(e){return tc([e],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,modifyCueCallback:function(e,t){return tc([e,t])},dispatchAllEmsgBoxes:!1};var s=!1,u=!1,l=!0;it()&&(u=s=!0,l=!1);var d={drm:n,manifest:i,streaming:a,mediaSource:r,offline:o,abrFactory:function(){return new Ii},abr:t,autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[]},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1},ads:{customPlayheadTracker:s,skipPlayDetection:u,supportsMultipleMediaElements:l,disableHLSInterstitial:!1,disableDASHInterstitial:!1},ignoreHardwareResolution:!1};return o.trackSelectionCallback=function(t){return D((function(n){return n.return(function(t,n,r){var i=r;"AUTO"==i&&(i=e.matchMedia("(color-gamut: p3)").matches?"PQ":"SDR");var a=t.filter((function(e){return!("variant"!=e.type||e.hdr&&e.hdr!=i)}));r=[];var o=Zr(n,a.map((function(e){return e.language})));o&&(r=a.filter((function(e){return Xr(e.language)==o}))),0==r.length&&(r=a.filter((function(e){return e.primary}))),0==r.length&&(a.map((function(e){return e.language})),r=a);var s=r.filter((function(e){return e.height&&480>=e.height}));for(s.length&&(s.sort((function(e,t){return t.height-e.height})),r=s.filter((function(e){return e.height==s[0].height}))),n=[],r.length&&(a=Math.floor(r.length/2),r.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(r[a])),r=(t=c(t)).next();!r.done;r=t.next())(r=r.value).type!=yr&&"image"!=r.type||n.push(r);return n}(t,d.preferredAudioLanguage,d.preferredVideoHdrLevel))}))},d}function lc(e,t,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return Qu(e,t,n||cc(),r,"")}function dc(e){return tc([e],e)}function fc(e){return tc([e],e)}function pc(e,t,n,r){Qi.call(this),this.M=e,this.V=t,this.Ba=r.networkingEngine,this.B=n,this.o=null,this.xa=0,this.La=r.Ec,this.F=r.yi,this.Na=r.zi,this.g=r.config,this.j=this.G=this.h=null,this.ja=!1,this.H=r.Ji,this.na=!1,this.l=null,this.da=!1,this.i=this.C=null,this.aa=!1,this.L=new Map,this.ra=!1,this.Aa=r.Ii,this.$=new fu,this.fa=new zi,this.m=new zi,this.O=null,this.s=!1,this.Ha=r.Bh,this.ka=null,this.Ga=r.Ah,this.S=!1,this.K=[],this.I=[],this.A=!0}function hc(e,t,n){(e=t?e.I:e.K)?e.push(n):n()}function gc(e,t){if(e.O=t,e.S=!0,e.K)for(var n=(t=c(e.K)).next();!n.done;n=t.next())(n=n.value)();e.K=null}function vc(e){if(e.s)throw new Pe(2,7,7003)}function mc(e,t){e.dispatchEvent(new Yi("onstatechange",(new Map).set("state",t)))}function yc(e,t,n){var r,i,a,o,s;return D((function(u){return 1==u.g?(r=e.g.streaming.segmentPrefetchLimit||2,i=new pu(r,t,(function(t,n,r){return qu(t,n,r||null,e.g.streaming.retryParameters,e.Ba,e.A)}),!1),e.L.set(t.id,i),w(u,t.createSegmentIndex(),2)):(a=e.B||0,(s=(o=t.segmentIndex.Jb(a))?o.current():null)||(s=eu(t.segmentIndex)),s?n?s.ba?w(u,vu(i,s.ba),0):u.u(0):w(u,gu(i,s.startTime),0):u.u(0))}))}function bc(e,t){Qi.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{Cc:null,Bc:Sc,tc:function(e,t){return wc(n,"enter",e,t)}},{Cc:xc,Bc:Sc,tc:function(e,t){return wc(n,"enter",e,t)}},{Cc:Tc,Bc:Sc,tc:function(e,t){return wc(n,"enter",e,t)}},{Cc:Sc,Bc:xc,tc:function(e,t){return wc(n,"exit",e,t)}},{Cc:Sc,Bc:Tc,tc:function(e,t){return wc(n,"exit",e,t)}},{Cc:xc,Bc:Tc,tc:function(e,t){return wc(n,"skip",e,t)}},{Cc:Tc,Bc:xc,tc:function(e,t){return wc(n,"skip",e,t)}}],this.h=new Q,this.h.D(this.i,"regionremove",(function(e){n.g.delete(e.region)}))}function wc(e,t,n,r){t=new Yi(t,new Map([["region",n],["seeking",r]])),e.dispatchEvent(t)}Vs.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},Ks.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},(r=Xs.prototype).ready=function(){var e=this;Fs(this.h,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){!function(){if(null==e.g||0==e.g&&1/0!=e.h.duration)e.j=!0;else{var t=e.h.currentTime,n=e.g;0>e.g&&(n=Math.max(0,t+e.g)),t!=n?(e.i.va(e.h,"seeking",(function(){e.j=!0})),e.h.currentTime=n):e.j=!0}}()}))},r.release=function(){this.i&&(this.i.release(),this.i=null),this.h=null},r.Je=function(e){this.g=this.j?this.g:e},r.Cd=function(){return(this.j?this.h.currentTime:this.g)||0},r.ig=function(){return 0},r.hg=function(){return 0},r.Pg=function(){},(r=Ws.prototype).ready=function(){this.m.Ra(.25)},r.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.A=function(){}},r.Je=function(e){zs(this.h,e)},r.Cd=function(){var e=$s(this.h);return 0<this.i.readyState&&!this.i.paused?Zs(this,e):e},r.ig=function(){return this.o?this.o.o:0},r.hg=function(){return this.j.C},r.Pg=function(){this.j.Ff()},(r=Qs.prototype).getNumReferences=function(){return this.g.length},r.getNumEvicted=function(){return this.i},r.release=function(){this.o||(this.g=[],this.m&&this.m.stop(),this.m=null)},r.Bi=function(){this.o=!0},r.yb=function(e){for(var t=c(this.g),n=t.next();!n.done;n=t.next())e(n.value)},r.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var r=this.g[n],i=n<t?this.g[n+1].startTime:r.endTime;if(e>=r.startTime&&e<i)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},r.get=function(e){return 0==this.g.length||0>(e-=this.i)||e>=this.g.length?null:this.g[e]},r.offset=function(e){if(!this.o)for(var t=c(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},r.$d=function(e){if(!this.o&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter((function(e){return Math.round(1e3*e.startTime)/1e3<t})),this.g.push.apply(this.g,l(e))}},r.rd=function(e,t){var n=this;e=e.filter((function(e){return e.endTime>t&&(0==n.g.length||e.endTime>n.g[0].startTime)})),this.$d(e),this.Ia(t)},r.Ia=function(e){if(!this.o){var t=this.g.length;this.g=this.g.filter((function(t){return t.endTime>e})),this.i+=t-this.g.length}},r.Ic=function(e,t,n){if(n=void 0!==n&&n,!this.o){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;0!=this.g.length&&((t=new mo((e=this.g[this.g.length-1]).startTime,t,e.C,e.Ka,e.ua,e.ba,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.A,e.h,e.status,e.aesKey)).mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},r.ue=function(e,t){var n=this;this.o||(this.m&&this.m.stop(),this.m=new Be((function(){var e=t();e?n.g.push.apply(n.g,l(e)):(n.m.stop(),n.m=null)})),this.m.Ra(e))},Qs.prototype[Symbol.iterator]=function(){return this.Jb(0)},Qs.prototype.Jb=function(e,t,n){t=void 0!==t&&t,n=void 0!==n&&n;var r=this.find(e);if(null==r)return null;var i=this.get(r);n?r++:r--;var a=-1;if(i&&0<i.g.length)for(var o=i.g.length-1;0<=o;--o){var s=i.g[o];if(e>=s.startTime&&e<s.endTime){if(!t){for(;o&&!s.l;)o--,s=i.g[o];if(!s.l)return G("No independent partial segment found!"),null}n?r--:r++,a=o-1;break}}return new nu(this,r,a,n)},B("shaka.media.SegmentIndex",Qs),Qs.forSingleSegment=tu,Qs.prototype.getIteratorForTime=Qs.prototype.Jb,Qs.prototype.updateEvery=Qs.prototype.ue,Qs.prototype.fit=Qs.prototype.Ic,Qs.prototype.evict=Qs.prototype.Ia,Qs.prototype.mergeAndEvict=Qs.prototype.rd,Qs.prototype.offset=Qs.prototype.offset,Qs.prototype.get=Qs.prototype.get,Qs.prototype.find=Qs.prototype.find,Qs.prototype.markImmutable=Qs.prototype.Bi,Qs.prototype.release=Qs.prototype.release,Qs.prototype.getNumEvicted=Qs.prototype.getNumEvicted,Qs.prototype.getNumReferences=Qs.prototype.getNumReferences,(r=nu.prototype).Xc=function(e){this.reverse=e},r.Hh=function(){return this.h},r.current=function(){var e=this.i.get(this.h);return e&&0<e.g.length&&e.s&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.g.length?e.g[this.g]:e},r.next=function(){var e=this.i.get(this.h);return this.reverse?e&&0<e.g.length?(this.g--,0>this.g&&(this.h--,this.g=(e=this.i.get(this.h))&&0<e.g.length?e.g.length-1:0)):(this.h--,this.g=0):e&&0<e.g.length?(this.g++,e.s&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:e=this.current(),done:!e}},r.Nf=function(){var e=this.current();if(e.o&&!e.l&&(e=this.i.get(this.h))&&0<e.g.length)for(var t=e.g[this.g];t.l&&!(0>=this.g);)this.g--,t=e.g[this.g]},B("shaka.media.SegmentIterator",nu),nu.prototype.resetToLastIndependent=nu.prototype.Nf,nu.prototype.next=nu.prototype.next,nu.prototype.current=nu.prototype.current,nu.prototype.currentPosition=nu.prototype.Hh,nu.prototype.setReverse=nu.prototype.Xc,v(ru,Qs),(r=ru.prototype).clone=function(){var e=new ru;return e.h=this.h.slice(),e.i=this.i,e},r.release=function(){for(var e=c(this.h),t=e.next();!t.done;t=e.next())t.value.release();this.h=[]},r.yb=function(e){for(var t=c(this.h),n=t.next();!n.done;n=t.next())n.value.yb(e)},r.find=function(e){for(var t=this.i,n=c(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(e);if(null!=i)return i+t;t+=r.getNumEvicted()+r.getNumReferences()}return null},r.get=function(e){for(var t=this.i,n=c(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(e-t);if(i)return i;i=r.getNumReferences(),t+=r.getNumEvicted()+i}return null},r.offset=function(){},r.$d=function(){},r.Ia=function(e){for(var t=c(this.h),n=t.next();!n.done;n=t.next())n.value.Ia(e);for(;1<this.h.length&&0==this.h[0].getNumReferences();)e=this.h.shift(),this.i+=e.getNumEvicted(),e.release()},r.rd=function(){},r.Ic=function(){},r.ue=function(){},B("shaka.media.MetaSegmentIndex",ru),ru.prototype.updateEvery=ru.prototype.ue,ru.prototype.fit=ru.prototype.Ic,ru.prototype.mergeAndEvict=ru.prototype.rd,ru.prototype.evict=ru.prototype.Ia,ru.prototype.merge=ru.prototype.$d,ru.prototype.offset=ru.prototype.offset,ru.prototype.get=ru.prototype.get,ru.prototype.find=ru.prototype.find,ru.prototype.forEachTopLevelReference=ru.prototype.yb,ru.prototype.release=ru.prototype.release,iu.prototype.release=function(){this.set(this.oc()),this.h&&(this.h.stop(),this.h=null),this.g=null},iu.prototype.set=function(e){this.i=e,au(this)},iu.prototype.oc=function(){return this.g.oc()},ou.prototype.release=function(){this.i.stop();for(var e=c(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},pu.prototype.Ia=function(e,t){t=void 0!==t&&t;for(var n=c(this.h.keys()),r=n.next();!r.done;r=n.next())e>(r=r.value).endTime&&xu(this,r);t&&bu(this)},pu.prototype.Xc=function(e){this.o=e,this.g&&this.g.Xc(e)},Su.prototype.abort=function(){this.vd&&this.vd.abort()},v(ku,Qi),ku.prototype.release=function(){this.g.clear(),this.h.stop(),Qi.prototype.release.call(this)},v(Cu,Qi),Cu.prototype.release=function(){this.g.clear(),Qi.prototype.release.call(this)},Cu.prototype.j=function(e){for(var t=c(this.g.values()),n=t.next();!n.done;n=t.next()){var r=(n=n.value).Te;e:{for(var i=n.xd,a=i.length-1;0<=a;a--){var o=i[a];if(o.position<=e){i=o.Oc;break e}}i=null}a=i&&!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width),o=i&&r&&i.label&&r.label&&r.label!==i.label;var s=i&&r&&i.language&&r.language&&r.language!==i.language;r=i&&r&&i.roles&&r.roles&&!_e(r.roles,i.roles),(o||s||r)&&Au(this,e,i.contentType)&&(n.Te=i,r=new Yi("audiotrackchange",new Map([["quality",i],["position",e]])),this.dispatchEvent(r)),a&&Au(this,e,i.contentType)&&(n.Te=i,JSON.stringify(i),n=new Yi("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}},(r=Du.prototype).destroy=function(){return this.m.destroy()},r.configure=function(e){if(this.h=e,this.K=new Vi({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0),e.disableAudioPrefetch){var t=this.i.get("audio");t&&t.W&&(yu(t.W),t.W=null);for(var n=(t=c(this.o.keys())).next();!n.done;n=t.next())n=n.value,yu(this.o.get(n)),this.o.delete(n)}for(e.disableTextPrefetch&&(t=this.i.get(yr))&&t.W&&(yu(t.W),t.W=null),e.disableVideoPrefetch&&(t=this.i.get("video"))&&t.W&&(yu(t.W),t.W=null),n=(t=c(this.i.keys())).next();!n.done;n=t.next())(n=this.i.get(n.value)).W?(wu(n.W,e.segmentPrefetchLimit),0<e.segmentPrefetchLimit||(yu(n.W),n.W=null)):0<e.segmentPrefetchLimit&&(n.W=Fu(this,n.stream));e.disableAudioPrefetch||function(e){for(var t=e.h.segmentPrefetchLimit,n=e.h.prefetchAudioLanguages,r=c(e.l.variants),i=r.next(),a={};!i.done;a={pb:void 0},i=r.next())if(a.pb=i.value,a.pb.audio)if(e.o.has(a.pb.audio)){if(wu(i=e.o.get(a.pb.audio),t),!(0<t&&n.some(function(e){return function(t){return qr(e.pb.audio.language,t)}}(a)))){var o=e.i.get(a.pb.audio.type);i!==(o&&o.W)&&yu(i),e.o.delete(a.pb.audio)}}else 0>=t||!n.some(function(e){return function(t){return qr(e.pb.audio.language,t)}}(a))||!(i=Fu(e,a.pb.audio))||(a.pb.audio.segmentIndex||a.pb.audio.createSegmentIndex(),e.o.set(a.pb.audio,i))}(this)},r.start=function(e){var t=this;return D((function(n){if(1==n.g)return w(n,function(e,t){var n,r,i,a,o,s,u,l,d;return D((function(f){if(1==f.g){if(n=br,!e.j)throw new Pe(2,5,5006);return r=new Map,i=new Set,e.j.audio&&(r.set(n.Y,e.j.audio),i.add(e.j.audio)),e.j.video&&(r.set(n.la,e.j.video),i.add(e.j.video)),e.s&&(r.set(n.wa,e.s),i.add(e.s)),w(f,e.g.ca.init(r,e.l.sequenceMode,e.l.type,e.l.ignoreManifestTimestampsInSegmentsMode),2)}for(ha(e.m),e.updateDuration(),a=c(r.keys()),o=a.next();!o.done;o=a.next())s=o.value,u=r.get(s),e.i.has(s)||(l=ju(e,u),t.has(u.id)&&(hu(d=t.get(u.id),(function(t,n,r){return qu(t,n,r||null,e.h.retryParameters,e.g.Ob)})),l.W=d),e.i.set(s,l),Gu(e,l,0));x(f)}))}(t,e||new Map),2);ha(t.m),t.F=!0,x(n)}))},r.Vc=function(){if(this.g)for(var e=this.g.fd(),t=c(this.i.keys()),n=t.next();!n.done;n=t.next()){var r=n.value;n=this.i.get(r);var i=this.g.ca;if(!(i=r==yr?null!=(i=i.i).g&&null!=i.h&&e>=i.g&&e<i.h:To(i=bs(i,r),e))){if(n.W&&(n.W.g=null),"audio"===n.type)for(var a=(i=c(this.o.values())).next();!a.done;a=i.next())a.value.g=null;n.ha=null,(null!=ys(this.g.ca,r)||n.Ea)&&Uu(this,n),n.mb&&(n.mb.abort(),n.mb=null),r===yr&&(r=this.g.ca).H&&r.H.g(),n.Vc=!0}}},r.updateDuration=function(){var e=this.l.presentationTimeline.getDuration();1/0>e?this.g.ca.bb(e):this.g.ca.bb(this.h.infiniteLiveStreamDuration?1/0:Math.pow(2,32))},B("shaka.util.ConfigUtils",Zu),Zu.getDifferenceFromConfigObjects=nc,Zu.convertToConfigObject=ec,Zu.mergeConfigObjects=Qu,B("shaka.util.FairPlayUtils",rc),rc.commonFairPlayResponse=function(e,t){if(2===e){try{var n=ft(t.data)}catch(e){return}e=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),e=!0);try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,e=!0),r.CkcMessage&&(n=r.CkcMessage,e=!0),r.License&&(n=r.License,e=!0)}catch(e){}e&&(t.data=ge(ur(n)))}},rc.expressplayFairPlayRequest=function(e,t){sc(e,t)},rc.conaxFairPlayRequest=function(e,t){sc(e,t)},rc.ezdrmFairPlayRequest=function(e,t){sc(e,t)},rc.verimatrixFairPlayRequest=function(e,t){2===e&&(e=sr(e=ve(t.body)),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=gt("spc="+e))},rc.expressplayInitDataTransform=function(e,t,n){return oc(e,t,n)},rc.conaxInitDataTransform=function(t,n,r){if("skd"!==n)return t;n=r.serverCertificate,r=ht(t).split("skd://").pop().split("?").shift(),r=e.atob(r);var i=new ArrayBuffer(2*r.length);i=me(i);for(var a=0,o=r.length;a<o;a++)i[a]=r.charCodeAt(a);return ac(t,i,n)},rc.ezdrmInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,ac(e,n=ht(e).split(";").pop(),t))},rc.verimatrixInitDataTransform=function(e,t,n){return oc(e,t,n)},rc.initDataTransform=ac,rc.defaultGetContentId=ic,rc.isFairPlaySupported=function(){var e;return D((function(t){return 1==t.g?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},S(t,2),w(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):2!=t.g?t.return(!0):(C(t),t.return(!1))}))},B("shaka.util.PlayerConfiguration",uc),uc.mergeConfigObjects=lc,uc.createDefault=cc,v(pc,Qi),(r=pc.prototype).getStartTime=function(){return this.B},r.Kc=function(){return this.M},r.lf=function(){return this.h},r.getStats=function(){return this.$},r.start=function(){var e,t=this;D((function(n){switch(n.g){case 1:return w(n,Promise.resolve(),2);case 2:return S(n,3),w(n,function(e){var t,n,r,i;return D((function(a){switch(a.g){case 1:if(mc(e,"manifest-parser"),e.j||(e.G=co(e.M,e.V),e.j=e.G(),e.j.configure(e.g.manifest,(function(){return e.A}))),t=Date.now()/1e3,mc(e,"manifest"),e.h){a.u(2);break}return w(a,e.j.start(e.M,e.Na),3);case 3:e.h=a.h;case 2:return e.fa.resolve(),n=new Yi("manifestparsed",void 0),w(a,Promise.resolve(),4);case 4:if(e.dispatchEvent(n),0==e.h.variants.length)throw new Pe(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.h),r=Date.now()/1e3,i=r-t,e.$.H=i,x(a)}}))}(t),5);case 5:return vc(t),w(n,function(e){var t,n,r;return D((function(i){switch(i.g){case 1:if(mc(e,"drm-engine"),e.xa=Date.now()/1e3,e.l=e.La(),e.F.g=e.l,e.l.configure(e.g.drm,(function(){return e.A})),!ro(e.F,e.h)){i.u(2);break}return t=new Yi("trackschanged",void 0),w(i,Promise.resolve(),3);case 3:vc(e),e.dispatchEvent(t);case 2:return n=bi(e.h.variants),w(i,Na(e.l,n,e.h.offlineSessionIds),4);case 4:return vc(e),w(i,no(e.F,e.h),5);case 5:if(!i.h){i.u(0);break}return r=new Yi("trackschanged",void 0),w(i,Promise.resolve(),7);case 7:e.dispatchEvent(r),x(i)}}))}(t),6);case 6:return vc(t),w(n,function(e){var t,n,r,i,a,o;return D((function(s){return e.o||(e.o=new Oi(e.g.preferredAudioLanguage,e.g.preferredVariantRole,e.g.preferredAudioChannelCount,e.g.preferredVideoHdrLevel,e.g.preferSpatialAudio,e.g.preferredVideoLayout,e.g.preferredAudioLabel,e.g.preferredVideoLabel,e.g.mediaSource.codecSwitchingStrategy,"")),e.Ga&&(t=e.g.abrFactory,e.C=t,e.i=t(),e.i.configure(e.g.abr)),e.Ha?(n=e.h.presentationTimeline.U(),r=bi(e.h.variants),i=e.o.create(r),e.i.configure(e.g.abr),e.i.setVariants(Array.from(i.values())),(a=e.i.chooseVariant())?(o=[],e.ka=a,a.video&&o.push(yc(e,a.video,n)),a.audio&&o.push(yc(e,a.audio,n)),w(s,Promise.all(o),0)):s.u(0)):s.u(0)}))}(t),7);case 7:vc(t),t.m.resolve(),k(n,0);break;case 3:(e=C(n))instanceof Pe&&(7001==e.code||7003==e.code)||t.m.reject(e),x(n)}}))},r.dispatchEvent=function(e){return this.O?this.O.dispatchEvent(e):Qi.prototype.dispatchEvent.call(this,e)},r.onError=function(e){2===e.severity&&(this.m.reject(e),this.destroy());var t=(new Map).set("detail",e);t=new Yi("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)},r.configure=function(e,t){e=ec(e,t),lc(this.g,e)},r.getConfiguration=function(){return Et(this.g)},r.jj=function(){return this.m},r.destroy=function(){var e,t,n=this;return D((function(r){switch(r.g){case 1:if(n.s=!0,!n.j||n.ja){r.u(2);break}return w(r,n.j.stop(),2);case 2:if(!n.i||n.aa){r.u(4);break}return w(r,n.i.stop(),4);case 4:if(n.H&&!n.na&&n.H.release(),!n.l||n.da){r.u(6);break}return w(r,n.l.destroy(),6);case 6:if(0<n.L.size&&!n.ra)for(e=c(n.L.values()),t=e.next();!t.done;t=e.next())yu(t.value);x(r)}}))},B("shaka.media.PreloadManager",pc),pc.prototype.destroy=pc.prototype.destroy,pc.prototype.waitForFinish=pc.prototype.jj,v(bc,Qi),bc.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,Qi.prototype.release.call(this)},bc.prototype.j=function(e,t){if(!this.l||0!=e){this.l=!1;for(var n=c(this.i.g),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),a=e<r.startTime?xc:e>r.endTime?Tc:Sc;this.g.set(r,a);for(var o=c(this.m),s=o.next();!s.done;s=o.next())(s=s.value).Cc==i&&s.Bc==a&&s.tc(r,t)}}};var xc=1,Sc=2,Tc=3;function kc(e,t,n){var r,i,a,o,s,u,c;return D((function(l){switch(l.g){case 1:var d=new zn(e).Ua.split("/").pop().split(".");return r=1==d.length?"":d.pop().toLowerCase(),(i=Cc[r])?l.return(i):(a=0,o=aa([e],n),S(l,2),o.method="HEAD",w(l,t.request(a,o).promise,4));case 4:s=l.h,i=s.headers["content-type"],k(l,3);break;case 2:if(!(u=C(l))||1002!=u.code&&1001!=u.code){l.u(3);break}return o.method="GET",w(l,t.request(a,o).promise,6);case 6:c=l.h,i=c.headers["content-type"];case 3:return l.return(i?i.toLowerCase().split(";").shift():"")}}))}var Cc={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",ism:"application/vnd.ms-sstr+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav",sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"};function Ac(e,t){if(e.lineBreak)return"\n";if(e.nestedCues.length)return e.nestedCues.map((function(t){return Ac(t,e)})).join("");if(!e.payload)return e.payload;var n=[],r=e.fontWeight>=In,i=e.fontStyle==_n,a=e.textDecoration.includes(Dn);return r&&n.push(["b"]),i&&n.push(["i"]),a&&n.push(["u"]),""==(i=e.color)&&t&&(i=t.color),r="",(i=Ec(i))&&(r+="."+i),""==(i=e.backgroundColor)&&t&&(i=t.backgroundColor),(t=Ec(i))&&(r+=".bg_"+t),r&&n.push(["c",r]),n.reduceRight((function(e,t){var n=c(t);return"<"+(t=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+e+"</"+t+">"}),e.payload)}function Ec(e){var t=(e=e.toLowerCase()).replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(256|parseInt(t[1],10)).toString(16).slice(1)+(256|parseInt(t[2],10)).toString(16).slice(1)+(256|parseInt(t[3],10)).toString(16).slice(1):e.startsWith("#")&&7<e.length&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Ic(e,t){for(var n=[],r=(e=c(Mc(e))).next();!r.done;r=e.next())if((r=r.value).isContainer)n.push.apply(n,l(Ic(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=Ac(r,t),n.push(i)}return n}function Mc(e){for(var t=[],n=(e=c(e)).next(),r={};!n.done;r={Qe:void 0},n=e.next())r.Qe=n.value,t.some(function(e){return function(t){return ln(e.Qe,t)}}(r))||t.push(r.Qe);return t}function _c(e){function t(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch(e){}return"center"==e.textAlign&&"center"!=n.align&&(n.align="middle"),"vertical-lr"==e.writingMode?n.vertical="lr":"vertical-rl"==e.writingMode&&(n.vertical="rl"),1==e.lineInterpretation&&(n.snapToLines=!1),null!=e.line&&(n.line=e.line),null!=e.position&&(n.position=e.position),n}function Pc(e){if(1/0===e.endTime||e.endTime<e.startTime)return null;var t=new un(e.startTime,e.endTime,e.text);return t.line="number"==typeof e.line?e.line:null,e.lineAlign&&(t.lineAlign=e.lineAlign),t.lineInterpretation=e.snapToLines?Sn:1,t.position="number"==typeof e.position?e.position:null,e.positionAlign&&(t.positionAlign=e.positionAlign),t.size=e.size,t.textAlign=e.align,"lr"===e.vertical?t.writingMode="vertical-lr":"rl"===e.vertical&&(t.writingMode="vertical-rl"),e.region&&(t.region.id=e.region.id,t.region.height=e.region.lines,t.region.heightUnits=2,t.region.regionAnchorX=e.region.regionAnchorX,t.region.regionAnchorY=e.region.regionAnchorY,t.region.scroll=e.region.scroll,t.region.viewportAnchorX=e.region.viewportAnchorX,t.region.viewportAnchorY=e.region.viewportAnchorY,t.region.viewportAnchorUnits=Ce,t.region.width=e.region.width,t.region.widthUnits=Ce),dn(t),t}function Dc(e,t){this.g=null;for(var n=c(Array.from(e.textTracks)),r=n.next();!r.done;r=n.next())"metadata"!==(r=r.value).kind&&"chapters"!==r.kind&&(r.mode="disabled",r.label==t&&(this.g=r));this.g||(this.g=e.addTextTrack("subtitles",t)),this.g.mode="hidden"}function Lc(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=c(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}function Rc(){}function Nc(t,n,r){var i=this;document.fullscreenEnabled||X("Using UITextDisplayer in a browser without Fullscreen API support causes subtitles to not be rendered in fullscreen"),this.m=!1,this.h=[],this.A=t,this.s=n,this.l=null,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.s.appendChild(this.g),r&&r.captionsUpdatePeriod||oe("UITextDisplayer w/ config","Please migrate to initializing UITextDisplayer with a config."),this.C=new Be((function(){i.A.paused||jc(i)})).Ra(r&&r.captionsUpdatePeriod?r.captionsUpdatePeriod:.25),this.i=new Map,this.j=new Q,this.j.D(document,"fullscreenchange",(function(){jc(i,!0)})),this.j.D(this.A,"seeking",(function(){jc(i,!0)})),this.j.D(this.A,"resize",(function(){var e=i.A,t=e.videoWidth;e=e.videoHeight,i.l=t&&e?t/e:null})),this.o=null,"ResizeObserver"in e&&(this.o=new ResizeObserver((function(){jc(i,!0)})),this.o.observe(this.g)),this.B=new Map}function Oc(e,t){for(;null!=t;){if(t==e.g)return!0;t=t.parentElement}return!1}function Uc(e,t,n,r,i){for(var a=!1,o=[],s=[],u=(t=c(t)).next();!u.done;u=t.next()){u=u.value,i.push(u);var l=e.i.get(u),d=u.startTime<=r&&u.endTime>r,f=l?l.th:null;l&&(o.push(l.Se),l.yc&&o.push(l.yc),d||(a=!0,e.i.delete(u),l=null)),d&&(s.push(u),l?Oc(e,f)||(a=!0):(Fc(e,u,i),f=(l=e.i.get(u)).th,a=!0)),0<u.nestedCues.length&&f&&Uc(e,u.nestedCues,f,r,i),i.pop()}if(a){for(i=(r=c(o)).next();!i.done;i=r.next())(i=i.value).parentElement&&i.parentElement.removeChild(i);for(s.sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),r=(s=c(s)).next();!r.done;r=s.next())(r=e.i.get(r.value)).yc?(r.yc.contains(n)&&r.yc.removeChild(n),n.appendChild(r.yc),r.yc.appendChild(r.Se)):n.appendChild(r.Se)}}function jc(e,t){if(e.g){var n=e.A.currentTime;if(!e.m||void 0!==t&&t){for(var r=(t=c(e.B.values())).next();!r.done;r=t.next())Io(r.value);Io(e.g),e.i.clear(),e.B.clear()}e.m&&Uc(e,e.h,e.g,n,[])}}function Fc(e,t,n){var r=1<n.length,i=r?"span":"div";t.lineBreak&&(i="br"),t.rubyTag&&(i=t.rubyTag),r=!r&&0<t.nestedCues.length;var a=document.createElement(i);if("br"!=i&&function(e,t,n,r,i){var a=t.style,o=0==n.nestedCues.length,s=1<r.length;a.whiteSpace="pre-wrap";var u=n.payload.replace(/\s+$/g,(function(e){return" ".repeat(e.length)}));if(a.webkitTextStrokeColor=n.textStrokeColor,a.webkitTextStrokeWidth=n.textStrokeWidth,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=Bc(n.linePadding,n,e.s),a.paddingRight=Bc(n.linePadding,n,e.s),a.textCombineUpright=n.textCombineUpright,a.textShadow=n.textShadow,n.backgroundImage)a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",n.backgroundColor&&(a.backgroundColor=n.backgroundColor),a.width="100%",a.height="100%";else{if(n.nestedCues.length)var c=t;else c=document.createElement("span"),t.appendChild(c);n.border&&(c.style.border=n.border),i||((t=function(e,t){for(var n=e.length-1;0<=n;n--){var r=t(e[n]);if(r||0===r)return r}return null}(r,(function(e){return e.backgroundColor})))?c.style.backgroundColor=t:u&&(c.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(c.textContent=u)}s&&!r[r.length-1].isContainer?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center","left"==n.textAlign||"start"==n.textAlign?(a.width="100%",a.alignItems="start"):"right"!=n.textAlign&&"end"!=n.textAlign||(a.width="100%",a.alignItems="end"),a.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end"),o||(a.margin="0"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=Bc(n.fontSize,n,e.s),null!=(r=n.line)&&((o=n.lineInterpretation)==Sn&&(o=1,s=16,e.l&&1>e.l&&(s=32),r=0>r?100+r/s*100:r/s*100),1==o&&(a.position="absolute",n.writingMode==xn?(a.width="100%",n.lineAlign==Tn?a.top=r+"%":"end"==n.lineAlign&&(a.bottom=100-r+"%")):"vertical-lr"==n.writingMode?(a.height="100%",n.lineAlign==Tn?a.left=r+"%":"end"==n.lineAlign&&(a.right=100-r+"%")):(a.height="100%",n.lineAlign==Tn?a.right=r+"%":"end"==n.lineAlign&&(a.left=100-r+"%")))),a.lineHeight=n.lineHeight,e=function(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==gn?n:"left"===e||"start"===e&&t===wn||"end"===e&&"rtl"===t?"line-left":"right"===e||"start"===e&&"rtl"===t||"end"===e&&t===wn?"line-right":"center"}(n),"line-left"==e?(a.cssFloat="left",null!==n.position&&(a.position="absolute",n.writingMode==xn?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%")):"line-right"==e?(a.cssFloat="right",null!==n.position&&(a.position="absolute",n.writingMode==xn?(a.right=100-n.position+"%",a.width="auto"):a.bottom=n.position+"%")):null!==n.position&&50!=n.position&&(a.position="absolute",n.writingMode==xn?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%"),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==xn?a.width=n.size+"%":a.height=n.size+"%")}(e,a,t,n,r),n=null,t.region&&t.region.id){var o=t.region,s=e.l===4/3?2.5:1.9;if(n=o.id+"_"+o.width+"x"+o.height+(o.heightUnits==Ce?"%":"px")+"-"+o.viewportAnchorX+"x"+o.viewportAnchorY+(o.viewportAnchorUnits==Ce?"%":"px"),e.B.has(n))n=e.B.get(n);else{i=document.createElement("span");var u=o.heightUnits==Ce?"%":"px",c=o.widthUnits==Ce?"%":"px",l=o.viewportAnchorUnits==Ce?"%":"px";i.id="shaka-text-region---"+n,i.classList.add("shaka-text-region"),i.style.position="absolute";var d=o.height,f=o.width;2===o.heightUnits&&(d=5.33*o.height,u="%"),2===o.widthUnits&&(f=o.width*s,c="%"),i.style.height=d+u,i.style.width=f+c,2===o.viewportAnchorUnits?(s=o.viewportAnchorY/75*100,u=o.viewportAnchorX/(e.l===4/3?160:210)*100,s-=o.regionAnchorY*d/100,u-=o.regionAnchorX*f/100,i.style.top=s+"%",i.style.left=u+"%"):(i.style.top=o.viewportAnchorY-o.regionAnchorY*d/100+l,i.style.left=o.viewportAnchorX-o.regionAnchorX*f/100+l),0!==o.heightUnits&&0!==o.widthUnits&&0!==o.viewportAnchorUnits&&(o=Math.max(0,Math.min(100-(parseInt(i.style.width.slice(0,-1),10)||0),parseInt(i.style.left.slice(0,-1),10)||0)),i.style.top=Math.max(0,Math.min(100-(parseInt(i.style.height.slice(0,-1),10)||0),parseInt(i.style.top.slice(0,-1),10)||0))+"%",i.style.left=o+"%"),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent="before"==t.displayAlign?"flex-start":"center"==t.displayAlign?"center":"flex-end",e.B.set(n,i),n=i}}i=a,r&&((i=document.createElement("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=t.backgroundColor,i.style.lineHeight="normal",a.appendChild(i)),e.i.set(t,{Se:a,th:i,yc:n})}function Bc(e,t,n){var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return e;var i=r.value;switch(r.unit){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return e}}function Vc(e,t){this.h=e,this.g=t,this.i=void 0,this.l=!1,this.o=!0,this.j=this.m=!1}function $c(t){return t.g.sessionId||(t.g.sessionId=e.crypto.randomUUID()),{v:1,sf:t.i,sid:t.g.sessionId,cid:t.g.contentId,mtp:t.h.getBandwidthEstimate()/1e3}}function zc(e,t,n){n=void 0===n?{}:n;var r=void 0===r?e.g.useHeaders:r;if(e.g.enabled){Object.assign(n,$c(e)),n.pr=e.h.ib();var i=n.ot===Wc||n.ot===Yc;if(e.m&&i&&(n.bs=!0,n.su=!0,e.m=!1),null==n.su&&(n.su=e.o),e=function(e,t){var n=e.g.includeKeys;return n.length?Object.keys(t).reduce((function(e,r){return n.includes(r)&&(e[r]=t[r]),e}),{}):t}(e,n),r)r=function(e){for(var t=Object.keys(e),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},o=(t=c(t)).next();!o.done;o=t.next())i[null!=a[o=o.value]?a[o]:1][o]=e[o];for(e=0;e<i.length;e++)(a=qc(i[e]))&&(n["CMCD-"+r[e]]=a);return n}(e),Object.keys(r).length&&Object.assign(t.headers,r);else{var a=qc(e);a&&(t.uris=t.uris.map((function(e){return Kc(e,a)})))}}}function Hc(e,t){if(!(t=e.h.zb()[t]).length)return 0;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):0}function qc(e){function t(e){return 100*n(e/100)}function n(e){return Math.round(e)}for(var r,i=[],a={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(e){return encodeURIComponent(e)},rtp:t,tb:n},o=Object.keys(e||{}).sort(),s=(o=c(o)).next();!s.done;s=o.next()){var u=e[s=s.value];if(r=u,!(Number.isNaN(r)||null==r||""===r||!1===r||"v"===s&&1===u||"pr"==s&&1===u)){var l,d=a[s];d&&(u=d(u)),l="string"==(d=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===d?s:"symbol"===d?s+"="+u.description:s+"="+u,i.push(l)}}return i.join(",")}function Kc(e,t){return!t||e.includes("offline:")?e:((e=new zn(e)).g.set("CMCD",t),e.toString())}(r=Dc.prototype).configure=function(){},r.remove=function(e,t){return!!this.g&&(Lc(this.g,(function(n){return n.startTime<t&&n.endTime>e})),!0)},r.append=function(e){var t=Ic(e),n=[];e=this.g.cues?Array.from(this.g.cues):[];for(var r=(t=c(t)).next(),i={};!r.done;i={Lc:void 0},r=t.next())i.Lc=r.value,!e.some(function(e){return function(t){return t.startTime==e.Lc.startTime&&t.endTime==e.Lc.endTime&&t.text==e.Lc.payload}}(i))&&i.Lc.payload&&(r=_c(i.Lc))&&n.push(r);for(t=(e=c(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!t.done;t=e.next())this.g.addCue(t.value)},r.destroy=function(){return this.g&&(Lc(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=null,Promise.resolve()},r.isTextVisible=function(){return"showing"==this.g.mode},r.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"},r.setTextLanguage=function(){},B("shaka.text.SimpleTextDisplayer",Dc),Dc.prototype.setTextLanguage=Dc.prototype.setTextLanguage,Dc.prototype.setTextVisibility=Dc.prototype.setTextVisibility,Dc.prototype.isTextVisible=Dc.prototype.isTextVisible,Dc.prototype.destroy=Dc.prototype.destroy,Dc.prototype.append=Dc.prototype.append,Dc.prototype.remove=Dc.prototype.remove,Dc.prototype.configure=Dc.prototype.configure,(r=Rc.prototype).configure=function(){},r.remove=function(){},r.append=function(){},r.destroy=function(){},r.isTextVisible=function(){return!1},r.setTextVisibility=function(){},r.setTextLanguage=function(){},B("shaka.text.StubTextDisplayer",Rc),Rc.prototype.setTextLanguage=Rc.prototype.setTextLanguage,Rc.prototype.setTextVisibility=Rc.prototype.setTextVisibility,Rc.prototype.isTextVisible=Rc.prototype.isTextVisible,Rc.prototype.destroy=Rc.prototype.destroy,Rc.prototype.append=Rc.prototype.append,Rc.prototype.remove=Rc.prototype.remove,Rc.prototype.configure=Rc.prototype.configure,(r=Nc.prototype).configure=function(e){this.C&&this.C.Ra(e.captionsUpdatePeriod)},r.append=function(e){for(var t=[].concat(l(this.h)),n=(e=c(Mc(e))).next(),r={};!n.done;r={Re:void 0},n=e.next())r.Re=n.value,t.some(function(e){return function(t){return ln(t,e.Re)}}(r))||this.h.push(r.Re);jc(this)},r.destroy=function(){return this.g?(this.s.removeChild(this.g),this.g=null,this.m=!1,this.h=[],this.C&&this.C.stop(),this.i.clear(),this.j&&(this.j.release(),this.j=null),this.o&&(this.o.disconnect(),this.o=null),Promise.resolve()):Promise.resolve()},r.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter((function(n){return n.startTime<e||n.endTime>=t})),jc(this,n>this.h.length),!0},r.isTextVisible=function(){return this.m},r.setTextVisibility=function(e){this.m=e,jc(this,!0)},r.setTextLanguage=function(e){e&&"und"!=e?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},B("shaka.text.UITextDisplayer",Nc),Nc.prototype.setTextLanguage=Nc.prototype.setTextLanguage,Nc.prototype.setTextVisibility=Nc.prototype.setTextVisibility,Nc.prototype.isTextVisible=Nc.prototype.isTextVisible,Nc.prototype.remove=Nc.prototype.remove,Nc.prototype.destroy=Nc.prototype.destroy,Nc.prototype.append=Nc.prototype.append,Nc.prototype.configure=Nc.prototype.configure,B("shaka.text.WebVttGenerator",(function(){})),Vc.prototype.configure=function(e){this.g=e};var Gc="m",Xc="a",Wc="v",Yc="av",Jc="i",Zc="c",Qc="tt",el="d",tl="ld",nl="h",rl="lh";function il(e){this.h=e,this.g=null}function al(e){return!e||"false"!==e.toLowerCase()&&(/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}B("shaka.util.CmcdManager.StreamingFormat",{DASH:el,Dj:tl,HLS:nl,Ej:rl,Rj:"s",OTHER:"o"}),(r=il.prototype).configure=function(e){this.h=e},r.Cg=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(sl)?1e3*this.g.get(sl):null},r.Ag=function(){return this.h.enabled&&this.g&&this.g.has(ol)?1e3*this.g.get(ol):null},r.bi=function(){return this.h.enabled&&this.g&&this.g.has(ul)?this.g.get(ul):null},r.ci=function(){return this.h.enabled&&this.g&&this.g.has(cl)?this.g.get(cl):null},r.getBandwidthEstimate=function(e){var t=this.Ag();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return 0<n&&1>=n?e*(1-n)+t*n:e},B("shaka.util.CmsdManager",il),il.prototype.getBandwidthEstimate=il.prototype.getBandwidthEstimate,il.prototype.getRoundTripTime=il.prototype.ci,il.prototype.getResponseDelay=il.prototype.bi,il.prototype.getEstimatedThroughput=il.prototype.Ag,il.prototype.getMaxBitrate=il.prototype.Cg;var ol="etp",sl="mb",ul="rd",cl="rtt";function ll(){this.g=null,this.h=[]}function dl(e,t){return D((function(n){if(1==n.g)return e.g?w(n,new Promise((function(t){return e.h.push(t)})),2):n.u(2);e.g=t,x(n)}))}function fl(t,n,r){n=void 0===n?null:n,Qi.call(this);var i=this;this.m=ud,this.h=null,this.ie=n,this.na=!1,this.Ae=new Q,this.od=new Q,this.l=new Q,this.Ha=new Q,this.Gb=new Q,this.F=this.I=this.C=this.G=null,this.Ee=0,this.aa=new ll,this.ka=this.La=this.$=this.i=this.Na=this.H=this.j=this.bc=this.L=this.gg=this.fa=this.O=this.md=this.M=this.je=this.K=this.Ib=null,this.Aa=!1,this.xa=this.o=null,this.fg=1e9,this.ud=[],this.V=NaN,this.g=Ul(this),this.S=null,this.Fe=-1,this.Ga=null,this.ja={width:1/0,height:1/0},this.ge=new to(this.g,this.ja,null),this.re=[],this.A=null,this.Ba=new Oi(this.g.preferredAudioLanguage,this.g.preferredVariantRole,this.g.preferredAudioChannelCount,this.g.preferredVideoHdrLevel,this.g.preferSpatialAudio,this.g.preferredVideoLayout,this.g.preferredAudioLabel,this.g.preferredVideoLabel,this.g.mediaSource.codecSwitchingStrategy,""),this.Hb=this.g.preferredTextLanguage,this.sd=this.g.preferredTextRole,this.qd=this.g.preferForcedSubs,this.pd=[],r&&r(this),this.O=function(e){return new Vc({getBandwidthEstimate:function(){return e.o?e.o.getBandwidthEstimate():NaN},zb:function(){return e.zb()},getCurrentTime:function(){return e.h?e.h.currentTime:0},ib:function(){return e.ib()},Ab:function(){return e.Ab()},rc:function(){return e.rc()},U:function(){return e.U()}},e.g.cmcd)}(this),this.fa=new il(this.g.cmsd),this.G=Cl(this),this.G.Uf(this.g.streaming.forceHTTP),this.G.Vf(this.g.streaming.forceHTTPS),this.G.m=this.g.streaming.minBytesForProgressEvents,this.Lb=this.da=this.s=null,this.He=!1,this.Ge=new Be((function(){return D((function(e){return 1==e.g?i.da?w(e,i.Ub(i.Lb,!0),3):e.u(0):4!=e.g?w(e,i.load(i.da),4):(i.He?i.Lb.pause():i.Lb.play(),i.da=null,i.He=!1,void x(e))}))})),pd&&(this.s=pd(),this.s.configure(this.g.ads),this.Gb.D(this.s,"ad-content-pause-requested",(function(e){var t;return D((function(n){if(1==n.g)return i.Ge.stop(),i.da?n.u(0):(i.Lb=i.h,i.He=i.h.ended,t=e.saveLivePosition||!1,w(n,i.tg(!0,t),3));i.da=n.h,x(n)}))})),this.Gb.D(this.s,"ad-content-resume-requested",(function(e){if(e=e.offset||0,i.da){var t=i.da;t.B&&e&&(t.B+=e)}i.Ge.Z(.1)})),this.Gb.D(this.s,"ad-content-attach-requested",(function(){return D((function(e){return i.h||!i.Lb?e.u(0):w(e,i.Ub(i.Lb,!0),0)}))}))),this.Ae.D(e,"online",(function(){Zl(i),i.Of()})),this.le=new Be((function(){for(var e=Date.now()/1e3,t=!1,n=!0,r=c(i.i.variants),a=r.next();!a.done;a=r.next())0<(a=a.value).disabledUntilTime&&a.disabledUntilTime<=e&&(a.disabledUntilTime=0,t=!0),0<a.disabledUntilTime&&(n=!1);n&&i.le.stop(),t&&zl(i,!1,void 0,!1,!1)})),this.ra=null,t&&(oe("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.Ub(t,!0)),this.B=null}function pl(e){null!=e.L&&(ls(e.L),e.L.release(),e.L=null)}function hl(e,t){return new Yi(e,t)}function gl(e,t){e.dispatchEvent(hl("onstatechange",(new Map).set("state",t)))}function vl(e,t){var n;return D((function(r){return 1==r.g?(n=++e.Ee,w(r,dl(e.aa,t),2)):n!=e.Ee?(e.aa.release(),r.return(!0)):r.return(!1)}))}function ml(e,t){var n,r;return t=void 0!==t&&t,D((function(i){if(1==i.g)return n=null,e.i&&e.H&&e.Na&&e.$?(r=e.h.currentTime,e.U()&&!t&&(r=null),w(i,bl(e,e.$,r,e.La,!0,!1,!1),3)):i.u(2);if(2!=i.g){n=i.h,e.re.push(n),e.H&&e.H.setMediaElement&&e.H.setMediaElement(null);var a=n,o=e.H,s=e.Na;a.h=e.i,a.j=o,a.G=s,a=n,o=e.xa,a.i=e.o,a.C=o,n.o=e.Ba,n.start(),e.i=null,e.H=null,e.Na=null,e.o=null,e.xa=null}return i.return(n)}))}function yl(e,t,n,r,i){var a,o,s;return i=void 0!==i&&i,D((function(u){return 1==u.g?r?u.u(2):w(u,wl(e,t),3):(2!=u.g&&(r=u.h),function(e,t){if(!Ve())return!0;if(t){if(""==(e.h||ot()).canPlayType(t))return!1;if(!Ve()||!(t in lo))return!0;if(Dr(t))return Ye()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls}return!1}(e,r)?u.return(null):(a=!1,o=!0,i&&(e.o&&e.xa==e.g.abrFactory&&(o=!1),e.h&&"AUDIO"===e.h.nodeName&&(a=!0)),s=bl(e,t,n,r||null,!i,a,o),s=i?s.then((function(e){return e.A=!1,e})):s.then((function(t){return e.re.push(t),t})),u.return(s)))}))}function bl(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,v,m,y,b,S;return i=void 0===i||i,a=void 0!==a&&a,o=void 0===o||o,D((function(T){return 1==T.g?(s=null,u=Et(e.g),a&&(u.manifest.disableVideo=!0),l=function(){return s.S&&s.s?null:s},d=function(){return l()?l().getConfiguration():e.g},f=function(t,n){l()?s.configure(t,n):e.configure(t,n)},1/0!=e.ja.width||1/0!=e.ja.height||e.g.ignoreHardwareResolution?T.u(2):w(T,ut(),3)):(2!=T.g&&(p=T.h,e.ja.width=p.width,e.ja.height=p.height),h=new to(u,e.ja,null),g={networkingEngine:e.G,filter:function(e){var t;return D((function(n){return 1==n.g?w(n,no(h,e),2):4!=n.g?n.h?(t=hl("trackschanged"),w(n,Promise.resolve(),4)):n.u(0):(s.dispatchEvent(t),void x(n))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,r=c(t.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(i=(r=c(t.variants)).next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var a=c(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",u=new ru,l=i.closedCaptions.get(o);s={id:e.fg++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:l,originalLanguage:l,label:null,type:yr,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Tr(s,"")]),isAudioMuxedInVideo:!1},t.textStreams.push(s),n.add(o)}}(e,t)},onTimelineRegionAdded:function(e){var t=s.H;e:{for(var n=c(t.g),r=n.next();!r.done;r=n.next())if((r=r.value).schemeIdUri==e.schemeIdUri&&r.id==e.id&&r.startTime==e.startTime&&r.endTime==e.endTime){n=r;break e}n=null}null==n&&(t.g.add(e),e=new Yi("regionadd",new Map([["region",e]])),t.dispatchEvent(e))},onEvent:function(e){return s.dispatchEvent(e)},onError:function(e){return s.onError(e)},isLowLatencyMode:function(){return d().streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return d().streaming.autoLowLatencyMode},enableLowLatencyMode:function(){f("streaming.lowLatencyMode",!0)},updateDuration:function(){e.j&&s.S&&e.j.updateDuration()},newDrmInfo:function(e){var t=s.l,n=t?t.g:null;n&&t.A&&ao(h,n.keySystem,e)},onManifestUpdated:function(){var t=(new Map).set("isLive",e.U());s.dispatchEvent(hl("manifestupdated",t)),hc(s,!1,(function(){e.s&&e.s.onManifestUpdated(e.U())}))},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},onMetadata:function(t,n,r,i){var a=t;"com.apple.hls.interstitial"==t&&(a="com.apple.quicktime.HLS",t={startTime:n,endTime:r,values:i},e.s)&&e.s.onHLSInterstitialMetadata(e,e.h,t),t=(i=c(i)).next();for(var o={};!t.done;o={Jf:void 0},t=i.next())o.Jf=t.value,"ID"!=o.Jf.name&&hc(s,!1,function(t){return function(){kl(e,n,r,a,t.Jf)}}(o))},disableStream:function(t){return e.disableStream(t,e.g.streaming.maxDisabledTime)},addFont:function(t,n){return e.addFont(t,n)}},(v=new ku((function(){return e.Rb()}))).addEventListener("regionadd",(function(t){var n=t.region;ed(e,"timelineregionadded",n,s),hc(s,!1,(function(){e.s&&(e.s.onDashTimedMetadata(n),e.s.onDASHInterstitialMetadata(e,e.h,n))}))})),m=null,u.streaming.observeQualityChanges&&((m=new Cu((function(){return e.zb()}))).addEventListener("qualitychange",(function(t){td(e,t.quality,t.position)})),m.addEventListener("audiotrackchange",(function(t){td(e,t.quality,t.position,!0)}))),y=!0,b={Ob:e.G,onError:function(e){return s.onError(e)},ee:function(t){hc(s,!0,(function(){var n=t,r=hl("keystatuschanged");e.dispatchEvent(r);var i=Object.keys(n);1==i.length&&""==i[0]&&(i=["00"],n={"00":n[""]}),r=1==i.length&&"00"==i[0];var a=!1;if(i.length)for(var o=(i=c(e.i.variants)).next();!o.done;o=i.next()){var s=[];(o=o.value).audio&&s.push(o.audio),o.video&&s.push(o.video);for(var u=(s=c(s)).next();!u.done;u=s.next()){var l=u.value;if(u=o.allowedByKeySystem,l.keyIds.size){o.allowedByKeySystem=!0;for(var d=(l=c(l.keyIds)).next();!d.done;d=l.next())d=d.value,((d=n[r?"00":d])||e.C.F)&&(o.allowedByKeySystem=o.allowedByKeySystem&&!!d&&!so.includes(d))}u!=o.allowedByKeySystem&&(a=!0)}}a&&(Kl(e),!$l(e))||(n=e.j.j)&&!n.allowedByKeySystem&&zl(e)}))},onExpirationUpdated:function(e,t){var n=hl("expirationupdated");s.dispatchEvent(n),(n=s.j)&&n.onExpirationUpdated&&n.onExpirationUpdated(e,t)},onEvent:function(t){s.dispatchEvent(t),"drmsessionupdate"==t.type&&y&&(y=!1,t=Date.now()/1e3-s.xa,(e.A||s.getStats()).j=t,e.L&&ls(e.L))}},S=Cl(e,l),ia(e.G,S),s=new pc(t,r,n,{config:u,zi:g,Ji:v,Ii:m,Ec:function(){return e.Ec(b)},yi:h,networkingEngine:S,Bh:i,Ah:o}),T.return(s))}))}function wl(e,t){var n,r;return D((function(i){return 1==i.g?(n=e.g.manifest.retryParameters,w(i,kc(t,e.G,n),2)):("application/x-mpegurl"==(r=i.h)&&Ye()&&(r="application/vnd.apple.mpegurl"),i.return(r))}))}function xl(e){var t=e.g.textDisplayFactory;t!==e.Ce&&(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):oe("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.Ce=t,e.B.setTextVisibility(e.na))}function Sl(e){var t,n,r;return D((function(i){if(1==i.g)return gl(e,"media-source"),e.h.removeAttribute("src"),Io(e.h),xl(e),t=function(e,t,n,r){return new fs(e,t,n,r)}(e.h,e.B,{Uh:function(){return e.keySystem()},onMetadata:function(t,n,r){for(var i=(t=c(t)).next();!i.done;i=t.next())if((i=i.value).data&&"number"==typeof i.cueTime&&i.frames){var a=i.cueTime+n,o=r;o&&a>o&&(o=a);for(var s=c(i.frames),u=s.next();!u.done;u=s.next())kl(e,a,o,"org.id3",u.value);e.s&&e.s.onHlsTimedMetadata(i,a)}},onEvent:function(t){return e.dispatchEvent(t)},Fi:function(){e.H&&e.H.update&&e.H.update()}},e.L),t.configure(e.g.mediaSource),n=e.g.manifest,r=n.segmentRelativeVttTiming,t.xa=r,w(i,t.O,2);e.I=t,x(i)}))}function Tl(e,t,n){function r(){return Fl(e)}e.l.D(t,"playing",r),e.l.D(t,"pause",r),e.l.D(t,"ended",r),e.l.D(t,"ratechange",(function(){var t=e.h.playbackRate;0!=t&&(e.K&&e.K.set(t),t=hl("ratechange"),e.dispatchEvent(t))})),t.remote&&(e.l.D(t.remote,"connect",(function(){return Kl(e)})),e.l.D(t.remote,"connecting",(function(){return Kl(e)})),e.l.D(t.remote,"disconnect",(function(){return D((function(n){if(1==n.g)return e.j&&"disconnected"==t.remote.state?w(n,Ju(e.j),2):n.u(2);Kl(e),x(n)}))}))),t.audioTracks&&(e.l.D(t.audioTracks,"addtrack",(function(){return Kl(e)})),e.l.D(t.audioTracks,"removetrack",(function(){return Kl(e)})),e.l.D(t.audioTracks,"change",(function(){return Kl(e)}))),t.textTracks&&(e.l.D(t.textTracks,"addtrack",(function(t){if(t.track)switch(t=t.track,t.kind){case"metadata":!function(e,t){if("metadata"==t.kind){t.mode="hidden",e.l.D(t,"cuechange",(function(){if(t.activeCues)for(var n=c(t.activeCues),r=n.next();!r.done;r=n.next())r=r.value,kl(e,r.startTime,r.endTime,r.type,r.value),e.s&&e.s.onCueMetadataChange(r.value);if(t.cues){n=[];for(var i=(r=c(t.cues)).next(),a={};!i.done;a={Wb:void 0},i=r.next())a.Wb=i.value,"com.apple.quicktime.HLS"==a.Wb.type&&null!=a.Wb.startTime&&(i=n.find(function(e){return function(t){return t.startTime==e.Wb.startTime&&t.endTime==e.Wb.endTime}}(a)),i||(i={startTime:a.Wb.startTime,endTime:a.Wb.endTime,values:[]},n.push(i)),i.values.push(a.Wb.value));for(r=(n=c(n)).next();!r.done;r=n.next())(r=r.value).values.some((function(e){return"X-ASSET-URI"==e.key||"X-ASSET-LIST"==e.key}))&&e.s&&(r.values.push({key:"CUE",description:"",data:0!=r.startTime||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.s.onHLSInterstitialMetadata(e,e.h,r))}}));var n=new Be((function(){for(var t=function(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"==e.kind}))}(e),n=(t=c(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).hc().Z(.5);e.pd.push((function(){n.stop()}))}}(e,t);break;case"chapters":!function(e,t){if(t&&"chapters"==t.kind){t.mode="hidden";var n=new Be((function(){t.mode="hidden"})).hc().Z(.5);e.pd.push((function(){n.stop()}))}}(e,t);break;default:Kl(e)}})),e.l.D(t.textTracks,"removetrack",(function(){return Kl(e)})),e.l.D(t.textTracks,"change",(function(){return Kl(e)}))),"none"!=t.preload&&e.l.va(t,"loadedmetadata",(function(){e.A.C=Date.now()/1e3-n}))}function kl(e,t,n,r,i){t=(new Map).set("startTime",t).set("endTime",n).set("metadataType",r).set("payload",i),e.dispatchEvent(hl("metadata",t))}function Cl(e,t){function n(n){t()?t().dispatchEvent(n):e.dispatchEvent(n)}function r(e){t()?hc(t(),!0,e):e()}return t||(t=function(){return null}),new na((function(n,r,i,a){var o=t()?t().i:e.o;o&&o.segmentDownloaded(n,r,i,a)}),(function(t,i,a){n(hl("downloadheadersreceived",i=(new Map).set("headers",t).set("request",i).set("requestType",a))),r((function(){if(e.fa){var n=e.fa;if(n.h.enabled){var r=t["cmsd-static"];if(r)try{var i=new Map,a=r.split(",");for(r=0;r<a.length;r++){var o=a[r].split("=");i.set(o[0],al(o[1]))}}catch(e){}if(i=t["cmsd-dynamic"]){try{var s=new Map,u=i.split(";");for(i=1;i<u.length;i++){var c=u[i].split("=");s.set(c[0],al(c[1]))}var l=s}catch(e){l=null}l&&(n.g=l)}}}}))}),(function(e,t,r,i){n(hl("downloadfailed",e=(new Map).set("request",e).set("error",t).set("httpResponseCode",r).set("aborted",i)))}),(function(t,n,i){r((function(){var r=e.O,a=i;if(a=void 0===a?{}:a,r.g.enabled)if("HEAD"===n.method)zc(r,n);else switch(t){case 0:try{if(r.g.enabled){if(a.type){e:{switch(a.type){case 4:var o=r.j?tl:el;break e;case 3:case 2:o=r.j?rl:nl;break e;case 5:o="s";break e}o=void 0}r.i=o}zc(r,n,{ot:Gc,su:!r.l})}}catch(e){W("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",e)}break;case la:try{if(r.g.enabled){var s=a.segment;o=0,s&&(o=s.endTime-s.startTime);var u={d:1e3*o,st:r.h.U()?"l":"v"};u.ot=function(e){if(0===e.type)return Jc;if(e=e.stream){var t=e.type;if("video"==t)return e.codecs&&e.codecs.includes(",")?Yc:Wc;if("audio"==t)return Xc;if("text"==t)return"application/mp4"===e.mimeType?Qc:Zc}}(a);var l=u.ot===Wc||u.ot===Xc||u.ot===Yc||u.ot===Qc,d=a.stream;if(d){var f=r.h.ib();if(l&&(u.bl=function(e,t){if(!(t=e.h.zb()[t]).length)return NaN;var n=e.h.getCurrentTime();return(e=t.find((function(e){return e.start<=n&&e.end>=n})))?1e3*(e.end-n):NaN}(r,d.type),u.ot!==Qc)){var p=Hc(r,d.type);u.dl=f?p/Math.abs(f):p}if(d.bandwidth&&(u.br=d.bandwidth/1e3),d.segmentIndex&&s){var h=d.segmentIndex.Jb(s.endTime,!0,0>f);if(h){var g=h.next().value;if(g&&g!=s){if(!_e(s.N(),g.N())){var v=g.N()[0],m=n.uris[0],y=new URL(v),b=new URL(m);if(y.origin!==b.origin)var w=v;else{for(var x=y.pathname.split("/").slice(1),S=b.pathname.split("/").slice(1,-1);x[0]===S[0];)x.shift(),S.shift();for(;S.length;)S.shift(),x.unshift("..");w=x.join("/")}u.nor=w}if((g.Ka||g.ua)&&(s.Ka!=g.Ka||s.ua!=g.ua)){var T=g.Ka+"-";g.ua&&(T+=g.ua),u.nrr=T}}}var k=r.h.ib()||1,C=Hc(r,d.type)||500,A=d.bandwidth,E=A?A*(s.endTime-s.startTime)/1e3/(C/k/1e3)*r.g.rtpSafetyFactor:NaN;isNaN(E)||(u.rtp=E)}}l&&u.ot!==Qc&&(u.tb=function(e,t){var n=e.h.rc();if(!n.length)return NaN;e=n[0];for(var r=(n=c(n)).next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>e.bandwidth&&(e=r);switch(t){case Wc:return e.videoBandwidth||NaN;case Xc:return e.audioBandwidth||NaN;default:return e.bandwidth}}(r,u.ot)/1e3),zc(r,n,u)}}catch(e){W("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",e)}break;case 2:case 5:case 6:zc(r,n,{ot:"k"});break;case 4:zc(r,n,{ot:"o"})}}))}),(function(n,r,i,a){(n=t()?t().j:e.H)&&n.banLocation&&n.banLocation(a)}),(function(n,r){if(r.data){r=r.data.byteLength;var i=t()?t().getStats():e.A;i&&(i.kc=isNaN(i.kc)?r:i.kc+r,0===n&&(i.Kg=r))}}))}function Al(e,t,n){e.M=new Ui,e.M.g=Fi,ji(e.M,n,Math.min(.5,n/2)),jl(e),e.je=new Be((function(){El(e)})).Ra(.25),e.l.D(t,"waiting",(function(){return El(e)})),e.l.D(t,"stalled",(function(){return El(e)})),e.l.D(t,"canplaythrough",(function(){return El(e)})),e.l.D(t,"progress",(function(){return El(e)}))}function El(e){switch(e.m){case ld:if(e.h.ended)var t=!0;else{var n=So(e.h.buffered);t=null!=n&&n>=e.h.duration-1}break;case cd:e:if(e.h.ended||vs(e.I))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.Zb();var r=So(e.h.buffered);if(null!=r&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=ko(e.h.buffered,e.h.currentTime);var i=t,a=(n=e.M).i.get(n.g);t=n.g,r=i||r>=a?Bi:Fi,n.g=r,(t=t!=r)&&r===Bi&&(n.h=Date.now()),t&&jl(e)}function Il(e){if(e.ge=new to(e.g,e.ja,e.C),e.H){var t=Et(e.g.manifest);e.h&&"AUDIO"===e.h.nodeName&&(t.disableVideo=!0),e.H.configure(t)}if(e.C&&e.C.configure(e.g.drm),e.j){e.j.configure(e.g.streaming);try{e.m!=sd&&io(e.ge,e.i)&&Kl(e)}catch(t){Ql(e,t)}e.o&&$l(e),!(t=e.j.j)||t.allowedByApplication&&t.allowedByKeySystem||zl(e)}if(e.G&&(e.G.Uf(e.g.streaming.forceHTTP),e.G.Vf(e.g.streaming.forceHTTPS),e.G.m=e.g.streaming.minBytesForProgressEvents),e.I&&(e.I.configure(e.g.mediaSource),e.I.xa=e.g.manifest.segmentRelativeVttTiming),e.B)if(t=e.g.textDisplayFactory,e.Ce!=t){var n=e.B;if(e.B=t(),e.B.configure?e.B.configure(e.g.textDisplayer):oe("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.B.setTextLanguage||oe("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),e.B.setTextVisibility(n.isTextVisible()),n.destroy(),e.I){n=e.I;var r=e.B;n.fa=r,n.i&&(n.i.j=r)}e.Ce=t,e.j&&(n=(t=e.j).i.get(yr))&&Ou(t,n.stream,!0,0,!0)}else e.B.configure&&e.B.configure(e.g.textDisplayer);e.o&&(e.o.configure(e.g.abr),e.g.abr.enabled?e.o.enable():e.o.disable(),Yl(e)),e.M&&(t=e.g.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),ji(e.M,t,Math.min(.5,t/2))),e.i&&rd(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.s&&e.s.configure(e.g.ads),e.O&&e.O.configure(e.g.cmcd),e.fa&&e.fa.configure(e.g.cmsd)}function Ml(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{lc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}function _l(e,t){e.l.D(t,"cuechange",(function(){e.B.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));var n=Array.from(t.activeCues||[]).map(Pc).filter(zr);e.B.append(n)})),t.mode=document.pictureInPictureElement?"showing":"hidden"}function Pl(e){return Array.from(e.h.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function Dl(e){return Array.from(e.h.textTracks).filter((function(e){return"chapters"==e.kind}))}function Ll(e,t){var n;return D((function(r){switch(r.g){case 1:return S(r,2),w(r,kc(t,e.G,e.g.streaming.retryParameters),4);case 4:n=r.h,k(r,3);break;case 2:C(r);case 3:if(n)return r.return(n);throw new Pe(1,2,2011,t)}}))}function Rl(e,t,n,r,i,a,o){var s,u,c,l;return D((function(d){if(1==d.g)return"text/vtt"!=i||o.length?w(d,Nl(e,t,e.G,e.g.streaming.retryParameters),3):d.u(2);2!=d.g&&(s=d.h,u=Ol(e,s,i,o),c=new Blob([u],{type:"text/vtt"}),t=Ps(c),i="text/vtt"),l=document.createElement("track");var f=e.O,p=t;try{if(f.g.enabled){var h=$c(f);h.ot=Zc,h.su=!0;var g=Kc(p,qc(h))}else g=p}catch(e){W("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",e),g=p}return l.src=g,l.label=a,l.kind=r,l.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(l),d.return(l)}))}function Nl(e,t,n,r){var i,a,o;return D((function(s){if(1==s.g){i=la,(a=aa([t],r)).method="GET";var u=e.O;try{u.g.enabled&&zc(u,a,{ot:Zc,su:!0})}catch(e){W("CMCD_TEXT_ERROR","Could not generate text CMCD data.",e)}return w(s,n.request(i,a).promise,2)}return o=s.h,s.return(o.data)}))}function Ol(e,t,n,r){var i=Br[n];if(i)return n=i(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=ve(t),function(e,t){function n(e){for(var n=e,r=c(t),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<e&&(n+=i.end-i.start);return(10>(e=Math.floor(n/3600))?"0":"")+e+":"+(10>(r=Math.floor(n/60%60))?"0":"")+r+":"+(10>(i=Math.floor(n%60))?"0":"")+i+"."+(100>(n=Math.floor(1e3*n%1e3))?10>n?"00":"0":"")+n}var r=Ic(e);e="WEBVTT\n\n";for(var i=(r=c(r)).next();!i.done;i=r.next())e+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(e){var t=[];switch(e.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case vn:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(e.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(i)+"\n",e+=i.payload+"\n\n";return e}(t=n.parseMedia(t,e,null,[]),r);throw new Pe(2,2,2014,n)}function Ul(e){var t=cc();return t.streaming.failureCallback=function(t){if(e.U()){var n=null;1001==t.code||1002==t.code?(n=1,e.g.streaming.lowLatencyMode&&(n=.1)):1003==t.code&&(n=.1),null!=n&&(t.severity=1,e.Of(n))}},t.textDisplayFactory=function(){if(!e.ie||tt()&&!document.fullscreenEnabled)return HTMLMediaElement.prototype.addTextTrack?new Dc(e.h,"Shaka Player TextTrack"):new Rc;var t=e.getConfiguration();return new Nc(e.h,e.ie,t.textDisplayer)},t}function jl(e){var t=e.uf();if(e.A&&e.M&&e.F){var n=e.K;if(n.j=t,au(n),e.O&&(n=e.O,t||n.l||(n.l=!0),n.l&&t&&(n.m=!0),n.o=t),Fl(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.Fe<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.S&&(e.S=Math.min(e.S+ ++e.Fe*i,n-r))}}t=(new Map).set("buffering",t),e.dispatchEvent(hl("buffering",t))}function Fl(e){if(e.A&&e.M){var t=e.A.g,n="playing";e.M.g==Fi?n="buffering":e.h.ended?n="ended":e.h.paused&&(n="paused");var r=n;if(null==t.g)t.g={timestamp:Date.now()/1e3,state:r,duration:0},t=!0;else{var i=Date.now()/1e3;t.g.duration=i-t.g.timestamp,t.g.state==r?t=!1:(t.h.push(t.g),t.g={timestamp:i,state:r,duration:0},t=!0)}t&&(n=(new Map).set("newstate",n),e.dispatchEvent(hl("statechanged",n)))}}function Bl(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var r=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,i=e.yg();i<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=r&&e.zd(r,!1):1==i&&t!==e.K.oc()&&e.Yc()}if(n&&(n=e.Rb(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){r=e.g.streaming.liveSync.targetLatencyTolerance,i=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var a=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var o=e.g.streaming.liveSync.targetLatency,s=o+r,u=Math.max(0,o-r),c=e.g.streaming.liveSync.maxPlaybackRate,l=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(o=e.i.serviceDescription.targetLatency,null!=e.i.serviceDescription.targetLatency?s=e.i.serviceDescription.targetLatency+r:null!=e.i.serviceDescription.maxLatency&&(s=e.i.serviceDescription.maxLatency),null!=e.i.serviceDescription.targetLatency?u=Math.max(0,e.i.serviceDescription.targetLatency-r):null!=e.i.serviceDescription.minLatency&&(u=e.i.serviceDescription.minLatency),c=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,l=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.S||"number"!=typeof o||(e.S=o);var d=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;i&&e.Ga&&null!==e.S&&"number"==typeof o&&e.Fe<d&&Date.now()-e.Ga>1e3*a&&(a=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.S=Math.max(e.S-(o-a)/2,a+r),e.Ga=Date.now()),i&&null!==e.S&&(s=e.S+r,u=e.S-r),o=n.end-e.h.currentTime,r=0,e.m==ld&&0<(i=e.h.buffered).length&&(r=i.end(i.length-1),r=Math.max(c,r-n.end)),n=e.g.streaming.liveSync.panicMode,i=1e3*e.g.streaming.liveSync.panicThreshold,a=Date.now()-e.M.h,n&&!l&&(l=e.g.streaming.liveSync.minPlaybackRate),n&&l&&a<=i?t!=l&&e.zd(l,!1):s&&c&&o-r>s?(t!=c&&e.zd(c,!1),e.Ga=null):u&&l&&o-r<u?(t!=l&&e.zd(l,!1),e.Ga=null):t!==e.K.oc()&&(e.Yc(),e.Ga=Date.now())}}function Vl(e){if(e.h){var t,n=!1,r=e.h.currentTime/e.h.duration;isNaN(r)||(r=Math.round(100*r),isNaN(e.V)?(e.V=r,n=!0):(r=Math.max(e.V,r),e.V!=r&&(e.V=r,n=!0))),n&&(0==e.V?t=hl("started"):25==e.V?t=hl("firstquartile"):50==e.V?t=hl("midpoint"):75==e.V?t=hl("thirdquartile"):100==e.V&&(t=hl("complete")),t&&e.dispatchEvent(t))}}function $l(e){try{oo(e.ge,e.i)}catch(t){return Ql(e,t),!1}var t=bi(e.i.variants);return t=e.Ba.create(t),e.o.setVariants(Array.from(t.values())),!0}function zl(e,t,n,r,i){var a;t=void 0===t||t,n=void 0===n?0:n,r=void 0!==r&&r,i=void 0===i||i,(a=$l(e)?e.o.chooseVariant():null)&&Hl(e,a,i,t,n,r)}function Hl(e,t,n,r,i,a){a=void 0!==a&&a;var o=e.j.j;if(t==o)r&&Ru(e.j,t,r,i,!0);else{var s=e.A.h;s.h!=t&&(s.h=t,s.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Ru(e.j,t,r,i,a,n),r=null,o&&(r=di(o)),(t=di(t)).active=!0,n?(n=(new Map).set("oldTrack",r).set("newTrack",t),e.L&&ds(e.L,t,e.mf()),id(e,n=hl("adaptation",n))):Gl(e,r,t)}}function ql(e,t){var n=Array.from(e.h.audioTracks).find((function(e){return e.enabled}));t.enabled=!0,n&&(t.id!==n.id&&(n.enabled=!1),Gl(e,n=vi(n),t=vi(t)))}function Kl(e){id(e,hl("trackschanged"))}function Gl(e,t,n){t=(new Map).set("oldTrack",t).set("newTrack",n),e.L&&ds(e.L,n,e.mf()),id(e,n=hl("variantchanged",t))}function Xl(e){id(e,hl("textchanged"))}function Wl(e){id(e,hl("texttrackvisibility"))}function Yl(e){e.g.abr.enabled||Zl(e),id(e,hl("abrstatuschanged",(new Map).set("newStatus",e.g.abr.enabled)))}function Jl(e){var t=e.qc().find((function(e){return e.active}));t&&e.B&&e.B.setTextLanguage&&e.B.setTextLanguage(t.language)}function Zl(e,t){if(t=void 0===t||t,e.m==cd){e.le.stop();for(var n=c(e.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;t&&$l(e)}}function Ql(e,t){var n,r,i,a;return D((function(o){switch(o.g){case 1:if(e.m==sd)return o.return();if(1===t.severity&&e.A.K++,n=!0,!(e.Aa&&e.i&&e.j)||3016!=t.code&&3014!=t.code&&3015!=t.code&&3018!=t.code){o.u(2);break}return S(o,3),w(o,Ju(e.j),5);case 5:r=o.h,n=!r,r&&(i=hl("mediasourcerecovered"),e.dispatchEvent(i)),k(o,2);break;case 3:C(o),n=!0;case 2:if(!n)return o.return();2===t.severity&&Zl(e,!1),a=hl("error",(new Map).set("detail",t)),e.dispatchEvent(a),a.defaultPrevented&&(t.handled=!0),x(o)}}))}function ed(e,t,n,r){r=void 0===r?e:r,e=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement,eventNode:n.eventNode}),r.dispatchEvent(hl(t,e))}function td(e,t,n,r){r=void 0!==r&&r,t=(new Map).set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(hl(r?"audiotrackchanged":"mediaqualitychanged",t))}function nd(e,t){if(t=void 0===t||t,!e.h.error)return t?new Pe(2,3,3016):null;var n=e.h.error.code;return t||1!=n?((t=e.h.error.msExtendedCode)&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),new Pe(2,3,3016,n,t,e.h.error.message)):null}function rd(e,t,n){0<t&&(e.U()||e.jh(t)),n<(t=e.getDuration())&&(e.U()||e.bb(n))}function id(e,t){D((function(n){if(1==n.g)return w(n,Promise.resolve(),2);e.m!=sd&&e.dispatchEvent(t),x(n)}))}function ad(e){for(var t=new Set,n=(e=c(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(Xr(n.language)):t.add("und");return t}function od(e){for(var t=new Map,n=new Map,r=(e=c(e)).next();!r.done;r=e.next()){var i="und",a=[];(r=r.value).language&&(i=Xr(r.language)),(a="variant"==r.type?r.audioRoles:r.roles)&&a.length||(a=[""]),t.has(i)||t.set(i,new Set);for(var o=(a=c(a)).next();!o.done;o=a.next())o=o.value,t.get(i).add(o),r.label&&(n.has(i)||n.set(i,new Map),n.get(i).set(o,r.label))}var s=[];return t.forEach((function(e,t){for(var r=(e=c(e)).next();!r.done;r=e.next()){r=r.value;var i=null;n.has(t)&&n.get(t).has(r)&&(i=n.get(t).get(r)),s.push({language:t,role:r,label:i})}})),s}ll.prototype.release=function(){0<this.h.length?this.h.shift()():this.g=null},v(fl,Qi),(r=fl.prototype).destroy=function(){var e,t=this;return D((function(n){switch(n.g){case 1:return t.m==sd?n.return():(pl(t),e=t.detach(),t.m=sd,w(n,e,2));case 2:return w(n,t.Ue(),3);case 3:if(t.Ae&&(t.Ae.release(),t.Ae=null),t.od&&(t.od.release(),t.od=null),t.l&&(t.l.release(),t.l=null),t.Ha&&(t.Ha.release(),t.Ha=null),t.Gb&&(t.Gb.release(),t.Gb=null),t.xa=null,t.g=null,t.A=null,t.ie=null,t.O=null,t.fa=null,!t.G){n.u(4);break}return w(n,t.G.destroy(),5);case 5:t.G=null;case 4:t.o&&(t.o.release(),t.o=null),Qi.prototype.release.call(t),x(n)}}))},r.Ub=function(e,t){t=void 0===t||t;var n,r,i,a=this;return D((function(o){switch(o.g){case 1:if(a.m==sd)throw new Pe(2,7,7e3);if(n=a.h&&a.h==e,!a.h||a.h==e){o.u(2);break}return w(o,a.detach(),2);case 2:return w(o,vl(a,"attach"),4);case 4:if(o.h)return o.return();if(S(o,5,6),n||(gl(a,"attach"),r=function(){var e=nd(a,!1);e&&Ql(a,e)},a.od.D(e,"error",r),a.h=e),!t||!Ve()||a.I){o.u(6);break}return w(o,Sl(a),6);case 6:A(o),a.aa.release(),E(o,0);break;case 5:return i=C(o),w(o,a.detach(),10);case 10:throw i}}))},r.Ch=function(e){this.gg=e},r.detach=function(e){e=void 0!==e&&e;var t=this;return D((function(n){if(1==n.g){if(t.m==sd)throw new Pe(2,7,7e3);return w(n,t.ic(!1,e),2)}if(3!=n.g)return w(n,vl(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.od.Va(),t.h=null),gl(t,"detach"),t.s&&!e&&t.s.release()}finally{t.aa.release()}x(n)}))},r.ic=function(e,t){e=void 0===e||e,t=void 0!==t&&t;var n,r,i,a,o,s,u,l,d,f,p=this;return D((function(h){switch(h.g){case 1:return p.m!=sd&&(p.m=ud),w(h,vl(p,"unload"),2);case 2:return h.h?h.return():(T(h,3),p.Aa=!1,gl(p,"unload"),e&&!Ve()&&(e=!1),pl(p),n=p.pd.map((function(e){return e()})),p.pd=[],w(h,Promise.all(n),5));case 5:if(p.dispatchEvent(hl("unloading")),p.md&&(p.md.release(),p.md=null),p.h&&(p.l.Va(),p.Ha.Va()),p.le.stop(),p.Ib&&(p.Ib.release(),p.Ib=null),p.je&&(p.je.stop(),p.je=null),!p.H){h.u(6);break}return w(h,p.H.stop(),7);case 7:p.H=null,p.Na=null;case 6:if(!p.o){h.u(8);break}return w(h,p.o.stop(),8);case 8:if(!p.j){h.u(10);break}return w(h,p.j.destroy(),11);case 11:p.j=null;case 10:if(p.K&&(p.K.release(),p.K=null),p.F&&(p.F.release(),p.F=null),!st("webkit")||!p.C){h.u(12);break}return w(h,p.C.destroy(),13);case 13:p.C=null;case 12:if(!p.I){h.u(14);break}return w(h,p.I.destroy(),15);case 15:p.I=null;case 14:if(p.s&&!t&&p.s.onAssetUnload(),p.da&&!t&&(p.da.destroy(),p.da=null),t||p.Ge.stop(),p.O&&function(e){e.l=!1,e.o=!0,e.m=!1,e.j=!1}(p.O),p.fa&&(p.fa.g=null),!p.B){h.u(16);break}return w(h,p.B.destroy(),17);case 17:p.B=null;case 16:if(p.h&&(Io(p.h),p.h.src&&(p.h.removeAttribute("src"),p.h.load())),!p.C){h.u(18);break}return w(h,p.C.destroy(),19);case 19:p.C=null;case 18:if(p.ra&&p.$!=p.ra.Kc()&&(p.ra.s||p.ra.destroy(),p.ra=null),p.$=null,p.La=null,p.M=null,p.i){for(r=c(p.i.variants),i=r.next();!i.done;i=r.next())for(a=i.value,o=c([a.audio,a.video]),s=o.next();!s.done;s=o.next())(u=s.value)&&u.segmentIndex&&u.segmentIndex.release();for(l=c(p.i.textStreams),d=l.next();!d.done;d=l.next())(f=d.value).segmentIndex&&f.segmentIndex.release()}p.g.streaming.clearDecodingCache&&(ki={},je.clear()),p.i=null,p.A=new fu,p.Ce=null,p.Ga=null,p.S=null,p.Fe=-1,p.ud=[],p.V=NaN,jl(p);case 3:A(h),p.aa.release(),E(h,4);break;case 4:if(e&&Ve()&&!p.I&&p.h)return w(h,Sl(p),0);h.u(0)}}))},r.ij=function(e){this.ka=e},r.load=function(e,t,n){t=void 0===t?null:t;var r,i,a,o,s,u,l,d,f,p,h,g,v,m=this;return D((function(y){switch(y.g){case 1:if(m.m==sd)throw new Pe(2,7,7e3);return r=null,i="",i=e instanceof pc?(r=e).Kc()||"":e||"",w(y,dl(m.aa,"load"),2);case 2:if(m.aa.release(),!m.h)throw new Pe(2,7,7002);if(!m.$){y.u(3);break}return m.$=i,w(y,m.ic(!1),3);case 3:if(a=++m.Ee,o=function(){return D((function(e){if(1==e.g)return m.Ee==a?e.u(0):r?w(e,r.destroy(),3):e.u(3);throw new Pe(2,7,7e3)}))},s=function(e,t){return D((function(n){switch(n.g){case 1:return T(n,2),w(n,dl(m.aa,t),4);case 4:return w(n,o(),5);case 5:return w(n,e(),6);case 6:return w(n,o(),7);case 7:r&&m.g&&(r.g=m.g);case 2:A(n),m.aa.release(),E(n,0)}}))},S(y,5,6),null==t&&r&&(t=r.getStartTime()),m.ka=t,m.Aa=!1,m.dispatchEvent(hl("loading")),r){n=r.V,y.u(8);break}if(n){y.u(8);break}return w(y,s((function(){return D((function(e){if(1==e.g)return w(e,wl(m,i),2);n=e.h,x(e)}))}),"guessMimeType_"),8);case 8:if(u=!!r,r){gc(r,m),m.A=r.getStats(),y.u(11);break}return w(y,yl(m,i,t,n,!0),12);case 12:(r=y.h)?(r.A=!1,gc(r,m),m.A=r.getStats(),r.start(),r.m.catch((function(){}))):m.A=new fu;case 11:return l=!r,d=Date.now()/1e3,m.A=r?r.getStats():new fu,m.$=i,m.La=n||null,l?w(y,s((function(){return D((function(e){return w(e,function(e,t){var n,r,i,a,o;return D((function(s){return 1==s.g?(n=br,r=Date.now()/1e3,i=!0,e.C=e.Ec({Ob:e.G,onError:function(t){Ql(e,t)},ee:function(){},onExpirationUpdated:function(){var t=hl("expirationupdated");e.dispatchEvent(t)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&i&&(i=!1,e.A.j=Date.now()/1e3-r)}}),e.C.configure(e.g.drm),a={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},(o={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:t?_r(t):"",codecs:t?Pr(t):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.la,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1}).fullMimeTypes.add(Tr(o.mimeType,o.codecs)),t.startsWith("audio/")?(o.type=n.Y,a.audio=o):a.video=o,e.C.$=!0,w(s,Na(e.C,[a],[]),2)):w(s,e.C.Ub(e.h),0)}))}(m,n),0)}))}),"initializeSrcEqualsDrmInner_"),21):w(y,s((function(){return D((function(e){if(1==e.g)return w(e,Promise.race([r.fa,r.m]),2);m.Na=r.G;var t=r;t.ja=!0,m.H=t.j,m.i=r.lf(),x(e)}))}),"waitForFinish"),15);case 15:if(m.I){y.u(16);break}return w(y,s((function(){return D((function(e){return w(e,Sl(m),0)}))}),"initializeMediaSourceEngineInner_"),16);case 16:return w(y,s((function(){return D((function(e){return w(e,r.m,0)}))}),"waitForFinish"),18);case 18:return m.g=r.getConfiguration(),m.ge=r.F,m.H&&m.H.setMediaElement&&m.h&&m.H.setMediaElement(m.h),m.md=function(e){return e.na=!0,e.H}(r),m.bc=r.Aa,(f=r.o)&&(m.Ba=f),u&&m.h&&"AUDIO"===m.h.nodeName&&(function(e){for(var t=c(e.i.variants),n=t.next();!n.done;n=t.next())(n=n.value).video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter((function(e){return e.audio}))}(m),m.configure("manifest.disableVideo",!0)),m.C=function(e){return e.da=!0,e.l}(r),w(y,s((function(){return D((function(e){return w(e,m.C.Ub(m.h),0)}))}),"drmEngine_.attach"),19);case 19:return!(p=r.C)||m.xa&&m.xa==p||(m.o=function(e){return e.aa=!0,e.i}(r),m.xa=r.C,"function"!=typeof m.o.setMediaElement&&(oe("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),m.o.setMediaElement=function(){}),"function"!=typeof m.o.setCmsdManager&&(oe("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),m.o.setCmsdManager=function(){}),"function"!=typeof m.o.trySuggestStreams&&(oe("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),m.o.trySuggestStreams=function(){})),h=function(e){return e.ra=!0,e.L}(r),g=r.ka,w(y,s((function(){return D((function(e){return w(e,function(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,S,T,k,C,A;return D((function(E){switch(E.g){case 1:gl(e,"load"),i=e.h,e.K=new iu({Od:function(){return i.playbackRate},oc:function(){return i.defaultPlaybackRate},Wf:function(e){i.playbackRate=e},Og:function(e){i.currentTime+=e}}),Tl(e,i,t),function(e,t){t.lcevc.enabled?(pl(e),null==e.L&&(e.L=new cs(e.h,e.gg,t.lcevc),e.I&&(e.I.da=e.L))):pl(e)}(e,e.g),e.Hb=e.g.preferredTextLanguage,e.sd=e.g.preferredTextRole,e.qd=e.g.preferForcedSubs,rd(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.o.init((function(t,n,r){e.i&&e.j&&t!=e.j.j&&Hl(e,t,!0,void 0!==n&&n,void 0===r?0:r)})),e.o.setMediaElement(i),e.o.setCmsdManager(e.fa),e.j=function(e){return new Du(e.i,{fd:function(){return e.F?e.F.Cd():0},getBandwidthEstimate:function(){return e.o.getBandwidthEstimate()},ib:function(){return e.ib()},ca:e.I,Ob:e.G,onError:function(t){return Ql(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Ff:function(t,n){var r=t.startTime;t=t.endTime;var i=n.type;if(n=n.codecs.includes(","),i!=yr){if(e.F){e.F.Pg();var a=ms(e.I,i);!e.U()&&e.h.paused&&null!=a&&0<a&&e.F.Cd()<a&&e.F.Je(a)}El(e)}r=(new Map).set("start",r).set("end",t).set("contentType",i).set("isMuxed",n),e.dispatchEvent(hl("segmentappended",r))},Ei:function(t,n){(n=n.Oc)&&e.bc&&function(e,t,n){var r=function(e,t){var n=e.g.get(t);return n||(n={xd:[],Te:null,contentType:t},e.g.set(t,n)),n}(e,t.contentType);!function(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,r=e[e.length-1].end,i=t.xd;t.xd=i.filter((function(e,t){return!(e.position<=n&&t+1<i.length&&i[t+1].position<=n||e.position>=r)}))}else t.xd=[]}(e,r),e={Oc:t,position:n},0<=(t=(r=r.xd).findIndex((function(e){return e.position>=n})))?r.splice(t,r[t].position==n?1:0,e):r.push(e)}(e.bc,n,t)},mg:function(t,n){var r=e.C;if(r.h.parseInbandPsshEnabled&&!r.F&&["audio","video"].includes(t)){t=new Da(ve(n)),n=0;for(var i=c(t.data),a=i.next();!a.done;a=i.next())n+=a.value.length;if(0==n)r=Promise.resolve();else{for(n=new Uint8Array(n),i=0,a=(t=c(t.data)).next();!a.done;a=t.next())a=a.value,n.set(a,i),i+=a.length;Fa(r,"cenc",n),r=r.m}}else r=Promise.resolve();return r},disableStream:function(t,n){return e.disableStream(t,n)}})}(e),e.j.configure(e.g.streaming),e.m=cd,e.dispatchEvent(hl("streaming")),a=n;case 2:for((s=e.j.j)||a||(a=$l(e)?e.o.chooseVariant():null),u=[],l=c([(o=s||a).video,o.audio]),d=l.next();!d.done;d=l.next())(f=d.value)&&!f.segmentIndex&&u.push(f.createSegmentIndex());if(!(0<u.length)){E.u(4);break}return w(E,Promise.all(u),4);case 4:if(!o||0!=o.disabledUntilTime){E.u(2);break}if(e.H&&e.H.onInitialVariantChosen&&e.H.onInitialVariantChosen(o),e.i.isLowLatency&&!e.g.streaming.lowLatencyMode&&X("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),e.O&&function(e,t){e.j=t,e.j?e.i==el?e.i=tl:e.i==nl&&(e.i=rl):e.i==tl?e.i=el:e.i==rl&&(e.i=nl)}(e.O,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),rd(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),function(e,t,n){e.l.presentationTimeline.U()||(e.O=t,e.M=n)}(e.j,e.g.playRangeStart,e.g.playRangeEnd),p=function(t){e.F=function(e,t){return new Ws(e.h,e.i,e.g.streaming,t,(function(){e.Ib&&su(e.Ib,!0),e.j&&e.j.Vc(),e.M&&El(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t),e.Ib=function(e,t){(t=new bc(e.md,e.U()||0<t)).addEventListener("enter",(function(t){ed(e,"timelineregionenter",t.region)})),t.addEventListener("exit",(function(t){ed(e,"timelineregionexit",t.region)})),t.addEventListener("skip",(function(t){var n=t.region;t.seeking||(ed(e,"timelineregionenter",n),ed(e,"timelineregionexit",n))}));var n=new ou(e.h);return n.g.add(t),e.bc&&n.g.add(e.bc),n}(e,t),Al(e,i,Math.max(e.i.minBufferTime,e.g.streaming.rebufferingGoal))},e.g.streaming.startAtSegmentBoundary||(null==(h=e.ka)&&e.i.startTime&&(h=e.i.startTime),p(h)),s){E.u(7);break}if(!e.g.streaming.startAtSegmentBoundary){E.u(8);break}return g=e.i.presentationTimeline,v=e.ka||e.h.currentTime,null==e.ka&&e.i.startTime&&(v=e.i.startTime),m=g.Kb(),y=g.Bb(),v<m?v=m:v>y&&(v=y),w(E,function(e,t){var n,r,i,a,o;return D((function(s){return 1==s.g?(n=e.audio,r=e.video,i=function(e,t){var n,r,i;return D((function(a){return 1==a.g?e?w(a,e.createSegmentIndex(),2):a.return(null):(r=(n=e.segmentIndex.Jb(t))?n.next().value:null)?(i=r.startTime,a.return(i)):a.return(null)}))},w(s,i(n,t),2)):3!=s.g?(a=s.h,w(s,i(r,t),3)):null!=(o=s.h)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(a,v),9);case 9:b=E.h,p(b);case 8:Hl(e,a,!0,!1,0);case 7:return e.F.ready(),e.qc().find((function(e){return e.active}))||((S=wi(e.i.textStreams,e.Hb,e.sd,e.qd)[0]||null)&&du(e.A.h,S,!0),a&&(S?(function(e,t,n){if(0==e.g.autoShowText)return!1;if(1==e.g.autoShowText)return!0;var r=Xr(e.g.preferredTextLanguage);return n=Xr(n.language),2==e.g.autoShowText?qr(n,r):3==e.g.autoShowText?!!t&&(e=Xr(t.language),qr(n,r)&&!qr(e,n)):(X("Invalid autoShowText setting!"),!1)}(e,a.audio,S)&&(e.na=!0),e.na&&e.B.setTextVisibility(!0),Wl(e)):e.na=!1),S&&(e.g.streaming.alwaysStreamText||e.wf())&&(Nu(e.j,S),Jl(e))),w(E,e.j.start(r),10);case 10:e.g.abr.enabled&&(e.o.enable(),Yl(e)),Kl(e),$l(e),e.i.variants.some((function(e){return e.primary})),((T=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(k=function(){return Bl(e)},e.l.D(i,"timeupdate",k)),T||(C=function(){return Vl(e)},e.l.D(i,"timeupdate",C),Vl(e),e.i.nextUrl&&(0<e.g.streaming.preloadNextUrlWindow&&(A=function(){var t;return D((function(n){if(1==n.g)return t=e.h.duration-e.h.currentTime,!isNaN(t)&&t<=e.g.streaming.preloadNextUrlWindow?(e.l.cb(i,"timeupdate",A),w(n,e.preload(e.i.nextUrl),4)):n.u(0);e.ra=n.h,x(n)}))},e.l.D(i,"timeupdate",A)),e.l.D(i,"ended",(function(){e.load(e.ra||e.i.nextUrl)})))),e.s&&e.s.onManifestUpdated(T),e.Aa=!0,x(E)}}))}(m,d,g,h),0)}))}),"loadInner_"),20);case 20:!function(e){if(e.I)for(var t=c(e.I),n=t.next();!n.done;n=t.next())(n=n.value)();e.I=null}(r),m.La&&tt()&&Dr(m.La)&&function(e,t,n){e.g&&e.m instanceof ManagedMediaSource&&(e.B&&e.g.removeChild(e.B),e.B=Eo(t,n),e.g.appendChild(e.B),e.g.disableRemotePlayback=!1)}(m.I,m.$,m.La),y.u(14);break;case 21:return w(y,s((function(){return D((function(e){return w(e,function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,v;return D((function(m){switch(m.g){case 1:if(gl(e,"src-equals"),r=e.h,e.F=new Xs(r),i=!1,e.pd.push((function(){i=!0})),null!=e.ka&&e.F.Je(e.ka),e.K=new iu({Od:function(){return r.playbackRate},oc:function(){return r.defaultPlaybackRate},Wf:function(e){r.playbackRate=e},Og:function(e){r.currentTime+=e}}),a=e.g.streaming.rebufferingGoal,Al(e,r,a),r.textTracks&&(xl(e),o=function(){var t=Pl(e).find((function(e){return"disabled"!==e.mode}));t&&(t.mode="showing")},s=function(){var t=Pl(e).find((function(e){return"disabled"!==e.mode}));t&&(t.mode="hidden")},e.l.D(r,"enterpictureinpicture",(function(){return o()})),e.l.D(r,"leavepictureinpicture",(function(){return s()})),r.remote?(e.l.D(r.remote,"connect",(function(){return s()})),e.l.D(r.remote,"connecting",(function(){return s()})),e.l.D(r.remote,"disconnect",(function(){return s()}))):"webkitCurrentPlaybackTargetIsWireless"in r&&e.l.D(r,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return s()})),(u=r).webkitSupportsFullscreen&&e.l.D(u,"webkitpresentationmodechanged",(function(){"inline"!=u.webkitPresentationMode?o():s()}))),Tl(e,r,t),l=function(e,t,n){try{if(!e.g.enabled)return t;var r=$c(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=Xc;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=Yc;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=Gc;break e}i=void 0}return r.ot=i,r.su=!0,Kc(t,qc(r))}catch(e){return W("CMCD_SRC_ERROR","Could not generate src CMCD data.",e),t}}(e.O,e.$,n),!l.includes("#t=")&&(0<e.g.playRangeStart||isFinite(e.g.playRangeEnd))&&(l+="#t=",0<e.g.playRangeStart&&(l+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(l+=","+e.g.playRangeEnd)),!e.I){m.u(2);break}return w(m,e.I.destroy(),3);case 3:e.I=null;case 2:return Io(r),r.src=l,(qe()||Ge())&&r.load(),"none"!=r.preload&&!r.autoplay&&Dr(n)&&tt()&&r.load(),e.m=ld,e.dispatchEvent(hl("streaming")),d=new zi,Fs(r,HTMLMediaElement.HAVE_METADATA,e.l,(function(){e.F.ready(),d.resolve()})),Fs(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.l,(function(){var t,n,a,o,s;return D((function(u){if(1==u.g)return function(e){var t=e.g.preferredAudioLanguage;""!=t&&e.$g(t,e.g.preferredVariantRole)}(e),(t=Pl(e)).find((function(e){return"disabled"!=e.mode}))?(0<t.length&&(e.na=!0,e.B.setTextVisibility(!0)),u.u(2)):w(u,new Promise((function(t){e.l.va(r.textTracks,"change",t),new Be(t).Z(1)})),2);if(i)return u.return();for(n=!1,a=c(t),o=a.next();!o.done;o=a.next())"disabled"!==(s=o.value).mode&&(n?(s.mode="disabled",X("Found more than one enabled text track, disabling it",s)):(_l(e,s),n=!0));!function(e){var t=e.g.preferredTextLanguage;""!=t&&e.Qf(t,e.g.preferredTextRole,e.g.preferForcedSubs)}(e),x(u)}))})),r.error?d.reject(nd(e)):"none"==r.preload&&(X('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),d.resolve()),e.l.va(r,"error",(function(){d.reject(nd(e))})),f=new Promise((function(t,n){new Be(n).Z(e.g.streaming.loadTimeout)})),w(m,Promise.race([d,f]),4);case 4:((p=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(h=function(){return Bl(e)},e.l.D(r,"timeupdate",h)),p||(g=function(){return Vl(e)},e.l.D(r,"timeupdate",g),Vl(e)),e.s&&(e.s.onManifestUpdated(p),p&&(v=e.Rb().end,e.l.D(r,"progress",(function(){var t=e.Rb().end;v!=t&&(e.s.onManifestUpdated(e.U()),v=t)})))),e.Aa=!0,x(m)}}))}(m,d,n),0)}))}),"srcEqualsInner_"),14);case 14:m.dispatchEvent(hl("loaded"));case 6:if(A(y),!r){y.u(23);break}return w(y,r.destroy(),23);case 23:m.ra=null,E(y,0);break;case 5:if(!(v=C(y))||7e3==v.code){y.u(25);break}return w(y,m.ic(!1),25);case 25:throw v}}))},r.ej=function(e,t){e=void 0===e||e,t=void 0!==t&&t;var n,r=this;return D((function(i){return 1==i.g?w(i,ml(r),2):3!=i.g?(n=i.h,w(i,r.ic(e,t),3)):i.return(n)}))},r.tg=function(e,t){e=void 0!==e&&e,t=void 0!==t&&t;var n,r=this;return D((function(i){return 1==i.g?w(i,ml(r,t),2):3!=i.g?(n=i.h,w(i,r.detach(e),3)):i.return(n)}))},r.preload=function(e,t,n){t=void 0===t?null:t;var r,i=this;return D((function(a){return 1==a.g?w(a,yl(i,e,t,n),2):((r=a.h)?r.start():Ql(i,new Pe(2,7,7005)),a.return(r))}))},r.Ue=function(){var e,t,n,r,i=this;return D((function(a){for(e=[],t=c(i.re),n=t.next();!n.done;n=t.next())(r=n.value).s||e.push(r.destroy());return i.re=[],w(a,Promise.all(e),0)}))},r.Ni=function(){for(var e=this.aa;e.g;)e.release()},r.Ec=function(e){return new Ra(e)},r.configure=function(e,t){if(2==arguments.length&&"string"==typeof e&&(e=ec(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(oe("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(oe("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming&&(oe("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead."),e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&Ye(),delete e.streaming.useNativeHlsOnSafari),e.streaming&&"boolean"==typeof e.streaming.liveSync){oe("streaming.liveSync","Please Use streaming.liveSync.enabled instead.");var n=e.streaming.liveSync;e.streaming.liveSync={},e.streaming.liveSync.enabled=n}if(e.streaming&&(!e.streaming.liveSync||!("targetLatency"in e.streaming.liveSync))&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){n=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-n)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=n+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(oe("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(oe("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(oe("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(oe("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(oe("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(oe("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(oe("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(oe("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){oe("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var i=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return i},delete e.mediaSource.sourceBufferExtraFeatures}return e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(oe("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(oe("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(oe("manifest.dash.enableAudioGroups configuration","It is now enabled by default and cannot be disabled."),delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(oe("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&e.streaming.lowLatencyMode&&(null==e.streaming.inaccurateManifestTolerance&&(e.streaming.inaccurateManifestTolerance=0),null==e.streaming.rebufferingGoal&&(e.streaming.rebufferingGoal=.01),null==e.streaming.segmentPrefetchLimit&&(e.streaming.segmentPrefetchLimit=2),null==e.streaming.updateIntervalSeconds&&(e.streaming.updateIntervalSeconds=.1),null==e.streaming.maxDisabledTime&&(e.streaming.maxDisabledTime=1),null==e.streaming.retryParameters&&(e.streaming.retryParameters={}),null==e.streaming.retryParameters.baseDelay&&(e.streaming.retryParameters.baseDelay=100),null==e.manifest&&(e.manifest={}),null==e.manifest.dash&&(e.manifest.dash={}),null==e.manifest.dash.autoCorrectDrift&&(e.manifest.dash.autoCorrectDrift=!1),null==e.manifest.retryParameters&&(e.manifest.retryParameters={}),null==e.manifest.retryParameters.baseDelay&&(e.manifest.retryParameters.baseDelay=100),null==e.drm&&(e.drm={}),null==e.drm.retryParameters&&(e.drm.retryParameters={}),null==e.drm.retryParameters.baseDelay&&(e.drm.retryParameters.baseDelay=100)),n=lc(this.g,e,Ul(this)),Il(this),n},r.getConfiguration=function(){var e=Ul(this);return lc(e,this.g,Ul(this)),e},r.Dg=function(){return lc(Ul(this),this.g,Ul(this)),nc(this.g,Ul(this))},r.yg=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(e>=(t=Math.min(this.h.currentTime+t,this.Rb().end)))return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},r.Ri=function(){for(var e in this.g)delete this.g[e];lc(this.g,Ul(this),Ul(this)),Il(this)},r.Bg=function(){return this.m},r.mf=function(){return this.i?this.i.type:null},r.Yh=function(){return this.h},r.Ab=function(){return this.G},r.Kc=function(){return this.$},r.xg=function(){return this.s?this.s:null},r.U=function(){return this.i&&!this.Ja()?this.i.presentationTimeline.U():!(!this.h||!this.h.src)&&1/0==this.h.duration},r.uc=function(){return!!this.i&&this.i.presentationTimeline.uc()},r.oi=function(){if(this.i&&!this.Ja()){var e=this.i.variants;return!!e.length&&!e[0].video}return!(!this.h||!this.h.src)&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},r.Rb=function(){if(this.i&&!this.Ja()){if(!this.Aa&&"HLS"==this.i.type)return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.Kb(),end:e.Bb()}}return this.h&&this.h.src&&(e=this.h.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},r.li=function(){this.U()&&(this.h.currentTime=this.Rb().end)},r.pi=function(){return this.Aa},r.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},r.drmInfo=function(){return this.C?this.C.g:null},r.ed=function(){return this.C?this.C.ed():1/0},r.kf=function(){return this.C?this.C.kf():[]},r.Nd=function(){return this.C?this.C.Nd():{}},r.uf=function(){return!!this.M&&this.M.g==Fi},r.ib=function(){return this.h?this.K?this.K.i:1:0},r.zd=function(e,t){var n=this;t=void 0===t||t,0==e?X("A trick play rate of 0 is unsupported!"):(this.Ha.Va(),this.h.paused&&this.h.play(),this.K.set(e),this.m==cd&&(this.o.playbackRateChanged(e),Lu(this.j,t&&1<Math.abs(e))),this.U()&&this.Ha.D(this.h,"timeupdate",(function(){var t=n.h.currentTime,r=n.Rb(),i=n.g.streaming.safeSeekOffset;0<e?Math.floor(t)>=Math.floor(r.end)&&n.Yc():Math.floor(t)<=Math.floor(r.start+i)&&n.Yc()})))},r.Yc=function(){var e=this.K.oc();this.m==ld&&this.K.set(e),this.m==cd&&(this.K.set(e),this.o.playbackRateChanged(e),Lu(this.j,!1)),this.Ha.Va()},r.rc=function(){if(this.i&&!this.Ja()){for(var e=this.j?this.j.j:null,t=[],n=0,r=c(this.i.variants),i=r.next();!i.done;i=r.next())if(yi(i=i.value)){var a=di(i);a.active=i==e,a.active||1==n||null==e||i.video!=e.video||i.audio!=e.audio||(a.active=!0),a.active&&n++,t.push(a)}return t}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map((function(e){return vi(e)})):[]},r.qc=function(){if(this.i&&!this.Ja()){for(var e=this.j?this.j.s:null,t=[],n=c(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=fi(r=r.value);i.active=r==e,t.push(i)}return t}return this.h&&this.h.src&&this.h.textTracks?Pl(this).map((function(e){return gi(e)})):[]},r.Sh=function(){var e=this.ud;return this.i&&(e=this.i.imageStreams),e.map((function(e){return pi(e)}))},r.Jh=function(e){var t,n,r,i,a=this;return D((function(o){return 1==o.g?a.m!=cd&&a.m!=ld?o.return(null):(t=a.ud,a.i&&(t=a.i.imageStreams),(n=t.find((function(t){return t.id==e})))?n.segmentIndex?o.u(2):w(o,n.createSegmentIndex(),2):o.return(null)):4!=o.g?(r=[],n.segmentIndex.yb((function(t){var i=Ml(t.tilesLayout||n.tilesLayout);if(i){i=i.rows*i.lc;for(var o=t.j-t.startTime,s=0;s<i;s++)r.push(a.Fg(e,t.startTime+o*s/i))}})),w(o,Promise.all(r),4)):(i=o.h,o.return(i.filter((function(e){return e}))))}))},r.Fg=function(e,t){var n,r,i,a,o,s,u,c,l,d,f,p,h,g,v,m,y,b,x=this;return D((function(S){return 1==S.g?x.m!=cd&&x.m!=ld?S.return(null):(n=x.ud,x.i&&(n=x.i.imageStreams),(r=n.find((function(t){return t.id==e})))?r.segmentIndex?S.u(2):w(S,r.createSegmentIndex(),2):S.return(null)):null==(i=r.segmentIndex.find(t))?S.return(null):(a=r.segmentIndex.get(i),(o=Ml(a.tilesLayout||r.tilesLayout))?(s=r.width||0,u=r.height||0,c=s/o.lc,l=u/o.rows,d=o.lc*o.rows,f=a.j-a.startTime,p=a.A||f/d,h=a.startTime,v=g=0,1<d&&(m=Math.floor((t-a.startTime)/p),h=a.startTime+m*p,g=m%o.lc*c,v=Math.floor(m/o.lc)*l),y=!1,(b=a.thumbnailSprite)&&(y=!0,l=b.height,g=b.positionX,v=b.positionY,c=b.width),S.return({segment:a,imageHeight:u,imageWidth:s,height:l,positionX:g,positionY:v,startTime:h,duration:p,uris:a.N(),width:c,sprite:y})):S.return(null))}))},r.ah=function(e){var t,n=this;this.i&&this.F&&((t=n.i.textStreams.find((function(t){return t.id==e.id})))&&t!=n.j.s&&(du(n.A.h,t,!1),Nu(n.j,t),Xl(n),Jl(n),n.Hb=t.language),!this.Ja())||function(){if(n.h&&n.h.textTracks){var t=Pl(n),r=t.find((function(e){return"disabled"!==e.mode}));(t=t.find((function(t){return hi(t)===e.id})))&&(r!==t&&(r&&(r.mode="disabled",n.l.cb(r,"cuechange"),n.B.remove(0,1/0)),t&&_l(n,t)),Xl(n),Jl(n))}}()},r.Rf=function(e,t,n){var r=this;t=void 0!==t&&t,n=void 0===n?0:n,this.i&&this.F&&(function(){var i=r.i.variants.find((function(t){return t.id==e.id}));if(i&&yi(i)){var a=r.j.j;r.g.abr.enabled&&(a.video!=i.video||a.audio&&i.audio&&a.audio.language==i.audio.language&&a.audio.channelsCount==i.audio.channelsCount)&&X("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack()."),r.Ja()?Hl(r,i,!1,!1,0):Hl(r,i,!1,t||!1,n||0),r.Ba=new Ni(i,r.g.mediaSource.codecSwitchingStrategy),$l(r)}}(),!this.Ja())||function(){if(r.h&&r.h.audioTracks)for(var t=Array.from(r.h.audioTracks),n=(t=c(t)).next();!n.done;n=t.next())if(hi(n=n.value)==e.id){ql(r,n);break}}()},r.Lh=function(){return od(this.rc())},r.ei=function(){return od(this.qc())},r.Kh=function(){return Array.from(ad(this.rc()))},r.di=function(){return Array.from(ad(this.qc()))},r.$g=function(e,t,n,r,i){var a=this;n=void 0===n?0:n,r=void 0===r?0:r,i=void 0===i?"":i,this.i&&this.F&&(function(){function o(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0}a.Ba=new Oi(e,t||"",n||0,"",!1,"","","",a.g.mediaSource.codecSwitchingStrategy,i||"");for(var s=a.j.j,u=a.Ba.create(a.i.variants),l=null,d=(u=c(u.values())).next();!d.done;d=u.next())yi(d=d.value)&&(!l||o(l,s)>o(d,s))&&(l=d);l!=s&&(l?(s=di(l),a.Rf(s,!0,r||0)):zl(a))}(),!this.Ja())||function(){if(a.h&&a.h.audioTracks){var n=wi(a.rc(),e,t||"",!1)[0];n&&a.Rf(n)}}()},r.Qf=function(e,t,n){var r,i=this;n=void 0!==n&&n,this.i&&this.F&&(function(){i.Hb=e,i.sd=t||"",i.qd=n||!1;var r=wi(i.i.textStreams,i.Hb,i.sd,i.qd)[0]||null;r&&r!=i.j.s&&(du(i.A.h,r,!1),i.g.streaming.alwaysStreamText||i.wf())&&(Nu(i.j,r),Xl(i),Jl(i))}(),!this.Ja())||(r=wi(i.qc(),e,t||"",n||!1)[0])&&i.ah(r)},r.Xi=function(e,t,n){var r=this;t=void 0===t||t,n=void 0===n?0:n,this.i&&this.F&&(function(){for(var i=null,a=c(r.i.variants),o=a.next();!o.done;o=a.next())if((o=o.value).audio.label==e){i=o;break}null!=i&&(r.Ba=new Oi(i.language,"",0,"",!1,"",e,"",r.g.mediaSource.codecSwitchingStrategy,""),zl(r,t,n))}(),!this.Ja())||function(){if(r.h&&r.h.audioTracks){for(var t=Array.from(r.h.audioTracks),n=null,i=(t=c(t)).next();!i.done;i=t.next())(i=i.value).label==e&&(n=i);n&&ql(r,n)}}()},r.wf=function(){var e=this.na;return this.B?this.B.isTextVisible():e},r.zg=function(){return this.h&&this.h.currentSrc&&this.h.textTracks?Dl(this).map((function(e){return gi(e)})):[]},r.Nh=function(e){if(!this.h||!this.h.currentSrc||!this.h.textTracks)return[];var t=Xr(e),n=Dl(this).filter((function(e){return Xr(e.language)==t}));if(!n||!n.length)return[];e=[];for(var r=new Set,i=(n=c(n)).next();!i.done;i=n.next())if((i=i.value)&&i.cues)for(var a=(i=c(i.cues)).next();!a.done;a=i.next()){var o=a.value;(a=o.id)&&""!=a||(a=o.startTime+"-"+o.endTime+"-"+o.text),o={id:a,title:o.text,startTime:o.startTime,endTime:o.endTime},r.has(a)||(e.push(o),r.add(a))}return e},r.hh=function(e){e=!!e,this.na!=e&&(this.na=e,this.m==cd?(this.B.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.j.s||0<(e=wi(this.i.textStreams,this.Hb,this.sd,this.qd)).length&&(Nu(this.j,e[0]),Xl(this),Jl(this)):function(e){var t=e.i.get(yr);t&&(Xu(t),Wu(t).catch((function(){})),e.C=e.i.get(yr),e.i.delete(yr)),e.s=null}(this.j))):this.h&&this.h.src&&this.h.textTracks&&this.B.setTextVisibility(e),Wl(this))},r.$h=function(){if(this.F)var e=this.F.Cd();else{if(null==this.ka)return new Date;e=this.ka}if(this.i&&!this.Ja()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},r.Eg=function(){if(this.i&&!this.Ja()){var e=this.i.presentationTimeline;return new Date(1e3*(e.m||e.i))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},r.Pd=function(){return this.U()&&this.i?this.i.presentationTimeline.Pd():null},r.zb=function(){if(this.m==cd)return this.I.zb();var e={total:[],audio:[],video:[],text:[]};return this.m==ld&&(e.total=Co(this.h.buffered)),e},r.getStats=function(){if(this.m!=cd&&this.m!=ld)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};Fl(this);var e=this.h,t=e.currentTime/e.duration;if(!isNaN(t)&&!this.U()){var n=this.A;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.F&&(this.A.S=this.F.hg(),this.A.V=this.F.ig()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.A;var r=Number(n.totalVideoFrames);t.O=Number(n.droppedVideoFrames),t.M=r,this.A.L=Number(n.corruptedVideoFrames)}if(n=this.C&&(n=this.C).H?n.H:NaN,this.A.o=n,this.m==cd){if(n=this.j.j,t=this.j.s,n){var i=(r=this.K?this.K.i:1)*n.bandwidth;t&&t.bandwidth&&(i+=r*t.bandwidth),this.A.A=i}n&&n.video&&(t=this.A,r=n.video.height||NaN,t.m=n.video.width||NaN,t.l=r),this.U()&&(n=this.Eg().valueOf()+1e3*e.currentTime,this.A.B=(Date.now()-n)/1e3),this.i&&(this.A.G=this.i.periodCount,this.A.F=this.i.gapCount,this.i.presentationTimeline&&(this.A.I=this.i.presentationTimeline.h)),n=this.o.getBandwidthEstimate(),this.A.s=n}this.m==ld&&((n=this.A).kc=isNaN(n.kc)?NaN:n.kc+NaN,n=this.A,t=e.videoHeight||NaN,n.m=e.videoWidth||NaN,n.l=t);var a=this.A;e=a.m,n=a.l,t=a.A,r=a.M,i=a.O;for(var o=a.L,s=a.V,u=a.S,l=a.s,d=a.i,f=a.C,p=a.H,h=a.j,g=cu(a.g,"playing"),v=cu(a.g,"paused"),m=cu(a.g,"buffering"),y=a.o,b=a.B,w=a.I,x=a.Kg,S=a.kc,T=a.K,k=a.G,C=a.F,A=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=c(e.h),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.g&&n.push(t(e.g)),n}(a.g),E=[],I=(a=c(a.h.g)).next();!I.done;I=a.next())I=I.value,E.push({timestamp:I.timestamp,id:I.id,type:I.type,fromAdaptation:I.fromAdaptation,bandwidth:I.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:r,droppedFrames:i,corruptedFrames:o,stallsDetected:s,gapsJumped:u,estimatedBandwidth:l,completionPercent:d,loadLatency:f,manifestTimeSeconds:p,drmTimeSeconds:h,playTime:g,pauseTime:v,bufferingTime:m,licenseTime:y,liveLatency:b,maxSegmentDuration:w,manifestSizeBytes:x,bytesDownloaded:S,nonFatalErrorCount:T,manifestPeriodCount:k,manifestGapCount:C,stateHistory:A,switchHistory:E}},r.xh=function(e,t,n,r,i,a,o){o=void 0!==o&&o;var s,u,c,l,d,f,p,h,g,v,m=this;return D((function(y){switch(y.g){case 1:if(m.m!=cd&&m.m!=ld)throw new Pe(1,7,7004);if("subtitles"!=n&&"captions"!=n&&X("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){y.u(2);break}return w(y,Ll(m,e),3);case 3:r=y.h;case 2:if(s=[],m.s&&(s=m.s.getCuePoints()),m.m!=ld){y.u(4);break}return o&&(n="forced"),w(y,Rl(m,e,t,n,r,a||"",s),5);case 5:if(u=Xr(t),c=m.qc(),l=c.find((function(e){return Xr(e.language)==u&&e.label==(a||"")&&e.kind==n})))return Kl(m),y.return(l);throw new Pe(1,2,2012);case 4:if(d=br,f=m.h.duration,m.i&&(f=m.i.presentationTimeline.getDuration()),1/0==f)throw new Pe(1,4,4033);if(!s.length){y.u(6);break}return w(y,Nl(m,e,m.G,m.g.streaming.retryParameters),7);case 7:p=y.h,h=Ol(m,p,r,s),g=new Blob([h],{type:"text/vtt"}),e=Ps(g),r="text/vtt";case 6:if(v={id:m.fg++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:tu(0,f,[e]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:a||null,type:d.wa,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Tr(r||"",i||"")]),isAudioMuxedInVideo:!1},!Ur(Tr(v.mimeType,v.codecs)))throw new Pe(2,2,2014,r);return m.i.textStreams.push(v),Kl(m),y.return(fi(v))}}))},r.yh=function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,x=this;return D((function(S){switch(S.g){case 1:if(x.m!=cd&&x.m!=ld)throw new Pe(1,7,7004);if(t){S.u(2);break}return w(S,Ll(x,e),3);case 3:t=S.h;case 2:if("text/vtt"!=t)throw new Pe(1,2,2017,e);if(n=br,r=x.h.duration,x.i&&(r=x.i.presentationTimeline.getDuration()),1/0==r)throw new Pe(1,4,4045);return w(S,Nl(x,e,x.G,x.g.streaming.retryParameters),4);case 4:if(i=S.h,!(a=Br[t]))throw new Pe(2,2,2014,t);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},u=ve(i),l=o.parseMedia(u,s,e,[]),d=[],f=c(l),p=f.next(),h={};!p.done;h={ze:void 0,Fc:void 0},p=f.next())h.Fc=p.value,h.ze=null,g=function(t){return function(){return null==t.ze&&(t.ze=fr([e],[t.Fc.payload])),t.ze||[]}}(h),v=new mo(h.Fc.startTime,h.Fc.endTime,g,0,null,null,0,0,1/0),h.Fc.payload.includes("#xywh")&&4===(m=h.Fc.payload.split("#xywh=")[1].split(",")).length&&v.qe({height:parseInt(m[3],10),positionX:parseInt(m[0],10),positionY:parseInt(m[1],10),width:parseInt(m[2],10)}),d.push(v);if(y=t,!d.length){S.u(5);break}return w(S,kc(d[0].N()[0],x.G,x.g.manifest.retryParameters),6);case 6:y=S.h;case 5:return b={id:x.fg++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Qs(d),mimeType:y||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.Ie,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Tr(y||"","")]),isAudioMuxedInVideo:!1},x.m==ld?x.ud.push(b):x.i.imageStreams.push(b),Kl(x),S.return(pi(b))}}))},r.wh=function(e,t,n){var r,i,a,o,s=this;return D((function(u){switch(u.g){case 1:if(s.m!=cd&&s.m!=ld)throw new Pe(1,7,7004);if(n){u.u(2);break}return w(u,Ll(s,e),3);case 3:n=u.h;case 2:return r=[],s.s&&(r=s.s.getCuePoints()),w(u,Rl(s,e,t,"chapters",n,"",r),4);case 4:if(i=u.h,a=s.zg(),!(o=a.find((function(e){return e.language==t})))){u.u(5);break}return w(u,new Promise((function(e,t){s.l.va(i,"load",e),s.l.va(i,"error",(function(){t(new Pe(1,2,2015))}))})),6);case 6:return Kl(s),u.return(o);case 5:throw new Pe(1,2,2012)}}))},r.bj=function(e,t){this.ja.width=e,this.ja.height=t},r.Of=function(e){if(this.m==cd){var t=this.j;if(e=void 0===e?.1:e,t.m.g)t=!1;else if(t.A)t=!1;else{for(var n=c(t.i.values()),r=n.next();!r.done;r=n.next())!(r=r.value).jd||r.Ea||r.eb||(r.jd=!1,Gu(t,r,e));t=!0}}else t=!1;return t},r.lf=function(){return X("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},r.Vh=function(){return this.Na},r.Qh=function(){var e={video:null,audio:null,text:null};if(this.m!=cd)return e;for(var t=this.j.j,n=this.h.currentTime,r=(t=c([t.video,t.audio,this.j.s])).next();!r.done;r=t.next())if((r=r.value)&&r.segmentIndex){var i=r.segmentIndex.find(n);i={codecs:(i=r.segmentIndex.get(i)).codecs||r.codecs,mimeType:i.mimeType||r.mimeType,bandwidth:i.bandwidth||r.bandwidth},"video"==r.type?(i.width=r.width,i.height=r.height,e.video=i):"audio"==r.type?e.audio=i:r.type==yr&&(e.text=i)}return e},r.kh=function(e){this.ie=e},r.disableStream=function(e,t){if(!this.g.abr.enabled||this.m===sd||!navigator.onLine||0==t||!this.i)return!1;if(this.i.variants.some((function(t){var n=t[e.type];return!(!n||n.id===e.id||t.disabledUntilTime||"audio"==e.type&&e.language!==n.language)}))){for(var n=!1,r=!1,i=c(this.i.variants),a=i.next();!a.done;a=i.next()){var o=(a=a.value)[e.type];o&&(o.id===e.id?(a.disabledUntilTime=Date.now()/1e3+t,n=!0):o.trickModeVideo&&o.trickModeVideo.id==e.id&&(r=!0))}return!(!n&&r||(this.le.Ra(1),t=this.zb().video.reduce((function(e,t){return e+t.end-t.start}),0),zl(this,!1,t,!0,!1),0))}return!1},r.addFont=function(t,n){var r,i,a,o,s;return D((function(u){if(1==u.g)return"fonts"in document&&"FontFace"in e?w(u,document.fonts.ready,3):u.u(0);if(!("entries"in document.fonts))return u.return();for(r=function(e){for(var t=[],n=(e=e.entries()).next();!1===n.done;)t.push(n.value),n=e.next();return t},i=c(r(document.fonts)),a=i.next();!a.done;a=i.next())if((o=a.value).family==t&&"swap"==o.display)return u.return();s=new FontFace(t,"url("+n+")",{display:"swap"}),document.fonts.add(s),x(u)}))},r.Ja=function(){return!(!this.h||!this.h.remote)&&"disconnected"!=this.h.remote.state},B("shaka.Player",fl),fl.prototype.isRemotePlayback=fl.prototype.Ja,fl.prototype.addFont=fl.prototype.addFont,fl.prototype.setVideoContainer=fl.prototype.kh,fl.prototype.getFetchedPlaybackInfo=fl.prototype.Qh,fl.prototype.getManifestParserFactory=fl.prototype.Vh,fl.prototype.getManifest=fl.prototype.lf,fl.prototype.retryStreaming=fl.prototype.Of,fl.prototype.setMaxHardwareResolution=fl.prototype.bj,fl.prototype.addChaptersTrack=fl.prototype.wh,fl.prototype.addThumbnailsTrack=fl.prototype.yh,fl.prototype.addTextTrackAsync=fl.prototype.xh,fl.prototype.getStats=fl.prototype.getStats,fl.prototype.getBufferedInfo=fl.prototype.zb,fl.prototype.getSegmentAvailabilityDuration=fl.prototype.Pd,fl.prototype.getPresentationStartTimeAsDate=fl.prototype.Eg,fl.prototype.getPlayheadTimeAsDate=fl.prototype.$h,fl.prototype.setTextTrackVisibility=fl.prototype.hh,fl.prototype.getChapters=fl.prototype.Nh,fl.prototype.getChaptersTracks=fl.prototype.zg,fl.prototype.isTextTrackVisible=fl.prototype.wf,fl.prototype.selectVariantsByLabel=fl.prototype.Xi,fl.prototype.selectTextLanguage=fl.prototype.Qf,fl.prototype.selectAudioLanguage=fl.prototype.$g,fl.prototype.getTextLanguages=fl.prototype.di,fl.prototype.getAudioLanguages=fl.prototype.Kh,fl.prototype.getTextLanguagesAndRoles=fl.prototype.ei,fl.prototype.getAudioLanguagesAndRoles=fl.prototype.Lh,fl.prototype.selectVariantTrack=fl.prototype.Rf,fl.prototype.selectTextTrack=fl.prototype.ah,fl.prototype.getThumbnails=fl.prototype.Fg,fl.prototype.getAllThumbnails=fl.prototype.Jh,fl.prototype.getImageTracks=fl.prototype.Sh,fl.prototype.getTextTracks=fl.prototype.qc,fl.prototype.getVariantTracks=fl.prototype.rc,fl.prototype.cancelTrickPlay=fl.prototype.Yc,fl.prototype.trickPlay=fl.prototype.zd,fl.prototype.getPlaybackRate=fl.prototype.ib,fl.prototype.isBuffering=fl.prototype.uf,fl.prototype.getKeyStatuses=fl.prototype.Nd,fl.prototype.getActiveSessionsMetadata=fl.prototype.kf,fl.prototype.getExpiration=fl.prototype.ed,fl.prototype.drmInfo=fl.prototype.drmInfo,fl.prototype.keySystem=fl.prototype.keySystem,fl.prototype.isFullyLoaded=fl.prototype.pi,fl.prototype.goToLive=fl.prototype.li,fl.prototype.seekRange=fl.prototype.Rb,fl.prototype.isAudioOnly=fl.prototype.oi,fl.prototype.isInProgress=fl.prototype.uc,fl.prototype.isLive=fl.prototype.U,fl.prototype.getAdManager=fl.prototype.xg,fl.prototype.getAssetUri=fl.prototype.Kc,fl.prototype.getNetworkingEngine=fl.prototype.Ab,fl.prototype.getMediaElement=fl.prototype.Yh,fl.prototype.getManifestType=fl.prototype.mf,fl.prototype.getLoadMode=fl.prototype.Bg,fl.prototype.resetConfiguration=fl.prototype.Ri,fl.prototype.getBufferFullness=fl.prototype.yg,fl.prototype.getNonDefaultConfiguration=fl.prototype.Dg,fl.prototype.getConfiguration=fl.prototype.getConfiguration,fl.prototype.configure=fl.prototype.configure,fl.prototype.releaseAllMutexes=fl.prototype.Ni,fl.prototype.destroyAllPreloads=fl.prototype.Ue,fl.prototype.preload=fl.prototype.preload,fl.prototype.detachAndSavePreload=fl.prototype.tg,fl.prototype.unloadAndSavePreload=fl.prototype.ej,fl.prototype.load=fl.prototype.load,fl.prototype.updateStartTime=fl.prototype.ij,fl.prototype.unload=fl.prototype.ic,fl.prototype.detach=fl.prototype.detach,fl.prototype.attachCanvas=fl.prototype.Ch,fl.prototype.attach=fl.prototype.Ub,fl.probeSupport=function(e){var t,n,r,i,a,o,s;return e=void 0===e||e,D((function(u){switch(u.g){case 1:if(t={},!e){u.u(2);break}return w(u,function(){var e,t,n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,T,A,E,I,M,_,P,L;return D((function(R){if(1==R.g){for(e="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.chromecast.playready com.apple.fps.1_0 com.apple.fps".split(" "),n={"com.widevine.alpha":t=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],"com.widevine.alpha.experiment":t,"com.microsoft.playready.recommendation":["150","2000","3000"]},a={videoCapabilities:r=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],audioCapabilities:i=[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],initDataTypes:["cenc","sinf","skd","keyids"]},o=[null,"cenc","cbcs","cbcs-1-9"],s=new Map,u=function(e,t){var n,r,i,a,o,u,c,l;return D((function(d){switch(d.g){case 1:return S(d,2),w(d,t.createMediaKeys(),4);case 4:k(d,3);break;case 2:return C(d),d.return();case 3:r=!!(n=t.getConfiguration().sessionTypes)&&n.includes("persistent-license"),Ke()&&(r=!1),i=t.getConfiguration().videoCapabilities,a=t.getConfiguration().audioCapabilities,o={persistentState:r,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[]},s.has(e)&&s.get(e)?o=s.get(e):s.set(e,o),(u=i[0].encryptionScheme)&&!o.encryptionSchemes.includes(u)&&o.encryptionSchemes.push(u),(c=i[0].robustness)&&!o.videoRobustnessLevels.includes(c)&&o.videoRobustnessLevels.push(c),(l=a[0].robustness)&&!o.audioRobustnessLevels.includes(l)&&o.audioRobustnessLevels.push(l),x(d)}}))},l=function(e,t,n,r){var i,o,s,l,d,f,p,h,g,v;return D((function(m){switch(m.g){case 1:for(S(m,2),i=Et(a),o=c(i.videoCapabilities),s=o.next();!s.done;s=o.next())(l=s.value).encryptionScheme=t,l.robustness=n;for(d=c(i.audioCapabilities),f=d.next();!f.done;f=d.next())(p=f.value).encryptionScheme=t,p.robustness=r;return(h=Et(i)).persistentState="required",h.sessionTypes=["persistent-license"],g=[h,i],w(m,navigator.requestMediaKeySystemAccess(e,g),4);case 4:return v=m.h,w(m,u(e,v),5);case 5:k(m,0);break;case 2:C(m),x(m)}}))},d=function(e,t,n,a){var o,s,c;return D((function(l){switch(l.g){case 1:return S(l,2),o={type:"media-source",video:{contentType:r[0].contentType,width:640,height:480,bitrate:1,framerate:1},audio:{contentType:i[0].contentType,channels:2,bitrate:1,samplerate:1},keySystemConfiguration:{keySystem:e,video:{encryptionScheme:t,robustness:n},audio:{encryptionScheme:t,robustness:a}}},w(l,navigator.mediaCapabilities.decodingInfo(o),4);case 4:return s=l.h,c=s.keySystemAccess,w(l,u(e,c),5);case 5:k(l,0);break;case 2:C(l),x(l)}}))},f=c(e),p=f.next();!p.done;p=f.next())h=p.value,s.set(h,null);for(g=[],v=c(o),m=v.next();!m.done;m=v.next())for(y=m.value,b=c(e),T=b.next();!T.done;T=b.next())"org.w3.clearkey"===(A=T.value)&&tt()||(g.push(l(A,y,"","")),g.push(d(A,y,"","")));for(E=c(e),I=E.next();!I.done;I=E.next())for(M=I.value,_=c(n[M]||[]),P=_.next();!P.done;P=_.next())L=P.value,g.push(l(M,null,L,"")),g.push(l(M,null,"",L)),g.push(d(M,null,L,"")),g.push(d(M,null,"",L));return w(R,Promise.all(g),2)}return R.return(ma(s))}))}(),3);case 3:t=u.h;case 2:var d={};if(Ve())for(var f in lo)d[f]=!0;for(var p=(f=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!p.done;p=f.next())d[p=p.value]=Ve()?!!lo[p]:$e(p);for(n=d,d={},p=(f=c(f='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(l(Nr)))).next();!p.done;p=f.next()){d[p=p.value]=!!Ur(p)||(Ve()?ne(p)||!!On(p):$e(p));var h=p.split(";")[0];d[h]=d[h]||d[p]}return r=d,w(u,ut(),4);case 4:for(s in i=u.h,a={manifest:n,media:r,drm:t,hardwareResolution:i},o=fd)a[s]=o[s]();return u.return(a)}}))},fl.isBrowserSupported=function(){if(e.Promise||X("A Promise implementation or polyfill is required"),!(e.Promise&&e.Uint8Array&&Array.prototype.forEach)||at("Trident/"))return!1;var t=tt();return!(t&&9>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Ve()||$e("application/x-mpegurl"))},fl.setAdManagerFactory=function(e){pd=e},fl.registerSupportPlugin=function(e,t){fd[e]=t},fl.prototype.destroy=fl.prototype.destroy;var sd=0,ud=1,cd=2,ld=3;fl.LoadMode={DESTROYED:sd,NOT_LOADED:ud,MEDIA_SOURCE:cd,SRC_EQUALS:ld},fl.version="v4.12.2";var dd=["4","12"];ce=new function(e){this.g=e,this.i=se,this.h=ue}(new ae(Number(dd[0]),Number(dd[1])));var fd={},pd=null;function hd(){this.g=[],this.i=this.l=this.j=this.h=0}function gd(e){return e.g.length?e.g.reduce((function(e,t){return e+t}),0)/e.g.length:0}function vd(e,t,n){var r=this;this.g=e,this.h=t,this.j=n,this.i=!1,this.l=this.h.getVolume(),this.m=new Q,this.m.D(this.h,google.ima.AdEvent.Type.PAUSED,(function(){r.i=!0})),this.m.D(this.h,google.ima.AdEvent.Type.RESUMED,(function(){r.i=!1}))}function md(){}function yd(e,t){var n=[],r=0;null!=t&&(r=t);for(var i=(e=c(Rt(e,"Ad"))).next();!i.done;i=e.next())if((i=jt(i.value,"InLine"))&&(i=jt(i,"Creatives")))for(var a=(i=c(Rt(i,"Creative"))).next();!a.done;a=i.next()){var o=jt(a.value,"Linear");if(o&&(a=null,o.attributes.skipoffset&&(a=Ct(o.attributes.skipoffset),isNaN(a)&&(a=null)),o=jt(o,"MediaFiles"))){var s=Rt(o,"MediaFile");for(o=s,s=s.filter((function(e){return"streaming"==e.attributes.delivery})),s.length&&(o=s),o=o.sort((function(e,t){return(parseInt(t.attributes.height,10)||0)-(parseInt(e.attributes.height,10)||0)})),s=(o=c(o)).next();!s.done;s=o.next())if(s=Nt(s.value)){n.push({id:null,startTime:r,endTime:null,uri:s,isSkippable:null!=a,skipOffset:a,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:null==t,post:1/0==t,timelineRange:!1});break}}}return n}function bd(t,n,r,i,a){var o=this;this.s=t,this.i=n,this.F=!1,this.A=this.o=null,this.G=NaN,this.l=a,this.j=null,this.h=new Q,google.ima.settings.setLocale(r),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.C=new google.ima.AdDisplayContainer(this.s,this.i),this.C.initialize(),this.m=new google.ima.AdsLoader(this.C),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.12.2"),this.g=null,this.B=i||new google.ima.AdsRenderingSettings,this.h.D(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){!function(t,n){if(t.l(new Yi("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-t.G))),t.o.customPlayheadTracker){var r={currentTime:t.i.currentTime};t.g=n.getAdsManager(r,t.B),t.i.muted?t.g.setVolume(0):t.g.setVolume(t.i.volume),t.h.D(t.i,"timeupdate",(function(){t.i.duration&&(r.currentTime=t.i.currentTime)})),t.h.D(t.i,"volumechange",(function(){t.j&&(t.j.setVolume(t.i.volume),t.i.muted&&t.j.setMuted(!0))}))}else t.g=n.getAdsManager(t.i,t.B);t.l(new Yi("ima-ad-manager-loaded",(new Map).set("imaAdManager",t.g)));var i=t.g.getCuePoints();if(i.length){n=[];for(var a=(i=c(i)).next();!a.done;a=i.next())n.push({start:a.value,end:null});t.l(new Yi("ad-cue-points-changed",(new Map).set("cuepoints",n)))}!function(e){function t(t,n){t=(new Map).set("originalEvent",t),e.l(new Yi(n,t))}e.h.D(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){wd(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){Sd(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.STARTED,(function(t){Sd(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(e){t(e,"ad-first-quartile")})),e.h.D(e.g,google.ima.AdEvent.Type.MIDPOINT,(function(e){t(e,"ad-midpoint")})),e.h.D(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(e){t(e,"ad-third-quartile")})),e.h.D(e.g,google.ima.AdEvent.Type.COMPLETE,(function(e){t(e,"ad-complete")})),e.h.D(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){Td(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){Td(e,t)})),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPED,(function(e){t(e,"ad-skipped")})),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(e){t(e,"ad-volume-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,(function(e){t(e,"ad-muted")})),e.h.D(e.g,google.ima.AdEvent.Type.PAUSED,(function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))})),e.h.D(e.g,google.ima.AdEvent.Type.RESUMED,(function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))})),e.h.D(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(n){e.j&&t(n,"ad-skip-state-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.CLICK,(function(e){t(e,"ad-clicked")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_PROGRESS,(function(e){t(e,"ad-progress")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_BUFFERING,(function(e){t(e,"ad-buffering")})),e.h.D(e.g,google.ima.AdEvent.Type.IMPRESSION,(function(e){t(e,"ad-impression")})),e.h.D(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,(function(e){t(e,"ad-duration-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.USER_CLOSE,(function(e){t(e,"ad-closed")})),e.h.D(e.g,google.ima.AdEvent.Type.LOADED,(function(e){t(e,"ad-loaded")})),e.h.D(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(e){t(e,"all-ads-completed")})),e.h.D(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(e){t(e,"ad-linear-changed")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_METADATA,(function(e){t(e,"ad-metadata")})),e.h.D(e.g,google.ima.AdEvent.Type.LOG,(function(e){t(e,"ad-recoverable-error")})),e.h.D(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,(function(e){t(e,"ad-break-ready")})),e.h.D(e.g,google.ima.AdEvent.Type.INTERACTION,(function(e){t(e,"ad-interaction")}))}(t);try{t.g.init(t.i.offsetWidth,t.i.offsetHeight,xd(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),t.h.D(t.i,"loadeddata",(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,xd(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),"ResizeObserver"in e?(t.A=new ResizeObserver((function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,xd(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.A.observe(t.i)):t.h.D(document,"fullscreenchange",(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight,xd(t)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),t.F||t.o.skipPlayDetection?t.g.start():t.h.va(t.i,"play",(function(){t.F=!0,t.g.start()}))}catch(e){Td(t,null)}}(o,t)})),this.h.D(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){wd(o,e)})),this.h.D(this.i,"ended",(function(){o.m.contentComplete()})),this.h.va(this.i,"play",(function(){o.F=!0}))}function wd(e,t){t.getError(),t=(new Map).set("originalEvent",t),e.l(new Yi("ad-error",t)),Td(e,null),e.l(new Yi("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function xd(e){return document.fullscreenEnabled?!!document.fullscreenElement:!!(e=e.i).webkitSupportsFullscreen&&e.webkitDisplayingFullscreen}function Sd(e,t){var n=t.getAd();n?(e.j=new vd(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.o.supportsMultipleMediaElements||e.l(new Yi("ad-content-pause-requested")),t=(new Map).set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new Yi("ad-started",t)),e.j.isLinear()&&(e.s.setAttribute("ad-active","true"),e.o.customPlayheadTracker||e.i.pause(),e.i.muted?((t=e.j).l=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):X("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function Td(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.o.supportsMultipleMediaElements&&e.l(new Yi("ad-content-resume-requested")),e.l(new Yi("ad-stopped",(new Map).set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.s.removeAttribute("ad-active"),e.o.customPlayheadTracker||e.i.ended||e.i.play())}function kd(e,t,n,r,i,a,o,s){this.g=e,this.h=(this.i=t)?n||0:n,this.j=r,this.o=i,this.s=a,this.l=o,this.m=s}function Cd(e,t,n,r){function i(){if(!a.H&&a.j&&!a.A.Ja()){a.j=a.g.currentTime,a.C&&!a.C.pre&&!a.C.post&&a.j<a.C.startTime&&(a.C=null);var e=Id(a,!1,0,a.C);e&&Md(a,e,1,1,Date.now())}}var a=this;if(this.L=null,this.G=e,this.A=t,this.g=n,this.F=null,this.o=!0,this.l=this.g,this.i=r,this.I=new Set,this.B=new Set,this.s=new Map,this.h=new fl,Pd(this),this.M=new Q,this.m=new Q,this.H=!1,this.C=this.j=null,this.M.D(this.g,"timeupdate",(function(){if(!(a.H||a.j||a.A.Ja())){a.j=a.g.currentTime;var e=Id(a,!0,0,a.C);e&&Md(a,e,1,1,Date.now())}})),this.K=new Be(i),"requestVideoFrameCallback"in this.g&&!it()){var o=this.g,s=function(){i(),o.requestVideoFrameCallback(s)};o.requestVideoFrameCallback(s)}else this.K.Ra(.025);this.O=new Be((function(){var e,t,n,r,i,o,s,u,l,d,f;return D((function(p){switch(p.g){case 1:if(!a.B.size||null==a.j){p.u(0);break}if((e=a.A.Bg())==sd||e==ud)return p.return();t=!1,n=Array.from(a.B),r=a.A.Rb(),i=c(n),o=i.next();case 3:if(o.done){p.u(5);break}if((s=o.value)==a.C){p.u(4);break}if(u=s.endTime||s.startTime,!(1<=r.start-u)){0<(l=s.startTime-a.j)&&10>=l&&(a.s.has(s)||a.s.set(s,a.h.preload(s.uri))),p.u(4);break}if(!a.s.has(s)){p.u(7);break}return w(p,a.s.get(s),8);case 8:(d=p.h)&&d.destroy(),a.s.delete(s);case 7:f=JSON.stringify(s),a.I.has(f)&&a.I.delete(f),a.B.delete(s),t=!0;case 4:o=i.next(),p.u(3);break;case 5:t&&_d(a),x(p)}}))})).Ra(1)}function Ad(e){if(e.G&&e.L&&!e.H){var t=e.L.supportsMultipleMediaElements,n=e.g;n.webkitSupportsFullscreen&&n.webkitDisplayingFullscreen&&(t=!1),e.o==t&&(e.o=!t,e.o?(e.l=e.g,e.F&&(e.F.parentElement&&e.G.removeChild(e.F),e.F=null)):(e.F||((t=document.createElement(e.g.tagName)).autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgb(0, 0, 0)",t.setAttribute("playsinline",""),e.F=t),e.l=e.F))}}function Ed(e,t){for(var n=!1,r=(t=c(t)).next();!r.done;r=t.next()){var i=(r=r.value).id||JSON.stringify(r);if(!e.I.has(i)){if(n=!0,e.I.add(i),e.B.add(r),i=!1,r.pre&&null==e.j)i=!0;else if(0!=r.startTime||r.canJump){if(null!=e.j){var a=r.startTime-e.j;0<a&&10>=a&&(i=!0)}}else i=!0;i&&(e.s.has(r)||e.s.set(r,e.h.preload(r.uri)))}}n&&_d(e)}function Id(e,t,n,r){var i=0,a=null;if(e.B.size&&null!=e.j)for(var o=e.g.ended,s=Array.from(e.B).sort((function(e,t){return t.startTime-e.startTime})),u=(s=c(s)).next();!u.done;u=s.next()){u=u.value;var l=!1;if(t)l=u.pre;else if(o)l=u.post;else if(!u.pre&&!u.post){var d=e.j-Math.round(1e3*u.startTime)/1e3;0<d&&(1>=d||!u.canJump)&&(l=!(r&&!r.pre&&!r.post&&r.startTime>=u.startTime))}if(l){if(i==n){a=u;break}i++}}return a}function Md(e,t,n,r,i,a){var o,s,u,c,l,d,f,p,h,g,v,m,y,b,T,A,E;a=void 0===a?0:a,D((function(I){switch(I.g){case 1:if(Ad(e),e.C=t,o=Date.now(),!e.l.parentElement&&e.G&&e.G.appendChild(e.l),1==r&&1==n&&(n=Array.from(e.B).filter((function(e){return t.pre?e.pre==t.pre:t.post?e.post==t.post:.001>Math.abs(e.startTime-t.startTime)})).length),(t.once||t.pre)&&(a++,e.B.delete(t),_d(e)),e.H=!0,!e.o||1!=r){I.u(2);break}return e.i(new Yi("ad-content-pause-requested",(new Map).set("saveLivePosition",!0))),s=new zi,u=function(t){return D((function(n){if(1==n.g)return"detach"!=t.state?n.u(0):it()?w(n,new Promise((function(e){return new Be(e).Z(.1)})),3):n.u(3);s.resolve(),e.m.cb(e.A,"onstatechange",u),x(n)}))},e.m.D(e.A,"onstatechange",u),w(I,s,2);case 2:return e.o||(e.g.pause(),null!=t.resumeOffset&&0!=t.resumeOffset&&(e.g.currentTime+=t.resumeOffset)),c=!1,l=null,d=function(){if(!e.o&&null==t.resumeOffset)if(t.timelineRange&&t.endTime&&1/0!=t.endTime)e.g.currentTime!=t.endTime&&(e.g.currentTime=t.endTime);else{var n=Date.now();e.g.currentTime+=(n-i)/1e3,i=n}},f=function(){var o,s;return D((function(u){if(1==u.g)return d(),l&&l.stop(),(o=Id(e,t.pre,r-a))?(e.i(new Yi("ad-stopped")),e.m.Va(),Md(e,o,n,++r,i,a),u.u(0)):e.o?w(u,e.h.detach(),4):w(u,e.h.ic(),4);e.o&&(null==(s=t.resumeOffset)&&(s=t.timelineRange&&t.endTime&&1/0!=t.endTime?t.endTime-(e.j||0):(Date.now()-i)/1e3),e.i(new Yi("ad-content-resume-requested",(new Map).set("offset",s)))),e.i(new Yi("ad-stopped")),e.m.Va(),e.H=!1,e.o?_d(e):(d(),e.g.ended||e.g.play()),Ad(e),x(u)}))},p=function(t){return D((function(n){return c?n.return():(c=!0,e.i(new Yi("ad-error",(new Map).set("originalEvent",t))),w(n,f(),0))}))},h=function(){return D((function(t){if(1==t.g)return c?t.return():(c=!0,w(t,f(),2));e.i(new Yi("ad-complete")),x(t)}))},g=function(){return D((function(t){return c?t.return():(c=!0,e.i(new Yi("ad-skipped")),w(t,f(),0))}))},v=new kd(e.l,t.isSkippable,t.skipOffset,t.skipFor,g,n,r,!e.o),e.o||(v.setMuted(e.g.muted),v.setVolume(e.g.volume)),e.i(new Yi("ad-started",(new Map).set("ad",v))),(m=v.canSkipNow())&&e.i(new Yi("ad-skip-state-changed")),y=new Set,e.m.va(e.h,"error",p),e.m.D(e.l,"timeupdate",(function(){var t=e.l.duration;if(t){var n=v.canSkipNow();m!=n&&0<v.getRemainingTime()&&0<v.getDuration()&&e.i(new Yi("ad-skip-state-changed")),m=n,25<=(t=100*e.l.currentTime/t)&&!y.has("firstquartile")?(d(),e.i(new Yi("ad-first-quartile")),y.add("firstquartile")):50<=t&&!y.has("midpoint")?(d(),e.i(new Yi("ad-midpoint")),y.add("midpoint")):75<=t&&!y.has("thirdquartile")&&(d(),e.i(new Yi("ad-third-quartile")),y.add("thirdquartile"))}})),e.m.va(e.h,"complete",h),e.m.D(e.l,"play",(function(){e.i(new Yi("ad-resumed"))})),e.m.D(e.l,"pause",(function(){var t=e.h.getConfiguration();e.l.currentTime>=t.playRangeEnd?h():e.i(new Yi("ad-paused"))})),e.m.D(e.l,"volumechange",(function(){e.l.muted?e.i(new Yi("ad-muted")):e.i(new Yi("ad-volume-changed"))})),S(I,4),Pd(e),t.startTime&&t.endTime&&1/0!=t.endTime&&t.startTime!=t.endTime&&0<(b=t.endTime-t.startTime)&&e.h.configure("playRangeEnd",b),t.playoutLimit&&(l=new Be((function(){v.skip()})).Z(t.playoutLimit),e.h.configure("playRangeEnd",t.playoutLimit)),w(I,e.h.Ub(e.l),6);case 6:return e.s.has(t)?w(I,e.s.get(t),10):w(I,e.h.load(t.uri),8);case 10:return T=I.h,e.s.delete(t),w(I,T?e.h.load(T):e.h.load(t.uri),8);case 8:t.playoutLimit&&(l&&l.stop(),l=new Be((function(){v.skip()})).Z(t.playoutLimit)),A=(Date.now()-o)/1e3,e.i(new Yi("ads-loaded",(new Map).set("loadTime",A))),e.o&&e.g.play(),k(I,0);break;case 4:E=C(I),p(E),x(I)}}))}function _d(e){for(var t=[],n=c(e.B),r=n.next(),i={};!r.done;i={Tb:void 0},r=n.next())r=r.value,i.Tb={start:r.startTime,end:null},r.pre?(i.Tb.start=0,i.Tb.end=null):r.post?(i.Tb.start=-1,i.Tb.end=null):r.timelineRange&&(i.Tb.end=r.endTime),t.find(function(e){return function(t){return e.Tb.start==t.start&&e.Tb.end==t.end}}(i))||t.push(i.Tb);e.i(new Yi("ad-cue-points-changed",(new Map).set("cuepoints",t)))}function Pd(e){e.h.configure(e.A.Dg()),e.h.configure("ads.disableHLSInterstitial",!0),e.h.configure("ads.disableDASHInterstitial",!0);var t=e.h.Ab();t.og(),t.pg(),ia(e.A.Ab(),t)}function Dd(e,t,n){var r,i;return D((function(a){return 1==a.g?(r=aa([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),w(a,e.A.Ab().request(7,r,n).promise,2)):(i=a.h,a.return(i.data))}))}function Ld(e,t,n,r,i){this.h=e,this.j=Ct(this.h.skipOffset),this.g=i,this.i=t,this.l=n,this.o=r,this.m=!1}function Rd(e,t,n,r){this.B=e,this.K=t,this.h=n,this.l=null,this.S=NaN,this.i=r,this.I=!1,this.A=null,this.j=[],this.M=[],this.L=this.C=this.g=null,this.F=new Map,this.m=[],this.s=[],this.G="",this.O=!0,this.H="",this.o=new Q}function Nd(e,t){var n,r,i,a,o,s,u,c;D((function(l){return 1==l.g?t.staticResource?(n=Od(t),e.F.get(n)?l.return():(r={type:9},i=aa([t.staticResource],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,i,r),S(l,2),e.F.set(n,[]),w(l,a.promise,4))):l.return():2!=l.g?(o=l.h,s=ft(o.data),u=JSON.parse(s),c=u.apps,e.F.set(n,c),k(l,0)):(C(l),e.F.delete(n),void x(l))}))}function Od(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function Ud(e){var t=e.h.currentTime;if(0!=t&&null==e.A){for(var n,r,i=c(e.j),a=i.next();!a.done;a=i.next())for(var o=c((a=a.value).ads),s=o.next();!s.done;s=o.next())if(s=s.value,r){if(s.startTimeInSeconds<t&&s.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=s,n=a;break}}else s.startTimeInSeconds<t&&(r=s,n=a);n&&r&&!e.M.includes(r.adId)&&(e.A=t,e.h.currentTime=n.startTimeInSeconds)}}function jd(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var r=e.C,i=r.startTimeInSeconds+.5*r.durationInSeconds,a=r.startTimeInSeconds+.75*r.durationInSeconds;t>=r.startTimeInSeconds+.25*r.durationInSeconds&&!e.s.includes("firstQuartile")?(e.s.push("firstQuartile"),Vd(e,"firstQuartile")):t>=i&&!e.s.includes("midpoint")?(e.s.push("midpoint"),Vd(e,"midpoint")):t>=a&&!e.s.includes("thirdQuartile")&&(e.s.push("thirdQuartile"),Vd(e,"thirdQuartile")),r=e.g.getRemainingTime(),i=e.g.getDuration(),e.g.canSkipNow()&&0<r&&0<i&&Vd(e,"skipStateChanged"),0<i&&(0>=r||r>i)&&Fd(e)}if(!e.g||!e.g.isLinear()){e:for(r=c(e.j),i=r.next();!i.done&&(i=i.value,!e.g||!e.g.isLinear());i=r.next())for(a=0;a<i.ads.length;a++){var o=i.ads[a],s=o.startTimeInSeconds+o.durationInSeconds;if(o.startTimeInSeconds<=t&&s>t){if(e.M.includes(o.adId)){if(e.h.ended)continue;e.h.currentTime=s;break e}Fd(e),e.L=i,e.g=new Ld(o,a+1,i.ads.length,!0,e.h),e.C=o,0===a&&Vd(e,"breakStart"),Bd(e);break}}if(!e.g)for(i=(r=c(e.j)).next();!i.done&&(i=i.value,!e.g);i=r.next())for(a=0;a<i.nonLinearAdsList.length;a++)if((o=i.nonLinearAdsList[a]).nonLinearAdList.length){s=i.startTimeInSeconds;var u=e.F.get(Od(o.nonLinearAdList[0]));if(s<=t&&u&&u.length){Fd(e),s=e;for(var l=(u=c(u)).next();!l.done;l=u.next())if((l=l.value).data.source.length){var d=document.createElement("img");d.src=l.data.source[0].url,d.style.top=(l.placeholder.top||0)+"%",d.style.height=100-(l.placeholder.top||0)+"%",d.style.left=(l.placeholder.left||0)+"%",d.style.maxWidth=100-(l.placeholder.left||0)+"%",d.style.objectFit="contain",d.style.position="absolute",s.B.appendChild(d)}e.L=i,e.g=new Ld(o,a+1,i.ads.length,!1,e.h),e.C=o,0===a&&Vd(e,"breakStart"),Bd(e);break}}n&&!e.g&&(t=e.h.currentTime,e.A&&e.A>t&&(e.h.currentTime=e.A),e.A=null)}}}function Fd(e){if(e.g){for(;e.B.lastChild;)e.B.removeChild(e.B.firstChild);e.I||e.M.push(e.C.adId);var t=e.g.m;Vd(e,void 0!==t&&t?"skip":"complete");for(var n=(t=c(e.m)).next();!n.done;n=t.next())n=n.value,e.o.cb(n.target,n.type,n.listener);e.m=[],e.s=[],(t=e.g.getPositionInSequence())===(n=e.g.getSequenceLength())&&Vd(e,"breakEnd"),e.g=null,e.C=null,e.L=null}}function Bd(e){var t=!1;e.h.paused?t=!0:(Vd(e,"impression"),Vd(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&Vd(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||Vd(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(Vd(e,"impression"),Vd(e,"start"),t=!1):Vd(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){Vd(e,"pause")}});for(var n=c(e.m),r=n.next();!r.done;r=n.next())r=r.value,e.o.D(r.target,r.type,r.listener)}function Vd(e,t){var n=e.C.trackingEvents.find((function(e){return e.eventType==t}));if(n||(n=e.L.adBreakTrackingEvents.find((function(e){return e.eventType==t}))),n)for(var r={type:10},i=(n=c(n.beaconUrls)).next();!i.done;i=n.next())(i=i.value)&&""!=i&&((i=aa([i],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",e.K.request(7,i,r));switch(t){case"impression":e.i(new Yi("ad-impression"));break;case"start":e.i(new Yi("ad-started",(new Map).set("ad",e.g)));break;case"mute":e.i(new Yi("ad-muted"));break;case"unmute":e.i(new Yi("ad-volume-changed"));break;case"resume":e.i(new Yi("ad-resumed"));break;case"pause":e.i(new Yi("ad-paused"));break;case"firstQuartile":e.i(new Yi("ad-first-quartile"));break;case"midpoint":e.i(new Yi("ad-midpoint"));break;case"thirdQuartile":e.i(new Yi("ad-third-quartile"));break;case"complete":e.i(new Yi("ad-complete")),e.i(new Yi("ad-stopped"));break;case"skip":e.i(new Yi("ad-skipped")),e.i(new Yi("ad-stopped"));break;case"breakStart":e.B.setAttribute("ad-active","true");break;case"breakEnd":e.B.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new Yi("ad-skip-state-changed"))}}function $d(e,t){this.g=e,this.i=null,this.h=t}function zd(e,t,n,r){var i=this;this.s=e,this.l=t,this.j=null,this.F=NaN,this.i=r,this.G=!1,this.A=this.m=this.o=null,this.B="",this.C=[],this.h=new Q,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.s,e),this.i(new Yi("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.g))),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.i(new Yi("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-e.F))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.G||e.h.D(e.l,"seeked",(function(){var t=e.l.currentTime;if(0!=t){e.g.streamTimeForContentTime(t);var n=e.g.previousCuePointForStreamTime(t);n&&!n.played&&(e.o=t,e.l.currentTime=n.start)}}))}(i,e)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.B.length?i.j.resolve(i.B):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),i.m=new $d(e,i.l),i.A&&(i.m.i=i.A),i.i(new Yi("ad-started",(new Map).set("ad",i.m))),i.s.setAttribute("ad-active","true")})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.s.removeAttribute("ad-active");var e=i.l.currentTime;i.o&&i.o>e&&(i.l.currentTime=i.o,i.o=null)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.A=e.getStreamData().adProgressData,i.m&&(i.m.i=i.A)})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.i(new Yi("ad-first-quartile"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.i(new Yi("ad-midpoint"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.i(new Yi("ad-third-quartile"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.i(new Yi("ad-complete")),i.i(new Yi("ad-stopped")),i.s.removeAttribute("ad-active"),i.m=null})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.i(new Yi("ad-skipped")),i.i(new Yi("ad-stopped"))})),this.h.D(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var n=(t=c(t.cuepoints)).next();!n.done;n=t.next())n=n.value,e.push({start:n.start,end:n.end});i.C=e,i.i(new Yi("ad-cue-points-changed",(new Map).set("cuepoints",e)))}))}function Hd(){Qi.call(this),this.g=this.i=this.j=this.h=null,this.m=new hd,this.o=navigator.language,this.l=null}function qd(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;break;case"ad-complete":e.m.j++;break;case"ad-skipped":e.m.l++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}function Kd(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof Yi){var n={};for(r in t)(e=t[r])&&"object"==typeof e?"detail"==r&&(n[r]=e):r in Event||(n[r]=e);return n}if(t instanceof Error){var r=new Set(["name","message","stack"]);for(n in t)r.add(n);for(e=(n=c(Object.getOwnPropertyNames(t))).next();!e.done;e=n.next())r.add(e.value);for(n={},e=(r=c(r)).next();!e.done;e=r.next())n[e=e.value]=t[e];t={__type__:"Error",contents:n}}else if(t instanceof TimeRanges){for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=(t=c(Co(t))).next();!n.done;n=t.next())e=(n=n.value).end,r.start.push(n.start),r.end.push(e);t=r}else t=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return t}}))}function Gd(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var n=NaN;else if("-Infinity"==t)n=-1/0;else if("Infinity"==t)n=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)n=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)n=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){for(n in e=t.contents,t=Error(e.message),e)t[n]=e[n];n=t}else n=t;return n}))}(r=vd.prototype).needsSkipUI=function(){return!1},r.isClientRendering=function(){return!0},r.isUsingAnotherMediaElement=function(){return!0},r.getDuration=function(){return this.g.getDuration()},r.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},r.getRemainingTime=function(){return this.h.getRemainingTime()},r.isPaused=function(){return this.i},r.isSkippable=function(){return 0<=this.g.getSkipTimeOffset()},r.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return this.h.getAdSkippableState()},r.skip=function(){return this.h.skip()},r.pause=function(){return this.h.pause()},r.play=function(){return this.h.resume()},r.getVolume=function(){return this.h.getVolume()},r.setVolume=function(e){return this.j.volume=e,this.h.setVolume(e)},r.isMuted=function(){return 0==this.h.getVolume()},r.isLinear=function(){return this.g.isLinear()},r.resize=function(e,t){var n=!1,r=this.j;document.fullscreenEnabled?n=!!document.fullscreenElement:r.webkitSupportsFullscreen&&(n=r.webkitDisplayingFullscreen),this.h.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},r.setMuted=function(e){(this.j.muted=e)?(this.l=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.l)},r.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},r.getTitle=function(){return this.g.getTitle()},r.getDescription=function(){return this.g.getDescription()},r.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},r.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},r.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},r.getAdId=function(){return this.g.getAdId()},r.getCreativeAdId=function(){return this.g.getCreativeAdId()},r.getAdvertiserName=function(){return this.g.getAdvertiserName()},r.getMediaUrl=function(){return this.g.getMediaUrl()},r.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},r.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},r.release=function(){this.h=this.g=null},B("shaka.ads.ClientSideAd",vd),vd.prototype.release=vd.prototype.release,vd.prototype.getPodIndex=vd.prototype.getPodIndex,vd.prototype.getTimeOffset=vd.prototype.getTimeOffset,vd.prototype.getMediaUrl=vd.prototype.getMediaUrl,vd.prototype.getAdvertiserName=vd.prototype.getAdvertiserName,vd.prototype.getCreativeAdId=vd.prototype.getCreativeAdId,vd.prototype.getAdId=vd.prototype.getAdId,vd.prototype.getVastMediaWidth=vd.prototype.getVastMediaWidth,vd.prototype.getVastMediaHeight=vd.prototype.getVastMediaHeight,vd.prototype.getVastMediaBitrate=vd.prototype.getVastMediaBitrate,vd.prototype.getDescription=vd.prototype.getDescription,vd.prototype.getTitle=vd.prototype.getTitle,vd.prototype.getPositionInSequence=vd.prototype.getPositionInSequence,vd.prototype.getSequenceLength=vd.prototype.getSequenceLength,vd.prototype.setMuted=vd.prototype.setMuted,vd.prototype.resize=vd.prototype.resize,vd.prototype.isLinear=vd.prototype.isLinear,vd.prototype.isMuted=vd.prototype.isMuted,vd.prototype.setVolume=vd.prototype.setVolume,vd.prototype.getVolume=vd.prototype.getVolume,vd.prototype.play=vd.prototype.play,vd.prototype.pause=vd.prototype.pause,vd.prototype.skip=vd.prototype.skip,vd.prototype.canSkipNow=vd.prototype.canSkipNow,vd.prototype.getTimeUntilSkippable=vd.prototype.getTimeUntilSkippable,vd.prototype.isSkippable=vd.prototype.isSkippable,vd.prototype.isPaused=vd.prototype.isPaused,vd.prototype.getRemainingTime=vd.prototype.getRemainingTime,vd.prototype.getMinSuggestedDuration=vd.prototype.getMinSuggestedDuration,vd.prototype.getDuration=vd.prototype.getDuration,vd.prototype.isUsingAnotherMediaElement=vd.prototype.isUsingAnotherMediaElement,vd.prototype.isClientRendering=vd.prototype.isClientRendering,vd.prototype.needsSkipUI=vd.prototype.needsSkipUI,B("shaka.ads.Utils",md),md.ADS_LOADED="ads-loaded",md.AD_STARTED="ad-started",md.AD_FIRST_QUARTILE="ad-first-quartile",md.AD_MIDPOINT="ad-midpoint",md.AD_THIRD_QUARTILE="ad-third-quartile",md.AD_COMPLETE="ad-complete",md.AD_STOPPED="ad-stopped",md.AD_SKIPPED="ad-skipped",md.AD_VOLUME_CHANGED="ad-volume-changed",md.AD_MUTED="ad-muted",md.AD_PAUSED="ad-paused",md.AD_RESUMED="ad-resumed",md.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",md.CUEPOINTS_CHANGED="ad-cue-points-changed",md.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",md.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",md.AD_CLICKED="ad-clicked",md.AD_PROGRESS="ad-progress",md.AD_BUFFERING="ad-buffering",md.AD_IMPRESSION="ad-impression",md.AD_DURATION_CHANGED="ad-duration-changed",md.AD_CLOSED="ad-closed",md.AD_LOADED="ad-loaded",md.ALL_ADS_COMPLETED="all-ads-completed",md.AD_LINEAR_CHANGED="ad-linear-changed",md.AD_METADATA="ad-metadata",md.AD_RECOVERABLE_ERROR="ad-recoverable-error",md.AD_ERROR="ad-error",md.AD_BREAK_READY="ad-break-ready",md.AD_INTERACTION="ad-interaction",md.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",md.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",md.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",bd.prototype.configure=function(e){this.o=e},bd.prototype.stop=function(){this.g&&this.g.stop(),this.s&&Io(this.s)},bd.prototype.release=function(){this.stop(),this.A&&this.A.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.C.destroy()},(r=kd.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!0},r.isUsingAnotherMediaElement=function(){return this.m},r.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return this.i&&null!=this.j?this.getDuration()-this.getRemainingTime()<this.h+this.j:this.i},r.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.h-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.o()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(e){this.g.volume=e},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return!0},r.resize=function(){},r.setMuted=function(e){this.g.muted=e},r.getSequenceLength=function(){return this.s},r.getPositionInSequence=function(){return this.l},r.getTitle=function(){return""},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getAdId=function(){return""},r.getCreativeAdId=function(){return""},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){this.g=null},B("shaka.ads.InterstitialAd",kd),kd.prototype.release=kd.prototype.release,kd.prototype.getPodIndex=kd.prototype.getPodIndex,kd.prototype.getTimeOffset=kd.prototype.getTimeOffset,kd.prototype.getMediaUrl=kd.prototype.getMediaUrl,kd.prototype.getAdvertiserName=kd.prototype.getAdvertiserName,kd.prototype.getCreativeAdId=kd.prototype.getCreativeAdId,kd.prototype.getAdId=kd.prototype.getAdId,kd.prototype.getVastMediaWidth=kd.prototype.getVastMediaWidth,kd.prototype.getVastMediaHeight=kd.prototype.getVastMediaHeight,kd.prototype.getVastMediaBitrate=kd.prototype.getVastMediaBitrate,kd.prototype.getDescription=kd.prototype.getDescription,kd.prototype.getTitle=kd.prototype.getTitle,kd.prototype.getPositionInSequence=kd.prototype.getPositionInSequence,kd.prototype.getSequenceLength=kd.prototype.getSequenceLength,kd.prototype.setMuted=kd.prototype.setMuted,kd.prototype.resize=kd.prototype.resize,kd.prototype.isLinear=kd.prototype.isLinear,kd.prototype.isMuted=kd.prototype.isMuted,kd.prototype.setVolume=kd.prototype.setVolume,kd.prototype.getVolume=kd.prototype.getVolume,kd.prototype.play=kd.prototype.play,kd.prototype.pause=kd.prototype.pause,kd.prototype.skip=kd.prototype.skip,kd.prototype.canSkipNow=kd.prototype.canSkipNow,kd.prototype.getTimeUntilSkippable=kd.prototype.getTimeUntilSkippable,kd.prototype.isSkippable=kd.prototype.isSkippable,kd.prototype.isPaused=kd.prototype.isPaused,kd.prototype.getRemainingTime=kd.prototype.getRemainingTime,kd.prototype.getMinSuggestedDuration=kd.prototype.getMinSuggestedDuration,kd.prototype.getDuration=kd.prototype.getDuration,kd.prototype.isUsingAnotherMediaElement=kd.prototype.isUsingAnotherMediaElement,kd.prototype.isClientRendering=kd.prototype.isClientRendering,kd.prototype.needsSkipUI=kd.prototype.needsSkipUI,Cd.prototype.configure=function(e){this.L=e,Ad(this)},Cd.prototype.stop=function(){this.m&&this.m.Va(),this.I.clear(),this.B.clear(),this.h.Ue(),this.s.clear(),this.h.detach(),this.H=!1,this.C=this.j=null},Cd.prototype.release=function(){this.stop(),this.M&&this.M.release(),this.m&&this.m.release(),this.G&&Io(this.G),this.K&&(this.K.stop(),this.K=null),this.O&&(this.O.stop(),this.O=null),this.h.destroy()},Cd.prototype.addAdUrlInterstitial=function(e){var t,n,r,i,a,o,s,u,d,f=this;return D((function(p){switch(p.g){case 1:return w(p,Dd(f,e,t={type:12}),2);case 2:if(n=p.h,!(r=Mt(n,"VAST,vmap:VMAP")))throw new Pe(2,10,10007);if(i=[],"VAST"==r.tagName){i=yd(r,f.j),p.u(3);break}if("vmap:VMAP"!=r.tagName){p.u(3);break}for(var h=[],g=c(Rt(r,"vmap:AdBreak")),v=g.next();!v.done;v=g.next()){var m=v.value,y=m.attributes.timeOffset;y&&(v=null,v="start"==y?0:"end"==y?1/0:Ct(y),(m=jt(m,"vmap:AdSource"))&&(m=jt(m,"vmap:AdTagURI"))&&(m=Nt(m))&&h.push({time:v,uri:m}))}a=c(h),o=a.next();case 5:if(o.done){p.u(3);break}return s=o.value,w(p,Dd(f,s.uri,t),8);case 8:if(u=p.h,!(d=Mt(u,"VAST")))throw new Pe(2,10,10007);i.push.apply(i,l(yd(d,s.time))),o=a.next(),p.u(5);break;case 3:Ed(f,i),x(p)}}))},(r=Ld.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!1},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return this.h.durationInSeconds},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return"number"==typeof this.j},r.getTimeUntilSkippable=function(){if("number"!=typeof this.j)return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(e){this.g.volume=e},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return this.o},r.resize=function(){},r.setMuted=function(e){this.g.muted=e},r.getSequenceLength=function(){return this.l?this.l:1},r.getPositionInSequence=function(){return this.i?this.i:1},r.getTitle=function(){return this.h.adTitle},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getAdId=function(){return this.h.adId},r.getCreativeAdId=function(){return this.h.creativeId},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){this.l=this.i=this.g=this.h=null},B("shaka.ads.MediaTailorAd",Ld),Ld.prototype.release=Ld.prototype.release,Ld.prototype.getPodIndex=Ld.prototype.getPodIndex,Ld.prototype.getTimeOffset=Ld.prototype.getTimeOffset,Ld.prototype.getMediaUrl=Ld.prototype.getMediaUrl,Ld.prototype.getAdvertiserName=Ld.prototype.getAdvertiserName,Ld.prototype.getCreativeAdId=Ld.prototype.getCreativeAdId,Ld.prototype.getAdId=Ld.prototype.getAdId,Ld.prototype.getVastMediaWidth=Ld.prototype.getVastMediaWidth,Ld.prototype.getVastMediaHeight=Ld.prototype.getVastMediaHeight,Ld.prototype.getVastMediaBitrate=Ld.prototype.getVastMediaBitrate,Ld.prototype.getDescription=Ld.prototype.getDescription,Ld.prototype.getTitle=Ld.prototype.getTitle,Ld.prototype.getPositionInSequence=Ld.prototype.getPositionInSequence,Ld.prototype.getSequenceLength=Ld.prototype.getSequenceLength,Ld.prototype.setMuted=Ld.prototype.setMuted,Ld.prototype.resize=Ld.prototype.resize,Ld.prototype.isLinear=Ld.prototype.isLinear,Ld.prototype.isMuted=Ld.prototype.isMuted,Ld.prototype.setVolume=Ld.prototype.setVolume,Ld.prototype.getVolume=Ld.prototype.getVolume,Ld.prototype.play=Ld.prototype.play,Ld.prototype.pause=Ld.prototype.pause,Ld.prototype.skip=Ld.prototype.skip,Ld.prototype.canSkipNow=Ld.prototype.canSkipNow,Ld.prototype.getTimeUntilSkippable=Ld.prototype.getTimeUntilSkippable,Ld.prototype.isSkippable=Ld.prototype.isSkippable,Ld.prototype.isPaused=Ld.prototype.isPaused,Ld.prototype.getRemainingTime=Ld.prototype.getRemainingTime,Ld.prototype.getMinSuggestedDuration=Ld.prototype.getMinSuggestedDuration,Ld.prototype.getDuration=Ld.prototype.getDuration,Ld.prototype.isUsingAnotherMediaElement=Ld.prototype.isUsingAnotherMediaElement,Ld.prototype.isClientRendering=Ld.prototype.isClientRendering,Ld.prototype.needsSkipUI=Ld.prototype.needsSkipUI,Rd.prototype.stop=function(){for(var e=c(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.o.cb(t.target,t.type,t.listener);Fd(this),this.m=[],this.s=[],this.G="",this.O=!0,this.H="",this.A=null,this.j=[],this.M=[],this.F.clear()},Rd.prototype.release=function(){this.stop(),this.o&&this.o.release()},Rd.prototype.onManifestUpdated=function(e){this.I=e,""!=this.G&&(function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b;D((function(T){if(1==T.g)return r={type:8},i=aa([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,i,r),S(T,2),w(T,a.promise,4);if(2!=T.g){if(o=T.h,s=[],u=ft(o.data),0<(l=JSON.parse(u)).avails.length){if(JSON.stringify(e.j)!=JSON.stringify(l.avails)){for(e.j=l.avails,d=c(e.j),f=d.next();!f.done;f=d.next())for(p=f.value,h=c(p.nonLinearAdsList),g=h.next();!g.done;g=h.next())for(v=g.value,m=c(v.nonLinearAdList),y=m.next();!y.done;y=m.next())b=y.value,Nd(e,b);s=e.getCuePoints(),e.i(new Yi("ad-cue-points-changed",(new Map).set("cuepoints",s)))}}else e.j.length&&e.i(new Yi("ad-cue-points-changed",(new Map).set("cuepoints",s))),Fd(e),e.j=[];return n&&(e.I||0<s.length)&&function(e){jd(e),e.I||(Ud(e),e.o.D(e.h,"seeked",(function(){Ud(e)})),e.o.D(e.h,"ended",(function(){Fd(e)}))),e.o.D(e.h,"timeupdate",(function(){jd(e)}))}(e),k(T,0)}C(T),x(T)}))}(this,this.G,this.O),this.O=!1)},Rd.prototype.getCuePoints=function(){for(var e=[],t=c(this.j),n=t.next();!n.done;n=t.next())for(var r=(n=c(n.value.ads)).next();!r.done;r=n.next())r=r.value,e.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds});return e},(r=$d.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!1},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return this.i?this.i.duration:-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},r.isPaused=function(){return this.h.paused},r.isSkippable=function(){return this.g.isSkippable()},r.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.h.currentTime+=this.getRemainingTime()},r.pause=function(){return this.h.pause()},r.play=function(){return this.h.play()},r.getVolume=function(){return this.h.volume},r.setVolume=function(e){this.h.volume=e},r.isMuted=function(){return this.h.muted},r.isLinear=function(){return!0},r.resize=function(){},r.setMuted=function(e){this.h.muted=e},r.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},r.getTitle=function(){return this.g.getTitle()},r.getDescription=function(){return this.g.getDescription()},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},r.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},r.getAdId=function(){return this.g.getAdId()},r.getCreativeAdId=function(){return this.g.getCreativeAdId()},r.getAdvertiserName=function(){return this.g.getAdvertiserName()},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},r.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},r.release=function(){this.h=this.i=this.g=null},B("shaka.ads.ServerSideAd",$d),$d.prototype.release=$d.prototype.release,$d.prototype.getPodIndex=$d.prototype.getPodIndex,$d.prototype.getTimeOffset=$d.prototype.getTimeOffset,$d.prototype.getMediaUrl=$d.prototype.getMediaUrl,$d.prototype.getAdvertiserName=$d.prototype.getAdvertiserName,$d.prototype.getCreativeAdId=$d.prototype.getCreativeAdId,$d.prototype.getAdId=$d.prototype.getAdId,$d.prototype.getVastMediaWidth=$d.prototype.getVastMediaWidth,$d.prototype.getVastMediaHeight=$d.prototype.getVastMediaHeight,$d.prototype.getVastMediaBitrate=$d.prototype.getVastMediaBitrate,$d.prototype.getDescription=$d.prototype.getDescription,$d.prototype.getTitle=$d.prototype.getTitle,$d.prototype.getPositionInSequence=$d.prototype.getPositionInSequence,$d.prototype.getSequenceLength=$d.prototype.getSequenceLength,$d.prototype.setMuted=$d.prototype.setMuted,$d.prototype.resize=$d.prototype.resize,$d.prototype.isLinear=$d.prototype.isLinear,$d.prototype.isMuted=$d.prototype.isMuted,$d.prototype.setVolume=$d.prototype.setVolume,$d.prototype.getVolume=$d.prototype.getVolume,$d.prototype.play=$d.prototype.play,$d.prototype.pause=$d.prototype.pause,$d.prototype.skip=$d.prototype.skip,$d.prototype.canSkipNow=$d.prototype.canSkipNow,$d.prototype.getTimeUntilSkippable=$d.prototype.getTimeUntilSkippable,$d.prototype.isSkippable=$d.prototype.isSkippable,$d.prototype.isPaused=$d.prototype.isPaused,$d.prototype.getRemainingTime=$d.prototype.getRemainingTime,$d.prototype.getMinSuggestedDuration=$d.prototype.getMinSuggestedDuration,$d.prototype.getDuration=$d.prototype.getDuration,$d.prototype.isUsingAnotherMediaElement=$d.prototype.isUsingAnotherMediaElement,$d.prototype.isClientRendering=$d.prototype.isClientRendering,$d.prototype.needsSkipUI=$d.prototype.needsSkipUI,(r=zd.prototype).configure=function(){},r.stop=function(){this.B="",this.o=null,this.C=[]},r.release=function(){this.stop(),this.h&&this.h.release()},r.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},r.getCuePoints=function(){return this.C},v(Hd,Qi),(r=Hd.prototype).setLocale=function(e){this.o=e},r.configure=function(e){this.l=e,this.h&&this.h.configure(this.l),this.j&&this.j.configure(this.l),this.g&&this.g.configure(this.l)},r.initInterstitial=function(e,t,n){var r=this;this.h&&this.h.release(),this.h=new Cd(e,t,n,(function(e){return qd(r,e)})),this.h.configure(this.l)},r.initClientSide=function(t,n,r){var i=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new Pe(2,10,1e4);this.j&&this.j.release(),this.j=new bd(t,n,this.o,r,(function(e){return qd(i,e)})),this.j.configure(this.l)},r.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),Qi.prototype.release.call(this)},r.onAssetUnload=function(){this.h&&this.h.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new Yi("ad-stopped")),this.dispatchEvent(new Yi("ad-content-attach-requested")),this.m=new hd},r.requestClientSideAds=function(e){if(!this.j)throw new Pe(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.G=Date.now()/1e3,t.m.requestAds(e)},r.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new Pe(1,10,10001);var t=this.j;t.B=e,t.g&&t.g.updateAdsRenderingSettings(t.B)},r.initMediaTailor=function(e,t,n){var r=this;this.i&&this.i.release(),this.i=new Rd(e,t,n,(function(e){return qd(r,e)}))},r.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new Pe(1,10,10005);var r=this.i;return n=void 0===n?"":n,r.l?e=Promise.reject(new Pe(1,10,10004)):(r.l=new zi,function(e,t,n){var r,i,a,o,s,u,c,l,d,f,p,h;D((function(g){if(1==g.g)return r={type:7},(i=aa([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",n&&(a=JSON.stringify(n),i.body=gt(a)),o=e.K.request(7,i,r),S(g,2),w(g,o.promise,4);if(2!=g.g){if(s=g.h,u=ft(s.data),!(c=JSON.parse(u)).manifestUrl||!c.trackingUrl)throw Error("Insufficient data from MediaTailor.");return l=new zn(t),d=new zn(c.trackingUrl),e.G=l.resolve(d).toString(),f=Date.now()/1e3,p=f-e.S,e.i(new Yi("ads-loaded",(new Map).set("loadTime",p))),h=new zn(c.manifestUrl),e.l.resolve(l.resolve(h).toString()),e.l=null,k(g,0)}if(C(g),!e.H.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,g.return();e.l.resolve(e.H),e.l=null,x(g)}))}(r,e,t),r.H=n||"",r.S=Date.now()/1e3,e=r.l),e},r.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new Pe(1,10,10005);var t=this.i;t.G=e,t.i(new Yi("ads-loaded",(new Map).set("loadTime",0)))},r.initServerSide=function(t,n){var r=this;if(!e.google||!google.ima||!google.ima.dai)throw new Pe(2,10,10002);this.g&&this.g.release(),this.g=new zd(t,n,this.o,(function(e){return qd(r,e)})),this.g.configure(this.l)},r.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.g)throw new Pe(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&X('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.12.2",(n=this.g).j?e=Promise.reject(new Pe(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.G=!0),n.j=new zi,n.g.requestStream(e),n.B=t||"",n.F=Date.now()/1e3,e=n.j),e},r.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new Pe(1,10,10003);(e.mpt||e.mpv)&&X('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v4.12.2",this.g.g.replaceAdTagParameters(e)},r.getServerSideCuePoints=function(){return oe("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},r.getCuePoints=function(){var e=[];return this.g&&(e=e.concat(this.g.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},r.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:gd(e),started:e.h,playedCompletely:e.j,skipped:e.l,errors:e.i}},r.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},r.onDashTimedMetadata=function(e){this.g&&"urn:google:dai:2018"==e.schemeIdUri&&this.g.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},r.onHlsTimedMetadata=function(e,t){this.g&&this.g.g.processMetadata("ID3",e.data,t)},r.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)},r.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.h||this.initInterstitial(null,e,t),this.h&&function(e,t){var n;D((function(r){if(1==r.g)return Pd(e),w(r,function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,x,T,A,E,I,M,_,P,L,R,N,O,U,j,F,B,V,$,z,H,q,K,G,X,W;return D((function(D){switch(D.g){case 1:if(n=[],!t)return D.return(n);if(r=t.values.find((function(e){return"X-ASSET-URI"==e.key})),i=t.values.find((function(e){return"X-ASSET-LIST"==e.key})),!r&&!i)return D.return(n);if(a=null,(o=t.values.find((function(e){return"ID"==e.key})))&&(a=o.data),s=null==a?Math.floor(10*t.startTime)/10:t.startTime,(u=t.endTime)&&1/0!=t.endTime&&"number"==typeof t.endTime&&(u=null==a?Math.floor(10*t.endTime)/10:t.endTime),l=t.values.find((function(e){return"X-RESTRICT"==e.key})),f=d=!0,l&&l.data&&(p=l.data,d=!p.includes("SKIP"),f=!p.includes("JUMP")),h=d?0:null,(g=t.values.find((function(e){return"X-ENABLE-SKIP-AFTER"==e.key})))&&(v=g.data,h=parseFloat(v),isNaN(h)&&(h=d?0:null)),m=null,(y=t.values.find((function(e){return"X-ENABLE-SKIP-FOR"==e.key})))&&(b=y.data,m=parseFloat(b),isNaN(h)&&(m=null)),x=null,(T=t.values.find((function(e){return"X-RESUME-OFFSET"==e.key})))&&(A=T.data,x=parseFloat(A),isNaN(x)&&(x=null)),E=null,(I=t.values.find((function(e){return"X-PLAYOUT-LIMIT"==e.key})))&&(M=I.data,E=parseFloat(M),isNaN(E)&&(E=null)),L=P=_=!1,(R=t.values.find((function(e){return"CUE"==e.key})))&&(N=R.data,_=N.includes("ONCE"),P=N.includes("PRE"),L=N.includes("POST")),O=!1,(U=t.values.find((function(e){return"X-TIMELINE-OCCUPIES"==e.key})))?(j=U.data,O=j.includes("RANGE")):!T&&e.A.U()&&(O=!P&&!L),r){if(!(F=r.data))return D.return(n);n.push({id:a,startTime:s,endTime:u,uri:F,isSkippable:d,skipOffset:h,skipFor:m,canJump:f,resumeOffset:x,playoutLimit:E,once:_,pre:P,post:L,timelineRange:O}),D.u(2);break}if(!i){D.u(2);break}return(B=i.data)?(S(D,4),w(D,Dd(e,B,{type:11}),6)):D.return(n);case 6:for(V=D.h,$=ft(V),z=JSON.parse($),(H=z["SKIP-CONTROL"])&&((q=H["ENABLE-SKIP-AFTER"])instanceof Number&&(h=parseFloat(q),isNaN(q)&&(h=d?0:null)),(K=H["X-ENABLE-SKIP-FOR"])instanceof Number&&(m=parseFloat(K),isNaN(K)&&(m=null))),G=c(z.ASSETS),X=G.next();!X.done;X=G.next())(W=X.value).URI&&n.push({id:a,startTime:s,endTime:u,uri:W.URI,isSkippable:d,skipOffset:h,skipFor:m,canJump:f,resumeOffset:x,playoutLimit:E,once:_,pre:P,post:L,timelineRange:O});k(D,2);break;case 4:C(D);case 2:return D.return(n)}}))}(e,t),2);(n=r.h).length?Ed(e,n):X("Unsupported HLS interstitial",t),x(r)}))}(this.h,n))},r.onDASHInterstitialMetadata=function(e,t,n){if(!(this.l&&this.l.disableDASHInterstitial||"urn:mpeg:dash:event:alternativeMPD:2022"!=n.schemeIdUri)&&(this.h||this.initInterstitial(null,e,t),this.h)){e=this.h;for(var r=(t=c(n.eventNode.children)).next();!r.done;r=t.next()){var i=r.value;if("AlternativeMPD"==i.tagName&&(r=i.attributes.uri,i=i.attributes.mode,r)){var a=r,o=i;break}}a?(t="replace"==o,o="insert"==o,(t||o)&&Ed(e,[{id:null,startTime:n.startTime,endTime:n.endTime,uri:a,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:o?0:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:t&&!o}])):X("Unsupported MPD alternate",n)}},r.addCustomInterstitial=function(e){if(!this.h)throw new Pe(1,10,10006);Ed(this.h,[e])},r.addAdUrlInterstitial=function(e){if(!this.h)throw new Pe(1,10,10006);return this.h.addAdUrlInterstitial(e)},B("shaka.ads.AdManager",Hd),Hd.prototype.addAdUrlInterstitial=Hd.prototype.addAdUrlInterstitial,Hd.prototype.addCustomInterstitial=Hd.prototype.addCustomInterstitial,Hd.prototype.onDASHInterstitialMetadata=Hd.prototype.onDASHInterstitialMetadata,Hd.prototype.onHLSInterstitialMetadata=Hd.prototype.onHLSInterstitialMetadata,Hd.prototype.onCueMetadataChange=Hd.prototype.onCueMetadataChange,Hd.prototype.onHlsTimedMetadata=Hd.prototype.onHlsTimedMetadata,Hd.prototype.onDashTimedMetadata=Hd.prototype.onDashTimedMetadata,Hd.prototype.onManifestUpdated=Hd.prototype.onManifestUpdated,Hd.prototype.getStats=Hd.prototype.getStats,Hd.prototype.getCuePoints=Hd.prototype.getCuePoints,Hd.prototype.getServerSideCuePoints=Hd.prototype.getServerSideCuePoints,Hd.prototype.replaceServerSideAdTagParameters=Hd.prototype.replaceServerSideAdTagParameters,Hd.prototype.requestServerSideStream=Hd.prototype.requestServerSideStream,Hd.prototype.initServerSide=Hd.prototype.initServerSide,Hd.prototype.addMediaTailorTrackingUrl=Hd.prototype.addMediaTailorTrackingUrl,Hd.prototype.requestMediaTailorStream=Hd.prototype.requestMediaTailorStream,Hd.prototype.initMediaTailor=Hd.prototype.initMediaTailor,Hd.prototype.updateClientSideAdsRenderingSettings=Hd.prototype.updateClientSideAdsRenderingSettings,Hd.prototype.requestClientSideAds=Hd.prototype.requestClientSideAds,Hd.prototype.onAssetUnload=Hd.prototype.onAssetUnload,Hd.prototype.release=Hd.prototype.release,Hd.prototype.initClientSide=Hd.prototype.initClientSide,Hd.prototype.initInterstitial=Hd.prototype.initInterstitial,Hd.prototype.configure=Hd.prototype.configure,Hd.prototype.setLocale=Hd.prototype.setLocale,Hd.ADS_LOADED="ads-loaded",Hd.AD_STARTED="ad-started",Hd.AD_FIRST_QUARTILE="ad-first-quartile",Hd.AD_MIDPOINT="ad-midpoint",Hd.AD_THIRD_QUARTILE="ad-third-quartile",Hd.AD_COMPLETE="ad-complete",Hd.AD_STOPPED="ad-stopped",Hd.AD_SKIPPED="ad-skipped",Hd.AD_VOLUME_CHANGED="ad-volume-changed",Hd.AD_MUTED="ad-muted",Hd.AD_PAUSED="ad-paused",Hd.AD_RESUMED="ad-resumed",Hd.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Hd.CUEPOINTS_CHANGED="ad-cue-points-changed",Hd.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Hd.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",Hd.AD_CLICKED="ad-clicked",Hd.AD_PROGRESS="ad-progress",Hd.AD_BUFFERING="ad-buffering",Hd.AD_IMPRESSION="ad-impression",Hd.AD_DURATION_CHANGED="ad-duration-changed",Hd.AD_CLOSED="ad-closed",Hd.AD_LOADED="ad-loaded",Hd.ALL_ADS_COMPLETED="all-ads-completed",Hd.AD_LINEAR_CHANGED="ad-linear-changed",Hd.AD_METADATA="ad-metadata",Hd.AD_RECOVERABLE_ERROR="ad-recoverable-error",Hd.AD_ERROR="ad-error",Hd.AD_BREAK_READY="ad-break-ready",Hd.AD_INTERACTION="ad-interaction",Hd.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",Hd.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",Hd.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",pd=function(){return new Hd};var Xd="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Wd="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Yd=["loop","playbackRate"],Jd=["pause","play"],Zd={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10,getManifestType:10,isFullyLoaded:1},Qd={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},ef={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20,getSegmentAvailabilityDuration:20},tf=[["getConfiguration","configure"]],nf=[["isTextTrackVisible","setTextTrackVisibility"]],rf="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),af=["attach","attachCanvas","detach","load","unload"];function of(e,t,n,r,i,a,o){var s=this;this.G=e,this.K=o,this.l=new Be(t),this.L=n,this.s=!1,this.A=r,this.F=i,this.M=a,this.h=this.m=!1,this.I="",this.o=null,this.B=function(){return lf(s)},this.C=function(e,t){switch((e=Gd(t)).type){case"event":var n=e.targetName,r=Ji(e.event);s.A(n,r);break;case"update":for(r in n=e.update)for(var i in e=s.g[r]||{},n[r])e[i]=n[r][i];s.s&&(s.L(),s.s=!1);break;case"asyncComplete":if(r=e.id,i=e.error,e=s.i[r],delete s.i[r],e)if(i){for(n in r=new Pe(i.severity,i.category,i.code),i)r[n]=i[n];e.reject(r)}else e.resolve()}},this.g={video:{},player:{}},this.H=0,this.i={},this.j=null,mf.add(this)}function sf(e,t){var n=e.M();gf=t,t.addUpdateListener(e.B),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.C),lf(e),ff(e,{type:"init",initState:n,appData:e.o}),e.j.resolve()}function uf(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new Pe(2,8,n,t))}function cf(e){var t=gf;t.removeUpdateListener(e.B),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.C)}function lf(e){var t=!!gf&&"connected"==gf.status;if(e.h&&!t){for(var n in e.F(),e.g)e.g[n]={};df(e)}e.h=t,e.I=t?gf.receiver.friendlyName:"",e.l.hc()}function df(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new Pe(1,7,7e3))}}function ff(e,t){t=Kd(t);var n=gf;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,(function(){}),Y)}catch(r){throw t=new Pe(2,8,8005,r),n=new Yi("error",(new Map).set("detail",t)),e.A("player",n),e.Jc(),t}}(r=of.prototype).destroy=function(){return mf.delete(this),df(this),gf&&cf(this),this.l&&(this.l.stop(),this.l=null),this.F=this.A=null,this.h=this.m=!1,this.C=this.B=this.j=this.i=this.g=this.o=null,Promise.resolve()},r.jb=function(){return this.h},r.Kf=function(){return this.I},r.init=function(){if(this.G.length)if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.hc();var t=new chrome.cast.SessionRequest(this.G,[],null,this.K,null);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=c(mf),n=t.next();!n.done;n=t.next()){var r=e;(n=n.value).j=new zi,n.s=!0,sf(n,r)}}),(function(e){for(var t=c(mf),n=t.next();!n.done;n=t.next())n=n.value,hf="available"==e,n.l.hc()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),hf&&this.l.Z(pf),(t=gf)&&t.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new zi,this.s=!0,sf(this,t)):gf=null}else e.__onGCastApiAvailable!==yf&&(vf=e.__onGCastApiAvailable||null,e.__onGCastApiAvailable=yf)},r.Sf=function(e){this.o=e,this.h&&ff(this,{type:"appData",appData:this.o})},r.cast=function(){var e=this;return D((function(t){if(!e.m)throw new Pe(1,8,8e3);if(!hf)throw new Pe(1,8,8001);if(e.h)throw new Pe(1,8,8002);return e.j=new zi,chrome.cast.requestSession((function(t){return sf(e,t)}),(function(t){return uf(e,t)})),w(t,e.j,0)}))},r.Jc=function(){if(this.h){if(df(this),gf){cf(this);try{gf.stop((function(){}),(function(){}))}catch(e){}gf=null}lf(this)}},r.get=function(e,t){var n=this;if("video"==e){if(Jd.includes(t))return function(){return n.Xg.apply(n,[e,t].concat(l(L.apply(0,arguments))))}}else if("player"==e){if(ef[t]&&!this.get("player","isLive")())return function(){};if(rf.includes(t))return function(){return n.Xg.apply(n,[e,t].concat(l(L.apply(0,arguments))))};if(af.includes(t))return function(){return n.Oi.apply(n,[e,t].concat(l(L.apply(0,arguments))))};if(Zd[t]||Qd[t])return function(){return n.g[e][t]}}return this.g[e][t]},r.set=function(e,t,n){this.g[e][t]=n,ff(this,{type:"set",targetName:e,property:t,value:n})},r.Xg=function(e,t){ff(this,{type:"call",targetName:e,methodName:t,args:L.apply(2,arguments)})},r.Oi=function(e,t){var n=L.apply(2,arguments),r=new zi,i=this.H.toString();this.H++,this.i[i]=r;try{ff(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i})}catch(e){r.reject(e)}return r};var pf=.02,hf=!1,gf=null,vf=null,mf=new Set;function yf(t){if(vf?e.__onGCastApiAvailable=vf:delete e.__onGCastApiAvailable,vf=null,t)for(var n=c(mf),r=n.next();!r.done;r=n.next())r.value.init();"function"==typeof e.__onGCastApiAvailable&&e.__onGCastApiAvailable(t)}function bf(e,t,n,r){r=void 0!==r&&r,Qi.call(this);var i=this;this.i=e,this.h=t,this.m=this.o=this.j=this.s=this.l=null,this.C=n,this.B=r,this.A=new Map,this.g=new of(n,(function(){return Sf(i)}),(function(){return Tf(i)}),(function(e,t){return Af(i,e,t)}),(function(){return kf(i)}),(function(){return xf(i)}),r),function(e){e.g.init(),e.m=new Q;for(var t=c(Xd),n=t.next();!n.done;n=t.next())e.m.D(e.i,n.value,(function(t){e.g.jb()||(t=Ji(t),e.j.dispatchEvent(t))}));for(var r in Zi)e.m.D(e.h,Zi[r],(function(t){e.g.jb()||e.o.dispatchEvent(t)}));for(var i in e.l={},t={},e.i)(t={nd:t.nd}).nd=i,Object.defineProperty(e.l,t.nd,{configurable:!1,enumerable:!0,get:function(t){return function(){return Cf(e,t.nd)}}(t),set:function(t){return function(n){var r=t.nd;e.g.jb()?e.g.set("video",r,n):e.i[r]=n}}(t)});e.s={},wf(e,(function(t){Object.defineProperty(e.s,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.A.has(t)&&(t=e.A.get(t)),"addEventListener"==t)return function(t,n,r){return e.o.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.o.removeEventListener(t,n,r)};if("getMediaElement"==t)return function(){return e.l};if("getSharedConfiguration"==t)return e.g.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.h.Ab()};if("getDrmEngine"==t)return function(){return e.h.C};if("getAdManager"==t)return function(){return e.h.xg()};if("setVideoContainer"==t)return function(t){return e.h.kh(t)};if(e.g.jb()){if("getManifest"==t||"drmInfo"==t)return function(){return X(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return X(t+"() does not work while casting!"),Promise.resolve()}}return e.g.jb()&&0==Object.keys(e.g.g.video).length&&(Zd[t]||Qd[t])||!e.g.jb()?e.h[t].bind(e.h):e.g.get("player",t)}(e,t)}})})),function(e){var t=new Map;wf(e,(function(n,r){t.has(r)?(r=t.get(r),n.length<r.length?e.A.set(n,r):e.A.set(r,n)):t.set(r,n)}))}(e),e.j=new Qi,e.j.te=e.l,e.o=new Qi,e.o.te=e.s}(this)}function wf(e,t){function n(e){return"constructor"!=e&&"function"==typeof i[e]&&!a.has(e)}var r,i=e.h,a=new Set;for(r in i)n(r)&&(a.add(r),t(r,i[r]));for(e=Object.getPrototypeOf(i),r=Object.getPrototypeOf({});e&&e!=r;){for(var o=c(Object.getOwnPropertyNames(e)),s=o.next();!s.done;s=o.next())n(s=s.value)&&(a.add(s),t(s,i[s]));e=Object.getPrototypeOf(e)}}function xf(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.Kc(),startTime:null};e.i.pause();for(var n=c(Yd),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.i[r];for(e.i.ended||(t.startTime=e.i.currentTime),r=(n=c(tf)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.h[i[0]](),t.player[r]=i}for(r=(n=c(nf)).next();!r.done;r=n.next())r=(i=r.value)[1],i=e.h[i[0]](),t.playerAfterLoad[r]=i;return t}function Sf(e){var t=new Yi("caststatuschanged");e.dispatchEvent(t)}function Tf(e){var t=new Yi(e.l.paused?"pause":"play");e.j.dispatchEvent(t)}function kf(e){for(var t=c(tf),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}var i=e.g.get("player","getAssetUri")();r=e.g.get("video","ended"),t=Promise.resolve();var a,o=e.i.autoplay;n=null,r||(n=e.g.get("video","currentTime")),(r=e.g.get("player","getTextTracks")())&&r.length&&(a=r.find((function(e){return e.active})));var s=e.g.get("player","isTextTrackVisible")();i&&(e.i.autoplay=!1,t=e.h.load(i,n));var u={};for(r=(n=c(Yd)).next();!r.done;r=n.next())r=r.value,u[r]=e.g.get("video",r);t.then((function(){if(e.i){for(var t=c(Yd),n=t.next();!n.done;n=t.next())n=n.value,e.i[n]=u[n];for(n=(t=c(nf)).next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.g.get("player",r[0])(),e.h[n](r)}e.h.hh(s),a&&e.h.Qf(a.language,a.roles,a.forced),e.i.autoplay=o,i&&e.i.play()}}),(function(t){t=new Yi("error",t=(new Map).set("detail",t)),e.h.dispatchEvent(t)}))}function Cf(e,t){if("addEventListener"==t)return function(t,n,r){return e.j.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.j.removeEventListener(t,n,r)};if(e.g.jb()&&0==Object.keys(e.g.g.video).length){var n=e.i[t];if("function"!=typeof n)return n}return e.g.jb()?e.g.get("video",t):("function"==typeof(t=e.i[t])&&(t=t.bind(e.i)),t)}function Af(e,t,n){e.g.jb()&&("video"==t?e.j.dispatchEvent(n):"player"==t&&e.o.dispatchEvent(n))}function Ef(e,t,n,r){Qi.call(this);var i=this;this.g=e,this.h=t,this.j=new Q,this.H={video:e,player:t},this.F=n||function(){},this.I=r||function(e){return e},this.i=null,this.G=!1,this.o=!0,this.m=0,this.B=!1,this.A=!0,this.s=this.l=null,this.C=new Be((function(){Pf(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return If(e)},t.onSenderDisconnected=function(){return If(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Nf(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.l),Nf(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.s=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.s.onMessage=function(t){return function(e,t){var n=Gd(t.data);switch(n.type){case"PLAY":e.g.play(),Of(e);break;case"PAUSE":e.g.pause(),Of(e);break;case"SEEK":t=n.currentTime;var r=n.resumeState;null!=t&&(e.g.currentTime=Number(t)),r&&"PLAYBACK_START"==r?(e.g.play(),Of(e)):r&&"PLAYBACK_PAUSE"==r&&(e.g.pause(),Of(e));break;case"STOP":e.h.ic().then((function(){e.h&&Of(e)}));break;case"GET_STATUS":Lf(e,Number(n.requestId));break;case"VOLUME":t=(r=n.volume).level,r=r.muted;var i=e.g.volume,a=e.g.muted;null!=t&&(e.g.volume=Number(t)),null!=r&&(e.g.muted=r),i==e.g.volume&&a==e.g.muted||Of(e);break;case"LOAD":e.m=0,e.B=!1,e.A=!1,t=n.media,r=n.currentTime,i=e.I(t.contentId),a=n.autoplay||!0,e.F(t.customData),a&&(e.g.autoplay=!0),e.h.load(i,r).then((function(){e.h&&Lf(e)})).catch((function(t){var r="LOAD_FAILED";7==t.category&&7e3==t.code&&(r="LOAD_CANCELLED"),Nf(e,{requestId:Number(n.requestId),type:r},e.s)}));break;default:Nf(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.s)}}(e,t)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(t){return function(e,t){var n=Gd(t.data);switch(n.type){case"init":e.m=0,e.B=!1,e.A=!0,function(e,t,n){var r,i,a,o,s,u,c,l,d,f;D((function(p){switch(p.g){case 1:for(r in t.player)i=t.player[r],e.h[r](i);return e.F(n),a=e.g.autoplay,t.manifest?(e.g.autoplay=!1,S(p,5),w(p,e.h.load(t.manifest,t.startTime),7)):w(p,Promise.resolve(),3);case 7:k(p,3);break;case 5:return o=C(p),s=(new Map).set("detail",o),u=new Yi("error",s),e.h&&e.h.dispatchEvent(u),p.return();case 3:if(!e.h)return p.return();for(c in t.video)l=t.video[c],e.g[c]=l;for(d in t.playerAfterLoad)f=t.playerAfterLoad[d],e.h[d](f);e.g.autoplay=a,t.manifest&&(e.g.play(),Of(e)),x(p)}}))}(e,n.initState,n.appData),Pf(e);break;case"appData":e.F(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,"video"==r){if(t=cast.receiver.CastReceiverManager.getInstance(),"volume"==i){t.setSystemVolumeLevel(n);break}if("muted"==i){t.setSystemVolumeMuted(n);break}}e.H[r][i]=n;break;case"call":(r=e.H[n.targetName])[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,"player"==r&&"load"==i&&(e.m=0,e.B=!1);var a=n.id,o=t.senderId;n=(t=e.H[r])[i].apply(t,n.args),"player"==r&&"load"==i&&(n=n.then((function(){e.A=!0}))),n.then((function(){return Rf(e,o,a,null)}),(function(t){return Rf(e,o,a,t)}))}}(e,t)},t.start();for(var n=(t=c(Xd)).next();!n.done;n=t.next())e.j.D(e.g,n.value,(function(t){return _f(e,"video",t)}));for(var r in Zi)e.j.D(e.h,Zi[r],(function(t){return _f(e,"player",t)}));e.j.D(e.g,"loadeddata",(function(){e.B=!0})),e.j.D(e.h,"loading",(function(){e.o=!1,Mf(e)})),e.j.D(e.g,"playing",(function(){e.o=!1,Mf(e)})),e.j.D(e.g,"pause",(function(){Mf(e)})),e.j.D(e.h,"unloading",(function(){e.o=!0,Mf(e)})),e.j.D(e.g,"ended",(function(){new Be((function(){e.g&&e.g.ended&&(e.o=!0,Mf(e))})).Z(jf)}))}(this)}function If(e){e.m=0,e.A=!0,e.G=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Mf(e)}function Mf(e){var t;D((function(n){return 1==n.g?w(n,Promise.resolve(),2):e.h?(t=new Yi("caststatuschanged"),e.dispatchEvent(t),Df(e)||Of(e),void x(n)):n.return()}))}function _f(e,t,n){e.h&&(Pf(e),Nf(e,{type:"event",targetName:t,event:n},e.l))}function Pf(e){e.C.Z(Uf);for(var t={video:{},player:{}},n=c(Wd),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.g[r];if(e.h.U())for(var i in ef)0==e.m%ef[i]&&(t.player[i]=e.h[i]());for(var a in Zd)0==e.m%Zd[a]&&(t.player[a]=e.h[a]());for(var o in(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),Nf(e,{type:"update",update:t},e.l),Qd)0==e.m%Qd[o]&&((t={player:{}}).player[o]=e.h[o](),Nf(e,{type:"update",update:t},e.l));e.B&&(e.m+=1),Df(e)}function Df(e){return!(!e.A||!e.g.duration&&!e.h.U()||(Lf(e),e.A=!1,0))}function Lf(e,t){var n={contentId:e.h.Kc(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),Of(e,void 0===t?0:t,n)}function Rf(e,t,n,r){e.h&&Nf(e,{type:"asyncComplete",id:n,error:r},e.l,t)}function Nf(e,t,n,r){e.G&&(e=Kd(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Of(e,t,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.o?Ff:e.h.uf()?Vf:e.g.paused?$f:Bf,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(r.media=n),Nf(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[r]},e.s)}v(bf,Qi),(r=bf.prototype).destroy=function(e){return e&&this.g.Jc(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.s=this.l=this.i=null,Qi.prototype.release.call(this),Promise.all(e)},r.ji=function(){return this.l},r.Zh=function(){return this.s},r.Dh=function(){return this.g.m&&hf},r.jb=function(){return this.g.jb()},r.Kf=function(){return this.g.Kf()},r.cast=function(){var e=this;return D((function(t){return 1==t.g?w(t,e.g.cast(),2):e.h?w(t,e.h.ic(),0):t.return()}))},r.Sf=function(e){this.g.Sf(e)},r.dj=function(){var e;(e=this.g).h&&chrome.cast.requestSession((function(t){return sf(e,t)}),(function(t){return uf(e,t)}))},r.Jc=function(){this.g.Jc()},r.Eh=function(e,t){t=void 0!==t&&t;var n=this;return D((function(r){if(1==r.g)return e==n.C&&t==n.B?r.return():(n.C=e,n.B=t,n.g.Jc(),w(r,n.g.destroy(),2));n.g=null,n.g=new of(e,(function(){return Sf(n)}),(function(){return Tf(n)}),(function(e,t){return Af(n,e,t)}),(function(){return kf(n)}),(function(){return xf(n)}),t),n.g.init(),x(r)}))},B("shaka.cast.CastProxy",bf),bf.prototype.changeReceiverId=bf.prototype.Eh,bf.prototype.forceDisconnect=bf.prototype.Jc,bf.prototype.suggestDisconnect=bf.prototype.dj,bf.prototype.setAppData=bf.prototype.Sf,bf.prototype.cast=bf.prototype.cast,bf.prototype.receiverName=bf.prototype.Kf,bf.prototype.isCasting=bf.prototype.jb,bf.prototype.canCast=bf.prototype.Dh,bf.prototype.getPlayer=bf.prototype.Zh,bf.prototype.getVideo=bf.prototype.ji,bf.prototype.destroy=bf.prototype.destroy,v(Ef,Qi),(r=Ef.prototype).isConnected=function(){return this.G},r.ri=function(){return this.o},r.$i=function(e){this.i=e},r.Gh=function(){this.i=null},r.aj=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},r.Zi=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},r.Yi=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},r.destroy=function(){var e,t=this;return D((function(n){if(1==n.g)return t.j&&(t.j.release(),t.j=null),e=[],t.h&&(e.push(t.h.destroy()),t.h=null),t.C&&(t.C.stop(),t.C=null),t.g=null,t.H=null,t.F=null,t.G=!1,t.o=!0,t.l=null,t.s=null,Qi.prototype.release.call(t),w(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),x(n)}))},B("shaka.cast.CastReceiver",Ef),Ef.prototype.destroy=Ef.prototype.destroy,Ef.prototype.setContentArtist=Ef.prototype.Yi,Ef.prototype.setContentImage=Ef.prototype.Zi,Ef.prototype.setContentTitle=Ef.prototype.aj,Ef.prototype.clearContentMetadata=Ef.prototype.Gh,Ef.prototype.setContentMetadata=Ef.prototype.$i,Ef.prototype.isIdle=Ef.prototype.ri,Ef.prototype.isConnected=Ef.prototype.isConnected;var Uf=.5,jf=5,Ff="IDLE",Bf="PLAYING",Vf="BUFFERING",$f="PAUSED";function zf(e,t,n,r,i){if(r>=i)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){a=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some((function(e){return null!=e&&""!=e.g.trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var u=s=!1,c="white",l="black",d=Hf(r,i,s,u,c,l);a<=o;a++){for(var f=n[a],p=-1,h=-1,g=0;g<f.length;g++)if(null!=f[g]&&""!==f[g].g.trim()){p=g;break}for(g=f.length-1;0<=g;g--)if(null!=f[g]&&""!==f[g].g.trim()){h=g;break}if(-1===p||-1===h)f=qf(r,i),e.nestedCues.push(f);else{for(;p<=h;p++)if(g=f[p]){var v=g.l,m=g.i,y=g.j,b=g.h;v==s&&m==u&&y==c&&b==l||(d.payload&&e.nestedCues.push(d),d=Hf(r,i,v,m,y,b),s=v,u=m,c=y,l=b),d.payload+=g.g}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=qf(r,i),e.nestedCues.push(d)),d=Hf(r,i,s,u,c,l)}}return e.nestedCues.length?{cue:e,stream:t}:null}function Hf(e,t,n,r,i,a){return e=new un(e,t,""),n&&e.textDecoration.push(Dn),r&&(e.fontStyle=_n),e.color=i,e.backgroundColor=a,e}function qf(e,t){return(e=new un(e,t,"")).lineBreak=!0,e}function Kf(e,t,n,r,i){this.g=e,this.l=t,this.i=n,this.h=r,this.j=i}function Gf(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.o="black",this.s=this.A=null,Wf(this)}function Xf(e,t,n){var r="CC"+(1+(e.C<<1|e.B)),i=new un(t,n,"");i.lineInterpretation=1;var a=rp.get(e.g);return a&&(i.line=a),null!=e.s&&null!=e.A&&(i.position=10+Math.min(70,10*e.s)+2.5*e.A),(t=zf(i,r,e.i,t,n))&&15<e.g+t.cue.nestedCues.length-3&&(a=rp.get(e.g+3-t.cue.nestedCues.length))&&(i.line=a),t}function Wf(e){Zf(e,0,15),e.g=1}function Yf(e,t,n){if(!(32>n||127<n)){var r="";switch(t){case 0:r=Qf.has(n)?Qf.get(n):String.fromCharCode(n);break;case 1:r=ep.get(n);break;case 2:e.i[e.g].pop(),r=tp.get(n);break;case 3:e.i[e.g].pop(),r=np.get(n)}r&&e.i[e.g].push(new Kf(r,e.m,e.j,e.o,e.l))}}function Jf(e,t,n,r){if(!(0>n||0>t))if(t>=n)for(--r;0<=r;r--)e.i[t+r]=e.i[n+r].map((function(e){return e}));else for(var i=0;i<r;i++)e.i[t+i]=e.i[n+i].map((function(e){return e}))}function Zf(e,t,n){for(var r=0;r<=n;r++)e.i[t+r]=[]}var Qf=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),ep=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57," "],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),tp=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),np=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),rp=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function ip(e,t){this.h=0,this.o=new Gf(e,t),this.i=new Gf(e,t),this.g=this.j=new Gf(e,t),this.l=0,this.m=null}function ap(e,t,n){e.g=e.i;var r=e.g,i=null;return 3!==e.h&&4!==e.h&&(i=Xf(r,e.l,n),(n=e.i).g=0<n.h?n.h:0,Zf(n,0,15),(n=e.j).g=0<n.h?n.h:0,Zf(n,0,15),r.g=15),e.h=3,r.h=t,i}function op(e){e.h=1,e.g=e.j,e.g.h=0}function sp(e){W("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.o,e.h=4}var up="black green blue cyan red yellow magenta black".split(" "),cp="white green blue cyan red yellow magenta white_italics".split(" ");function lp(e,t){this.I=t,this.M=e,this.K=this.l=!1,this.m=this.o=this.G=this.L=this.H=0,this.F=2,this.i=[],this.g=this.h=this.j=0,this.C=this.A=!1,this.B="white",this.s="black",dp(this)}function dp(e){e.i=[];for(var t=0;16>t;t++)e.i.push(fp())}function fp(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function pp(e,t){hp(e)&&(e.i[e.h][e.g]=new Kf(t,e.C,e.A,e.s,e.B),e.g++)}function hp(e){var t=e.g<e.m&&0<=e.g;return e.h<e.o&&0<=e.h&&t}function gp(e,t,n){var r=new un(e.j,t,"");r.textAlign=0===e.F?"left":1===e.F?"right":vn;var i=r.region;switch(e.I&&(i.id+="svc"+e.I),i.id+="win"+e.M,i.height=e.o,i.width=e.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=e.H,i.viewportAnchorY=e.L,i.viewportAnchorUnits=e.K?Ce:2,e.G){case 0:i.regionAnchorX=0,i.regionAnchorY=0;break;case 1:i.regionAnchorX=50,i.regionAnchorY=0;break;case 2:i.regionAnchorX=100,i.regionAnchorY=0;break;case 3:i.regionAnchorX=0,i.regionAnchorY=50;break;case 4:i.regionAnchorX=50,i.regionAnchorY=50;break;case 5:i.regionAnchorX=100,i.regionAnchorY=50;break;case 6:i.regionAnchorX=0,i.regionAnchorY=100;break;case 7:i.regionAnchorX=50,i.regionAnchorY=100;break;case 8:i.regionAnchorX=100,i.regionAnchorY=100}return(n=zf(r,"svc"+n,e.i,e.j,t))&&(e.j=t),n}function vp(){this.i=[],this.h=null,this.g=0}function mp(e,t){3===t.type?(e.g=2*(63&t.value)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),0===e.g&&(e.i.push(new yp(e.h)),e.h=null,e.g=0))}function yp(e){this.g=0,this.h=e}function bp(e){if(!e.sa())throw new Pe(2,2,3e3);return e.h[e.g++]}function wp(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function xp(e,t,n,r){if(128<=n&&135>=n)r=7&n,e.h[r]&&(e.g=e.h[r]);else{if(136===n){n=bp(t).value,t=null;for(var i=(n=c(Sp(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=gp(i,r,e.i)),dp(i);return t}if(137===n)for(n=(t=c(Sp(e,t=bp(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=r),n.display();else{if(138===n){for(n=bp(t).value,t=null,i=(n=c(Sp(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()&&(t=gp(i,r,e.i)),i.l=!1;return t}if(139===n){for(n=bp(t).value,t=null,i=(n=c(Sp(e,n))).next();!i.done;i=n.next())(i=e.h[i.value]).isVisible()?t=gp(i,r,e.i):i.j=r,i.l=!i.l;return t}if(140===n)return Tp(e,t=bp(t).value,r);if(143===n)return r=Tp(e,255,r),kp(e),r;if(144===n)t.skip(1),r=bp(t).value,e.g&&(e.g.A=0<(128&r),e.g.C=0<(64&r));else if(145===n)r=bp(t).value,n=bp(t).value,t.skip(1),e.g&&(t=Cp((48&n)>>4,(12&n)>>2,3&n),e.g.B=Cp((48&r)>>4,(12&r)>>2,3&r),e.g.s=t);else if(146===n)r=bp(t).value,t=bp(t).value,e.g&&((e=e.g).h=15&r,e.g=63&t);else if(151===n)t.skip(1),t.skip(1),r=bp(t).value,t.skip(1),e.g&&(e.g.F=3&r);else if(152<=n&&159>=n){if(n=(15&n)-8,!(i=null!==e.h[n])){var a=new lp(n,e.i);a.j=r,e.h[n]=a}r=bp(t).value,a=bp(t).value;var o=bp(t).value,s=bp(t).value,u=bp(t).value;t=bp(t).value,i&&0==(7&t)||((t=e.h[n]).h=0,t.g=0,t.C=!1,t.A=!1,t.B="white",t.s="black"),(t=e.h[n]).l=0<(32&r),t.L=127&a,t.H=o,t.G=(240&s)>>4,t.K=0<(128&a),t.o=1+(15&s),t.m=1+(63&u),e.g=e.h[n]}}}return null}function Sp(e,t){for(var n=[],r=0;8>r;r++)1==(1&t)&&e.h[r]&&n.push(r),t>>=1;return n}function Tp(e,t,n){for(var r=null,i=(t=c(Sp(e,t))).next();!i.done;i=t.next()){i=i.value;var a=e.h[i];a.isVisible()&&(r=gp(a,n,e.i)),e.h[i]=null}return r}function kp(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function Cp(e,t,n){var r={0:0,1:0,2:1,3:1};return Ep[(e=r[e])<<2|(t=r[t])<<1|(n=r[n])]}lp.prototype.isVisible=function(){return this.l},lp.prototype.display=function(){this.l=!0},yp.prototype.sa=function(){return this.g<this.h.length},yp.prototype.ya=function(){return this.g},yp.prototype.skip=function(e){if(this.g+e>this.h.length)throw new Pe(2,2,3e3);this.g+=e};var Ap=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),Ep="black blue green cyan red magenta yellow white".split(" ");function Ip(){this.h=[],this.g=[],this.i=new vp,this.l=0,this.m=new Map([["CC1",new ip(0,0)],["CC2",new ip(0,1)],["CC3",new ip(1,0)],["CC4",new ip(1,1)]]),this.s=this.o=0,this.j=new Map,this.B=!0,this.A=new Set,Mp(this)}function Mp(e){e.o=0,e.s=0;for(var t=c(e.m.values()),n=t.next();!n.done;n=t.next())(n=n.value).h=0,n.g=n.j,n.m=null,Wf(n.i),Wf(n.j),Wf(n.o);e.B=!0}function _p(e,t){var n=t.type;if(16==(112&t.gb)){var r=t.gb>>3&1;0===n?e.o=r:e.s=r}if(r="CC"+(1+(n<<1|(n?e.s:e.o))),n=e.m.get(r),255===t.gb&&255===t.Eb||!t.gb&&!t.Eb||!Dp(t.gb)||!Dp(t.Eb))return 45<=++e.l&&Mp(e),null;e.l=0,t.gb&=127,t.Eb&=127;var i=t.gb;if(1<=i&&15>=i||!t.gb&&!t.Eb)return null;if(i=null,16==(112&t.gb))e:{if(e.A.add(r),r=t.gb,e=t.Eb,n.m===(r<<8|e))n.m=null;else if(n.m=r<<8|e,16==(240&r)&&64==(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|e>>5&1],r="white",i=!1;var a=null,o=95<e?e-96:e-64;13>=o?r=cp[Math.floor(o/2)]:15>=o?i=!0:a=Math.floor((o-16)/2),e=1==(1&e),4!==n.h&&(o=n.g,3===n.h&&t!==o.g&&(Jf(o,n=1+t-o.h,1+o.g-o.h,o.h),Zf(o,0,n-1),Zf(o,t+1,15-t)),o.g=t,o.m=e,o.j=i,o.l=r,o.s=a,o.o="black")}else if(17==(247&r)&&32==(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",Yf(n.g,0,32),r=!1,"white_italics"===(t=cp[(14&e)>>1])&&(t="white",r=!0),n.g.m=1==(1&e),n.g.j=r,n.g.l=t;else if(16==(247&r)&&32==(240&e)||23==(247&r)&&45==(255&e))t="black",0==(7&r)&&(t=up[(14&e)>>1]),n.g.o=t;else if(17==(247&r)&&48==(240&e))Yf(n.g,1,e);else if(18==(246&r)&&32==(224&e))Yf(n.g,1&r?3:2,e);else{if(20==(246&r)&&32==(240&e)){switch(e=t.pts,r=null,t.Eb){case 32:op(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=ap(n,2,e);break;case 38:r=ap(n,3,e);break;case 39:r=ap(n,4,e);break;case 40:Yf(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:Wf(n.o),sp(n);break;case 43:sp(n);break;case 44:t=n.i,r=null,4!==n.h&&(r=Xf(t,n.l,e)),Zf(t,0,15);break;case 45:t=n.g,3!==n.h?r=null:(r=Xf(t,n.l,e),Jf(t,(i=t.g-t.h+1)-1,i,t.h),Zf(t,0,i-1),Zf(t,t.g,15-t.g),n.l=e);break;case 46:Zf(n.j,0,15);break;case 47:t=null,4!==n.h&&(t=Xf(n.i,n.l,e)),r=n.j,n.j=n.i,n.i=r,op(n),n.l=e,r=t}i=r;break e}(23==r||31==r)&&33<=e&&35>=e&&(n.g.A=e-32)}i=null}else e=t.Eb,Yf(n.g,0,t.gb),Yf(n.g,0,e);return i}function Pp(e,t){var n=[];try{for(;t.sa();){var r=bp(t).value,i=(224&r)>>5,a=31&r;if(7===i&&0!=a&&(i=63&bp(t).value),0!=i){e.A.add("svc"+i),e.j.has(i)||e.j.set(i,new wp(i));for(var o=e.j.get(i),s=t.ya();t.ya()-s<a;){i=o;var u=t,c=bp(u),l=c.value,d=c.pts;if(16===l&&(l=l<<16|bp(u).value),0<=l&&31>=l){var f=l,p=d;if((u=i).g){var h=u.g;switch(i=null,f){case 8:!hp(h)||0>=h.g&&0>=h.h||(0>=h.g?(h.g=h.m-1,h.h--):h.g--,h.i[h.h][h.g]=null);break;case 13:if(h.isVisible()&&(i=gp(h,p,u.i)),h.h+1>=h.o){for(u=h,f=0,p=1;16>p;p++,f++)u.i[f]=u.i[p];for(p=0;1>p;p++,f++)u.i[f]=fp()}else h.h++;h.g=0;break;case 14:h.isVisible()&&(i=gp(h,p,u.i)),h.i[h.h]=fp(),h.g=0;break;case 12:h.isVisible()&&(i=gp(h,p,u.i)),dp(h),(u=h).h=0,u.g=0}var g=i}else g=null}else if(128<=l&&159>=l)g=xp(i,u,l,d);else{if(4096<=l&&4127>=l)i=u,8<=(u=255&l)&&15>=u?i.skip(1):16<=u&&23>=u?i.skip(2):24<=u&&31>=u&&i.skip(3);else if(4224<=l&&4255>=l)i=u,128<=(u=255&l)&&135>=u?i.skip(4):136<=u&&143>=u&&i.skip(5);else if(32<=l&&127>=l)u=l,i.g&&pp(i.g,127===u?"♪":String.fromCharCode(u));else if(160<=l&&255>=l)i.g&&pp(i.g,String.fromCharCode(l));else if(4128<=l&&4223>=l){if(u=255&l,i.g)if(Ap.has(u)){var v=Ap.get(u);pp(i.g,v)}else pp(i.g,"_")}else 4256<=l&&4351>=l&&i.g&&pp(i.g,160!=(255&l)?"_":"[CC]");g=null}(i=g)&&n.push(i)}}}}catch(e){if(!(e instanceof Pe&&3e3===e.code))throw e;W("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Dp(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function Lp(e){for(var t=[],n=e,r=e=0;r<n.length;)2==e&&3==n[r]?(e=0,(n=[].concat(l(n))).splice(r,1),n=new Uint8Array(n)):0==n[r]?e++:e=0,r++;for(e=n,r=0;r<e.length;){for(n=0;255==e[r];)n+=255,r++;n+=e[r++];for(var i=0;255==e[r];)i+=255,r++;i+=e[r++],4==n&&t.push(e.subarray(r,r+i)),r+=i}return t}function Rp(){this.j=new Map,this.i=this.h=0,this.g=Op}function Np(e,t,n,r,i,a,o,s,u){var d=0,f=a,p=s.map((function(e){return e.Zg}));for((p=[].concat.apply([],l(p))).length&&(f=p[0].sampleSize||a),t.skip(o+s[0].Ih);t.sa();){o=t.P();var h=t.T(),g=null;switch(g=!1,s=1,e.g){case Up:g=6==(g=31&h);break;case jp:s=2,t.skip(1),g=39==(g=h>>1&63)||40==g;break;case Fp:s=2,t.skip(1),g=23==(g=h>>1&63)||24==g;break;default:return}if(g)for(h=0,d<p.length&&(h=p[d].me||0),h=(n+h)/r,g=(s=c(Lp(t.vb(o-s)))).next();!g.done;g=s.next())u.push({packet:g.value,pts:h});else try{t.skip(o-s)}catch(e){break}0==(f-=o+4)&&(n=d<p.length?n+(p[d].Pf||i):n+i,f=++d<p.length&&p[d].sampleSize||a)}}Ip.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Mp(this);for(var t=(e=c(this.j.values())).next();!t.done;t=e.next())kp(t.value)},Ip.prototype.extract=function(e,t){if(this.B){for(var n=c(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=t;this.B=!1}if(!(8>(e=new ya(e,0)).getLength())&&181===e.T()&&49===e.ma()&&1195456820===e.P()&&3===e.T()&&0!=(64&(n=e.T())))for(n&=31,e.skip(1),r=0;r<n;r++){var i=e.T(),a=(4&i)>>2,o=e.T(),s=e.T();a&&(0==(i&=3)||1===i?this.h.push({pts:t,type:i,gb:o,Eb:s,order:this.h.length}):(this.g.push({pts:t,type:i,value:o,order:this.g.length}),this.g.push({pts:t,type:2,value:s,order:this.g.length})))}},Ip.prototype.decode=function(){function e(e,t){return e.pts-t.pts||e.order-t.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=c(this.h),r=n.next();!r.done;r=n.next())(r=_p(this,r.value))&&t.push(r);for(r=(n=c(this.g)).next();!r.done;r=n.next())mp(this.i,r.value);for(r=(n=c(this.i.i)).next();!r.done;r=n.next())r=Pp(this,r.value),t.push.apply(t,l(r));return this.i.i=[],this.h=[],this.g=[],t},Ip.prototype.getStreams=function(){return Array.from(this.A)},B("shaka.cea.CeaDecoder",Ip),Te=function(){return new Ip},Rp.prototype.init=function(e){function t(e){(e=e.name)in Bp&&(n.g=Bp[e])}var n=this,r=[],i=[];if((new xa).box("moov",Sa).box("mvex",Sa).R("trex",(function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.P(),t=t.P(),n.h=e,n.i=t})).box("trak",Sa).R("tkhd",(function(e){var t=e.reader;1==(e=e.version)?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4));var n=t.P();1==e?t.skip(8):t.skip(4),t.skip(4),t.skip(8),t.skip(2),t.skip(2),t.skip(2),t.skip(2),t.skip(36),t.ma(),t.ma(),t.ma(),t.ma(),r.push(n)})).box("mdia",Sa).R("mdhd",(function(e){e=jo(e.reader,e.version),i.push(e.timescale)})).box("minf",Sa).box("stbl",Sa).R("stsd",Ta).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",ka).box("sinf",Sa).box("frma",(function(e){(e=Vo(e.reader).codec)in Bp&&(n.g=Bp[e])})).parse(e,!0),!r.length||!i.length||r.length!=i.length)throw new Pe(2,2,2010);this.g==Op&&X("Unable to determine bitstream format for CEA parsing!"),r.forEach((function(e,t){n.j.set(e,i[t])}))},Rp.prototype.parse=function(e){var t=this;if(this.g==Op)return[];var n=[],r=0,i=[];return(new xa).box("moof",(function(e){r=e.start,i=[],Sa(e)})).box("traf",(function(e){i.push({baseMediaDecodeTime:null,cd:t.h,Kd:t.i,Sg:[],timescale:9e4}),Sa(e)})).R("trun",(function(e){var t=i[i.length-1];e=Fo(e.reader,e.version,e.flags),t.Sg.push(e)})).R("tfhd",(function(e){var n=i[i.length-1];e=Oo(e.reader,e.flags),n.cd=e.cd||t.h,n.Kd=e.Kd||t.i,e=e.trackId,t.j.has(e)&&(n.timescale=t.j.get(e))})).R("tfdt",(function(e){var t=i[i.length-1];e=Uo(e.reader,e.version),t.baseMediaDecodeTime=e.baseMediaDecodeTime})).box("mdat",(function(e){for(var a=r-e.start-8,o=e.reader.ya(),s=c(i),u=s.next();!u.done;u=s.next()){if(null===(u=u.value).baseMediaDecodeTime)throw X("Unable to find base media decode time for CEA captions!"),new Pe(2,2,2010);e.reader.seek(o),Np(t,e.reader,u.baseMediaDecodeTime,u.timescale,u.cd,u.Kd,a,u.Sg,n)}})).parse(e,!1),n},B("shaka.cea.Mp4CeaParser",Rp);var Op=0,Up=1,jp=2,Fp=3,Bp={avc1:Up,avc3:Up,dvav:Up,dva1:Up,hev1:jp,hvc1:jp,dvh1:jp,dvhe:jp,vvc1:Fp,vvi1:Fp,dvc1:Fp,dvi1:Fp};function Vp(){this.g=null}function $p(t,n,r){var i=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())(n=Hp(n.value))&&t.push(n);return t}(t),a=null;t=[];var o=[],s=null,u=new Set(i.map((function(e){return e.keyId})));u.delete(null);var l="cenc";if(1<u.size)throw new Pe(2,4,4010);if(!n){if(1<(o=i.filter((function(e){return"urn:mpeg:dash:sea:2012"==e.Uc}))).length)throw new Pe(2,4,4050);o.length&&(s=function(t){if(!e.crypto||!e.crypto.subtle)throw X("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new Pe(2,4,4042);var n=Ft(t.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!n)throw new Pe(2,4,4051);if("urn:mpeg:dash:sea:aes128-cbc:2013"!=n.attributes.schemeIdUri)throw new Pe(2,4,4051);if(!(n=Ft(t.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod")))throw new Pe(2,4,4051);if(t=n.attributes.IV,n=yt(n.attributes.keyUriTemplate),!t||!n)throw new Pe(2,4,4051);if(16!=(t=cr(t.substr(2))).byteLength)throw new Pe(2,4,4048);return{wi:n,iv:t}}(o[0])),(o=i.find((function(e){return"urn:mpeg:dash:mp4protection:2011"==e.Uc})))&&o.encryptionScheme&&(l=o.encryptionScheme),(o=i.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"==e.Uc?(a=e.init||a,!1):"urn:mpeg:dash:sea:2012"!=e.Uc}))).length&&(t=function(e,t,n,r,i){for(var a=[],o=(n=c(n)).next();!o.done;o=n.next()){var s=r[(o=o.value).Uc];if(s){var u;if((u=Ft(o.node,"urn:microsoft:playready","pro"))&&Nt(u)){u=ur(u=Nt(u));var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:La(u,l,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else u=null;if(l=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===o.Uc){l=o;var d=i;if(0==d.size)l=null;else{var f=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);l=[{initData:La(new Uint8Array([]),f,d,1),initDataType:"cenc",keyId:l.keyId}]}}u=pr(s,t,o.init||e||u||l),(s=Kp.get(s))&&(u.licenseServerUri=s(o)),a.push(u)}}return a}(a,l,o,r,u),0==t.length&&(t=[pr("",l,a)]))}if(i.length&&!s&&(n||!o.length))for(t=[],r=(n=c(Object.values(r))).next();!r.done;r=n.next())"org.w3.clearkey"!=(r=r.value)&&t.push(pr(r,l,a));if(u=Array.from(u)[0]||null)for(n=(l=c(t)).next();!n.done;n=l.next())for(r=(n=c(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=u;return{rg:u,kk:a,drmInfos:t,Ke:s,wg:!0}}function zp(e){var t=Ft(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=Nt(t))?t:(e=Ft(e.node,"urn:microsoft:playready","pro"))&&Nt(e)?(e=function(e){var t=0,n=ye(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>n.byteLength){n=[];break e}var a=ve(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}(e=ur(e=Nt(e))).filter((function(e){return e.type===qp}))[0],e&&(e=_t(e=pt(e.value,!0),"WRMHEADER"))?function(e){for(var t=(e=c(Ut(e,"DATA"))).next();!t.done;t=e.next())if((t=t.value).children)for(var n=(t=c(t.children)).next();!n.done;n=t.next())if("LA_URL"==(n=n.value).tagName)return Nt(n);return""}(e):""):""}function Hp(e){var t=e.attributes.schemeIdUri,n=Vt(e,"urn:mpeg:cenc:2013","default_KID"),r=$t(e,"urn:mpeg:cenc:2013","pssh").map(Ot),i=e.attributes.value;if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new Pe(2,4,4009);var a=[];try{a=r.map((function(e){return{initDataType:"cenc",initData:ur(e),keyId:null}}))}catch(e){throw new Pe(2,4,4007)}return{node:e,Uc:t,keyId:n,init:0<a.length?a:null,encryptionScheme:i}}Se["video/mp4"]=function(){return new Rp},Vp.prototype.init=function(){},Vp.prototype.parse=function(e){this.g?this.g.clearData():this.g=new ns;var t=[];if(!os(e=ve(e)))return t;var n=(e=this.g.parse(e)).dd(),r=e.Qd();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(r=(n=c(r)).next();!r.done;r=n.next())if(r=r.value,e.includes(r.type)&&null!=r.time)for(var i=c(Lp(r.data)),a=i.next();!a.done;a=i.next())t.push({packet:a.value,pts:r.time});return t},B("shaka.cea.TsCeaParser",Vp),Se["video/mp2t"]=function(){return new Vp};var qp=1,Kp=(new Map).set("com.apple.fps",(function(e){if(st())throw new Pe(2,4,4054);return(e=Ft(e.node,"https://dashif.org/CPS","Laurl"))&&(e=Nt(e))?e:""})).set("com.widevine.alpha",(function(e){var t=Ft(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=Nt(t))?t:(e=Ft(e.node,"urn:microsoft","laurl"))&&yt(e.attributes.licenseUrl)||""})).set("com.microsoft.playready",zp).set("com.microsoft.playready.recommendation",zp).set("com.microsoft.playready.software",zp).set("com.microsoft.playready.hardware",zp).set("org.w3.clearkey",(function(e){var t=Ft(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=Nt(t))?t:(e=Ft(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===e.attributes.Lic_type&&e&&(e=Nt(e))?e:""}));function Gp(t,n,r,i,a,o){var s={RepresentationID:n,Number:r,SubNumber:i,Bandwidth:a,Time:o};return t.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var a=s[n];if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&"bigint"!=typeof a&&(.2<=Math.abs(a-Math.round(a))&&X("Calculated $Time$ values must be close to integers"),a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function Xp(e,t){var n=Yp(e,t,"timescale"),r=1;n&&(r=Xt(n)||1),(n=Xt((n=Yp(e,t,"duration"))||""))&&(n/=r);var i=Yp(e,t,"startNumber"),a=Number(Yp(e,t,"presentationTimeOffset"))||0,o=Wt(i||"");if(null!=i&&null!=o||(o=1),i=null,t=Jp(e,t,"SegmentTimeline")){t=Rt(t,"S"),i=r,e=e.ia.duration||1/0;for(var s=o,u=[],c=-a,l=0;l<t.length;++l){var d=t[l],f=t[l+1],p=Bt(d,"t",Wt),h=Bt(d,"d",Wt),g=Bt(d,"r",Gt);if(d=Bt(d,"k",Gt)||0,null!=p&&(p-=a),h){if(p=null!=p?p:c,0>(g=g||0))if(f){if(null==(f=Bt(f,"t",Wt)))break;if(p>=f)break;g=Math.ceil((f-p)/h)-1}else{if(1/0==e)break;if(p/i>=e)break;g=Math.ceil((e*i-p)/h)-1}for(0<u.length&&p!=c&&(u[u.length-1].end=p/i),f=0;f<=g;++f)c=p+h,u.push({start:p/i,end:c/i,eg:p,Cb:d,Wi:u.length+s}),p=c}}i=u}return{timescale:r,Qa:n,yd:o,Qb:a/r||0,dg:a,timeline:i}}function Wp(e,t){return[t(e.J),t(e.ga),t(e.oa)].filter(zr)}function Yp(e,t,n){t=Wp(e,t),e=null;for(var r=(t=c(t)).next();!r.done&&!(e=r.value.attributes[n]);r=t.next());return e}function Jp(e,t,n){t=Wp(e,t),e=null;for(var r=(t=c(t)).next();!r.done&&!(e=jt(r.value,n));r=t.next());return e}function Zp(e,t,n,r,i,a){if(a=void 0===a?0:a,Vt(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=Vt(e,"http://www.w3.org/1999/xlink","href"),s=Vt(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=c(Object.keys(e.attributes)),l=u.next();!l.done;l=u.next()){var d=(l=l.value).split(":"),f=Pt("http://www.w3.org/1999/xlink");d[0]==f&&delete e.attributes[l]}if(5<=a)return qi(new Pe(2,4,4028));if("onLoad"!=s)return qi(new Pe(2,4,4027));var p=fr([r],[o]);return i.request(0,aa(p,t)).Ca((function(r){if(!(r=Mt(r.data,e.tagName)))return qi(new Pe(2,4,4001,o));for(e.children=[];r.children.length;){var s=r.children.shift();e.children.push(s)}for(var u=(s=c(Object.keys(r.attributes))).next();!u.done;u=s.next())u=u.value,e.attributes[u]=r.attributes[u];return Zp(e,t,n,p[0],i,a+1)}))}(e,t,n,r,i,a);return n&&(o=o.Ca(void 0,(function(){return Zp(e,t,n,r,i,a)}))),o}o=[];for(var s=c(Lt(e)),u=s.next(),l={};!u.done;l={Zc:void 0},u=s.next())l.Zc=u.value,"urn:mpeg:dash:resolve-to-zero:2013"==Vt(l.Zc,"http://www.w3.org/1999/xlink","href")?e.children=e.children.filter(function(e){return function(t){return t!==e.Zc}}(l)):"SegmentTimeline"!=l.Zc.tagName&&o.push(Zp(l.Zc,t,n,r,i,a));return Wi(o).Ca((function(){return e}))}function Qp(e){this.h=ye(e),this.g=new ya(this.h,0)}function eh(e){var t=th(e);if(7<t.length)throw new Pe(2,3,3002);for(var n=0,r=(t=c(t)).next();!r.done;r=t.next())n=256*n+r.value;t=th(e);e:{for(var i=(r=c(nh)).next();!i.done;i=r.next())if(pe(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.h.byteLength-e.g.ya();else{if(8==t.length&&224&t[1])throw new Pe(2,3,3001);for(i=r=0;i<t.length;i++){var a=t[i];r=0==i?a&(1<<8-t.length)-1:256*r+a}t=r}return t=e.g.ya()+t<=e.h.byteLength?t:e.h.byteLength-e.g.ya(),r=ye(e.h,e.g.ya(),t),e.g.skip(t),new rh(n,r)}function th(e){var t=e.g.ya(),n=e.g.T();if(0==n)throw new Pe(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),ve(e.h,t,n)}Qp.prototype.sa=function(){return this.g.sa()};var nh=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function rh(e,t){this.id=e,this.g=t}function ih(e){if(8<e.g.byteLength)throw new Pe(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new Pe(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++)t=256*t+e.g.getUint8(n);return t}function ah(e){var t=new Qp(e.g);if(179!=(e=eh(t)).id)throw new Pe(2,3,3013);if(e=ih(e),183!=(t=eh(t)).id)throw new Pe(2,3,3012);t=new Qp(t.g);for(var n=0;t.sa();){var r=eh(t);if(241==r.id){n=ih(r);break}}return{hj:e,Mi:n}}function oh(e,t,n){if(!(t=Jp(e,t,"Initialization")))return null;var r=e.J.Oa(),i=t.attributes.sourceURL;i&&(r=fr(r,[yt(i)],e.ob())),i=0;var a=null;return(t=Bt(t,"range",Kt))&&(i=t.start,a=t.end),(n=new go((function(){return r}),i,a,dh(e),null,null,n)).codecs=e.J.codecs,n.mimeType=e.J.mimeType,n}function sh(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,v,m,y,b,x,S,T,k,C,A;return D((function(E){if(1==E.g)return s=e.presentationTimeline,u=!e.xb||!e.ia.vf,l=e.ia.start,d=e.ia.duration,f=e.J.mimeType.split("/")[1],h=null,g=[(p=t)(r,i,a,!1),"webm"==f?p(n.N(),n.Ka,n.ua,!0):null],p=null,w(E,Promise.all(g),2);if(v=E.h,m=v[0],y=v[1]||null,x=l-o,S=l,T=d?l+d:1/0,"mp4"==f)var I=function(e,t,n,r,i,a,o){var s,u=(new xa).R("sidx",(function(e){s=function(e,t,n,r,i,a,o){var s=[];o.reader.skip(4);var u=o.reader.P();if(0==u)throw new Pe(2,3,3005);if(0==o.version)var c=o.reader.P(),l=o.reader.P();else c=o.reader.Tc(),l=o.reader.Tc();o.reader.skip(2);var d=o.reader.ma();for(e=e+o.size+l,l=0;l<d;l++){var f=o.reader.P(),p=(2147483648&f)>>>31;f&=2147483647;var h=o.reader.P();if(o.reader.skip(4),1==p)throw new Pe(2,3,3006);s.push(new mo(c/u+n,(c+h)/u+n,(function(){return a}),e,e+f-1,t,n,r,i)),c+=h,e+=f}return o.parser.stop(),s}(t,r,i,a,o,n,e)}));if(e&&u.parse(e),s)return s;throw new Pe(2,3,3004)}(m,i,r,n,x,S,T);else{I=m;var M=new Qp(y);if(440786851!=eh(M).id)throw new Pe(2,3,3008);var _=eh(M);if(408125543!=_.id)throw new Pe(2,3,3009);M=_.g.byteOffset,_=new Qp(_.g);for(var P=null;_.sa();){var D=eh(_);if(357149030==D.id){P=D;break}}if(!P)throw new Pe(2,3,3010);for(P=new Qp(P.g),D=1e6,_=null;P.sa();){var L=eh(P);if(2807729==L.id)D=ih(L);else if(17545==L.id)if(4==L.g.byteLength)_=L.g.getFloat32(0);else{if(8!=L.g.byteLength)throw new Pe(2,3,3003);_=L.g.getFloat64(0)}}if(null==_)throw new Pe(2,3,3011);if(_*=P=D/1e9,475249515!=(I=eh(new Qp(I))).id)throw new Pe(2,3,3007);I=function(e,t,n,r,i,a,o,s,u){function c(){return i}var l=[];e=new Qp(e.g);for(var d=null,f=null;e.sa();){var p=eh(e);if(187==p.id){var h=ah(p);h&&(p=n*h.hj,h=t+h.Mi,null!=d&&l.push(new mo(d+o,p+o,c,f,h-1,a,o,s,u)),d=p,f=h)}}return null!=d&&l.push(new mo(d+o,r+o,c,f,null,a,o,s,u)),l}(I,M,P,_,r,n,x,S,T)}for(k=c(b=I),C=k.next();!C.done;C=k.next())(A=C.value).codecs=e.J.codecs,A.mimeType=e.J.mimeType,A.bandwidth=e.bandwidth;return s.td(b),h=new Qs(b),u&&h.Ic(S,T,!0),E.return(h)}))}function uh(e){return e.Wc}function ch(e){var t=Jp(e,uh,"RepresentationIndex");return e=Kt((e=Yp(e,uh,"indexRange"))||""),t&&(e=Bt(t,"range",Kt,e)),e}function lh(e,t){var n=e.J.mimeType.split("/")[1];if(e.J.contentType!=yr&&"mp4"!=n&&"webm"!=n)throw new Pe(2,4,4006);if("webm"==n&&!t)throw new Pe(2,4,4005)}function dh(e){var t=e.J;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.de,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.ga.label||null,roles:e.roles||null,language:e.ga.language||null}}function fh(e){return e.Sb}function ph(t,n,r,i,a,o,s,u,l){l||t.J.Td||(t.J.Td=Yp(t,hh,"initialization"));var d=t.J.Td?function(e,t){var n=e.J.Td;if(n||(n=Yp(e,hh,"initialization")),!n)return null;n=yt(n);var r=e.J.id,i=e.bandwidth||null,a=e.J.Oa,o=e.ob;return t=new go((function(){var e=Gp(n,r,null,null,i,null);return fr(a(),[e],o())}),0,null,dh(e),null,null,t),t.codecs=e.J.codecs,t.mimeType=e.J.mimeType,t}(t,s):null,f=function(e){var t=Xp(e,hh),n=Yp(e,hh,"media"),r=Yp(e,hh,"index"),i=Yp(e,hh,"k"),a=0;return i&&(a=parseInt(i,10)),{Qa:t.Qa,timescale:t.timescale,yd:t.yd,Qb:t.Qb,dg:t.dg,timeline:t.timeline,cc:n&&yt(n),kd:r,mimeType:e.J.mimeType,codecs:e.J.codecs,bandwidth:e.bandwidth,Di:a}}(t);!function(e){var t=e.kd?1:0;if(t+=e.timeline?1:0,0==(t+=e.Qa?1:0))throw new Pe(2,4,4002);if(1!=t&&(e.kd&&(e.timeline=null),e.Qa=null),!e.kd&&!e.cc)throw new Pe(2,4,4002)}(f);var p=It(t);if(f.kd)return lh(t,d),{nc:function(){var e=Gp(f.kd,p.J.id,null,null,p.bandwidth||null,null);return e=fr(p.J.Oa(),[e]),sh(p,n,d,e,0,null,f.Qb)}};if(f.Qa)return i||"image"===t.ga.contentType||"text"===t.ga.contentType||(r=t.ia.start,i=t.oa.id,l=t.ia.duration,i=(i=null!=i&&o[i]||l)?r+i:1/0,t.presentationTimeline.Cf(f.Qa),t.presentationTimeline.Qg(r,i)),{nc:function(){return function(t,n,r,i,a,o,s,u){function l(r){var a=(r-y)*m,s=a+n.Qb,c=a+h;a=c+m;var l=Math.min(a,f()),d=[],p=n.Di;if(p)for(var g=(l-c)/p,v={},A=0;A<p;v={mh:void 0},A++){var E=c+g*A,I=E+g;v.mh=A+1,(v=new mo(E,I,function(t){return function(){var n=s*b;return"BigInt"in e&&n>Number.MAX_SAFE_INTEGER&&(n=BigInt(s)*BigInt(b)),n=Gp(w,S,r,t.mh,x,n),fr(T(),[n],k())}}(v),0,null,i,C,h,f(),[],"",null,null,bo,o)).codecs=t.J.codecs,v.mimeType=t.J.mimeType,0==u?0<A&&v.Nc():0!=A%u&&v.Nc(),d.push(v)}return(c=new mo(c,l,(function(){if(p)return[];var t=s*b;return"BigInt"in e&&t>Number.MAX_SAFE_INTEGER&&(t=BigInt(s)*BigInt(b)),t=Gp(w,S,r,null,x,t),fr(T(),[t],k())}),0,null,i,C,h,f(),d,"",null,null,bo,o,0<d.length)).codecs=t.J.codecs,c.mimeType=t.J.mimeType,c.bandwidth=t.bandwidth,c.j=a,c}function d(){var e=[Math.max(p.qb(),h),Math.min(p.Zb(),f())].map((function(e){return e-h}));return e=[Math.ceil(e[0]/m),Math.ceil(e[1]/m)-1],t.J.Wa&&e[1]++,e.map((function(e){return e+y}))}function f(){var e=null!=g&&a[g]||v;return e?h+e:1/0}var p=t.presentationTimeline,h=t.ia.start,g=t.oa.id,v=t.ia.duration,m=n.Qa,y=n.yd,b=n.timescale,w=n.cc,x=t.bandwidth||null,S=t.J.id,T=t.J.Oa,k=t.ob,C=h-n.Qb,A=d();r=t.xb?Math.max(A[0],A[1]-r+1):A[0],s=s||A[1],A=[];for(var E=r;E<=s;++E){var I=l(E);A.push(I)}var M=new Qs(A);if(A=p.Zb()<f(),E=p.U(),A||E){var _=Math.max(r,s+1);r=m,t.J.Wa&&(r=.1),M.ue(r,(function(){var e=p.qb();M.Ia(e);var t=c(d());t.next(),t=t.next().value;for(var n=[];_<=t;){var r=l(_);n.push(r),_++}return e>f()&&!n.length?null:n}))}return Promise.resolve(M)}(p,f,a,d,o,s,u,t.J.oe)}};var h=null;i=i=null,t.oa.id&&t.J.id&&(i=r[i=t.oa.id+","+t.J.id])&&(h=i.segmentIndex);var g=t.ia.start,v=t.ia.duration?g+t.ia.duration:1/0,m=!(t.xb&&t.ia.vf);return h?(vh(r=h,f,g,v,m,d),r.Ia(t.presentationTimeline.qb())):h=new gh(f,t.J.id,t.bandwidth,t.J.Oa,t.ob,g,v,d,m,s,t.J.oe),f.timeline&&"image"!==t.ga.contentType&&"text"!==t.ga.contentType&&t.presentationTimeline.Rg(f.timeline,g),i&&t.xb&&(i.segmentIndex=h),{nc:function(){return h instanceof gh&&0==h.getNumReferences()&&vh(h,f,g,v,m,d),Promise.resolve(h)}}}function hh(e){return e.ec}function gh(e,t,n,r,i,a,o,s,u,c,l){Qs.call(this,[]),this.h=e,this.F=t,this.B=n,this.C=r,this.H=i,this.j=a,this.l=o,this.s=s,this.A=c,this.G=l,u&&mh(this)}function vh(e,t,n,r,i,a){if(function(e,t){if(e.s!==t){e.s=t;for(var n=(e=c(e.g)).next();!n.done;n=e.next())(n=n.value)&&yo(n,t)}}(e,a),e.h){if(n=e.h.timeline,e.h.cc!==t.cc&&(e.h.cc=t.cc),n.length){var o=n[n.length-1];t=t.timeline.filter((function(e){return e.end>o.end}))}else t=t.timeline.slice();0<t.length&&e.h.timeline.push.apply(e.h.timeline,l(t)),e.l!==r&&(e.l=r)}else e.h=t,e.j=n,e.l=r;i&&mh(e)}function mh(e){if(!e.o){for(var t=e.h.timeline;t.length&&t[t.length-1].start>=e.l;)t.pop();e.Ia(e.j)}}function yh(e,t,n,r,i,a,o,s){return e=Gp(e,t,n,a,r||null,i),fr(o(),[e],s()).map((function(e){return e.toString()}))}function bh(e){this.o=null,this.A=e,this.G=new ea,this.i=[],this.h=null,this.m=[],this.B=null,this.F=[],this.C=300,this.l=new Map,this.j=new Map,this.g=null,this.s="UNKNOWN"}function wh(e,t){var n,r,i,a,o,s,u;return D((function(c){return 1==c.g?(n=fr(e.i,[xh(e,t)]),r=aa(n,e.o.retryParameters),i=e.A.networkingEngine.request(8,r),ta(e.G,i),S(c,2),w(c,i.promise,4)):2!=c.g?(a=c.h,o=ft(a.data),1==(s=JSON.parse(o)).VERSION&&function(e,t,n){null!=e.g&&(e.g.stop(),e.g=null);var r=t["RELOAD-URI"]||n;e.g=new Be((function(){wh(e,r)})),(n=t.TTL)&&(e.C=n),e.g.Z(e.C),e.m=t["PATHWAY-PRIORITY"]||[],e.F=t["PATHWAY-CLONES"]||[]}(e,s,a.uri),k(c,0)):(u=C(c))&&7001==u.code?c.return():(null!=e.g&&(e.g.stop(),e.g=null),e.g=new Be((function(){wh(e,t)})),e.g.Z(e.C),void x(c))}))}function xh(e,t){if(!e.m.length)return t;t=new zn(t);var n=e.B||e.m[0],r=Math.round(e.A.getBandwidthEstimate()),i=t.g;return"DASH"==e.s?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):"HLS"==e.s&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),ir(i)&&Gn(t,i),t.toString()}function Sh(e,t,n,r){var i=e.l.get(t);i||(i=new Map),i.set(n,r),e.l.set(t,i)}function Th(e,t,n){n=void 0!==n&&n,t=e.l.get(t)||new Map;for(var r=[],i=c(e.m),a=i.next(),o={};!a.done;o={Rc:void 0},a=i.next())if(o.Rc=a.value,a=t.get(o.Rc))r.push({If:o.Rc,location:a});else if(a=e.F.find(function(e){return function(t){return t.Aj==e.Rc}}(o))){var s=t.get(a["BASE-ID"]);s&&(a["URI-REPLACEMENT"].uh?(qn(s=new zn(s),a["URI-REPLACEMENT"].uh),r.push({If:o.Rc,location:s.toString()})):r.push({If:o.Rc,location:s}))}for(i=Date.now(),a=(o=c(e.j.keys())).next();!a.done;a=o.next())a=a.value,i>(s=e.j.get(a))&&e.j.delete(a);if(r=r.filter((function(t){for(var n=c(e.j.keys()),r=n.next();!r.done;r=n.next())if(r.value.includes(new zn(t.location).Fb))return!1;return!0})),r.length&&(e.B=r[0].If),r=r.map((function(e){return e.location})),!r.length&&e.h)for(o=(i=c(e.h.split(","))).next();!o.done;o=i.next())(o=t.get(o.value))&&(e.B=e.h,r.push(o));if(!r.length)for(i=(t=c(t.values())).next();!i.done;i=t.next())r.push(i.value);return n?r:fr(e.i,r)}function kh(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.s=this.o=!1,this.m=new Set}function Ch(e,t){for(var n=[],r=[],i=[],a=[],o=(e=c(e)).next();!o.done;o=e.next()){var s=o.value;o=new Map(s.audioStreams.map((function(e){return[Jh(e),e]})));var u=new Map(s.videoStreams.map((function(e){return[Yh(e),e]}))),l=new Map(s.textStreams.map((function(e){return[Zh(e),e]})));if(s=new Map(s.imageStreams.map((function(e){return[Qh(e),e]}))),t){var d=Kh(yr);l.set(Zh(d),d),d=Kh("image"),s.set(Qh(d),d)}n.push(o),r.push(u),i.push(l),a.push(s)}return{lg:n,sh:r,oh:i,Hg:a}}function Ah(e){var t,n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,x,S,T,k,C,A,E,I,M,_,P;return D((function(D){switch(D.g){case 1:if(t=br,1==e.length)return D.return(e[0]);for(n=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.Y})).map((function(e){return[Jh(e),e]})))})),r=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.la})).map((function(e){return[Yh(e),e]})))})),i=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.wa})).map((function(e){return[Zh(e),e]})))})),a=e.map((function(e){return new Map(e.filter((function(e){return e.type===t.Ie})).map((function(e){return[Qh(e),e]})))})),o=c(i),s=o.next();!s.done;s=o.next())u=s.value,l=qh(t.wa),u.set(Zh(l),l);for(d=c(a),f=d.next();!f.done;f=d.next())p=f.value,h=qh(t.Ie),p.set(Qh(h),h);return w(D,Eh(g=new kh,[],n,0,Dh,Rh,0),2);case 2:return v=D.h,w(D,Eh(g,[],r,0,Dh,Rh,0),3);case 3:return m=D.h,w(D,Eh(g,[],i,0,Dh,Rh,0),4);case 4:return y=D.h,w(D,Eh(g,[],a,0,Dh,Rh,0),5);case 5:if(b=D.h,x=0,m.length&&v.length)for(C=c(v),A=C.next();!A.done;A=C.next())for(E=A.value,I=c(m),M=I.next();!M.done;M=I.next())_=M.value,P=x++,_.variantIds.push(P),E.variantIds.push(P);else for(S=m.concat(v),T=c(S),k=T.next();!k.done;k=T.next())k.value.variantIds=[x++];return D.return(m.concat(v).concat(y).concat(b))}}))}function Eh(e,t,n,r,i,a,o){var s,u,l,d,f,p,h,g,v,m,y,b,x,S,T,k,C,A;return D((function(E){switch(E.g){case 1:for(s=[],u=0;u<n.length;u++)u>=r?s.push(new Set(n[u].values())):s.push(new Set);l=c(t),d=l.next();case 2:if(d.done){E.u(4);break}return f=d.value,w(E,function(e,t,n,r,i,a,o){return D((function(s){return 1==s.g?(Nh(e,n,t,0<o),t.matchedStreams?t.segmentIndex?w(s,Ih(t,r+o),2):s.u(2):s.return(!1)):(_h(t,r,i,a,o),s.return(!0))}))}(e,f,n,r,a,s,o),5);case 5:if(!E.h)throw new Pe(2,4,4037);d=l.next(),E.u(2);break;case 4:for(p=c(s),h=p.next();!h.done;h=p.next())for(g=h.value,v=c(g),m=v.next();!m.done;m=v.next())y=m.value,(b=Mh(e,y,n,i,a,s))&&t.push(b);for(x=c(s),S=x.next();!S.done;S=x.next())for(T=S.value,k=c(T),C=k.next(),A={};!C.done;A={Xf:void 0},C=k.next())if(A.Xf=C.value,!Wh(A.Xf)&&t.some(function(t){return function(n){return jh(e,t.Xf,n)}}(A)))throw new Pe(2,4,4037);return E.return(t)}}))}function Ih(e,t){var n,r,i,a,o,s;return D((function(u){if(1==u.g){for(n=[],r=e.matchedStreams,i=t;i<r.length;i++)a=r[i],n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex());return w(u,Promise.all(n),2)}if(e.segmentIndex instanceof ru)for(o=t;o<r.length;o++)(s=r[o]).segmentIndex&&e.segmentIndex.h.push(s.segmentIndex);x(u)}))}function Mh(e,t,n,r,i,a){if(Wh(t))return null;var o=r(t);return Nh(e,n,o),o.createSegmentIndex&&(o.createSegmentIndex=function(){return D((function(e){return o.segmentIndex?e.u(0):(o.segmentIndex=new ru,w(e,Ih(o,0),0))}))}),o.matchedStreams&&o.matchedStreams.length?(_h(o,0,i,a,0),o):null}function _h(e,t,n,r,i){var a=e.matchedStreams;for(t+=i;t<a.length;t++){var o=a[t];n(e,o);var s=!0;if("audio"==e.type&&0==Wr(e.language,o.language)&&(s=!1),s&&(r[t-i].delete(o),o.fullMimeTypes))for(s=(o=c(o.fullMimeTypes.values())).next();!s.done;s=o.next())e.fullMimeTypes.add(s.value)}}function Ph(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var e=c(t.matchedStreams),n=e.next();!n.done;n=e.next())(n=n.value).segmentIndex&&(n.segmentIndex.release(),n.segmentIndex=null)},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t}function Dh(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set,t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function Lh(e,t){function n(e,t){e||(e=[]);for(var n=(t=c(t)).next();!n.done;n=t.next())n=n.value,e.includes(n)||e.push(n);return e}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var r=c(t.keyIds),i=r.next();!i.done;i=r.next())e.keyIds.add(i.value);if(null==e.originalId?e.originalId=t.originalId:(r=t.originalId||"")&&!e.originalId.endsWith(r)&&(e.originalId+=","+r),r=Ne(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!r.length)throw new Pe(2,4,4038);if(e.drmInfos=r,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),i=(r=c(t.closedCaptions)).next();!i.done;i=r.next()){var a=c(i.value);i=a.next().value,a=a.next().value,e.closedCaptions.set(i,a)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Ph(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var t=new ru,n=c(e.trickModeVideo.matchedStreams),r=n.next();!r.done;r=n.next())t.h.push(r.value.segmentIndex);return e.trickModeVideo.segmentIndex=t,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),Lh(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),Lh(e.trickModeVideo,t))}function Rh(e,t){var n=e.roles;n||(n=[]);for(var r=c(t.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(e.roles=n,r=(n=c(t.keyIds)).next();!r.done;r=n.next())e.keyIds.add(r.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,l(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),n=(t=c(t.closedCaptions)).next();!n.done;n=t.next())n=(r=c(n.value)).next().value,r=r.next().value,e.closedCaptions.set(n,r)}function Nh(e,t,n,r){r=void 0!==r&&r?n.matchedStreams:[];for(var i=(t=c(t)).next();!i.done;i=t.next()){if(!(i=Oh(e,i.value,n)))return;r.push(i)}n.matchedStreams=r}function Oh(e,t,n){var r={audio:Jh,video:Yh,text:Zh,image:Qh}[n.type],i=null,a=r(n);if(t.has(a))i=t.get(a);else{a={audio:function(t,n){return jh(e,t,n)},video:function(t,n){return jh(e,t,n)},text:Fh,image:Bh}[n.type];for(var o={audio:Vh,video:$h,text:zh,image:Hh}[n.type],s=c(t.values()),u=s.next();!u.done;u=s.next())!a(n,u=u.value)||n.fastSwitching!=u.fastSwitching||i&&!o(n,i,u)||(i=u)}return e.s&&!Wh(i)&&t.delete(r(i)),i}function Uh(e,t){return e.mimeType==t.mimeType&&eg(e.codecs)===eg(t.codecs)}function jh(e,t,n){return!(!Uh(t,n)&&!e.o||t.drmInfos&&!Re(t.drmInfos,n.drmInfos))}function Fh(e,t){return!t.language||e.forced===t.forced&&0!=Wr(e.language,t.language)&&t.kind==e.kind}function Bh(){return!0}function Vh(e,t,n){var r=Uh(e,t),i=Uh(e,n);if(r&&!i)return!1;if(!r&&i)return!0;if(r=Wr(e.language,t.language),(i=Wr(e.language,n.language))>r)return!0;if(i<r)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&((r=Gh(e.channelsCount,t.channelsCount,n.channelsCount))==tg||r!=rg&&((r=Gh(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==tg||r!=rg&&!(!e.bandwidth||Xh(e.bandwidth,t.bandwidth,n.bandwidth)!=tg)))}function $h(e,t,n){var r=Uh(e,t),i=Uh(e,n);if(r&&!i)return!1;if(!r&&i)return!0;if((r=Gh(e.width*e.height,t.width*t.height,n.width*n.height))==tg)return!0;if(r==rg)return!1;if(e.frameRate){if((r=Gh(e.frameRate,t.frameRate,n.frameRate))==tg)return!0;if(r==rg)return!1}return!(!e.bandwidth||Xh(e.bandwidth,t.bandwidth,n.bandwidth)!=tg)}function zh(e,t,n){var r=Wr(e.language,t.language),i=Wr(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function Hh(e,t,n){return Gh(e.width*e.height,t.width*t.height,n.width*n.height)==tg}function qh(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function Kh(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Qs([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1}}function Gh(e,t,n){if(t==e&&e!=n)return rg;if(n==e&&e!=t)return tg;if(t>e){if(n<=e||n-e<t-e)return tg;if(n-e>t-e)return rg}else{if(n>e)return rg;if(e-n<e-t)return tg;if(e-n>e-t)return rg}return ng}function Xh(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?tg:t<e?rg:ng}function Wh(e){switch(e.type){case yr:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function Yh(e){return JSON.stringify([e.fastSwitching,e.width,e.frameRate,eg(e.codecs),e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth])}function Jh(e){return JSON.stringify([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,eg(e.codecs),e.mimeType,e.roles,e.audioSamplingRate,e.primary])}function Zh(e){return JSON.stringify([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Qh(e){return JSON.stringify([e.width,e.codecs,e.mimeType])}function eg(e){if(!ig.has(e)){var t=Ir(e);ig.set(e,t)}return ig.get(e)}v(gh,Qs),(r=gh.prototype).getNumReferences=function(){return this.h?this.h.timeline.length:0},r.release=function(){Qs.prototype.release.call(this),this.h=null},r.Ia=function(e){if(this.h){for(var t=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=e;r+=1)t+=1;0<t&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,0===this.getNumReferences()&&this.release())}},r.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,r=0;r<t.length;r++){var i=t[r],a=i.start+this.j;if(i=r<n?t[r+1].start+this.j:1/0===this.l?i.end+this.j:this.l,e>=a&&e<i)return r+this.i}return null},r.get=function(e){var t=this;if(0>(e-=this.i)||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var r=this.h.timeline[e],i=r.Wi,a=this.h.dg+r.eg;n=this.j-this.h.Qb;var o=this.j+r.end,s=o;e===this.getNumReferences()-1&&1/0!==this.l&&(s=this.l);for(var u=this.h.codecs,c=this.h.mimeType,l=this.h.bandwidth,d=[],f=(r.end-r.start)/r.Cb,p={},h=0;h<r.Cb;p={we:void 0,nh:void 0},h++){var g=r.start+f*h,v=g+f;p.nh=h+1,p.we=null,(p=new mo(this.j+g,this.j+v,function(e){return function(){return t.h?(null==e.we&&(e.we=yh(t.h.cc,t.F,i,t.B,a,e.nh,t.C,t.H)),e.we):[]}}(p),0,null,this.s,n,this.j,this.l,[],"",null,null,bo,this.A)).codecs=u,p.mimeType=c,p.bandwidth=l,0==this.G?0<h&&p.Nc():0!=h%this.G&&p.Nc(),d.push(p)}(n=new mo(this.j+r.start,s,(function(){return 0<r.Cb||!t.h?[]:yh(t.h.cc,t.F,i,t.B,a,null,t.C,t.H)}),0,null,this.s,n,this.j,this.l,d,"",null,null,bo,this.A,0<r.Cb)).codecs=u,n.mimeType=c,n.j=o,n.bandwidth=l,this.g[e]=n}return n},r.yb=function(e){mh(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}},bh.prototype.configure=function(e){this.o=e},bh.prototype.destroy=function(){return this.A=this.o=null,this.i=[],this.h=null,this.m=[],this.F=[],this.l.clear(),null!=this.g&&(this.g.stop(),this.g=null),this.G.destroy()},bh.prototype.setManifestType=function(e){this.s=e},bh.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)},(r=kh.prototype).release=function(){for(var e=c(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.s=this.o=!1,this.m.clear()},r.ii=function(){return this.l},r.nf=function(){return this.j.slice()},r.Rh=function(){return this.i},r.sg=function(e,t){if(e){if("audio"==e.type)for(var n=c(this.h),r=n.next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));else if("video"==e.type)for(r=(n=c(this.g)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e})),r.trickModeVideo&&(r.trickModeVideo.matchedStreams=r.trickModeVideo.matchedStreams.filter((function(t){return t!==e})));else if(e.type==yr)for(r=(n=c(this.j)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));else if("image"==e.type)for(r=(n=c(this.i)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(t){return t!==e}));e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}},r.Oe=function(e,t,n){n=void 0!==n&&n;var r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,S,T,k,C,A,E,I,M,_,P,L,R,N,O,U=this;return D((function(D){if(1==D.g){if(r=br,!t&&1==e.length)return i=Ch(e,!1),a=i.lg,o=i.sh,s=i.oh,u=i.Hg,U.h=Array.from(a[0].values()),U.g=Array.from(o[0].values()),U.j=Array.from(s[0].values()),U.i=Array.from(u[0].values()),D.u(2);for(l=n?U.m.size:0,d=-1,f=0;f<e.length;f++)p=e[f],U.m.has(p.id)||(U.m.add(p.id),-1==d&&(d=f));return-1==d?D.return():(h=Ch(e,!0),g=h.lg,v=h.sh,m=h.oh,y=h.Hg,w(D,Promise.all([Eh(U,U.h,g,d,Ph,Lh,l),Eh(U,U.g,v,d,Ph,Lh,l),Eh(U,U.j,m,d,Ph,Lh,l),Eh(U,U.i,y,d,Ph,Lh,l)]),2))}if(b=0,S=[],U.g.length&&U.h.length)for(I=c(U.h),M=I.next();!M.done;M=I.next())for(_=M.value,P=c(U.g),L=P.next();!L.done;L=P.next())R=L.value,N=Ne(_.drmInfos,R.drmInfos),_.drmInfos.length&&R.drmInfos.length&&!N.length||(O=b++,S.push({id:O,language:_.language,disabledUntilTime:0,primary:_.primary,audio:_,video:R,bandwidth:(_.bandwidth||0)+(R.bandwidth||0),drmInfos:N,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(T=U.g.length?U.g:U.h,k=c(T),C=k.next();!C.done;C=k.next())A=C.value,E=b++,S.push({id:E,language:A.language,disabledUntilTime:0,primary:A.primary,audio:A.type==r.Y?A:null,video:A.type==r.la?A:null,bandwidth:A.bandwidth||0,drmInfos:A.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});U.l=S,x(D)}))},r.bh=function(e){this.o=e},r.ih=function(e){this.s=e},B("shaka.util.PeriodCombiner",kh),kh.prototype.setUseStreamOnce=kh.prototype.ih,kh.prototype.setAllowMultiTypeVariants=kh.prototype.bh,kh.prototype.combinePeriods=kh.prototype.Oe,kh.prototype.deleteStream=kh.prototype.sg,kh.prototype.getImageStreams=kh.prototype.Rh,kh.prototype.getTextStreams=kh.prototype.nf,kh.prototype.getVariants=kh.prototype.ii;var tg=1,ng=0,rg=-1,ig=new Map;function ag(e,t){try{return function(e,t){var n=new DOMParser,r=og.value()(e);e=null;try{e=n.parseFromString(r,"text/xml")}catch(e){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}(ht(e),t)}catch(e){return null}}var og=new Le((function(){if("undefined"!=typeof trustedTypes){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}});return function(t){return e.createHTML(t)}}return function(e){return e}}));function sg(){var e=this;this.j=this.g=null,this.A=[],this.i=null,this.qa=1,this.F=[],this.l={be:"",type:"",profiles:[],Nb:null,Wa:0,Oa:null,wd:0},this.s=new Map,this.o={},this.B={},this.ka={},this.m=new kh,this.K=0,this.na=new z(5),this.L=new Be((function(){e.I&&!e.g.continueLoadingWhenPaused&&(e.G.cb(e.I,"timeupdate"),e.I.paused)?e.G.va(e.I,"timeupdate",(function(){return xg(e)})):xg(e)})),this.S=new ea,this.O=null,this.C=[],this.da=1/0,this.H=!1,this.h=null,this.M=0,this.ja=!1,this.G=new Q,this.I=null,this.V=!1,this.aa="",this.fa=function(){return!1},this.$=[]}function ug(e){var t,n,r,i,a,o,s,u,d,f,p;return D((function(h){return 1==h.g?(t=4,n="MPD",r=function(e){var t=e.l.wd;if(!e.l.be||!t||!e.F.length)return[];var n=Date.now()/1e3,r=e.F.filter((function(e){return!(e=Wt(e.attributes.ttl))||t+e>n})).map(Ot).filter(zr);return r.length?fr(e.A,r):[]}(e),i=e.A,r.length?(i=r,n="Patch",t=6):1<e.A.length&&e.h&&(a=Th(e.h,"Location",!0)).length&&(i=a),o=aa(i,e.g.retryParameters),s=Date.now(),w(h,Ig(e,o,0,{type:t}),2)):3!=h.g?(u=h.h,e.j?(u.uri&&u.uri!=u.originalUri&&!e.A.includes(u.uri)&&e.A.unshift(u.uri),d=new zn(u.uri),e.aa=d.g.toString(),w(h,function(e,t,n,r){var i,a,o,s,u,d,f,p;return D((function(h){if(1==h.g){if(i=t,(a=e.g.dash.manifestPreprocessor)!=dc){if(oe("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),!(o=ag(i,r)))throw new Pe(2,4,4001,n);a(o),i=gt(o.outerHTML)}if(!(s=Mt(i,r)))throw new Pe(2,4,4001,n);return(u=e.g.dash.manifestPreprocessorTXml)!=fc&&u(s),"Patch"===r?h.return(function(e,t){var n,r,i,a,o,s,u,d,f,p,h,g,v,m,y,b,S,T,k,C,A,E,I,M;return D((function(_){if(1==_.g){if(n=t.attributes.mpdId,r=Bt(t,"originalPublishTime",Ht),!n||n!==e.l.be||r!==e.l.wd)throw e.F=[],new Pe(1,4,4052);for(i=[],a=[],o=new Set,s=c(Lt(t)),u=s.next();!u.done;u=s.next())if(d=u.value,f=Qt(d.attributes.sel||""),p=f[f.length-1],h=Ot(d)||"","MPD"===p.name)if("mediaPresentationDuration"===p.Vb){var P=qt(Ot(d)||"");if(null!=P){e.l.Nb=P;for(var D=c(e.s.values()),L=D.next();!L.done;L=D.next())L.value.Nb=P}}else if("type"===p.Vb){for(e.i.presentationTimeline.zc("static"==h),e.l.type=h,D=(P=c(e.s.values())).next();!D.done;D=P.next())D.value.xb="dynamic"==h;"static"==h&&(e.K=-1)}else"publishTime"===p.Vb?e.l.wd=Ht(h)||0:null===p.Vb&&"add"===d.tagName&&a.push(d);else if("PatchLocation"===p.name)en(e.F,d);else if("Period"===p.name)"add"===d.tagName?a.push(d):"remove"===d.tagName&&p.id&&fg(e,p.id);else if("SegmentTemplate"===p.name){if((P=(D=Qt(d.attributes.sel||""))[D.length-1]).Vb){D=pg(e,D),L=Ot(d)||"";for(var R=c(D),N=R.next();!N.done;N=R.next())nn((N=e.s.get(N.value)).J.ec,d.tagName,P.Vb,L);P=D}else P=[];for(g=c(P),v=g.next();!v.done;v=g.next())m=v.value,o.add(m)}else if("SegmentTimeline"===p.name||"S"===p.name){for(P=Qt(d.attributes.sel||""),L=(D=c(P=pg(e,P))).next();!L.done;L=D.next())en(R=Rt(L=Jp(L=e.s.get(L.value),hh,"SegmentTimeline"),"S"),d),L.children=R;for(y=c(P),b=y.next();!b.done;b=y.next())S=b.value,o.add(S)}for(T=c(o),k=T.next();!k.done;k=T.next())C=k.value,hg(e,C);for(A=c(a),E=A.next();!E.done;E=A.next())I=E.value,i.push.apply(i,l(dg(e,I)));return i.length?(e.i.periodCount+=i.length,e.i.gapCount=e.M,w(_,lg(e,i,!0),2)):_.u(2)}"static"==e.l.type&&(M=e.l.Nb,e.i.presentationTimeline.bb(M||1/0)),x(_)}))}(e,s)):e.g.dash.disableXlinkProcessing?h.return(cg(e,s,n)):(d=e.g.dash.xlinkFailGracefully,f=Zp(s,e.g.retryParameters,d,n,e.j.networkingEngine),ta(e.S,f),w(h,f.promise,2))}return p=h.h,h.return(cg(e,p,n))}))}(e,u.data,u.uri,n),3)):h.return(0)):(f=Date.now(),p=(f-s)/1e3,e.na.sample(1,p),h.return(p))}))}function cg(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,T,A,E,I,M,_,P,L,R,N,O,U,j,F,B,V,$,z,H,q,K,G,W,Y,J,Z,Q,ee,te,ne,re,ie,ae,oe,se;return D((function(ue){switch(ue.g){case 1:for(e.h&&e.h.l.clear(),r=[n],i=[],a=new Map,o=Rt(t,"Location"),s=c(o),u=s.next();!u.done;u=s.next())l=u.value,d=l.attributes.serviceLocation,(f=Ot(l))&&(p=fr(r,[f])[0],d&&(e.h?Sh(e.h,"Location",d,p):a.set(d,p)),i.push(p));if(e.h?0<(h=Th(e.h,"Location",!0)).length&&(r=e.A=h):i.length&&(r=e.A=i),e.l.be=t.attributes.id||"",e.l.wd=Bt(t,"publishTime",Ht)||0,e.F=Rt(t,"PatchLocation"),g=Promise.resolve(),(v=jt(t,"ContentSteering"))&&e.j)for(m=v.attributes.defaultServiceLocation,e.h?(e.h.i=r,e.h.h=m):(e.h=new bh(e.j),e.h.configure(e.g),e.h.setManifestType("DASH"),e.h.i=r,e.h.h=m,(y=Ot(v))&&(Bt(v,"queryBeforeStart",Jt,!1)?g=wh(e.h,y):wh(e.h,y))),b=c(a.keys()),T=b.next();!T.done;T=b.next())A=T.value,E=a.get(A),Sh(e.h,"Location",A,E);if(I=Rt(t,"BaseURL"),M=!1,e.h)for(_=c(I),P=_.next();!P.done;P=_.next())L=P.value,R=L.attributes.serviceLocation,N=Ot(L),R&&N&&(Sh(e.h,"BaseURL",R,N),M=!0);if(e.$=null,M&&e.h||(O=I.map(Ot),e.$=fr(r,O)),U=function(){return e.h&&M?Th(e.h,"BaseURL"):e.$?e.$:[]},e.l.Oa=U,j=0,I&&I.length&&(j=Bt(I[0],"availabilityTimeOffset",Yt)||0),e.l.Wa=j,F=e.g.dash.ignoreMinBufferTime,B=0,F||(B=Bt(t,"minBufferTime",qt)||0),e.K=Bt(t,"minimumUpdatePeriod",qt,-1),V=Bt(t,"availabilityStartTime",Ht),$=Bt(t,"timeShiftBufferDepth",qt),z=e.g.dash.ignoreSuggestedPresentationDelay,H=null,z||(H=Bt(t,"suggestedPresentationDelay",qt)),q=e.g.dash.ignoreMaxSegmentDuration,K=null,q||(K=Bt(t,"maxSegmentDuration",qt)),G=t.attributes.type||"static",e.i&&e.i.presentationTimeline&&(e.V=e.i.presentationTimeline.U()&&"static"==G),e.l.type=G,e.i)for(W=e.i.presentationTimeline,Y=c(Object.values(e.o)),J=Y.next();!J.done;J=Y.next())(Z=J.value).segmentIndex&&Z.segmentIndex.Ia(W.qb());else Q=e.g.defaultPresentationDelay||1.5*B,W=new Ls(V,null!=H?H:Q,e.g.dash.autoCorrectDrift);return W.zc("static"==G),W.U()&&!isNaN(e.g.availabilityWindowOverride)&&($=e.g.availabilityWindowOverride),null==$&&($=1/0),W.pe($),ee=t.attributes.profiles||"",e.l.profiles=ee.split(","),te={xb:"static"!=G,presentationTimeline:W,oa:null,ia:null,ga:null,J:null,bandwidth:0,qf:!1,Wa:j,Nb:null,profiles:ee.split(","),roles:null,ob:function(){return""}},e.M=0,ne=mg(e,te,U,t,!1),re=ne.duration,ie=ne.periods,("static"!=G||e.V)&&ne.ug||W.bb(re||1/0),e.ja&&!e.H&&e.j.isAutoLowLatencyMode()&&(e.j.enableLowLatencyMode(),e.H=e.j.isLowLatencyMode()),e.H&&W.dh(e.da),W.Cf(K||1),w(ue,g,2);case 2:return e.H&&(B=0,ae=null!=H?H:e.g.defaultPresentationDelay,W.Tf(ae)),e.i?(e.i.periodCount=ie.length,e.i.gapCount=e.M,w(ue,lg(e,ie,!1),4)):w(ue,e.m.Oe(ie,te.xb),6);case 6:if(e.i={presentationTimeline:W,variants:e.m.l,textStreams:e.m.nf(),imageStreams:e.m.i,offlineSessionIds:[],minBufferTime:B||0,sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:gg(t),nextUrl:vg(t),periodCount:ie.length,gapCount:e.M,isLowLatency:e.ja,startTime:null},!W.qh()){ue.u(7);break}return oe=Rt(t,"UTCTiming"),w(ue,function(e,t,n){var r,i,a,o,s,u,l,d;return D((function(f){switch(f.g){case 1:r=n.map((function(e){return{scheme:e.attributes.schemeIdUri,value:e.attributes.value}})),i=e.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=c(r),o=a.next();case 2:if(o.done){f.u(4);break}switch(s=o.value,S(f,5),u=s.scheme,l=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.u(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.u(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(l),f.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":X("NTP UTCTiming scheme is not supported");break;default:X("Unrecognized scheme in UTCTiming element",u)}f.u(9);break;case 7:return w(f,kg(e,t,l,"HEAD"),10);case 10:return f.return(f.h);case 8:return w(f,kg(e,t,l,"GET"),11);case 11:return f.return(f.h);case 9:k(f,3);break;case 5:C(f);case 3:o=a.next(),f.u(2);break;case 4:return X("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))}(e,U,oe),8);case 8:if(se=ue.h,!e.j)return ue.return();W.eh(se);case 7:W.Yd();case 4:e.j.makeTextStreamsForClosedCaptions(e.i),function(e){for(var t=Object.keys(e.B).filter((function(t){return!e.C.includes(t)})),n=(t=c(t)).next();!n.done;n=t.next()){n=n.value;for(var r=!0,i=c(e.B[n]),a=i.next();!a.done;a=i.next()){a=a.value;var o=e.o[a];o.segmentIndex&&0!=o.segmentIndex.getNumReferences()?r=!1:(e.m&&e.m.sg(e.o[a],n),delete e.o[a])}r&&delete e.B[n]}}(e),x(ue)}}))}function lg(e,t,n){var r;return D((function(i){if(1==i.g)return w(i,e.m.Oe(t,!0,n),2);e.i.variants=e.m.l,0<(r=e.m.nf()).length&&(e.i.textStreams=r),e.i.imageStreams=e.m.i,e.j.filter(e.i),x(i)}))}function dg(e,t){return mg(e,{xb:"dynamic"==e.l.type,presentationTimeline:e.i.presentationTimeline,oa:null,ia:null,ga:null,J:null,bandwidth:0,qf:!1,Wa:e.l.Wa,profiles:e.l.profiles,Nb:e.l.Nb,roles:null,ob:function(){return""}},e.l.Oa,t,!0).periods}function fg(e,t){e.i.periodCount--;for(var n=c(e.s.keys()),r=n.next();!r.done;r=n.next())(r=r.value).startsWith(t)&&(Jp(e.s.get(r),hh,"SegmentTimeline").children=[],hg(e,r),e.s.delete(r));e.C=e.C.filter((function(e){return e!==t}))}function pg(e,t){for(var n="",r="",i=-1,a="",o=(t=c(t)).next();!o.done;o=t.next())"Period"===(o=o.value).name?n=o.id:"AdaptationSet"===o.name?(r=o.id,null!==o.position&&(i=o.position)):"Representation"===o.name&&(a=o.id);if(t=[],a)t.push(n+","+a);else if(r)for(i=c(e.s.values()),e=i.next();!e.done;e=i.next())(e=e.value).oa.id===n&&e.ga.id===r&&e.J.id&&t.push(n+","+e.J.id);else if(-1<i)for(r=c(e.s.values()),e=r.next();!e.done;e=r.next())(e=e.value).oa.id===n&&e.ga.position===i&&e.J.id&&t.push(n+","+e.J.id);return t}function hg(e,t){var n=e.s.get(t),r=e.o[t];r.segmentIndex&&r.segmentIndex.Ia(e.i.presentationTimeline.qb());try{var i=ph(n,(function(t,n,r,i){return Ag(e,t,n,r,i)}),e.o,!0,e.g.dash.initialSegmentLimit,e.ka,n.J.aesKey,null,!0);r.createSegmentIndex=function(){return D((function(e){if(1==e.g)return r.segmentIndex?e.u(0):w(e,i.nc(),3);r.segmentIndex=e.h,x(e)}))}}catch(e){if((t=n.J.contentType)!=yr&&"application"!=t&&"image"!=t||4002!=e.code)throw e}}function gg(e){var t=jt(e,"ServiceDescription");if(!t)return null;if(e=jt(t,"Latency"),t=jt(t,"PlaybackRate"),!e&&!t)return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function vg(e){if(!(e=Rt(e,"SupplementalProperty")).length)return null;for(var t=(e=c(e)).next();!t.done;t=e.next())if("urn:mpeg:dash:chaining:2016"==(t=t.value).attributes.schemeIdUri)return t.attributes.value;return null}function mg(e,t,n,r,i){var a=t.Nb;a||(a=Bt(r,"mediaPresentationDuration",qt),e.l.Nb=a);var o=0;e.i&&e.i.presentationTimeline&&e.V&&(o=e.i.presentationTimeline.Kb());var s=[],u=o;r=Rt(r,"Period");for(var l=0;l<r.length;l++){var d=r[l],f=r[l+1],p=Bt(d,"start",qt,u),h=d.attributes.id,g=Bt(d,"duration",qt);p=0==l&&0==p&&e.V?o:p;var v=null;if(f){var m=Bt(f,"start",qt);null!=m&&(v=m-p+o)}else null!=a&&(v=a-p+o);if(m=wr,v&&g&&Math.abs(v-g)>m&&v>g&&e.M++,null==v&&(v=g),!(null!==e.O&&null!==h&&null!==p&&p<e.O)||e.C.includes(h)||l+1==r.length){if(null!==p&&(null===e.O||p>e.O)&&(e.O=p),u=yg(e,t,n,{start:p,duration:v,node:d,vf:null==v||!f}),s.push(u),t.oa.id&&v&&(e.ka[t.oa.id]=v),null==v){u=null;break}u=p+v}}if(i)for(n=(t=c(s)).next();!n.done;n=t.next())n=n.value.id,e.C.includes(n)||e.C.push(n);else e.C=s.map((function(e){return e.id}));return null!=a?{periods:s,duration:a+o,ug:!1}:{periods:s,duration:u,ug:!0}}function yg(t,n,r,i){n.oa=Tg(t,i.node,null,r),n.ia=i,n.oa.Wa=n.Wa,n.oa.id||(n.oa.id="__shaka_period_"+i.start);var a=Rt(i.node,"EventStream");r=n.presentationTimeline.qb();for(var o=(a=c(a)).next();!o.done;o=a.next())Cg(t,i.start,i.duration,o.value,r);for(a=(r=c(r=Rt(i.node,"SupplementalProperty"))).next();!a.done;a=r.next())"urn:mpeg:dash:urlparam:2014"==(a=a.value).attributes.schemeIdUri&&(a=wg(t,a))&&(n.ob=a);if(r=Rt(i.node,"AdaptationSet").map((function(r,i){return function(t,n,r,i){function a(e){var r=e.attributes["dvb:fontFamily"];e=e.attributes["dvb:url"],r&&e&&(e=fr(n.ga.Oa(),[e],n.ob()),t.j.addFont(r,e[0]))}function o(e){switch(e){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function s(e){switch(e){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}n.ga=Tg(t,i,n.oa,null),n.ga.position=r;var u=!1,d=(r=Rt(i,"Role")).map((function(e){return e.attributes.value})).filter(zr),f=void 0,p=n.ga.contentType==yr;p&&(f="subtitle");for(var h=(r=c(r)).next();!h.done;h=r.next()){var g=(h=h.value).attributes.schemeIdUri;if(null==g||"urn:mpeg:dash:role:2011"==g)switch(h=h.attributes.value,h){case"main":u=!0;break;case"caption":case"subtitle":f=h}}var v=Rt(i,"EssentialProperty");r=null;var m=!1;h=null,g=!1;for(var y=(v=c(v)).next();!y.done;y=v.next()){var b=(y=y.value).attributes.schemeIdUri;if("http://dashif.org/guidelines/trickmode"==b)r=y.attributes.value;else if("urn:mpeg:mpegB:cicp:TransferCharacteristics"==b)var S=s(parseInt(y.attributes.value,10));else if("urn:mpeg:mpegB:cicp:ColourPrimaries"==b)var T=o(parseInt(y.attributes.value,10));else"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=b&&("urn:mpeg:dash:ssr:2023"==b&&t.g.dash.enableFastSwitching?m=!0:"urn:dvb:dash:fontdownload:2014"==b?a(y):"urn:mpeg:dash:urlparam:2014"==b&&(h=wg(t,y))||(g=!0))}if(g)return null;var k=null;for(v=(g=c(g=Rt(i,"SupplementalProperty"))).next();!v.done;v=g.next())"http://dashif.org/guidelines/last-segment-number"==(y=(v=v.value).attributes.schemeIdUri)?k=parseInt(v.attributes.value,10)-1:"urn:mpeg:mpegB:cicp:TransferCharacteristics"==y?S=s(parseInt(v.attributes.value,10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"==y?T=o(parseInt(v.attributes.value,10)):"urn:dvb:dash:fontdownload:2014"==y?a(v):"urn:mpeg:dash:urlparam:2014"==y&&(h=wg(t,v));h&&(n.ob=h),h=Rt(i,"Accessibility");var C,A=new Map;for(g=(h=c(h)).next();!g.done;g=h.next())if(g=(v=g.value).attributes.schemeIdUri,v=v.attributes.value,"urn:scte:dash:cc:cea-608:2015"!=g||t.g.disableText)if("urn:scte:dash:cc:cea-708:2015"!=g||t.g.disableText)"urn:mpeg:dash:role:2011"==g?null!=v&&(d.push(v),"captions"==v&&(f="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==g&&("1"==v?C="visually impaired":"2"==v&&(C="hard of hearing"));else if(g=1,null!=v)for(y=(v=c(v.split(";"))).next();!y.done;y=v.next()){b=y.value;var E=y=void 0;b.includes("=")?(y="svc"+(b=b.split("="))[0],E=b[1].split(",")[0].split(":").pop()):(y="svc"+g,g++,E=b),A.set(y,Xr(E))}else A.set("svc1","und");else if(g=1,null!=v)for(b=(y=c(v=v.split(";"))).next();!b.done;b=y.next()){E=b.value;var I=b=void 0;E.includes("=")?(b=(E=E.split("="))[0].startsWith("CC")?E[0]:"CC"+E[0],I=E[1]||"und"):(b="CC"+g,2==v.length?g+=2:g++,I=E),A.set(b,Xr(I))}else A.set("CC1","und");var M=$p(h=Rt(i,"ContentProtection"),t.g.dash.ignoreDrmInfo,t.g.dash.keySystemsByURI),_=Xr(n.ga.language||"und"),P=n.ga.label;if(i=(h=Rt(i,"Representation")).map((function(r){return(r=function(t,n,r,i,a,o,s,u,c,l,d,f){n.J=Tg(t,l,n.ga,null);var p=n.J.id;if(t.da=Math.min(t.da,n.J.Wa),t.ja=0<t.da,!function(e){var t=e.Wc?1:0;return t+=e.Sb?1:0,0==(t+=e.ec?1:0)?e.contentType==yr||"application"==e.contentType:(1!=t&&(e.Wc&&(e.Sb=null),e.ec=null),!0)}(n.J))return null;var h=n.ia.start;n.bandwidth=Bt(l,"bandwidth",Xt)||0,n.roles=u;var g,v,m=Rt(l,"SupplementalProperty"),y=Rt(l,"EssentialProperty"),b=null,S=y.find((function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri}));(S||(S=m.find((function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri}))))&&(b=wg(t,S)),b&&(n.ob=b),b=(S=n.J.contentType)==yr||"application"==S,S="image"==S;try{var T=void 0;if(r.Ke){var k=n.J.Oa,C=n.ob,A=aa(fr(k(),[r.Ke.wi],C()),t.g.retryParameters);T={bitsKey:128,blockCipherMode:"CBC",iv:r.Ke.iv,firstMediaSequenceNumber:0,fetchKey:function(){var n,r,i;return D((function(a){if(1==a.g)return w(a,Ig(t,A,6),2);if(3!=a.g){if(!(n=a.h).data||16!=n.data.byteLength)throw new Pe(2,4,4049);return r={name:"AES-CBC"},i=T,w(a,e.crypto.subtle.importKey("raw",n.data,r,!0,["decrypt"]),3)}i.cryptoKey=a.h,T.fetchKey=void 0,x(a)}))}}}if(n.J.aesKey=T,k=function(e,n,r,i){return Ag(t,e,n,r,i)},n.J.Wc)var E=function(e,t,n){var r=Number(Yp(e,uh,"presentationTimeOffset"))||0,i=Yp(e,uh,"timescale"),a=1;i&&(a=Xt(i)||1);var o=r/a||0,s=oh(e,uh,n);!function(e,t){if(lh(e,t),!ch(e))throw new Pe(2,4,4002)}(e,s);var u=It(e);return{nc:function(){var e=Jp(u,uh,"RepresentationIndex"),n=u.J.Oa();return e&&(e=yt(e.attributes.sourceURL))&&(n=fr(n,[e],u.ob())),e=ch(u),sh(u,t,s,n,e.start,e.end,o)}}}(n,k,T);else if(n.J.Sb)E=function(e,t,n){var r=oh(e,fh,n),i=function(e){var t=function(e){return[e.J.Sb,e.ga.Sb,e.oa.Sb].filter(zr).map((function(e){return Rt(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.attributes.indexRange&&!e.qf&&(e.qf=!0),{Ci:yt(t.attributes.media),start:(t=Bt(t,"mediaRange",Kt,{start:0,end:null})).start,end:t.end}}))}(e),n=(e=Xp(e,fh)).yd;0==n&&(n=1);var r=0;return e.Qa?r=e.Qa*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{Qa:e.Qa,startTime:r,yd:n,Qb:e.Qb,timeline:e.timeline,Pc:t}}(e);if(!i.Qa&&!i.timeline&&1<i.Pc.length)throw new Pe(2,4,4002);if(!i.Qa&&!e.ia.duration&&!i.timeline&&1==i.Pc.length)throw new Pe(2,4,4002);if(i.timeline&&0==i.timeline.length)throw new Pe(2,4,4002);var a=null,o=null;e.oa.id&&e.J.id&&(o=t[e.oa.id+","+e.J.id])&&(a=o.segmentIndex);var s=function(e,t,n,r,i,a,o,s,u,c){var l=r.Pc.length;r.timeline&&r.timeline.length!=r.Pc.length&&(l=Math.min(r.timeline.length,r.Pc.length));for(var d=e-r.Qb,f=t?e+t:1/0,p=[],h=r.startTime,g={},v=0;v<l;g={ve:void 0,ne:void 0},v++){g.ne=r.Pc[v];var m=h;h=void 0,h=null!=r.Qa?m+r.Qa:r.timeline?r.timeline[v].end:m+t,g.ve=null,(g=new mo(e+m,e+h,function(e){return function(){return null==e.ve&&(e.ve=fr(n(),[e.ne.Ci],c())),e.ve}}(g),g.ne.start,g.ne.end,i,d,e,f,[],"",null,null,bo,a)).codecs=s,g.mimeType=o,g.bandwidth=u,p.push(g)}return p}(e.ia.start,e.ia.duration,e.J.Oa,i,r,n,e.J.mimeType,e.J.codecs,e.bandwidth,e.ob);return t=!a,a?a.rd(s,e.presentationTimeline.qb()):a=new Qs(s),e.presentationTimeline.td(s),e.xb&&e.ia.vf||a.Ic(e.ia.start,e.ia.duration?e.ia.start+e.ia.duration:1/0,t),o&&(o.segmentIndex=a),{nc:function(){return a&&0!=a.getNumReferences()||a.$d(s),Promise.resolve(a)}}}(n,t.o,T);else if(n.J.ec)E=ph(n,k,t.o,!!t.i,t.g.dash.initialSegmentLimit,t.ka,T,f,!1);else{var I=n.ia.duration||0,M=n.J.Oa,_=n.J.mimeType,P=n.J.codecs;E={nc:function(){var e=tu(h,I,M());return e.yb((function(e){e.mimeType=_,e.codecs=P})),Promise.resolve(e)}}}}catch(e){if((b||S)&&4002==e.code)return null;throw e}if(l=function(e,t,n,r){var i=$p(e,n,r);if(t.wg)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.wg=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new Pe(2,4,4008);return i.rg||t.rg}(l=Rt(l,"ContentProtection"),r,t.g.dash.ignoreDrmInfo,t.g.dash.keySystemsByURI),l=new Set(l?[l]:[]),f=!1,m.some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.attributes.schemeIdUri&&"JOC"==e.attributes.value}))&&(f=!0),m=!1,b&&(m=u.includes("forced_subtitle")||u.includes("forced-subtitle")),S&&((y=y.find((function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.attributes.schemeIdUri)})))&&(g=y.attributes.value),!g))return null;b=n.J.codecs,n.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(b.includes("hvc1.2.4.L153.B0")||b.includes("hev1.2.4.L153.B0"))&&(v="PQ"),y=n.J.id?n.oa.id+","+n.J.id:"",t.F.length&&p&&t.s.set(n.oa.id+","+p,function(e){function t(e){return e?((e=It(e)).Wc=null,e.Sb=null,e.ec=an(e.ec),e):null}return(e=It(e)).oa=t(e.oa),e.ga=t(e.ga),e.J=t(e.J),e.ia&&(e.ia=It(e.ia),e.ia.node=null),e}(n));var L=y&&t.o[y]?t.o[y]:{id:t.qa++,originalId:n.J.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){L.segmentIndex&&(L.segmentIndex.release(),L.segmentIndex=null)},segmentIndex:null,mimeType:n.J.mimeType,codecs:b,frameRate:n.J.frameRate,pixelAspectRatio:n.J.pixelAspectRatio,bandwidth:n.bandwidth,width:n.J.width,height:n.J.height,kind:i,encrypted:0<r.drmInfos.length,drmInfos:r.drmInfos,keyIds:l,language:a,originalLanguage:n.ga.language,label:o,type:n.ga.contentType,primary:s,trickModeVideo:null,emsgSchemeIdUris:n.J.emsgSchemeIdUris,roles:u,forced:m,channelsCount:n.J.de,audioSamplingRate:n.J.audioSamplingRate,spatialAudio:f,closedCaptions:c,hdr:v,colorGamut:void 0,videoLayout:void 0,tilesLayout:g,accessibilityPurpose:d,external:!1,fastSwitching:!1,fullMimeTypes:new Set([Tr(n.J.mimeType,n.J.codecs)]),isAudioMuxedInVideo:!1};return L.createSegmentIndex=function(){var e;return D((function(t){if(1==t.g)return L.segmentIndex?t.u(0):(e=L,w(t,E.nc(),3));e.segmentIndex=t.h,x(t)}))},y&&n.xb&&!t.o[y]&&(n=n.oa.id||"",t.B[n]||(t.B[n]=[]),t.o[y]=L,t.B[n].push(y)),L}(t,n,M,f,_,P,u,d,A,r,C,k))&&(r.hdr=r.hdr||S,r.colorGamut=r.colorGamut||T,r.fastSwitching=m),r})).filter((function(e){return!!e})),0==i.length){if(r="image"==n.ga.contentType,t.g.dash.ignoreEmptyAdaptationSet||p||r)return null;throw new Pe(2,4,4003)}if(!n.ga.contentType||"application"==n.ga.contentType)for(n.ga.contentType=Eg(i[0].mimeType,i[0].codecs),g=(p=c(i)).next();!g.done;g=p.next())g.value.type=n.ga.contentType;for(p=n.ga.id||"__fake__"+t.qa++,v=(g=c(i)).next();!v.done;v=g.next()){for(v=v.value,b=(y=c(M.drmInfos)).next();!b.done;b=y.next())(b=b.value).keyIds=b.keyIds&&v.keyIds?new Set([].concat(l(b.keyIds),l(v.keyIds))):b.keyIds||v.keyIds;v.groupId=p}return h=h.map((function(e){return e.attributes.id})).filter(zr),{id:p,contentType:n.ga.contentType,language:_,lk:u,streams:i,drmInfos:M.drmInfos,cg:r,Qi:h}}(t,n,i,r)})).filter(zr),n.xb){for(i=[],o=(a=c(r)).next();!o.done;o=a.next())for(var s=(o=c(o.value.Qi)).next();!s.done;s=o.next())i.push(s.value);if(i.length!=new Set(i).size)throw new Pe(2,4,4018)}if(i=r.filter((function(e){return!e.cg})),r=r.filter((function(e){return e.cg})),!t.g.disableIFrames)for(a=(r=c(r)).next();!a.done;a=r.next()){o=(a=a.value).cg.split(" ");for(var u=(s=c(i)).next();!u.done;u=s.next())if(u=u.value,o.includes(u.id))for(var d=(u=c(u.streams)).next();!d.done;d=u.next())Si(d.value,a.streams)}if(r=bg(t.g.disableAudio,i,"audio"),a=bg(t.g.disableVideo,i,"video"),o=bg(t.g.disableText,i,yr),i=bg(t.g.disableThumbnails,i,"image"),0===a.length&&0===r.length)throw new Pe(2,4,4004);return{id:n.oa.id,audioStreams:r,videoStreams:a,textStreams:o,imageStreams:i}}function bg(e,t,n){return e||!t.length?[]:t.reduce((function(e,t){return t.contentType!=n||e.push.apply(e,l(t.streams)),e}),[])}function wg(e,t){if((t=Ft(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&Bt(t,"useMPDUrlQuery",Jt,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return"$querypart$"==n?e.aa:n.split("&").map((function(t){if("$querypart$"==t)return e.aa;var n=/\$query:(.*?)\$/g.exec(t);if(n&&2==n.length){n=n[1];var r=new nr(e.aa).get(n);if(r.length)return n+"="+r[0]}return t})).join("&")}}return null}function xg(e){var t,n;return D((function(r){switch(r.g){case 1:return t=0,S(r,2),w(r,ug(e),4);case 4:t=r.h,k(r,3);break;case 2:if(n=C(r),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),r.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return r.return();e.j.onManifestUpdated(),Sg(e,t),x(r)}}))}function Sg(e,t){if(!(0>e.K)){var n=e.K;0<=e.g.dash.updatePeriod&&(n=e.g.dash.updatePeriod),e.L.Z(Math.max(n-t,H(e.na)))}}function Tg(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,de:null,audioSamplingRate:null,Wa:0,oe:0},r=r||n.Oa;var i,a=t.attributes.id,o=Rt(t,"BaseURL"),s=!1;if(e.h)for(var u=c(o),l=u.next();!l.done;l=u.next()){var d=l.value;l=d.attributes.serviceLocation,d=Ot(d),l&&d&&(Sh(e.h,a,l,d),s=!0)}s&&e.h||(i=o.map(Ot)),u=t.attributes.contentType||n.contentType,l=t.attributes.mimeType||n.mimeType,d=[t.attributes.codecs||n.codecs];var f=Vt(t,"urn:scte:dash:scte214-extensions","supplementalCodecs");f&&d.push(f),d=Mu(d).join(","),f=Bt(t,"frameRate",Zt)||n.frameRate;var p=t.attributes.sar||n.pixelAspectRatio,h=function(e,t){t=t.slice();for(var n=(e=c(e)).next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}(Rt(t,"InbandEventStream"),n.emsgSchemeIdUris),g=Rt(t,"AudioChannelConfiguration");g=function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){var n=(t=t.value).attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(t,10)))continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],!(t=parseInt(t,16)))continue;for(var r=0,i=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),!(t=parseInt(t,16)))continue;for(i=r=0;i<n.length;i++)t&1<<i&&(r+=n[i]);if(r)return r;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&0<t&&t<n.length)return n[t]}}return null}(g)||n.de;var v=Bt(t,"audioSamplingRate",Wt)||n.audioSamplingRate;u||(u=Eg(l,d));var m=jt(t,"SegmentBase"),y=jt(t,"SegmentTemplate"),b=m&&Bt(m,"availabilityTimeOffset",Yt)||0,w=y&&Bt(y,"availabilityTimeOffset",Yt)||0,x=o&&o.length&&Bt(o[0],"availabilityTimeOffset",Yt)||0;b=n.Wa+x+b+w,w=null,(x=jt(t,"SegmentSequenceProperties"))&&(x=jt(x,"SAP"))&&(w=Bt(x,"cadence",Gt)),x=t.attributes.label;var S=Rt(t,"Label");return S&&S.length&&Nt(S=S[0])&&(x=Nt(S)),{Oa:function(){return fr(r(),o.length?e.h&&s?Th(e.h,a):i||[]:[])},Wc:m||n.Wc,Sb:jt(t,"SegmentList")||n.Sb,ec:y||n.ec,width:Bt(t,"width",Wt)||n.width,height:Bt(t,"height",Wt)||n.height,contentType:u,mimeType:l,codecs:d,frameRate:f,pixelAspectRatio:p,emsgSchemeIdUris:h,id:a,language:t.attributes.lang,de:g,audioSamplingRate:v,Wa:b,Td:null,oe:w||n.oe,label:x||null}}function kg(e,t,n,r){var i,a,o,s,u,c,l;return D((function(d){if(1==d.g)return i=[yt(n)],a=fr(t(),i),(o=aa(a,e.g.retryParameters)).method=r,s=e.j.networkingEngine.request(4,o,{isPreload:e.fa()}),ta(e.S,s),w(d,s.promise,2);if(u=d.h,"HEAD"==r){if(!u.headers||!u.headers.date)return d.return(0);c=u.headers.date}else c=ft(u.data);return l=Date.parse(c),isNaN(l)?d.return(0):d.return(l-Date.now())}))}function Cg(e,t,n,r,i){for(var a=r.attributes.schemeIdUri||"",o=r.attributes.value||"",s=Bt(r,"timescale",Wt)||1,u=Bt(r,"presentationTimeOffset",Wt)||0,l=(r=c(Rt(r,"Event"))).next();!l.done;l=r.next()){var d=Bt(l=l.value,"presentationTime",Wt)||0,f=Bt(l,"duration",Wt)||0;f=(d=Math.max((d-u)/s+t,t))+f/s,null!=n&&(d=Math.min(d,t+n),f=Math.min(f,t+n)),f<i||(l={schemeIdUri:a,value:o,startTime:d,endTime:f,id:l.attributes.id||"",eventElement:rn(l),eventNode:an(l)},e.j.onTimelineRegionAdded(l))}}function Ag(e,t,n,r,i){var a,o,s,u;return D((function(c){return 1==c.g?(a=la,o=i?0:1,s=Pu(t,n,r,e.g.retryParameters),w(c,Ig(e,s,a,{type:o}),2)):(u=c.h,c.return(u.data))}))}function Eg(e,t){return Ur(t=Tr(e,t))?yr:e.split("/")[0]}function Ig(e,t,n,r){return r||(r={}),r.isPreload=e.fa(),t=e.j.networkingEngine.request(n,t,r),ta(e.S,t),t.promise}function Mg(){}(r=sg.prototype).configure=function(e,t){var n=this.j&&e.dash.updatePeriod!=this.g.dash.updatePeriod&&0<=e.dash.updatePeriod;this.g=e,t&&(this.fa=t),n&&this.i&&this.i.presentationTimeline.U()&&this.L.hc(),this.h&&this.h.configure(this.g),this.m&&(this.m.bh(this.g.dash.multiTypeVariantsAllowed&&re()),this.m.ih(this.g.dash.useStreamOnceInPeriodFlattening))},r.start=function(e,t){var n,r=this;return D((function(i){if(1==i.g)return r.H=t.isLowLatencyMode(),r.A=[e],r.j=t,w(i,ug(r),2);if(n=i.h,r.j&&Sg(r,n),!r.j)throw new Pe(2,7,7001);return i.return(r.i)}))},r.stop=function(){for(var e=c(Object.values(this.o)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.A=[],this.i=null,this.o={},this.B={},this.s.clear(),this.l={be:"",type:"",profiles:[],Nb:null,Wa:0,Oa:null,wd:0},this.m=null,null!=this.L&&(this.L.stop(),this.L=null),this.h&&this.h.destroy(),this.G&&(this.G.release(),this.G=null),this.S.destroy()},r.update=function(){var e,t=this;return D((function(n){return 1==n.g?(S(n,2),w(n,ug(t),4)):2!=n.g?k(n,0):(e=C(n),t.j&&e?(t.j.onError(e),void x(n)):n.return())}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(e){if(this.i&&this.i.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.i.presentationTimeline.Zb();var n=t.segmentIndex.find(e);null!=n&&(t=t.segmentIndex.get(n))&&(this.K=t.endTime-e,Sg(this,0))}}},r.banLocation=function(e){this.h&&this.h.banLocation(e)},r.setMediaElement=function(e){this.I=e},B("shaka.dash.DashParser",sg),lo["application/dash+xml"]=function(){return new sg},lo["video/vnd.mpeg.dash.mpd"]=function(){return new sg},B("shaka.dependencies",Mg),Mg.has=function(e){return Dg.has(e)},Mg.add=function(e,t){if(!Pg[e])throw Error(e+" is not supported");e==_g?oe("mux.js","mux.js is no longer used in Shaka Player."):Dg.set(e,(function(){return t}))};var _g="muxjs",Pg={mk:_g,ISOBoxer:"ISOBoxer"};Mg.Allowed=Pg;var Dg=new Map([["ISOBoxer",function(){return e.ISOBoxer}]]);function Lg(e,t,n){this.type=e,this.X=t,this.segments=n||null}function Rg(e,t,n,r){this.id=e,this.name=t,this.attributes=n,this.value=void 0===r?null:r}function Ng(e,t){return t?e.toString():(t=(new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function Og(e,t){return(e=e.attributes.filter((function(e){return e.name==t}))).length?e[0]:null}function Ug(e,t,n){return(e=Og(e,t))?e.value:n||null}function jg(e,t){if(!(e=Og(e,t)))throw new Pe(2,4,4023,t);return e.value}function Fg(e,t,n){n=void 0===n?[]:n,this.X=t,this.g=e,this.Cb=n}function Bg(e,t){this.name=e,this.value=t}function Vg(e,t){return e.filter((function(e){return e.name==t}))}function $g(e,t){return e.filter((function(e){return jg(e,"TYPE")==t}))}function zg(e,t){for(var n=(e=c(e)).next();!n.done;n=e.next())if((n=n.value).name===t)return n;return null}function Hg(e,t,n){return n=void 0===n?0:n,(e=zg(e,t))?Number(e.value):n}function qg(e,t,n){return t?Kg(e,[t],n):[]}function Kg(e,t,n){if(!t.length)return[];t=fr(e,t),e=[];for(var r=(t=c(t)).next();!r.done;r=t.next())e.push(Gg(r.value,n));return e}function Gg(e,t){if(!t||!t.size)return e;var n=(e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}")).match(/{\$\w*}/g);if(n)for(var r=(n=c(n)).next();!r.done;r=n.next()){var i=(r=r.value).slice(2,r.length-1),a=t.get(i);if(!a)throw new Pe(2,4,4039,i);e=e.replace(r,a)}return e}function Xg(){this.g=0}function Wg(e,t){var n=(t=(t=ft(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new Pe(2,4,4015);t=0;for(var r=!0,i=c(n),a=i.next();!a.done;a=i.next())if(a=a.value,/^#(?!EXT)/m.test(a)||r)r=!1;else{if(a=Yg(e,a),--e.g,Jg.includes(a.name)){t=1;break}"EXT-X-STREAM-INF"==a.name&&(r=!0)}for(i=[],r=!0,a=0;a<n.length;a++){var o=n[a],s=n[a+1];if(/^#(?!EXT)/m.test(o)||r)r=!1;else{if(o=Yg(e,o),Zg.includes(o.name)){if(1!=t)throw new Pe(2,4,4017);o=n.splice(a,n.length-a),n=[],r=[],a=[],s=null;for(var u=(o=c(o)).next();!u.done;u=o.next())u=u.value,/^(#EXT)/.test(u)?(u=Yg(e,u),Jg.includes(u.name)?i.push(u):"EXT-X-MAP"==u.name?s=u:"EXT-X-PART"==u.name?a.push(u):"EXT-X-PRELOAD-HINT"==u.name?"PART"==Ug(u,"TYPE")?a.push(u):"MAP"==Ug(u,"TYPE")&&(u.name="EXT-X-MAP",s=u):r.push(u)):/^#(?!EXT)/m.test(u)||(u=u.trim(),s&&r.push(s),n.push(new Fg(u,r,a)),r=[],a=[]);return a.length&&(s&&r.push(s),n.push(new Fg("",r,a))),new Lg(t,i,n)}i.push(o),"EXT-X-STREAM-INF"==o.name&&(o.attributes.push(new Bg("URI",s)),r=!0)}}return new Lg(t,i)}function Yg(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new Pe(2,4,4016,t);t=n[1];var r,i=n[2];if(n=[],i){var a;(a=St(i=new wt(i),/^([^,=]+)(?:,|$)/g))&&(r=a[1]);for(var o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=St(i,o);)n.push(new Bg(a[1],a[2]||a[3])),xt(i)}return new Rg(e,t,n,r)}Rg.prototype.toString=function(e){var t="#"+this.name,n=this.attributes?this.attributes.filter((function(t){return!e||!e.has(t.name)})).map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t};var Jg="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),Zg="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP".split(" ");function Qg(){}function ev(e){try{var t=tv(e);return Gi({uri:e,originalUri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(e){return qi(e)}}function tv(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new Pe(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new Pe(2,1,1004,t);var r=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return 1<n.length&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?ur(t):gt(t),contentType:r}}function nv(){var e=this;this.g=this.h=null,this.C=1,this.A=new Map,this.H=new Map,this.O=new Map,this.O.set("video",new Map),this.O.set("audio",new Map),this.O.set(yr,new Map),this.O.set("image",new Map),this.Na=new Set,this.i=new Map,this.l=null,this.M="",this.Ha=new Xg,this.I=-1,this.ja=1/0,this.fa=this.Lb=this.bc=!1,this.B=new Be((function(){e.aa&&!e.g.continueLoadingWhenPaused&&(e.$.cb(e.aa,"timeupdate"),e.aa.paused)?e.$.va(e.aa,"timeupdate",(function(){return jv(e)})):jv(e)})),this.xa=Xv,this.m=null,this.La=0,this.o=1/0,this.Ga=this.Ba=this.V=0,this.da=new ea,this.F=new Map,this.G=new Map,this.ra=new Map,this.ka=new Map,this.L=new Map,this.na=new Map,this.qa=new Map,this.Ib=this.K=!1,this.Gb=new z(5),this.j=null,this.S=!0,this.Aa=new Set,this.$=new Q,this.s=this.aa=null,this.Hb=function(){return!1}}function rv(e,t){return Fv(e)?e.O.get(t.type):t.Zd}function iv(e,t){var n,r,i,a,o,s,u,d,f,p,h,g,v,m,y,b,T,A,E,I,M,_,P,L,R,N,O,U,j,F,B,V,$;return D((function(D){switch(D.g){case 1:if(t.stream.isAudioMuxedInVideo)return D.return();for(n=[],r=c(t.N()),i=r.next();!i.done;i=r.next())a=i.value,o=new zn(a),s=o.g,t.Hd&&(0<=t.sb&&s.add("_HLS_msn",String(t.sb)),0<=t.ub&&s.add("_HLS_part",String(t.ub))),t.Id&&s.add("_HLS_skip","YES"),ir(s)&&Gn(o,s),n.push(o.toString());return S(D,2),w(D,Uv(e,n,!0).promise,4);case 4:u=D.h,k(D,3);break;case 2:throw d=C(D),e.h&&e.h.disableStream(t.stream),d;case 3:if(!t.stream.segmentIndex)return D.return();if(1!=(f=Wg(e.Ha,u.data)).type)throw new Pe(2,4,4017);return(p=u.uri)==u.originalUri||t.N().includes(p)||t.Wg.push(p),h=Vg(f.X,"EXT-X-DEFINE"),g=uv(e,h,p),v=t.stream,m=rv(e,t),w(D,Tv(e,f,v.mimeType,t.N,g),5);case 5:for(y=D.h,b=y.keyIds,T=y.drmInfos,function(e,t){return e.size===t.size&&[].concat(l(e)).every((function(e){return t.has(e)}))}(v.keyIds,b)||(v.keyIds=b,v.drmInfos=T,e.h.newDrmInfo(v)),A=Dv(e,f,m,g,t.N,t.type),E=A.segments,(I=A.bandwidth)&&(v.bandwidth=I),M=Eu(v),_=c(E),P=_.next();!P.done;P=_.next())(L=P.value).ba&&(L.ba.Oc=M);v.segmentIndex.rd(E,e.l.qb()),E.length&&(R=Hg(f.X,"EXT-X-MEDIA-SEQUENCE",0),O=(N=zg(f.X,"EXT-X-SKIP"))?Number(Ug(N,"SKIPPED-SEGMENTS")):0,U=xv(R,E),j=U.sb,F=U.ub,t.sb=j+O,t.ub=F,B=m.get(R),v.segmentIndex.Ia(B)),(V=eu(v.segmentIndex))&&(t.vc=V.startTime,$=E[E.length-1],t.Mb=$.endTime),zg(f.X,"EXT-X-ENDLIST")&&(t.hd=!0),Av(e,f),Pv(e,f.X,v.type,g,t.N),x(D)}}))}function av(e,t,n){n=void 0!==n&&n;for(var r=-1==e.I,i=c(t),a=i.next();!a.done;a=i.next()){var o=(a=a.value).stream.segmentIndex,s=rv(e,a);if(o=eu(o))for(var u=(s=c(s)).next();!u.done;u=s.next()){var l=(u=c(u.value)).next().value;if(u.next().value==o.startTime){r&&(e.I=Math.max(e.I,l)),a.Ve=l;break}}}if(!(0>e.I))for(r=(t=c(t)).next();!r.done;r=t.next())(bv(e,(r=r.value).type)||n)&&(i=r.stream.segmentIndex)&&0<(a=e.I-r.Ve)&&(i.g.splice(0,a),i=eu(i))&&(i=-i.startTime,r.stream.segmentIndex.offset(i),ov(e,r,i))}function ov(e,t,n){t.vc+=n,t.Mb+=n;for(var r=c(e=rv(e,t)),i=r.next();!i.done;i=r.next()){var a=c(i.value);i=a.next().value,a=a.next().value,e.set(i,a+n)}t.N()}function sv(e){if(Fv(e)){if(e.xa==Yv){for(var t=1/0,n=1/0,r=c(e.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).stream.segmentIndex&&"text"!=i.stream.type&&!i.stream.isAudioMuxedInVideo&&(t=Math.min(t,i.Mb),n=Math.min(n,i.vc));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.pe(t)}}else e.l.bb(vv(e));if(!e.l.s)for(n=(t=c(e.i.values())).next();!n.done;n=t.next())!(n=n.value).stream.segmentIndex||"audio"!=n.type&&"video"!=n.type||(n=eu(n.stream.segmentIndex))&&n.h&&e.l.fh(n.h);e.l.Yd()}function uv(e,t,n){n=new zn(n).g;for(var r=new Map,i=(t=c(t)).next();!i.done;i=t.next()){var a=i.value,o=Ug(a,"NAME"),s=Ug(a,"VALUE");i=Ug(a,"QUERYPARAM"),a=Ug(a,"IMPORT"),o&&s&&(r.has(o)||r.set(o,s)),i&&(o=n.get(i)[0])&&!r.has(o)&&r.set(i,o),a&&(i=e.A.get(a))&&r.set(a,i)}return r}function cv(e){var t=new Set([Tr(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.yb((function(n){n.mimeType&&t.add(Tr(n.mimeType,e.codecs))})),e.fullMimeTypes=t}function lv(e,t,n){for(var r={audio:[],video:[]},i=new Map,a=[],o=!1,s=!1,u=c(t),d=u.next();!d.done;d=u.next()){var f=d.value;d=Ug(f,"AUDIO");var p=Ug(f,"VIDEO"),h=d||p;h&&(a.includes(h)||a.push(h),(f=Ug(f,"PATHWAY-ID"))&&i.set(h,f),d?o=!0:p&&(s=!0))}a.length&&n.length&&function(e,t,n){t=t.filter((function(e){var t=Ug(e,"URI")||"";return"SUBTITLES"!=(e=Ug(e,"TYPE"))&&(""!=t||"AUDIO"==e)}));for(var r={},i=(t=c(t)).next();!i.done;i=t.next()){var a=Ng(i=i.value,!e.j);r[a]?r[a].push(i):r[a]=[i]}for(var o in r)pv(e,r[o],n,!1)}(e,n=n.filter((function(e){return a.includes(jg(e,"GROUP-ID"))})),i),n=(i=a.sort().join(","))&&e.H.has(i)?e.H.get(i):[],o?r.audio.push.apply(r.audio,l(n)):s&&r.video.push.apply(r.video,l(n)),o=!1;var g=t.map((function(e){return jg(e,"URI")}));return d=r.audio.find((function(e){return e&&e.N().find((function(e){return g.includes(e)}))})),n=vr("video",s=dv(e,t[0])),(u=vr("audio",s))&&!n?(d="audio",o=0<r.audio.length):!r.audio.length&&!r.video.length&&u&&n?(d="video",s=[[n,u].join()]):r.audio.length&&d?(d="audio",o=!0):d=r.video.length&&!r.audio.length?"audio":"video",o||(e=function(e,t,n,r){for(var i=e.C++,a=[],o=c(t),s=o.next();!s.done;s=o.next()){var u=s.value;s=jg(u,"URI"),u=Ug(u,"PATHWAY-ID"),e.j&&u&&Sh(e.j,i,u,s),a.push(s)}if(o=a.sort().join(","),e.i.has(o))return e.i.get(o);e:{if(t=Ug(t[0],"CLOSED-CAPTIONS"),"video"==r){if(e.g.disableText){e.S=!1,t=null;break e}if(t){if("NONE"!=t){t=e.F.get(t);break e}e.S=!1}else if(!t&&e.F.size)for(t=c(e.F.keys()).next();!t.done;){t=e.F.get(t.value);break e}}t=null}return r=gv(e,i,a,n=gr(r,n),r,null,!1,null,null,t,null,!1,null,!1),e.i.set(o,r),r}(e,t,s,d),i&&(e.stream.groupId=i),r[e.stream.type]=[e]),r}function dv(e,t){var n=Ug(t,"CODECS")||"";return t=Ug(t,"SUPPLEMENTAL-CODECS"),e.fa=0<n.length,e.fa||e.g.hls.disableCodecGuessing||(n=[],e.g.disableVideo||n.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||n.push(e.g.hls.defaultAudioCodec),n=n.join(",")),e=n.split(/\s*,\s*/),t&&(t=t.split(/\s*,\s*/).map((function(e){return e.split("/")[0]})),e.push.apply(e,l(t))),Mu(e)}function fv(e,t,n,r,i,a,o,s,u,l,d,f){for(var p=c(n),h=p.next();!h.done;h=p.next())Ov(h.value.stream,i,a,o,s,u,null);for(i=e.g.disableAudio,t.length&&!i||(t=[null]),i=e.g.disableVideo,n.length&&!i||(n=[null]),i=[],a=(t=c(t)).next();!a.done;a=t.next())for(a=a.value,s=(o=c(n)).next();!s.done;s=o.next()){var g=s.value;(s=a?a.stream:null)&&(s.drmInfos=l,s.keyIds=d),(u=g?g.stream:null)&&(u.drmInfos=l,u.keyIds=d,e.g.disableIFrames||Si(u,f)),u&&!s&&(u.bandwidth=r),!u&&s&&(s.bandwidth=r),p=a?a.stream.drmInfos:null,h=g?g.stream.drmInfos:null,g=(g=g?g.N().sort().join(","):"")+" - "+(a?a.N().sort().join(","):""),s&&u&&!Re(p,h)||e.Na.has(g)||(s={id:e.C++,language:s?s.language:"und",disabledUntilTime:0,primary:!!s&&s.primary||!!u&&u.primary,audio:s,video:u,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(s),e.Na.add(g))}return i}function pv(e,t,n,r){r=void 0===r||r;for(var i=[],a=[],o=new Map,s=c(t),u=s.next();!u.done;u=s.next()){var l=u.value;u=r?jg(l,"URI"):Ug(l,"URI")||"shaka://hls-muxed",l=jg(l,"GROUP-ID"),i.push(u),a.push(l),o.set(l,u)}if(r=a.sort().join(","),u=t[0],t="","subtitles"==(s=jg(u,"TYPE").toLowerCase())&&(s=yr),s==yr)t=Ug(u,"CODECS")||"";else for(l=(a=c(a)).next();!l.done;l=a.next())if(l=l.value,e.G.has(l)){t=e.G.get(l);break}if(a=i.sort().join(","),e.i.has(a))return e.i.get(a);if(l=e.C++,e.j)for(var d=(o=c(o)).next();!d.done;d=o.next()){var f=c(d.value);d=f.next().value,f=f.next().value,(d=n.get(d))&&Sh(e.j,l,d,f)}n=Ug(u,"LANGUAGE"),o=Ug(u,"NAME"),d="YES"==Ug(u,"DEFAULT"),f="audio"==s&&(f=Ug(u,"CHANNELS"))?parseInt(f.split("/")[0],10):null;var p="audio"==s&&!!(p=Ug(u,"CHANNELS"))&&p.includes("/JOC");return(i=gv(e,l,i,t,s,n,d,o,f,null,Ug(u,"CHARACTERISTICS"),"YES"==Ug(u,"FORCED"),u="audio"==s&&(u=Ug(u,"SAMPLE-RATE"))?parseInt(u,10):null,p)).stream&&(i.stream.groupId=r),e.H.has(r)?e.H.get(r).push(i):e.H.set(r,[i]),e.i.set(a,i),i}function hv(e,t){var n="video",r=jg(t,"URI"),i=Ug(t,"CODECS")||"";if("mjpg"==i&&(n="image"),e.i.has(r))return e.i.get(r);var a=Ug(t,"LANGUAGE"),o=Ug(t,"NAME"),s=Ug(t,"CHARACTERISTICS");return n=gv(e,e.C++,[r],i,n,a,!1,o,null,null,s,!1,null,!1),a=c((i=Ug(t,"RESOLUTION"))?i.split("x"):[null,null]),i=a.next().value,a=a.next().value,n.stream.width=Number(i)||void 0,n.stream.height=Number(a)||void 0,(t=Ug(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(r,n),n}function gv(e,t,n,r,i,a,o,s,u,l,d,f,p,h){function g(){return e.j&&1<n.length?Th(e.j,t):y.concat(Kg([e.M],n,e.A))}var v=Sv(e,r,i,a,o,s,u,l,d,f,p,h);n.includes("shaka://hls-muxed")&&(v.isAudioMuxedInVideo=!0,v.mimeType="video/mp2t",cv(v));var m,y=[],b={stream:v,type:i,Wg:y,N:g,vc:0,Mb:0,Zd:new Map,Id:!1,Hd:!1,hd:!1,Ve:-1,sb:-1,ub:-1,Af:!1},T=null;return v.createSegmentIndex=function(){return T||(v.isAudioMuxedInVideo?(v.segmentIndex=new Qs([]),Promise.resolve()):(m=Uv(e,b.N(),!0),T=new Promise((function(t){t(function(t){var n,m,T,A,E,I,M,_,P,L,R,N,O,U,j,F,B,V,$,z,H,q;return D((function(D){switch(D.g){case 1:return n=br,S(D,2),m=b.N(),w(D,t.promise,4);case 4:if(T=D.h,t.aborted)return D.return();if((A=T.uri)==T.originalUri||m.includes(A)||y.push(A),1!=(E=Wg(e.Ha,T.data)).type)throw new Pe(2,4,4017);return I=Vg(E.X,"EXT-X-DEFINE"),M=uv(e,I,A),_=!1,(!e.fa&&e.g.hls.disableCodecGuessing||e.S&&i==n.la&&!e.g.hls.disableClosedCaptionsDetection)&&0<E.segments.length&&(e.S=!1,_=!0),P=!e.fa&&e.g.hls.disableCodecGuessing,L=Fv(e),w(D,wv(e,0,M,E,g,r,i,a,o,s,u,l,d,f,p,h,void 0,_,P),5);case 5:if(R=D.h,t.aborted)return D.return();if(N=R.stream,Cv(e,E),Fv(e)&&!L&&Ev(e,E),b.vc=R.vc,b.Mb=R.Mb,b.Id=R.Id,b.Hd=R.Hd,b.hd=R.hd,b.Zd=R.Zd,b.sb=R.sb,b.ub=R.ub,b.Af=!0,v.segmentIndex=N.segmentIndex,v.encrypted=N.encrypted,v.drmInfos=N.drmInfos,v.keyIds=N.keyIds,v.mimeType=N.mimeType,v.bandwidth=v.bandwidth||N.bandwidth,v.codecs=v.codecs||N.codecs,v.closedCaptions=v.closedCaptions||N.closedCaptions,v.width=v.width||N.width,v.height=v.height||N.height,v.hdr=v.hdr||N.hdr,v.colorGamut=v.colorGamut||N.colorGamut,v.frameRate=v.frameRate||N.frameRate,"und"==v.language&&"und"!=N.language&&(v.language=N.language),v.language=v.language||N.language,v.channelsCount=v.channelsCount||N.channelsCount,v.audioSamplingRate=v.audioSamplingRate||N.audioSamplingRate,cv(v),v.drmInfos.length&&e.h.newDrmInfo(v),O=!1,(!l&&v.closedCaptions||l&&v.closedCaptions&&l.size!=v.closedCaptions.size)&&(O=!0),e.m&&O&&e.h.makeTextStreamsForClosedCaptions(e.m),i==n.la||i==n.Y)for(U=c(e.i.values()),j=U.next();!j.done;j=U.next())(F=j.value).Af||F.type!=i||(F.stream.mimeType=N.mimeType,cv(F.stream));i==n.wa&&(B=eu(N.segmentIndex))&&B.ba&&(v.mimeType="application/mp4",cv(v)),V=Eu(v),v.segmentIndex.yb((function(e){e.ba&&(e.ba.Oc=V)})),function(e){if(!e.m)return!1;for(var t=[],n=[],r=(e=c(e.m.variants)).next();!r.done;r=e.next())(r=r.value).video&&t.push(r.video),r.audio&&n.push(r.audio);return!(0<t.length&&!t.some((function(e){return e.segmentIndex}))||0<n.length&&!n.some((function(e){return e.segmentIndex})))}(e)&&(e.Lb?yv(e,[b]):(e.Lb=!0,$=Array.from(e.i.values()),z=$.filter((function(e){return e.stream.segmentIndex})),yv(e,z),sv(e),0<(H=e.o)&&e.B.Z(H))),Pv(e,E.X,v.type,M,g),e.m&&(e.m.startTime=e.s),k(D,0);break;case 2:if(q=C(D),v.closeSegmentIndex(),7001===q.code)return D.return();if(!e.h.disableStream(v))throw q;x(D)}}))}(m))}))))},v.closeSegmentIndex=function(){T&&!v.segmentIndex&&m.abort(),v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null),T=null},b}function vv(e){for(var t=1/0,n=(e=c(e.i.values())).next();!n.done;n=e.next())(n=n.value).stream.segmentIndex&&"text"!=n.stream.type&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Mb));return t}function mv(e,t){for(var n=[],r=(t=c(t)).next();!r.done;r=t.next())(r=r.value).segmentIndex&&r.segmentIndex.yb((function(e){n.push(e)}));e.l.td(n)}function yv(e,t){if(!Fv(e))for(var n=vv(e),r=c(t),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Ic(0,n);mv(e,t.map((function(e){return e.stream}))),n=Fv(e)&&!e.bc,e.g.hls.ignoreManifestProgramDateTime||n?av(e,t,n):(function(e,t){if(1/0==e.ja)for(var n=(t=c(t)).next();!n.done;n=t.next())null!=(n=eu(n.value.stream.segmentIndex))&&null!=n.h&&(e.ja=Math.min(e.ja,n.h));if(1/0!=(t=e.ja))for(var r=(n=c(e.i.values())).next();!r.done;r=n.next())if(!bv(e,(r=r.value).type)){var i=r.stream.segmentIndex;if(null!=i){var a=eu(i);if(a)if(null==a.h)G("Missing EXT-X-PROGRAM-DATE-TIME for stream",r.N(),"Expect AV sync issues!");else for(ov(e,r,a.h-t-a.startTime),i=(r=c(i)).next();!i.done;i=r.next())i.value.Zf(t)}}}(e,t),0<e.g.hls.ignoreManifestProgramDateTimeForTypes.length&&av(e,t))}function bv(e,t){return!!e.g.hls.ignoreManifestProgramDateTime||e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function wv(e,t,n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b){var x,T,A,E,I,M,_,P,L,R,N,O,U,j,F,B,V,$,z,H,q,K,G,X,W,Y,J,Z,Q;return y=void 0===y||y,b=void 0===b||b,D((function(t){switch(t.g){case 1:if(x=r.segments||[],T=x.every((function(e){return!!zg(e.X,"EXT-X-GAP")})),!x.length||T)throw new Pe(2,4,4053);if(function(e,t){var n=zg(t.X,"EXT-X-PLAYLIST-TYPE");t=zg(t.X,"EXT-X-ENDLIST"),t=n&&"VOD"==n.value||t,n=n&&"EVENT"==n.value&&!t,n=!t&&!n,Bv(e,t?Xv:n?Yv:Wv)}(e,r),Fv(e)&&Av(e,r),A=Fv(e)?e.O.get(o):new Map,E=Dv(e,r,A,n,i,o),I=E.segments,M=E.bandwidth,N=R=L=P=_=null,!(0<I.length&&y)){t.u(2);break}return w(t,function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,x,S,T,k,C,A;return D((function(E){switch(E.g){case 1:if(n=Iu(e.g.hls.mediaPlaylistFullMimeType),!t.length)return E.return(n);if(r=Nv(e,t),i=r.segment,a=r.segmentIndex,o=i.N(),s=o[0],u=new zn(s),l=u.Ua.split(".").pop(),d=Hv[l])return E.return(Iu(d));if(f=la,h=p=null,!(g=i.ba)){E.u(2);break}return v=Pu(g.N(),g.$b(),g.Yb(),e.g.retryParameters),w(E,Vv(e,v,f,{type:0}).promise,3);case 3:if(m=E.h,p=m.data,!g.aesKey){E.u(4);break}return w(E,_u(p,g.aesKey,0),5);case 5:p=E.h;case 4:(h=m.headers["content-type"])&&(h=h.split(";")[0].toLowerCase());case 2:return y=Pu(i.N(),i.$b(),i.Yb(),e.g.retryParameters),w(E,Vv(e,y,f,{type:1}).promise,6);case 6:if(b=E.h,x=b.data,!i.aesKey){E.u(7);break}return w(E,_u(x,i.aesKey,a),8);case 8:x=E.h;case 7:if((S=b.headers["content-type"])&&(S=S.split(";")[0].toLowerCase()),T="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),k=["audio/mp4","video/mp4","video/iso.segment"],os(ve(x))){var I=x,M=ve(I),_=(M=(new ns).parse(M)).dd();M=M.pf();var P=[],D=!1,L=!1;switch(_.audio){case"aac":case"aac-loas":P.push("mp4a.40.2"),D=!0;break;case"mp3":P.push("mp4a.40.34"),D=!0;break;case"ac3":P.push("ac-3"),D=!0;break;case"ec3":P.push("ec-3"),D=!0;break;case"opus":P.push("opus"),D=!0}switch(_.video){case"avc":M.codec?P.push(M.codec):P.push("avc1.42E01E"),L=!0;break;case"hvc":M.codec?P.push(M.codec):P.push("hvc1.1.6.L93.90"),L=!0;break;case"av1":P.push("av01.0.01M.08"),L=!0}if(P.length){if(_=D&&!L,D=new Map,L){(L=new xe("video/mp2t")).i(I);for(var R=(I=c(L.j())).next();!R.done;R=I.next())R=R.value,D.set(R,R);L.g()}M={type:_?"audio":"video",mimeType:"video/mp2t",codecs:P.join(", "),language:null,height:M.height,width:M.width,channelCount:null,sampleRate:null,closedCaptions:D,Bd:null,colorGamut:null,frameRate:M.frameRate}}else M=null;if(C=M)return E.return(C)}else if((T.includes(l)||k.includes(S)||h&&k.includes(h))&&(A=function(e,t){function n(e){a=e.name;var t=e.reader;t.skip(24);var n=t.ma(),r=t.ma();t.skip(50),p=String(n),f=String(r),e.reader.sa()&&Sa(e)}function r(e){var t=Bo(e.reader);h=t.channelCount,g=t.sampleRate,i(e.name)}function i(e){switch(e=e.toLowerCase()){case"avc1":case"avc3":s.push(e+".42E01E"),l=!0;break;case"hev1":case"hvc1":s.push(e+".1.6.L93.90"),l=!0;break;case"dvh1":case"dvhe":s.push(e+".05.04"),l=!0;break;case"vp09":s.push(e+".00.10.08"),l=!0;break;case"av01":s.push(e+".0.01M.08"),l=!0;break;case"mp4a":o.push("mp4a.40.2"),u=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":o.push(e),u=!0}}var a,o=[],s=[],u=!1,l=!1,d=null,f=null,p=null,h=null,g=null,v=null,m=null;if((new xa).box("moov",Sa).box("trak",Sa).box("mdia",Sa).R("mdhd",(function(e){d=jo(e.reader,e.version).language})).box("minf",Sa).box("stbl",Sa).R("stsd",Ta).box("mp4a",(function(e){var t=Bo(e.reader);h=t.channelCount,g=t.sampleRate,e.reader.sa()?Sa(e):i(e.name)})).box("esds",(function(e){e=e.reader;for(var t,n,r="mp4a";e.sa();){t=e.T();for(var i=e.T();128&i;)i=e.T();if(3==t)e.ma(),128&(i=e.T())&&e.ma(),64&i&&e.skip(e.T()),32&i&&e.ma();else if(4==t)n=e.T(),e.skip(12);else if(5==t)break}n&&(r+="."+$o(n),5==t&&e.sa()&&(31==(n=(248&(t=e.T()))>>3)&&e.sa()&&(n=32+((7&t)<<3)+((224&e.T())>>5)),r+="."+n)),o.push(r),u=!0})).box("ac-3",r).box("ec-3",r).box("ac-4",r).box("Opus",r).box("fLaC",r).box("avc1",n).box("avc3",n).box("hev1",n).box("hvc1",n).box("dva1",n).box("dvav",n).box("dvh1",n).box("dvhe",n).box("vp09",n).box("av01",n).box("avcC",(function(e){var t=a||"";switch(a){case"dvav":t="avc3";break;case"dva1":t="avc1"}(e=e.reader).skip(1),e=t+"."+$o(e.T())+$o(e.T())+$o(e.T()),s.push(e),l=!0})).box("hvcC",(function(e){var t=a||"";switch(a){case"dvh1":t="hvc1";break;case"dvhe":t="hev1"}var n=e.reader;n.skip(1);var r=["","A","B","C"][(e=n.T())>>6],i=31&e,o=n.P(),u=(32&e)>>5?"H":"L";e=[n.T(),n.T(),n.T(),n.T(),n.T(),n.T()],n=n.T();for(var c=0,d=0;32>d&&(c|=1&o,31!=d);d++)c<<=1,o>>=1;for(t=t+"."+r+i+"."+$o(c,!0),t+="."+u+n,r="",i=e.length;i--;)((u=e[i])||r)&&(r="."+u.toString(16).toUpperCase()+r);t+=r,s.push(t),l=!0})).box("dvcC",(function(e){var t=a||"";switch(a){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.T(),n=n.T(),s.push(t+"."+zo(e>>1&127)+"."+zo(e<<5&32|n>>3&31)),l=!0})).box("dvvC",(function(e){var t=a||"";switch(a){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.T(),n=n.T(),s.push(t+"."+zo(e>>1&127)+"."+zo(e<<5&32|n>>3&31)),l=!0})).R("vpcC",(function(e){var t=a||"",n=e.reader;e=n.T();var r=n.T();n=n.T()>>4&15,s.push(t+"."+zo(e)+"."+zo(r)+"."+zo(n)),l=!0})).box("av1C",(function(e){var t=a||"";"dav1"===a&&(t="av01");var n=e.reader;n.skip(1);var r=(e=n.T())>>>5,i=(64&(n=n.T()))>>6;s.push(t+"."+r+"."+zo(31&e)+(n>>>7?"H":"M")+"."+zo(2===r&&i?(32&n)>>5?12:10:i?10:8)+"."+((16&n)>>4)+"."+((8&n)>>3)+((4&n)>>2)+(3&n)+"."+zo(1)+"."+zo(1)+"."+zo(1)+".0"),l=!0})).box("enca",Ca).box("encv",ka).box("sinf",Sa).box("frma",(function(e){i(e=Vo(e.reader).codec)})).box("colr",(function(e){s=s.map((function(t){if(t.startsWith("av01.")){var n=e.reader,r=n.ya(),i=n.vb(4),a=String.fromCharCode(i[0]);if(a+=String.fromCharCode(i[1]),a+=String.fromCharCode(i[2]),"nclx"===(a+=String.fromCharCode(i[3]))){i=n.ma(),a=n.ma();var o=n.ma(),s=n.T()>>7,u=t.split(".");10==u.length&&(u[6]=zo(i),u[7]=zo(a),u[8]=zo(o),u[9]=String(s),t=u.join("."))}n.seek(r)}return t}));var t=function(e){var t=null,n=null,r=e.vb(4),i=String.fromCharCode(r[0]);if(i+=String.fromCharCode(r[1]),i+=String.fromCharCode(r[2]),"nclx"===(i+=String.fromCharCode(r[3]))){switch(e.ma()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(r=e.ma(),e.ma(),r){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Bd:n}}(e.reader),n=t.colorGamut;v=t.Bd,m=n})).parse(e||t,!0),!o.length&&!s.length)return null;var y=u&&!l,b=new Map;if(l){var w=new xe("video/mp4");for(e&&w.init(e),w.i(t),t=(e=c(w.j())).next();!t.done;t=e.next())t=t.value,b.set(t,t);w.g()}return{type:y?"audio":"video",mimeType:y?"audio/mp4":"video/mp4",codecs:Mu(o.concat(s)).join(", "),language:d,height:f,width:p,channelCount:h,sampleRate:g,closedCaptions:b,Bd:v,colorGamut:m,frameRate:null}}(p,x)))return E.return(A);return S?E.return(Iu(S)):h?E.return(Iu(h)):E.return(n)}}))}(e,I),3);case 3:O=t.h,o=O.type,s=O.language,d=O.channelCount,g=O.sampleRate,e.g.disableText||(f=O.closedCaptions),P=O.height,_=O.width,L=O.Bd,R=O.colorGamut,N=O.frameRate,b&&(m=O.mimeType,a=O.codecs);case 2:if(m){t.u(4);break}return w(t,function(e,t,n,r){var i,a,o,s,u,c,l,d,f,p,h,g,v,m;return D((function(y){switch(y.g){case 1:return i=la,a=Nv(e,r),2==(o=a.segment).status?y.return(Rv(t)):(s=o.N(),u=new zn(s[0]),c=u.Ua.split(".").pop(),l=qv[t],(d=l[c])||(d=Hv[c])||(d=Lv(t,n))?y.return(d):(p=1,h=aa(s,e.g.retryParameters),S(y,2),h.method="HEAD",w(y,Vv(e,h,i,{type:p}).promise,4)));case 4:g=y.h,f=g.headers["content-type"],k(y,3);break;case 2:if(!(v=C(y))||1002!=v.code&&1001!=v.code){y.u(3);break}return h.method="GET",w(y,Vv(e,h,i,{type:p}).promise,6);case 6:m=y.h,f=m.headers["content-type"];case 3:return f?y.return(f.toLowerCase().split(";")[0]):y.return(Rv(t))}}))}(e,o,a,I),5);case 5:m=t.h;case 4:return w(t,Tv(e,r,m,i,n),6);case 6:if(U=t.h,j=U.drmInfos,F=U.keyIds,B=U.encrypted,V=U.zh,B&&!j.length&&!V)throw new Pe(2,4,4026);return($=Sv(e,a,o,s,u,l,d,f,p,h,g,v)).encrypted=B,$.drmInfos=j,$.keyIds=F,$.mimeType=m,M&&($.bandwidth=M),cv($),"video"==o&&(_||P||L||R)&&Ov($,_,P,N,L,null,R),Fv(e)&&Av(e,r),z=I[0].startTime,H=I[I.length-1],q=H.endTime,K=new Qs(I),$.segmentIndex=K,X=!!(G=zg(r.X,"EXT-X-SERVER-CONTROL"))&&null!=Og(G,"CAN-SKIP-UNTIL"),W=!!G&&null!=Og(G,"CAN-BLOCK-RELOAD"),Y=Hg(r.X,"EXT-X-MEDIA-SEQUENCE",0),J=xv(Y,I),Z=J.sb,Q=J.ub,t.return({stream:$,type:o,Wg:[],N:i,vc:z,Mb:q,Id:X,Hd:W,hd:!1,Ve:-1,sb:Z,ub:Q,Zd:A,Af:!1})}}))}function xv(e,t){e=e+t.length-1;var n=-1;if(!t.length)return{sb:++e,ub:n};var r=(t=t[t.length-1]).g;return t.g.length?(n=r.length-1,r[r.length-1].isPreload()||(e++,n=0),{sb:e,ub:n}):(e++,t.m&&(n=0),{sb:e,ub:n})}function Sv(e,t,n,r,i,a,o,s,u,l,d,f){var p=Lv(n,t)||Rv(n),h=[];if(u)for(var g=(u=c(u.split(","))).next();!g.done;g=u.next())h.push(g.value);return u=void 0,g=null,n==yr?u=h.includes("public.accessibility.transcribes-spoken-dialog")&&h.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":h.includes("public.accessibility.describes-video")&&(g="visually impaired"),h.length||"subtitle"!==u||h.push("subtitle"),cv(e={id:e.C++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:p,codecs:t,kind:n==yr?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:Xr(r||"und"),originalLanguage:r,label:a,type:n,primary:i,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:h,forced:l,channelsCount:o,audioSamplingRate:d,spatialAudio:f,closedCaptions:s,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:g,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1}),e}function Tv(e,t,n,r,i){var a,o,s,u,l,d,f,p,h,g,v,m,y,b,x,S,T,k,C,A,E,I,M,_,P,L,R,N;return D((function(D){switch(D.g){case 1:if(a=new Map,t.segments)for(o=c(t.segments),s=o.next();!s.done;s=o.next())if(u=s.value,l=Vg(u.X,"EXT-X-KEY"),d=null,l.length)for(d=Iv(e,t,u.X,r,i),f=c(l),p=f.next();!p.done;p=f.next())h=p.value,a.set(h,d);v=g=!1,m=[],y=new Set,b=c(a),x=b.next();case 2:if(x.done){D.u(4);break}if(S=x.value,T=c(S),k=T.next().value,C=T.next().value,E=C,"NONE"==(I=jg(A=k,"METHOD"))){D.u(3);break}if(g=!0,M=Ug(A,"KEYFORMAT")||"identity",_=null,$v(I)){v=!0,D.u(3);break}if("identity"!=M){_=(P=Gv[M])?P(A,n):null,D.u(6);break}return w(D,zv(e,A,n,r,E,i),8);case 8:_=D.h;case 6:if(_){if(_.keyIds)for(L=c(_.keyIds),R=L.next();!R.done;R=L.next())N=R.value,y.add(N);m.push(_)}case 3:x=b.next(),D.u(2);break;case 4:return D.return({drmInfos:m,keyIds:y,encrypted:g,zh:v})}}))}function kv(t,n,r,i,a){if(!e.crypto||!e.crypto.subtle)throw X("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new Pe(2,4,4042);var o=0,s=Ug(n,"IV","");if(s){var u=cr(s.substr(2));if(16!=u.byteLength)throw new Pe(2,4,4048)}else o=Hg(r.X,"EXT-X-MEDIA-SEQUENCE",0);if(r=n.toString()+"-"+o,!t.ka.has(r)){var c={bitsKey:128,blockCipherMode:"CBC",iv:u,firstMediaSequenceNumber:o};switch(jg(n,"METHOD")){case"AES-256":c.bitsKey=256;break;case"AES-256-CTR":c.bitsKey=256,c.blockCipherMode="CTR"}c.fetchKey=function(){var r,o,s,u,l,d;return D((function(f){if(1==f.g)return r=qg(i(),jg(n,"URI"),a),o=r.sort().join(""),t.L.has(o)||(s=aa(r,t.g.retryParameters),u=Vv(t,s,6).promise,t.L.set(o,u)),w(f,t.L.get(o),2);if(3!=f.g){if(!(l=f.h).data||l.data.byteLength!=c.bitsKey/8)throw new Pe(2,4,4049);return d={name:"CTR"==c.blockCipherMode?"AES-CTR":"AES-CBC",length:c.bitsKey},w(f,e.crypto.subtle.importKey("raw",l.data,d,!0,["decrypt"]),3)}c.cryptoKey=f.h,c.fetchKey=void 0,x(f)}))},t.ka.set(r,c)}return t.ka.get(r)}function Cv(e,t){null==e.s&&(t=zg(t.X,"EXT-X-START"))&&(e.s=Number(jg(t,"TIME-OFFSET")))}function Av(e,t){var n=1/0,r=t.segments;if(r.length)for(var i=r.length-1;0<=i;){var a=zg(r[i].X,"EXTINF");if(a){n=Number(a.value.split(",")[0]);break}i--}if(!(r=zg(t.X,"EXT-X-TARGETDURATION")))throw new Pe(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=zg(t.X,"EXT-X-PART-INF"))&&(e.V=Number(jg(i,"PART-TARGET"))),t=zg(t.X,"EXT-X-SERVER-CONTROL"),e.K&&e.V?(e.o=e.Ib?5*e.V<=n?Math.min(e.V,e.o):Math.min(n,e.o):Math.min(e.V,e.o),e.Ga=t?Number(jg(t,"PART-HOLD-BACK")):0):(e.o=Math.min(n,e.o),n=t?Og(t,"HOLD-BACK"):null,e.Ba=n?Number(n.value):0),e.La=Math.max(r,e.La)}function Ev(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.Ga)n=e.Ga;else if(e.Ba)n=e.Ba;else{var r=t.segments.length,i=e.g.hls.liveSegmentsDelay;for(i>r-2&&(i=Math.max(1,r-2)),i=r-i;i<r;i++){var a=zg(t.segments[i].X,"EXTINF");n=a?n+Math.ceil(Number(a.value.split(",")[0])):n+e.La}}e.s&&0>e.s&&(n=Math.min(-e.s,n),e.s+=n),e.l.gh(0),e.l.Tf(n),e.l.zc(!1)}function Iv(e,t,n,r,i){var a=zg(n,"EXT-X-MAP");if(!a)return null;var o=jg(a,"URI"),s=qg(r(),o,i);if(o=[s.toString(),Ug(a,"BYTERANGE","")].join("-"),!e.ra.has(o)){for(var u=void 0,l=null,d=(n=c(n)).next();!d.done;d=n.next())"EXT-X-KEY"==(d=d.value).name?$v(jg(d,"METHOD"))&&d.id<a.id&&(u=kv(e,d,t,r,i)):"EXT-X-BYTERANGE"==d.name&&d.id<a.id&&(l=d);t=function(e,t,n,r){var i=0,a=null;return!(t=Ug(t,"BYTERANGE"))&&n&&(t=n.value),t&&(i=t.split("@"),a=Number(i[0]),a=(i=Number(i[1]))+a-1,r&&((n=a+1-i)%16&&(a+=16-n%16))),new go((function(){return e}),i,a,null,null,null,r)}(s,a,l,u),e.ra.set(o,t)}return e.ra.get(o)}function Mv(t,n,r,i,a,o,s,u,l){function d(e){e=new zn(e).Ua.split(".").pop();var t=qv[s][e];return t||(t=Hv[e]),t}var f=i.X,p=zg(f,"EXTINF"),h=0,g=0,v=null;i.Cb.length&&(t.m.isLowLatency=!0);var m=null;if(!t.g.hls.ignoreManifestProgramDateTime){var y=zg(f,"EXT-X-PROGRAM-DATE-TIME");y&&y.value&&(m=Ht(y.value),t.bc=!0)}var b=bo;if(zg(f,"EXT-X-GAP")&&(t.m.gapCount++,b=2),!p){if(0==i.Cb.length)throw new Pe(2,4,4024,"EXTINF");if(!t.K)return null}var w=[];y=!1;var x=null,S=!1,T=!1;if(t.K&&i.Cb.length){h=n&&e.ReadableStream&&t.g.hls.allowLowLatencyByteRangeOptimization;for(var k=m,C={},A=0;A<i.Cb.length;C={xe:void 0,fe:void 0},A++){var E=i.Cb[A],I=0==A?r:w[w.length-1],M=0==A?a:I.endTime,_=Number(Ug(E,"DURATION"))||t.V;if(_){var P=M+_,D=0,L=null;if("EXT-X-PRELOAD-HINT"==E.name?(D=(D=Ug(E,"BYTERANGE-START"))?Number(D):0,(I=Ug(E,"BYTERANGE-LENGTH"))?L=D+Number(I)-1:D&&(L=Number.MAX_SAFE_INTEGER)):(D=(L=c(_v(I,D=Ug(E,"BYTERANGE")))).next().value,L=L.next().value),C.fe=Ug(E,"URI"),C.fe){I=bo,"YES"==Ug(E,"GAP")&&(t.m.gapCount++,I=2,S=!0),C.xe=null;var R=function(e){return function(){return null==e.xe&&(e.xe=qg(u(),e.fe,o)),e.xe}}(C);h&&0<=D&&null!=L&&(x=R,y=!0),M=new mo(M,P,R,D,L,n,0,0,1/0,[],"",null,k,I,l),"EXT-X-PRELOAD-HINT"==E.name&&(M.Bf(),T=!0),"YES"!=Ug(E,"INDEPENDENT")&&0<A&&M.Nc(),(C=d(C.fe))&&(M.mimeType=C,Kv.has(C)&&(M.ba=null)),w.push(M),k&&(k+=_)}}}}if(p){if(0==(p=Number(p.value.split(",")[0])))return null;h=a+p}else{if(!w.length)return null;h=w[w.length-1].endTime}y&&(S||0!=w[0].Ka?(y=!1,x=null):w=[]),(p=zg(f,"EXT-X-BYTERANGE"))?(g=(v=c(_v(r,p.value))).next().value,v=v.next().value):w.length&&(g=w[0].Ka,v=w[w.length-1].ua),r="",p=null,"image"==s&&(r="1x1",f=zg(f,"EXT-X-TILES"))&&(r=jg(f,"LAYOUT"),(f=Ug(f,"DURATION"))&&(p=Number(f)));var N=null;return n=new mo(a,h,(function(){return x?x():(null==N&&(N=qg(u(),i.g,o)),N||[])}),g,v,n,0,0,1/0,w,r,p,m,b,l,0<w.length&&!!i.g),(a=d(i.g))&&(n.mimeType=a,Kv.has(a)&&(n.ba=null)),y&&(t.Ib=!0,n.Lg(),T&&n.Bf()),n}function _v(e,t){var n=0,r=null;return t&&(n=t.split("@"),t=Number(n[0]),r=(n=n[1]?Number(n[1]):e.ua+1)+t-1),[n,r]}function Pv(e,t,n,r,i){if("video"==n||"audio"==n){var a=e.l.m;if(a&&!bv(e,n))for(t=(t=Vg(t,"EXT-X-DATERANGE")).sort((function(e,t){return(e=jg(e,"START-DATE"))<(t=jg(t,"START-DATE"))?-1:e>t?1:0})),n=0;n<t.length;n++){var o=t[n];try{var s=jg(o,"ID");if(!e.Aa.has(s)){var u=Ht(jg(o,"START-DATE"));if(!isNaN(u)){var l=Math.max(0,u-a),d=null,f=Ug(o,"END-DATE");if(f){var p=Ht(f);if(!isNaN(p)&&0>(d=p-a))continue}if(null==d){var h=Ug(o,"DURATION")||Ug(o,"PLANNED-DURATION");if(h){var g=parseFloat(h);if(isNaN(g)||(d=l+g),0>u-a+g)continue}}var v=Ug(o,"CLASS")||"com.apple.quicktime.HLS",m="YES"==Ug(o,"END-ON-NEXT");if(null==d&&m){for(var y=n+1;y<t.length;y++)if(v==(Ug(t[y],"CLASS")||"com.apple.quicktime.HLS")){var b=Ht(jg(t[y],"START-DATE"));if(!isNaN(b)&&b&&b>u){d=Math.max(0,b-a);break}}if(null==d)continue}y=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var w=[],x=c(o.attributes),S=x.next();!S.done;S=x.next()){var T=S.value;if(!y.includes(T.name)){var k=Gg(T.value,r);"X-ASSET-URI"!=T.name&&"X-ASSET-LIST"!=T.name||(k=qg(i(),T.value,r)[0]),w.push({key:T.name,description:"",data:k,mimeType:null,pictureType:null})}}1<w.length&&e.h.onMetadata(v,l,d,w),e.Aa.add(s)}}}catch(e){}}}}function Dv(e,t,n,r,i,a){var o=t.segments,s=void 0,u=Hg(t.X,"EXT-X-DISCONTINUITY-SEQUENCE",-1),l=Hg(t.X,"EXT-X-MEDIA-SEQUENCE",0),d=zg(t.X,"EXT-X-SKIP"),f=d?Number(Ug(d,"SKIPPED-SEGMENTS")):0,p=l+f,h=0;Fv(e)&&n.has(p)&&(h=n.get(p)),0===h&&e.xa==Yv&&0<n.size&&!n.has(p)&&null!=e.l.i&&(h=e.l.qb());var g=[],v=null;d=[];for(var m=0;m<o.length;m++){var y=o[m],b=0==m?h:v.endTime;p=l+f+m,zg(y.X,"EXT-X-DISCONTINUITY")&&u++;for(var w=c(y.X),x=w.next();!x.done;x=w.next())"EXT-X-KEY"==(x=x.value).name&&(s=$v(jg(x,"METHOD"))?kv(e,x,t,i,r):void 0);n.set(p,b),w=Iv(e,t,y.X,i,r),!e.K&&e.h.isAutoLowLatencyMode()&&(e.h.enableLowLatencyMode(),e.K=e.h.isLowLatencyMode()),(b=Mv(e,w,v,y,b,r,a,i,s))&&((v=Hg(y.X,"EXT-X-BITRATE"))?d.push({bitrate:v,duration:b.endTime-b.startTime}):d.length&&((v=d.pop()).duration+=b.endTime-b.startTime,d.push(v)),v=b,b.i=u,bv(e,a)&&null!=e.I&&p<e.I||g.push(b))}if(t=void 0,d.length&&(t=d.reduce((function(e,t){return e+t.duration}),0),t=Math.round(d.reduce((function(e,t){return e+t.bitrate*t.duration}),0)/t*1e3)),d=g.some((function(e){return null!=e.h})))for(n={},r=0;r<g.length;n={Md:void 0,Ld:void 0,Ed:void 0,xc:void 0,Dd:void 0},r++)if(n.xc=g[r],null==n.xc.h)for(n.Ld=0,n.Md=r,i=function(e){return function(){var t=g[e.Md];if(t){if(null!=t.h)return t.h+e.Ld;e.Ld-=t.endTime-t.startTime,e.Md+=1}return null}}(n),n.Dd=0,n.Ed=r,o=function(e){return function(){var t=g[e.Ed];if(t){if(t!=e.xc&&(e.Dd+=t.endTime-t.startTime),null!=t.h)return t.h+e.Dd;--e.Ed}return null}}(n);null==n.xc.h;)n.xc.h=o(),null==n.xc.h&&(n.xc.h=i());if(d)for(r=(n=c(g)).next();!r.done;r=n.next())for(r=(i=r.value).h,o=(i=c(i.g)).next();!o.done;o=i.next())(o=o.value).h=r,r+=o.endTime-o.startTime;if(n=e.ja,d&&1/0!=n&&!bv(e,a))for(a=(e=c(g)).next();!a.done;a=e.next())a.value.Zf(n);return{segments:g,bandwidth:t}}function Lv(e,t){if(e==yr){if("vtt"==t||"wvtt"==t)return"text/vtt";if(t&&""!==t)return"application/mp4"}return"image"!=e||t&&"jpeg"!=t?"audio"==e&&"mp4a.40.34"==t?"audio/mpeg":"mjpg"==t?"application/mp4":null:"image/jpeg"}function Rv(e){return e==yr?"text/vtt":qv[e].mp4}function Nv(e,t){for(var n=t[e=Fv(e)?Math.trunc((t.length-1)/2):0];2==n.ac()&&e+1<t.length;)n=t[++e];return{segment:n,segmentIndex:e}}function Ov(e,t,n,r,i,a,o){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(r)||void 0,e.hdr=i||void 0,e.videoLayout=a||void 0,e.colorGamut=o||void 0)}function Uv(e,t,n){return Vv(e,aa(t,e.g.retryParameters),0,{type:n?2:3})}function jv(e){var t,n,r,i,a,o;return D((function(s){switch(s.g){case 1:return e.h?(S(s,2),t=Date.now(),w(s,e.update(),4)):s.return();case 4:n=Date.now(),Fv(e)&&(r=(n-t)/1e3,e.Gb.sample(1,r),i=0<e.g.hls.updatePeriod?e.g.hls.updatePeriod:e.o,a=Math.max(0,i-H(e.Gb)),e.B.Z(a)),k(s,3);break;case 2:if(o=C(s),!e.h)return s.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(o),s.return();o.severity=1,e.h.onError(o),e.B.Z(.1);case 3:if(!e.h)return s.return();e.h.onManifestUpdated(),x(s)}}))}function Fv(e){return e.xa!=Xv}function Bv(e,t){e.xa=t,e.l&&e.l.zc(!Fv(e)),Fv(e)||e.B.stop()}function Vv(e,t,n,r){if(!e.da)throw new Pe(2,7,7001);return r||(r={}),r.isPreload=e.Hb(),t=e.h.networkingEngine.request(n,t,r),ta(e.da,t),t}function $v(e){return"AES-128"==e||"AES-256"==e||"AES-256-CTR"==e}function zv(e,t,n,r,i,a){var o,s,u,c,l,d,f,p,h,g,v,m,y;return D((function(b){switch(b.g){case 1:if("video/mp2t"==n)throw new Pe(2,4,4040);if(st())throw new Pe(2,4,4041);if(o=jg(t,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(o))return b.return(null);if((s=qg(r(),jg(t,"URI"),a))[0].startsWith("data:text/plain;base64,")){u=lr(ur(s[0].split("data:text/plain;base64,").pop())),b.u(2);break}return c=s.sort().join(""),e.na.has(c)||(l=aa(s,e.g.retryParameters),d=Vv(e,l,6).promise,e.na.set(c,d)),w(b,e.na.get(c),3);case 3:f=b.h,u=lr(f.data);case 2:if(p="00000000000000000000000000000000",!i){b.u(4);break}if(e.qa.has(i)){h=e.qa.get(i),b.u(5);break}return g=Pu(i.N(),i.$b(),i.Yb(),e.g.retryParameters),w(b,Vv(e,g,la,{type:0}).promise,6);case 6:v=b.h,h=function(e){var t=null;return(new xa).box("moov",Sa).box("trak",Sa).box("mdia",Sa).box("minf",Sa).box("stbl",Sa).R("stsd",Ta).box("encv",ka).box("enca",Ca).box("sinf",Sa).box("schi",Sa).R("tenc",(function(e){(e=e.reader).T(),e.T(),e.T(),e.T(),t=lr(e.vb(16))})).parse(e,!0),t}(v.data),e.qa.set(i,h);case 5:h&&(p=h);case 4:return(m=new Map).set(p,u),y="cenc","SAMPLE-AES"==o&&(y="cbcs"),b.return(hr(m,y))}}))}B("shaka.net.DataUriPlugin",Qg),Qg.parse=ev,ra("data",ev),(r=nv.prototype).configure=function(e,t){var n=this.h&&e.hls.updatePeriod!=this.g.hls.updatePeriod&&0<=e.hls.updatePeriod;this.g=e,t&&(this.Hb=t),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.U()&&this.B.hc()},r.start=function(e,t){var n,r=this;return D((function(i){return 1==i.g?(r.h=t,r.K=t.isLowLatencyMode(),w(i,Uv(r,[e]).promise,2)):3!=i.g?(n=i.h,r.M=n.uri,w(i,function(e,t,n){var r,i,a,o,s,u,d,f,p,h,g,v,m,y,b,x,T,k,A,E,I,M,_,P,L,R,N,O,U,j,F,B,V;return D((function($){switch($.g){case 1:return r=br,i=Wg(e.Ha,t),a=Vg(i.X,"EXT-X-DEFINE"),o=[],s=[],u=[],e.l=new Ls(null,0),e.l.zc(!0),d=function(){return[n]},f=null,p=new Map,1==i.type?(e.S=!1,k=Vg(i.X,"EXT-X-DEFINE"),p=uv(e,k,e.M),f=r.la,A="",E=new Map,w($,wv(e,e.C++,p,i,d,"",f,A,!0,"Media Playlist",null,E,null,!1,null,!1),7)):(function(e,t){for(var n=new zn(e.M).g,r=(t=c(t)).next();!r.done;r=t.next()){var i=r.value;r=Ug(i,"NAME");var a=Ug(i,"VALUE");i=Ug(i,"QUERYPARAM"),r&&a&&(e.A.has(r)||e.A.set(r,a)),i&&(r=n.get(i)[0])&&!e.A.has(r)&&e.A.set(i,r)}}(e,a),h=Vg(i.X,"EXT-X-MEDIA"),g=Vg(i.X,"EXT-X-STREAM-INF"),v=Vg(i.X,"EXT-X-IMAGE-STREAM-INF"),m=Vg(i.X,"EXT-X-I-FRAME-STREAM-INF"),y=Vg(i.X,"EXT-X-SESSION-KEY"),b=Vg(i.X,"EXT-X-SESSION-DATA"),x=Vg(i.X,"EXT-X-CONTENT-STEERING"),function(e,t){for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=Ug(r,"DATA-ID");n=Ug(r,"URI");var a=Ug(r,"LANGUAGE");r=Ug(r,"VALUE"),i=(new Map).set("id",i),n&&i.set("uri",qg([e.M],n,e.A)[0]),a&&i.set("language",a),r&&i.set("value",r),n=new Yi("sessiondata",i),e.h&&e.h.onEvent(n)}}(e,b),w($,function(e,t){var n,r,i,a,o,s;return D((function(u){if(!e.h||!e.g)return u.return();for(r=c(t),i=r.next();!i.done;i=r.next())if(a=i.value,o=Ug(a,"PATHWAY-ID"),s=Ug(a,"SERVER-URI"),o&&s){e.j=new bh(e.h),e.j.configure(e.g),e.j.i=[e.M],e.j.setManifestType("HLS"),e.j.h=o,n=wh(e.j,s);break}return w(u,n,0)}))}(e,x),4));case 4:return function(e,t){for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=Ug(r,"AUDIO");n=Ug(r,"VIDEO");var a=Ug(r,"SUBTITLES");if(r=dv(e,r),a){var o=vr(yr,r);e.G.set(a,o),Ie(r,o)}i&&((a=vr("audio",r))||(a=e.g.hls.defaultAudioCodec),e.G.set(i,a)),n&&((i=vr("video",r))||(i=e.g.hls.defaultVideoCodec),e.G.set(n,i))}}(e,g),function(e,t){t=$g(t,"CLOSED-CAPTIONS"),e.S=0==t.length;for(var n=(t=c(t)).next();!n.done;n=t.next()){var r=n.value,i=Ug(r,"LANGUAGE");n=Xr(i||"und"),i||(i=Ug(r,"NAME"))&&(n=i),i=jg(r,"GROUP-ID"),r=jg(r,"INSTREAM-ID").replace("SERVICE","svc"),e.F.get(i)||e.F.set(i,new Map),e.F.get(i).set(r,n)}}(e,h),T=function(e,t){return t.map((function(t){return"video"!==(t=hv(e,t)).stream.type?null:t.stream})).filter((function(e){return e}))}(e,m),w($,function(e,t,n,r,i,a,o){var s,u,d,f,p,h,g,v,m,y,b,x,S,T,k,C,A,E,I,M,_,P,L,R,N,O,U,j,F,B,V,$,z,H,q;return D((function(D){switch(D.g){case 1:if(s=[],u=new Set,!(0<n.length)){D.u(2);break}d=c(n),f=d.next();case 3:if(f.done){D.u(2);break}if(p=f.value,h=jg(p,"METHOD"),g=Ug(p,"KEYFORMAT")||"identity",v=null,"NONE"==h){D.u(4);break}if($v(h)){m=qg(i(),jg(p,"URI"),a),y=m.sort().join(""),e.L.has(y)||(b=aa(m,e.g.retryParameters),x=Vv(e,b,6).promise,e.L.set(y,x)),D.u(4);break}if("identity"!=g){v=(S=Gv[g])?S(p,""):null,D.u(6);break}return w(D,zv(e,p,"",i,null,a),9);case 9:v=D.h;case 6:if(v){if(v.keyIds)for(T=c(v.keyIds),k=T.next();!k.done;k=T.next())C=k.value,u.add(C);s.push(v)}case 4:f=d.next(),D.u(3);break;case 2:for(A={},E=c(t),I=E.next();!I.done;I=E.next())M=I.value,_=Ng(M,!e.j),A[_]?A[_].push(M):A[_]=[M];for(L in P=[],A)R=A[L],N=R[0],O=Ug(N,"FRAME-RATE"),U=Number(Ug(N,"AVERAGE-BANDWIDTH"))||Number(jg(N,"BANDWIDTH")),j=Ug(N,"RESOLUTION"),F=c(j?j.split("x"):[null,null]),B=F.next().value,V=F.next().value,$=Ug(N,"VIDEO-RANGE"),(z=Ug(N,"REQ-VIDEO-LAYOUT"))&&z.includes(",")&&(H=z.split(",").filter((function(e){return"CH-STEREO"==e||"CH-MONO"==e})),z=H[0]),z=z||"CH-MONO",q=lv(e,R,r),P.push.apply(P,l(fv(e,q.audio,q.video,U,B,V,O,$,z,s,u,o)));return D.return(P.filter((function(e){return null!=e})))}}))}(e,g,y,h,d,e.A,T),5);case 5:return o=$.h,s=function(e,t){var n=$g(t,"SUBTITLES");t=n.map((function(t){if(e.g.disableText)return null;try{return pv(e,[t],new Map).stream}catch(t){if(e.g.hls.ignoreTextStreamFailures)return null;throw t}}));for(var r=(n=c(n)).next();!r.done;r=n.next()){var i=jg(r.value,"GROUP-ID");if((r=e.G.get(i))&&(i=e.H.get(i)))for(var a=(i=c(i)).next();!a.done;a=i.next())(a=a.value).stream.codecs=r,a.stream.mimeType=Lv(yr,r)||Rv(yr),cv(a.stream)}return t.filter((function(e){return e}))}(e,h),w($,function(e,t,n){var r,i;return D((function(a){return 1==a.g?(r=t.map((function(t){var n,r;return D((function(i){if(1==i.g)return e.g.disableThumbnails?i.return(null):(S(i,2),w(i,function(e,t){var n,r,i,a,o,s,u,c,l,d;return D((function(f){return 1==f.g?(n=jg(t,"URI"),r=Ug(t,"CODECS","jpeg")||"",e.i.has(n)?f.return(e.i.get(n)):(i=Ug(t,"LANGUAGE"),a=Ug(t,"NAME"),o=Ug(t,"CHARACTERISTICS"),s=gv(e,e.C++,[n],r,"image",i,!1,a,null,null,o,!1,null,!1),(u=Ug(t,"RESOLUTION"))?w(f,s.stream.createSegmentIndex(),3):f.u(2))):(2!=f.g&&(c=eu(s.stream.segmentIndex),l=c.tilesLayout)&&(s.stream.width=Number(u.split("x")[0])*Number(l.split("x")[0]),s.stream.height=Number(u.split("x")[1])*Number(l.split("x")[1])),(d=Ug(t,"BANDWIDTH"))&&(s.stream.bandwidth=Number(d)),e.i.set(n,s),f.return(s))}))}(e,t),4));if(2!=i.g)return n=i.h,i.return(n.stream);if(r=C(i),e.g.hls.ignoreImageStreamFailures)return i.return(null);throw r}))})).concat(n.map((function(t){if(e.g.disableThumbnails)return null;try{var n=hv(e,t);return"image"!==n.stream.type?null:n.stream}catch(t){if(e.g.hls.ignoreImageStreamFailures)return null;throw t}}))),w(a,Promise.all(r),2)):(i=a.h,a.return(i.filter((function(e){return e}))))}))}(e,v,m),6);case 6:u=$.h,$.u(3);break;case 7:I=$.h,e.i.set(n,I),I.stream&&(M=Eu(I.stream),I.stream.segmentIndex.yb((function(e){e.ba&&(e.ba.Oc=M)}))),f=I.stream.type,o.push({id:0,language:Xr(A||"und"),disabledUntilTime:0,primary:!0,audio:"audio"==f?I.stream:null,video:"video"==f?I.stream:null,bandwidth:I.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new Pe(2,7,7001);if(Cv(e,i),1==i.type&&(Fv(e)&&(Ev(e,i),_=e.o,e.B.Z(_)),P=Array.from(e.i.values()),yv(e,P),sv(e),Pv(e,i.X,f,p,d)),e.m={presentationTimeline:e.l,variants:o,textStreams:s,imageStreams:u,offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.s},e.fa||!e.g.hls.disableCodecGuessing){$.u(8);break}for(L=[],R=c(e.m.variants),N=R.next();!N.done;N=R.next())(O=N.value).audio&&""===O.audio.codecs&&L.push(O.audio.createSegmentIndex()),O.video&&""===O.video.codecs&&L.push(O.video.createSegmentIndex());return w($,Promise.all(L),8);case 8:if(e.h.makeTextStreamsForClosedCaptions(e.m),1==o.length){for(U=[],j=o[0],F=c([j.video,j.audio]),B=F.next();!B.done;B=F.next())(V=B.value)&&!V.segmentIndex&&U.push(V.createSegmentIndex());if(0<U.length)return w($,Promise.all(U),0)}$.u(0)}}))}(r,n.data,e),3)):i.return(r.m)}))},r.stop=function(){this.B&&(this.B.stop(),this.B=null);var e=[];return this.da&&(e.push(this.da.destroy()),this.da=null),this.g=this.h=null,this.Na.clear(),this.m=null,this.i.clear(),this.H.clear(),this.G.clear(),this.A.clear(),this.ra.clear(),this.ka.clear(),this.L.clear(),this.na.clear(),this.qa.clear(),this.Aa.clear(),this.j&&this.j.destroy(),this.$&&(this.$.release(),this.$=null),Promise.all(e)},r.update=function(){var e,t,n,r,i,a,o,s,u,d,f,p=this;return D((function(h){if(1==h.g){if(!Fv(p))return h.return();for(e=[],t=Array.from(p.i.values()),p.o=1/0,p.m.gapCount=0,n=t.filter((function(e){return e.stream.segmentIndex})),r=c(n),i=r.next();!i.done;i=r.next())a=i.value,e.push(iv(p,a));return w(h,Promise.all(e),2)}for(mv(p,n.map((function(e){return e.stream}))),o=n.some((function(e){return 0==e.hd})),n.length&&!o&&(Bv(p,Jv.vh),s=n.map((function(e){return e.Mb})),p.l.bb(Math.min.apply(Math,l(s))),p.h.updateDuration()),o&&sv(p),u=c(n),d=u.next();!d.done;d=u.next())(f=d.value).stream.isAudioMuxedInVideo||!f.stream.segmentIndex||eu(f.stream.segmentIndex)||p.h.disableStream(f.stream);x(h)}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(){},r.banLocation=function(e){this.j&&this.j.banLocation(e)},r.setMediaElement=function(e){this.aa=e},B("shaka.hls.HlsParser",nv);var Hv={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},qv={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},Kv=new Set(["video/mp2t"].concat(l(Nr))),Gv={"com.apple.streamingkeydelivery":function(e,t){if("video/mp2t"==t)throw new Pe(2,4,4040);if(st())throw new Pe(2,4,4041);if(t=jg(e,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return"SAMPLE-AES"==t&&(n="cbcs"),pr("com.apple.fps",n,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],jg(e,"URI"))},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=jg(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return"SAMPLE-AES"==t&&(n="cbcs"),n=pr("com.widevine.alpha",n,[{initDataType:"cenc",initData:t=ve((t=tv((t=jg(e,"URI")).split("?")[0])).data)}]),(e=Ug(e,"KEYID"))&&(n.keyIds=new Set([e.toLowerCase().substr(2)])),n},"com.microsoft.playready":function(e){var t=jg(e,"METHOD");if(!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t))return null;var n="cenc";return"SAMPLE-AES"==t&&(n="cbcs"),pr("com.microsoft.playready",n,[{initDataType:"cenc",initData:e=La(e=ve((e=tv((e=jg(e,"URI")).split("?")[0])).data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),new Set,0)}])}},Xv="VOD",Wv="EVENT",Yv="LIVE",Jv={vh:Xv,uj:Wv,Cj:Yv};function Zv(e){if(e=Qv(e))e:{for(var t=(e=c(Ut(e,"DATA"))).next();!t.done;t=e.next())if(t=jt(t.value,"LA_URL")){e=Nt(t);break e}e=""}else e="";return e}function Qv(e){return(e=function(e){var t=0,n=ye(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>n.byteLength){n=[];break e}var a=ve(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}(e=ur(Nt(e))).filter((function(e){return e.type===em}))[0])&&(e=_t(e=pt(e.value,!0),"WRMHEADER"))?e:null}lo["application/x-mpegurl"]=function(){return new nv},lo["application/vnd.apple.mpegurl"]=function(){return new nv};var em=1,tm=(new Map).set("com.microsoft.playready",Zv).set("com.microsoft.playready.recommendation",Zv).set("com.microsoft.playready.software",Zv).set("com.microsoft.playready.hardware",Zv);function nm(e){if(!pm){pm=!0;var t=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),r=new Uint8Array([0,0,0,1]);Cm=fm("ftyp",t,r,t,n),t=fm("dref",Am),Em=fm("dinf",t)}this.g=e}function rm(e){for(var t=[],n=c(e.g),r=n.next();!r.done;r=n.next()){var i=t,a=i.push,o=r.value;r=fm;var s=o.id+1,u=o.stream.width||0,d=o.stream.height||0;"audio"==o.type&&(d=u=0);var f=o.duration*o.timescale,p=Math.floor(f/(hm+1));switch(f=Math.floor(f%(hm+1)),s=fm("tkhd",s=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(l(lm(s,4)),[0,0,0,0],l(lm(p,4)),l(lm(f,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],l(lm(u,2)),[0,0],l(lm(d,2)),[0,0]))),u=fm,p=o.duration*o.timescale,d=Math.floor(p/(hm+1)),p=Math.floor(p%(hm+1)),f=(f=o.stream.language).charCodeAt(0)-96<<10|f.charCodeAt(1)-96<<5|f.charCodeAt(2)-96,d=fm("mdhd",d=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(l(lm(o.timescale,4)),l(lm(d,4)),l(lm(p,4)),l(lm(f,2)),[0,0]))),p=o,f=new Uint8Array([]),p.type){case"video":f=vm;break;case"audio":f=mm}p=fm("hdlr",f);e:{switch(o.type){case"video":o=fm("minf",fm("vmhd",Sm),Em,im(o));break e;case"audio":o=fm("minf",fm("smhd",Tm),Em,im(o));break e}o=new Uint8Array([])}r=r("trak",s,o=u("mdia",d,p,o)),a.call(i,r)}for(t=dr.apply(ar,l(t)),n=fm,r=(a=e.g[0]).duration*a.timescale,i=Math.floor(r/(hm+1)),r=Math.floor(r%(hm+1)),i=fm("mvhd",i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(l(lm(a.timescale,4)),l(lm(i,4)),l(lm(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),r=[],u=(e=c(e.g)).next();!u.done;u=e.next())s=(o=r).push,u=fm("trex",u=new Uint8Array([0,0,0,0].concat(l(lm(u.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),s.call(o,u);if(e=fm("mvex",e=dr.apply(ar,l(r))),r=[],a.encrypted){for(o=(a=c(a.stream.drmInfos)).next();!o.done;o=a.next())if((o=o.value).initData)for(s=(o=c(o.initData)).next();!s.done;s=o.next())r.push(s.value.initData);a=dr.apply(ar,l(r))}else a=new Uint8Array([]);return e=n("moov",i,t,e,a),(t=new Uint8Array(Cm.byteLength+e.byteLength)).set(Cm),t.set(e,Cm.byteLength),t}function im(e){var t=fm,n=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){n=e.stream.width||0;var r=e.stream.height||0;if(0<e.za.byteLength)var i=fm("avcC",e.za);else{i=fm;for(var a=7,o=[],s=[],u=0,c=0,d=0,f=0;f<e.fb.length;f++){var p=dm(e.fb[f]);switch(31&p[0]){case 7:o.push(p),a+=p.length+2;break;case 8:s.push(p),a+=p.length+2}}for(0<o.length&&(u=o[0][1],d=o[0][2],c=o[0][3]),f=0,(a=new Uint8Array(a))[f++]=1,a[f++]=u,a[f++]=d,a[f++]=c,a[f++]=255,a[f++]=224|o.length,u=0;u<o.length;u++)a[f++]=(65280&o[u].length)>>8,a[f++]=255&o[u].length,a.set(o[u],f),f+=o[u].length;for(a[f++]=s.length,o=0;o<s.length;o++)a[f++]=(65280&s[o].length)>>8,a[f++]=255&s[o].length,a.set(s[o],f),f+=s[o].length;i=i("avcC",a)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(l(lm(n,2)),l(lm(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",s=am(e),o=new Uint8Array([]),e.encrypted&&(o=sm(e),r="encv"),n=fm(r,n,i,s,o)}else e.codecs.includes("hvc1")&&(r=e.stream.width||0,i=e.stream.height||0,n=new Uint8Array([]),0<e.za.byteLength&&(n=fm("hvcC",e.za)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(l(lm(r,2)),l(lm(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",s=am(e),o=new Uint8Array([]),e.encrypted&&(o=sm(e),i="encv"),n=fm(i,r,n,s,o));break;case"audio":e.codecs.includes("mp3")?e=fm(".mp3",om(e)):e.codecs.includes("ac-3")?(n=fm("dac3",e.pa),r="ac-3",i=new Uint8Array([]),e.encrypted&&(i=sm(e),r="enca"),e=fm(r,om(e),n,i)):e.codecs.includes("ec-3")?(n=fm("dec3",e.pa),r="ec-3",i=new Uint8Array([]),e.encrypted&&(i=sm(e),r="enca"),e=fm(r,om(e),n,i)):e.codecs.includes("opus")?(n=fm("dOps",e.pa),r="Opus",i=new Uint8Array([]),e.encrypted&&(i=sm(e),r="enca"),e=fm(r,om(e),n,i)):(0<e.pa.byteLength?n=fm("esds",e.pa):(n=fm,r=e.id+1,i=e.stream.channelsCount||2,o=e.stream.audioSamplingRate||44100,u=gr("audio",e.codecs.split(",")),s=(c={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[o],"mp4a.40.5"!==u&&"mp4a.40.29"!==u||(s=c[2*o]),o=parseInt(u.split(".").pop(),10),n=n("esds",r=new Uint8Array([0,0,0,0,3,25].concat(l(lm(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,o<<3|s>>>1,s<<7|i<<3,6,1,2])))),r="mp4a",i=new Uint8Array([]),e.encrypted&&(i=sm(e),r="enca"),e=fm(r,om(e),n,i)),n=e}return t("stbl",e=fm("stsd",km,n),fm("stts",ym),fm("stsc",bm),fm("stsz",xm),fm("stco",wm))}function am(e){if(!e.Da&&!e.Fa)return new Uint8Array([]);var t=e.Fa;return fm("pasp",e=new Uint8Array([].concat(l(lm(e.Da,4)),l(lm(t,4)))))}function om(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(l(lm(e.stream.audioSamplingRate||44100,2)),[0,0]))}function sm(e){for(var t=fm,n=e.codecs.substring(0,e.codecs.indexOf(".")),r=0,i=0;i<n.length;i+=1)r|=n.charCodeAt(i)<<8*(n.length-i-1);n=fm("frma",n=new Uint8Array([].concat(l(lm(r,4))))),r=fm("schm",r=new Uint8Array([0,0,0,0,99,101,110,99,0,1,0,0])),i=fm;for(var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=(e=c(e.stream.drmInfos)).next();!o.done;o=e.next())if((o=o.value)&&o.keyIds&&o.keyIds.size)for(var s=(o=c(o.keyIds)).next();!s.done;s=o.next())a=dm(s.value);return t("sinf",n,r,i("schi",a=fm("tenc",e=new Uint8Array([0,0,0,0,0,0,1,8]),a)))}function um(e){for(var t=[],n=(e=c(e.g)).next();!n.done;n=e.next()){n=n.value;var r,i=t.push,a=i.apply,o=fm,s=new Uint8Array([0,0,0,0].concat(l(lm(n.data?n.data.wb:0,4))));s=fm("mfhd",s);var u=n.data?n.data.ab:[],d=new Uint8Array(4+u.length);for(r=0;r<u.length;r++){var f=u[r].flags;d[r+4]=f.Ya<<4|f.$a<<2|f.Za}var p=(u=fm("sdtp",d)).length+92;d=fm,r=fm("tfhd",r=new Uint8Array([0,0,0,58].concat(l(lm(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),f=n.data?n.data.baseMediaDecodeTime:0;var h=Math.floor(f%(hm+1));f=fm("tfdt",f=new Uint8Array([1,0,0,0].concat(l(lm(Math.floor(f/(hm+1)),4)),l(lm(h,4)))));var g=p,v=12+16*(h=(p=n.data?n.data.ab:[]).length),m=new Uint8Array(v);for(g+=8+v,m.set(["video"===n.type?1:0,0,15,1].concat(l(lm(h,4)),l(lm(g,4))),0),g=0;g<h;g++){var y=p[g];v=lm(y.duration,4);var b=lm(y.size,4),w=y.flags;y=lm(y.hb,4),m.set([].concat(l(v),l(b),[w.kb<<2|w.Ya,w.$a<<6|w.Za<<4|w.lb,61440&w.Xa,15&w.Xa],l(y)),12+16*g)}o=o("moof",s,u=d("traf",r,f,p=fm("trun",m),u)),a.call(i,t,[o,cm(n)])}return dr.apply(ar,l(t))}function cm(e){return e=(e.data?e.data.ab:[]).map((function(e){return e.data})),fm("mdat",e=dr.apply(ar,l(e)))}function lm(e,t){var n=[];for(--t;0<=t;t--)n.push(e>>8*t&255);return n}function dm(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function fm(e){var t=L.apply(1,arguments),n=gm[e];n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],gm[e]=n);for(var r=8,i=t.length-1;0<=i;i--)r+=t[i].byteLength;for((i=new Uint8Array(r))[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(n,4),n=0,r=8;n<t.length;n++)i.set(t[n],r),r+=t[n].byteLength;return i}var pm=!1,hm=Math.pow(2,32)-1,gm={},vm=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),mm=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ym=new Uint8Array([0,0,0,0,0,0,0,0]),bm=new Uint8Array([0,0,0,0,0,0,0,0]),wm=new Uint8Array([0,0,0,0,0,0,0,0]),xm=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Sm=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Tm=new Uint8Array([0,0,0,0,0,0,0,0]),km=new Uint8Array([0,0,0,0,0,0,0,1]),Cm=new Uint8Array([]),Am=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Em=new Uint8Array([]);function Im(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.s=1,this.i=null,this.C=new z(5),this.o=new Be((function(){!function(e){var t;D((function(n){switch(n.g){case 1:return S(n,2),w(n,Mm(e),4);case 4:k(n,3);break;case 2:t=C(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();x(n)}}))}(e)})),this.B=new ea,this.m=new Map,this.A=function(){return!1}}function Mm(e){var t,n,r,i,a,o,s;return D((function(u){if(1==u.g)return t=aa(e.l,e.g.retryParameters),n=e.h.networkingEngine,r=Date.now(),i=n.request(0,t,{type:5,isPreload:e.A()}),ta(e.B,i),w(u,i.promise,2);if(a=u.h,!e.h)return u.return();a.uri&&!e.l.includes(a.uri)&&e.l.unshift(a.uri);var d=a.uri,f=a.data,p=e.g.mss.manifestPreprocessor;if(p!=dc){if(oe("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),!(f=ag(f,"SmoothStreamingMedia")))throw new Pe(2,4,4046,d);p(f),f=gt(f.outerHTML)}var h=Mt(f,"SmoothStreamingMedia");if(!h)throw new Pe(2,4,4046,d);if((d=e.g.mss.manifestPreprocessorTXml)!=fc&&d(h),e.i||(e.i=new Ls(null,0)),d=Bt(h,"IsLive",Jt,!1))throw new Pe(2,4,4047);e.i.zc(!d),p=Bt(h,"TimeScale",Wt,1e7),f=Bt(h,"DVRWindowLength",Wt),d&&(0===f||isNaN(f))&&(f=1/0);var g,v=Bt(h,"CanSeek",Jt,!1);for(0===f&&v&&(f=1/0),v=null,f&&0<f&&(v=f/p),d&&!isNaN(e.g.availabilityWindowOverride)&&(v=e.g.availabilityWindowOverride),null==v&&(v=1/0),e.i.pe(v),f=Bt(h,"Duration",Wt,1/0),d||e.i.bb(f/p),d={variants:[],textStreams:[],timescale:p,duration:f/p},v=Rt(h,"Protection"),p=e.g.mss.keySystemsBySystemId,f=[],g=(v=c(v)).next();!g.done;g=v.next())f=f.concat(Rt(g.value,"ProtectionHeader"));if(f.length){for(v=[],g=0;g<f.length;g++){var m=f[g],y=m.attributes.SystemID.toLowerCase(),b=p[y];if(b){var S=Qv(m);if(S)e:{for(var T=(S=c(Ut(S,"DATA"))).next();!T.done;T=S.next())if(T=jt(T.value,"KID")){S=ur(Nt(T)),S=lr(S=new Uint8Array([S[3],S[2],S[1],S[0],S[5],S[4],S[7],S[6]].concat(l(S.slice(8)))));break e}S=null}else S=null;y=pr(b,"cenc",y=[{initData:La(T=ur(Nt(m)),y=cr(y.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:S}]),S&&y.keyIds.add(S),(b=tm.get(b))&&(y.licenseServerUri=b(m)),v.push(y)}}p=v}else p=[];for(g=p,v=[],p=[],f=[],m=(h=c(h=Rt(h,"StreamIndex"))).next();!m.done;m=h.next()){b=Rt(m=m.value,"QualityLevel"),y=d.timescale,S=d.duration,T=Rt(m,"c");for(var k=[],C=0,A=0;A<T.length;++A){var E=T[A],I=T[A+1],M=Bt(E,"t",Wt),_=Bt(E,"d",Wt);if(E=Bt(E,"r",Gt),!_)break;if(M=null!=M?M:C,(E=E||0)&&E--,0>E)if(I){if(null==(I=Bt(I,"t",Wt)))break;if(M>=I)break;E=Math.ceil((I-M)/_)-1}else{if(1/0==S)break;if(M/y>=S)break;E=Math.ceil((S*y-M)/_)-1}for(I=0;I<=E;++I)C=M+_,k.push({start:M/y,end:C/y,eg:M}),M=C}for(y=k,S=(b=c(b)).next();!S.done;S=b.next())(S=_m(e,m,S.value,y,g,d))&&("audio"!=S.type||e.g.disableAudio?"video"!=S.type||e.g.disableVideo?S.type!=yr||e.g.disableText||f.push(S):p.push(S):v.push(S))}for(h=[],g=(v=c(0<v.length?v:[null])).next();!g.done;g=v.next())for(g=g.value,k=(m=c(0<p.length?p:[null])).next();!k.done;k=m.next())y=(b=h).push,S=e,T=g,k=k.value,A=0,T&&T.bandwidth&&0<T.bandwidth&&(A+=T.bandwidth),k&&k.bandwidth&&0<k.bandwidth&&(A+=k.bandwidth),S={id:S.s++,language:T?T.language:"und",disabledUntilTime:0,primary:!!T&&T.primary||!!k&&k.primary,audio:T,video:k,bandwidth:A,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},y.call(b,S);d.variants=h,d.textStreams=f,e.j?(e.j.variants=d.variants,e.j.textStreams=d.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:d.variants,textStreams:d.textStreams,imageStreams:[],offlineSessionIds:[],minBufferTime:0,sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.Yd()),Promise.resolve(),o=Date.now(),s=(o-r)/1e3,e.C.sample(1,s),x(u)}))}function _m(e,t,n,r,i,a){var o=t.attributes.Type;if("audio"!==o&&"video"!==o&&"text"!==o)return X("Ignoring unrecognized type:",o),null;var s=t.attributes.Language,u=e.s++,l=Bt(n,"Bitrate",Xt),d=Bt(n,"MaxWidth",Xt),f=Bt(n,"MaxHeight",Xt),p=Bt(n,"Channels",Xt),h=Bt(n,"SamplingRate",Xt),g=a.duration;r.length&&(g=r[r.length-1].end-r[0].start);var v=e.i.getDuration();e.i.bb(Math.min(g,v));var m={id:u,originalId:t.attributes.Name||String(u),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:l||0,width:d||void 0,height:f||void 0,kind:"",encrypted:0<i.length,drmInfos:i,keyIds:new Set,language:Xr(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:p,audioSamplingRate:h,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:g,timescale:a.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1};if((i=t.attributes.Subtype)&&((i=Dm[i])&&m.roles.push(i),"main"===i&&(m.primary=!0)),null!==(i=n.attributes.FourCC)&&""!==i||(i=t.attributes.FourCC),!i)if("audio"===o)i="AAC";else if("video"===o)return X('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!Pm.includes(i.toUpperCase()))return X("Codec not supported:",i),null;switch(n=function(e,t,n,r){if(e=e.attributes.CodecPrivateData)return e;if("audio"!==t)return null;t=r.channelsCount||2;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[e=r.audioSamplingRate||44100],"AACH"===n?(n=new Uint8Array(4),e=i[2*e],n[0]=40|r>>1,n[1]=r<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,(t=new Uint16Array(2))[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):((n=new Uint8Array(2))[0]=16|r>>1,n[1]=r<<7|t<<3,(t=new Uint16Array(1))[0]=(n[0]<<8)+n[1],t[0].toString(16))}(n,o,i,m),m.mssPrivateData.codecPrivateData=n,o){case"audio":if(!n)return X("Quality unsupported without CodecPrivateData",o),null;m.type="audio",m.mimeType="mss/audio/mp4",m.codecs=function(e,t){var n=0;return"AACH"===e&&(n=5),t?0===n&&(n=(248&parseInt(t.substr(0,2),16))>>3):(n=2,"AACH"===e&&(n=5)),"mp4a.40."+n}(i,n);break;case"video":if(!n)return X("Quality unsupported without CodecPrivateData",o),null;m.type="video",m.mimeType="mss/video/mp4",m.codecs=function(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}(n);break;case"text":m.type=yr,m.mimeType="application/mp4",("TTML"===i||"DFXP"===i)&&(m.codecs="stpp")}return m.fullMimeTypes.add(Tr(m.mimeType,m.codecs)),m.createSegmentIndex=function(){if(m.segmentIndex)return Promise.resolve();if(e.m.has(m.id))var n=e.m.get(m.id);else n=[],"video"==m.type&&(n=m.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=rm(new nm([n={id:m.id,type:m.type,codecs:m.codecs,encrypted:m.encrypted,timescale:m.mssPrivateData.timescale,duration:m.mssPrivateData.duration,fb:n,pa:new Uint8Array([]),za:new Uint8Array([]),Da:0,Fa:0,data:null,stream:m}])),e.m.set(m.id,n);return n=function(e,t,n,r,i){var a=r.attributes.Url.replace("{bitrate}",String(n.bandwidth));r=[];for(var o=(i=c(i)).next(),s={};!o.done;s={se:void 0},o=i.next())s.se=o.value,r.push(new mo(s.se.start,s.se.end,function(t){return function(){return fr(e.l,[a.replace("{start time}",String(t.se.eg))])}}(s),0,null,t,0,0,n.mssPrivateData.duration));return r}(e,new go((function(){return[]}),0,null,Eu(m),m.mssPrivateData.timescale,n),m,t,r),m.segmentIndex=new Qs(n),Promise.resolve()},m.closeSegmentIndex=function(){m.segmentIndex&&(m.segmentIndex.release(),m.segmentIndex=null)},m}(r=Im.prototype).configure=function(e,t){this.g=e,t&&(this.A=t)},r.start=function(e,t){var n=this;return D((function(r){if(1==r.g)return n.l=[e],n.h=t,w(r,Mm(n),2);if(!n.h)throw new Pe(2,7,7001);return r.return(n.j)}))},r.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.o&&(this.o.stop(),this.o=null),this.m.clear(),this.B.destroy()},r.update=function(){var e,t=this;return D((function(n){return 1==n.g?(S(n,2),w(n,Mm(t),4)):2!=n.g?k(n,0):(e=C(n),t.h&&e?(t.h.onError(e),void x(n)):n.return())}))},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(){},r.banLocation=function(){},r.setMediaElement=function(){},B("shaka.mss.MssParser",Im);var Pm="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),Dm={CAPT:"main",SUBT:"alternate",DESC:"main"};function Lm(e,t,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,originalUri:r,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};var o=null;try{o=ht(t)}catch(e){}throw new Pe(401==n||403==n?2:1,1,1001,r,n,o,e,a,i||r)}function Rm(){}function Nm(e,t,n,r,i,a){var o=new Vm;va(t.headers).forEach((function(e,t){o.append(t,e)}));var s=new Fm,u={ng:!1,ph:!1};if(e=function(e,t,n,r,i,a,o,s){var u,c,l,d,f,p,h,g,v,m,y,b;return D((function(T){switch(T.g){case 1:return u=jm,c=Bm,p=f=0,h=Date.now(),S(T,2),w(T,u(e,n),4);case 4:if(l=T.h,a(Om(l.headers)),"HEAD"==n.method){T.u(5);break}return g=l.clone().body.getReader(),m=(v=l.headers.get("Content-Length"))?parseInt(v,10):0,new c({start:function(e){!function t(){var n,r,a,u;return D((function(c){switch(c.g){case 1:return S(c,2),w(c,g.read(),4);case 4:n=c.h,k(c,3);break;case 2:return C(c),c.return();case 3:if(n.done){c.u(5);break}if(f+=n.value.byteLength,!o){c.u(5);break}return w(c,o(n.value),5);case 5:r=Date.now(),a=f-p,(100<r-h&&a>=s||n.done)&&(u=n.done?0:m-f,i(r-h,a,u),p=f,h=r),n.done?e.close():(e.enqueue(n.value),t()),x(c)}}))}()}}),w(T,l.arrayBuffer(),6);case 6:d=T.h;case 5:k(T,3);break;case 2:if(y=C(T),r.ng)throw new Pe(1,1,7001,e,t);if(r.ph)throw new Pe(1,1,1003,e,t);throw new Pe(1,1,1002,e,y,t);case 3:return b=Om(l.headers),T.return(Lm(b,d,l.status,e,l.url,t))}}))}(e,n,{body:t.body||void 0,headers:o,method:t.method,signal:s.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},u,r,i,t.streamDataCallback,a.minBytesForProgressEvents||0),e=new Hi(e,(function(){return u.ng=!0,s.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var c=new Be((function(){u.ph=!0,s.abort()}));c.Z(t/1e3),e.finally((function(){c.stop()}))}return e}function Om(e){var t={};return e.forEach((function(e,n){t[n.trim()]=e})),t}function Um(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!!e.Response&&!!new Response("").body&&!(!e.fetch||"polyfill"in e.fetch||!e.AbortController)}lo["application/vnd.ms-sstr+xml"]=function(){return new Im},B("shaka.net.HttpFetchPlugin",Rm),Rm.isSupported=Um,Rm.parse=Nm;var jm=e.fetch,Fm=e.AbortController,Bm=e.ReadableStream,Vm=e.Headers;function $m(){}function zm(e,t,n,r,i,a){var o=new qm,s=Date.now(),u=0;return new Hi(new Promise((function(c,l){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials,o.onabort=function(){l(new Pe(1,1,7001,e,n))};var d=!1;for(var f in o.onreadystatechange=function(){if(2==o.readyState&&!d){var e=Hm(o);i(e),d=!0}},o.onload=function(t){var i=Hm(o),a=o.response;try{r(Date.now()-s,t.loaded-u,0);var d=Lm(i,a,o.status,e,o.responseURL,n);c(d)}catch(e){l(e)}},o.onerror=function(t){l(new Pe(1,1,1002,e,t,n))},o.ontimeout=function(){l(new Pe(1,1,1003,e,n))},o.onprogress=function(e){var t=Date.now(),n=a.minBytesForProgressEvents||0,i=e.loaded-u;(100<t-s&&i>=n||e.lengthComputable&&e.loaded==e.total)&&(r(t-s,i,4==o.readyState?0:e.total-e.loaded),u=e.loaded,s=t)},t.headers)o.setRequestHeader(f.toLowerCase(),t.headers[f]);o.send(t.body)})),(function(){return o.abort(),Promise.resolve()}))}function Hm(e){var t=e.getAllResponseHeaders().trim().split("\r\n");e={};for(var n=(t=c(t)).next();!n.done;n=t.next())e[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");return e}Um()&&(ra("http",Nm,2,!0),ra("https",Nm,2,!0),ra("blob",Nm,2,!0)),B("shaka.net.HttpXHRPlugin",$m),$m.parse=zm;var qm=e.XMLHttpRequest;function Km(e,t,n,r){this.g=e,this.i=t,this.groupId=n,this.h=r}function Gm(e){return e.N().map((function(e){return"{"+encodeURI(e.split("#xywh=")[0])+"}"})).join("")+":"+e.Ka+":"+e.ua}function Xm(e,t){return Pu(e.g.N(),e.g.Ka,e.g.ua,t.streaming.retryParameters)}function Wm(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function Ym(e,t){e.i+=t;var n=e.l;return e.l++,e.g.set(n,t),n}function Jm(e){var t=this;this.o=e,this.j=new Map,this.i=new pa((function(){return Zm(t).catch((function(){}))})),this.h=[],this.m=function(){},this.l=function(){},this.g=new Wm}function Zm(e){var t=e.h.map((function(e){return e()}));return e.h=[],Promise.all(t)}function Qm(e,t,n,r,i,a){ha(e.i);var o=(e.j.get(t)||Promise.resolve()).then((function(){var t,o,s,u,c,l,d;return D((function(f){if(1==f.g)return w(f,function(e,t){var n,r,i,a;return D((function(o){return 1==o.g?(n=la,r=e.o.request(n,t),i=function(){return r.abort()},e.h.push(i),w(o,r.promise,2)):(a=o.h,Ie(e.h,i),o.return(a.data))}))}(e,n),2);if(t=f.h,e.i.g)throw new Pe(2,9,7001);if(i)for(u in o=ve(t),(s=new Da(o)).data)c=Number(u),l=s.data[c],d=s.g[c],e.l(l,d);e.g.close(r,t.byteLength);var p=e.g;return e.m(0==p.i?0:p.j/p.i,e.g.h),f.return(a(t))}))}));e.j.set(t,o)}function ey(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new zi,e.onabort=function(e){e.preventDefault(),n.g.reject()},e.onerror=function(e){e.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}function ty(e,t){return new Promise((function(n,r){var i=e.h.openCursor();i.onerror=r,i.onsuccess=function(){var e;return D((function(r){if(1==r.g)return null==i.result?(n(),r.return()):(e=i.result,w(r,t(e.key,e.value,e),2));e.continue(),x(r)}))}}))}function ny(e){this.h=e,this.g=[]}function ry(e,t){return iy(e,t,"readwrite")}function iy(e,t,n){var r=new ey(n=e.h.transaction([t],n),t);return e.g.push(r),r.promise().then((function(){Ie(e.g,r)}),(function(){Ie(e.g,r)})),r}function ay(e,t,n){this.h=new ny(e),this.i=t,this.g=n}function oy(e){return Promise.reject(new Pe(2,9,9011,"Cannot add new value to "+e))}function sy(e,t,n,r){t=(e=ry(e.h,t)).store();for(var i=(n=c(n)).next(),a={};!i.done;a={xf:void 0},i=n.next())a.xf=i.value,t.delete(a.xf).onsuccess=function(e){return function(){return r(e.xf)}}(a);return e.promise()}function uy(e,t,n){var r,i,a,o,s,u,l;return D((function(d){if(1==d.g){for(r=iy(e.h,t,"readonly"),i=r.store(),a={},o=[],s=c(n),u=s.next(),l={};!u.done;l={ke:void 0,Ud:void 0},u=s.next())l.Ud=u.value,l.ke=i.get(l.Ud),l.ke.onsuccess=function(e){return function(){null==e.ke.result&&o.push(e.Ud),a[e.Ud]=e.ke.result}}(l);return w(d,r.promise(),2)}if(o.length)throw new Pe(2,9,9012,"Could not find values for "+o);return d.return(n.map((function(e){return a[e]})))}))}function cy(e){this.g=new ny(e)}function ly(){this.g=new Map}function dy(e){var t=null;if(e.g.forEach((function(e,n){e.getCells().forEach((function(e,r){e.hasFixedKeySpace()||t||(t={path:{rb:n,Ma:r},Ma:e})}))})),t)return t;throw new Pe(2,9,9013,"Could not find a cell that supports add-operations")}function fy(e,t,n){if(!(e=e.g.get(t)))throw new Pe(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new Pe(2,9,9013,"Could not find cell with name "+n);return t}function py(e,t){hy.set(e,t)}ra("http",zm,1,!0),ra("https",zm,1,!0),ra("blob",zm,1,!0),Wm.prototype.close=function(e,t){if(this.g.has(e)){var n=this.g.get(e);this.g.delete(e),this.j+=n,this.h+=t}},Jm.prototype.destroy=function(){return this.i.destroy()},ey.prototype.abort=function(){var e=this;return D((function(t){if(1==t.g){try{e.i.abort()}catch(e){}return S(t,2),w(t,e.g,4)}if(2!=t.g)return k(t,0);C(t),x(t)}))},ey.prototype.store=function(){return this.h},ey.prototype.promise=function(){return this.g},ny.prototype.destroy=function(){return Promise.all(this.g.map((function(e){return e.abort()})))},(r=ay.prototype).destroy=function(){return this.h.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return oy(this.i)},r.removeSegments=function(e,t){return sy(this,this.i,e,t)},r.getSegments=function(e){var t,n=this;return D((function(r){return 1==r.g?w(r,uy(n,n.i,e),2):(t=r.h,r.return(t.map((function(e){return n.qg(e)}))))}))},r.addManifests=function(){return oy(this.g)},r.updateManifest=function(){return Promise.reject(new Pe(2,9,9016,"Cannot modify values in "+this.g))},r.updateManifestExpiration=function(e,t){var n=ry(this.h,this.g),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},r.removeManifests=function(e,t){return sy(this,this.g,e,t)},r.getManifests=function(e){var t,n=this;return D((function(r){return 1==r.g?w(r,uy(n,n.g,e),2):(t=r.h,r.return(Promise.all(t.map((function(e){return n.ad(e)})))))}))},r.getAllManifests=function(){var e,t,n=this;return D((function(r){return 1==r.g?(e=iy(n.h,n.g,"readonly"),t=new Map,w(r,ty(e,(function(e,r){var i;return D((function(a){if(1==a.g)return w(a,n.ad(r),2);i=a.h,t.set(e,i),x(a)}))})),2)):3!=r.g?w(r,e.promise(),3):r.return(t)}))},r.qg=function(e){return e},r.ad=function(e){return Promise.resolve(e)},r.add=function(e,t){var n,r,i,a,o,s,u,l=this;return D((function(d){if(1==d.g){for(n=ry(l.h,e),r=n.store(),i=[],a=c(t),o=a.next(),s={};!o.done;s={Mf:void 0},o=a.next())u=o.value,s.Mf=r.add(u),s.Mf.onsuccess=function(e){return function(){i.push(e.Mf.result)}}(s);return w(d,n.promise(),2)}return d.return(i)}))},cy.prototype.destroy=function(){return this.g.destroy()},cy.prototype.getAll=function(){var e,t,n=this;return D((function(r){return 1==r.g?(e=iy(n.g,"session-ids","readonly"),t=[],w(r,ty(e,(function(e,n){t.push(n)})),2)):3!=r.g?w(r,e.promise(),3):r.return(t)}))},cy.prototype.add=function(e){for(var t=ry(this.g,"session-ids"),n=t.store(),r=(e=c(e)).next();!r.done;r=e.next())n.add(r.value);return t.promise()},cy.prototype.remove=function(e){var t,n=this;return D((function(r){return 1==r.g?w(r,ty(t=ry(n.g,"session-ids"),(function(t,n,r){e.includes(n.sessionId)&&r.delete()})),2):w(r,t.promise(),0)}))},ly.prototype.destroy=function(){for(var e=[],t=c(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},ly.prototype.init=function(){var e=this;hy.forEach((function(t,n){(t=t())&&e.g.set(n,t)}));for(var t=[],n=c(this.g.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)},B("shaka.offline.StorageMuxer",ly),ly.unregister=function(e){hy.delete(e)},ly.register=py,ly.prototype.destroy=ly.prototype.destroy;var hy=new Map;function gy(){ay.apply(this,arguments)}function vy(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var n=c(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(r=(n=c(e)).next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){r=n++;for(var i=c(e),a=i.next();!a.done;a=i.next())a.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,a=(i=c(t)).next();!a.done;a=i.next())a.value.variantIds.push(r);if(e.length&&t.length)for(r=(t=c(t)).next();!r.done;r=t.next())for(r=r.value,a=(i=c(e)).next();!a.done;a=i.next()){a=a.value;var o=n++;r.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var n=c(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map((function(n){return function(e,t,n){var r=e.initSegmentUri?my(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var n=my(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}(n,e.startTime,t)}))}function my(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new Pe(2,9,9004,"Could not parse uri "+e)}function yy(){ay.apply(this,arguments)}function by(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function wy(){ay.apply(this,arguments)}function xy(){this.m=this.j=this.i=this.h=this.g=this.l=null}function Sy(e,t,n,r){this.g=e,this.i=t,this.h=n,this.l=r,this.j=["offline:",e,"/",t,"/",n,"/",r].join("")}function Ty(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new Sy(t,n,r,Number(e[4])):null}function ky(e,t){this.h=e,this.g=t}function Cy(e,t){var n=new Ls(null,0);n.bb(t.duration);var r=t.streams.filter((function(e){return"audio"==e.type})),i=t.streams.filter((function(e){return"video"==e.type}));r=function(e,t,n,r){for(var i=new Set,a=c(t),o=a.next();!o.done;o=a.next())for(var s=(o=c(o.value.variantIds)).next();!s.done;s=o.next())i.add(s.value);for(o=(a=c(n)).next();!o.done;o=a.next())for(s=(o=c(o.value.variantIds)).next();!s.done;s=o.next())i.add(s.value);for(a=new Map,o=(i=c(i)).next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(i=(t=c(t)).next();!i.done;i=t.next())for(i=Ay(e,o=i.value,r),s=(o=c(o.variantIds)).next();!s.done;s=o.next())(s=a.get(s.value)).language=i.language,s.primary=s.primary||i.primary,s.audio=i;for(t=(n=c(n)).next();!t.done;t=n.next())for(t=Ay(e,i=t.value,r),o=(i=c(i.variantIds)).next();!o.done;o=i.next())(o=a.get(o.value)).primary=o.primary||t.primary,o.video=t;return a}(e,r,i,n),i=t.streams.filter((function(e){return e.type==yr})).map((function(t){return Ay(e,t,n)}));var a=t.streams.filter((function(e){return"image"==e.type})).map((function(t){return Ay(e,t,n)})),o=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var s=c(r.values()),u=s.next();!u.done;u=s.next())(u=u.value).audio&&u.audio.encrypted&&(u.audio.drmInfos=o),u.video&&u.video.encrypted&&(u.video.drmInfos=o);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:a,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function Ay(e,t,n){var r=t.segments.map((function(n){return function(e,t,n){var r=new Sy("segment",e.h,e.g,t.dataKey);return e=new mo(t.startTime,t.endTime,(function(){return[r.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var n=new Sy("segment",e.h,e.g,t);return new go((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.qe(t.thumbnailSprite),e}(e,n,t)}));return n.td(r),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Qs(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([Tr(t.mimeType,t.codecs)]),isAudioMuxedInVideo:!1}}function Ey(){this.g=null}function Iy(){}function My(e){var t=Ty(e);return e=t&&"manifest"==t.g?Gi(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):t&&"segment"==t.g?function(e,t){var n=new ly;return Gi(void 0).Ca((function(){return n.init()})).Ca((function(){return fy(n,t.rb(),t.Ma())})).Ca((function(e){return e.getSegments([t.key()])})).Ca((function(e){return{uri:t,data:e[0].data,headers:{}}})).finally((function(){return n.destroy()}))}(t.key(),t):qi(new Pe(2,1,9004,e))}function _y(e,t,n){var r,i,a,o,s,u;return D((function(l){switch(l.g){case 1:r=[];for(var d=[],f=c(n),p=f.next();!p.done;p=f.next()){p=p.value;for(var h=!1,g=c(d),v=g.next();!v.done;v=g.next())if(Py((v=v.value).info,p)){v.sessionIds.push(p.sessionId),h=!0;break}h||d.push({info:p,sessionIds:[p.sessionId]})}i=c(d),a=i.next();case 2:if(a.done){l.u(4);break}return o=a.value,s=function(e,t,n){var r,i;return D((function(a){switch(a.g){case 1:return r=new Ra({Ob:t,onError:function(){},ee:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),S(a,2),r.configure(e),w(a,function(e,t,n,r,i,a){var o=new Map;return(i={audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,serverCertificateUri:"",initData:null,keyIds:null}],o.set(t,i),Va(e,o,[])}(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:k(a,3);break;case 2:return C(a),w(a,r.destroy(),5);case 5:return a.return([]);case 3:return i=[],w(a,Promise.all(n.sessionIds.map((function(e){return D((function(t){return 1==t.g?(S(t,2),w(t,function(e,t){var n,r,i;return D((function(a){return 1==a.g?w(a,Ha(e,t,{initData:null,initDataType:null}),2):3!=a.g?(n=a.h)?(r=[],(i=e.i.get(n))&&(i.nb=new zi,r.push(i.nb)),r.push(n.remove()),w(a,Promise.all(r),3)):a.return():(e.i.delete(n),void x(a))}))}(r,e),4)):2!=t.g?(i.push(e),k(t,0)):(C(t),void x(t))}))}))),6);case 6:return w(a,r.destroy(),7);case 7:return a.return(i)}}))}(e,t,o),w(l,s,5);case 5:u=l.h,r=r.concat(u),a=i.next(),l.u(2);break;case 4:return l.return(r)}}))}function Py(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Me(e.audioCapabilities,t.audioCapabilities,n)&&Me(e.videoCapabilities,t.videoCapabilities,n)}function Dy(e,t){var n=Cy(new ky(e.rb(),e.Ma()),t),r=t.appMetadata||{};return n=Ly(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r,isIncomplete:t.isIncomplete||!1}}function Ly(e){for(var t=[],n=bi(e.variants),r=(n=c(n)).next();!r.done;r=n.next())t.push(di(r.value));for(n=(e=c(e.textStreams)).next();!n.done;n=e.next())t.push(fi(n.value));return t}function Ry(){this.g={}}function Ny(e,t){var n=t.audio,r=t.video;if(n&&!r&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&r&&(e.g[r.id]=r.bandwidth||t.bandwidth),n&&r){var i=n.bandwidth||393216,a=r.bandwidth||t.bandwidth-i;0>=a&&(a=t.bandwidth),e.g[n.id]=i,e.g[r.id]=a}}function Oy(e,t){e.g[t.id]=t.bandwidth||2048}function Uy(e,t){return null==(e=e.g[t])&&(e=0),e}function jy(e){var t=this;if(e&&e.constructor!=fl)throw new Pe(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.Ab()):(this.h=cc(),this.g=new na),this.i=[],this.j=[];var n=!e;this.l=new pa((function(){var e,r,i,a,o;return D((function(s){switch(s.g){case 1:return w(s,Promise.all(t.j.map((function(e){return Zm(e)}))),2);case 2:for(e=function(){},r=[],i=c(t.i),a=i.next();!a.done;a=i.next())o=a.value,r.push(o.then(e,e));return w(s,Promise.all(r),3);case 3:if(!n){s.u(4);break}return w(s,t.g.destroy(),4);case 4:t.h=null,t.g=null,x(s)}}))})),this.m=1e9}function Fy(){if(Ve())e:{for(var e=c(hy.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function By(e){var t,n,r;return D((function(i){switch(i.g){case 1:return w(i,(t=new ly).init(),2);case 2:return w(i,dy(t),3);case 3:return n=i.h,r=new Sy("manifest",n.path.rb,n.path.Ma,e),w(i,t.destroy(),4);case 4:return w(i,(new jy).remove(r.toString()),0)}}))}function Vy(e,t,n,r,i,a){var o,s,u,l,d,f,p,h,g,v,m;return D((function(y){switch(y.g){case 1:for(o=!1,S(y,2),s=!0,u=c(n.streams),l=u.next();!l.done;l=u.next())for(d=l.value,f=c(d.segments),p=f.next();!p.done;p=f.next())h=p.value,null!=(g=h.pendingSegmentRefId?r[h.pendingSegmentRefId]:null)&&(h.dataKey=g,h.pendingSegmentRefId=void 0),null!=(g=h.pendingInitSegmentRefId?r[h.pendingInitSegmentRefId]:null)&&(h.initSegmentKey=g,h.pendingInitSegmentRefId=void 0),h.pendingSegmentRefId&&(s=!1),h.pendingInitSegmentRefId&&(s=!1);return n.size+=i,s&&(n.isIncomplete=!1),w(y,e.updateManifest(t,n),4);case 4:o=!0,a(),k(y,0);break;case 2:return v=C(y),w(y,By(t),5);case 5:if(o){y.u(6);break}return m=Object.values(r),w(y,e.removeSegments(m,(function(){})),6);case 6:throw v}}))}function $y(e){return e.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t}))}function zy(e){return e.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))}))}function Hy(e,t,n,r){if(t.expiration=n.ed(),n=Ba(n),t.sessionIds=r.offline.usePersistentLicense?n:[],$y(e)&&r.offline.usePersistentLicense&&!n.length)throw new Pe(2,9,9007)}function qy(e,t){for(var n=[],r=c(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&"video"==i.type?n.push({contentType:Tr(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=i.type||n.push({contentType:Tr(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function Ky(e,t,n){return D((function(r){return w(r,function(e,t,n,r){var i,a,o;return D((function(s){return 1==s.g?r.drmInfo?(i=function(e){var t=Array.from(e.g.keys());if(!t.length)throw new Pe(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}(n),a=r.sessionIds.map((function(e){return{sessionId:e,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:qy(r,!1),videoCapabilities:qy(r,!0)}})),w(s,_y(t,e,a),2)):s.return():3!=s.g?(o=s.h,w(s,i.remove(o),3)):w(s,i.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}(e.g,e.h.drm,n,t),0)}))}function Gy(e,t,n){function r(){}var i=function(e){for(var t=new Set,n=(e=c(e.streams)).next();!n.done;n=e.next())for(var r=(n=c(n.value.segments)).next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&t.add(r.initSegmentKey),t.add(r.dataKey);return Array.from(t)}(n);return Dy(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}function Xy(e,t){var n;return D((function(r){switch(r.g){case 1:return S(r,2),w(r,kc(t,e.g,e.h.streaming.retryParameters),4);case 4:n=r.h,k(r,3);break;case 2:C(r);case 3:if(n)return r.return(n);throw new Pe(1,2,2011,t)}}))}function Wy(e,t,n,r,i,a){var o={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,external:r.external,fastSwitching:r.fastSwitching,isAudioMuxedInVideo:r.isAudioMuxedInVideo},s=i.offline.numberOfParallelDownloads,u=0===s?r.id:0;return function(e,t,n){if(null!=(t=e.segmentIndex.find(t)))for(var r=e.segmentIndex.get(t);r;)n(r),r=e.segmentIndex.get(++t)}(r,n.presentationTimeline.qb(),(function(n){var i=Gm(n),c=void 0;if(!a.has(i)){var l=n.endTime-n.startTime;l=Uy(t,r.id)*l,l=Ym(e.g,l),a.set(i,new Km(n,l,u,!1))}n.ba&&(c=Gm(n.ba),a.has(c)||(l=.5*Uy(t,r.id),l=Ym(e.g,l),a.set(c,new Km(n.ba,l,u,!0)))),o.segments.push({pendingInitSegmentRefId:c,initSegmentKey:c?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,tilesLayout:n.tilesLayout,pendingSegmentRefId:i,dataKey:0,mimeType:n.mimeType,codecs:n.codecs,thumbnailSprite:n.thumbnailSprite}),0!==s&&(u=(u+1)%s)})),o}function Yy(e){if(e.l.g)throw new Pe(2,9,7001)}function Jy(){if(!Fy())throw new Pe(2,9,9e3)}function Zy(e,t){return D((function(n){return 1==n.g?(e.i.push(t),T(n,2),w(n,t,4)):2!=n.g?n.return(n.h):(A(n),Ie(e.i,t),E(n,0))}))}function Qy(e){for(var t=new Set,n=c(e.variants),r=n.next();!r.done;r=n.next())(r=r.value).audio&&t.add(r.audio),r.video&&t.add(r.video);for(r=(n=c(e.textStreams)).next();!r.done;r=n.next())t.add(r.value);for(n=(e=c(e.imageStreams)).next();!n.done;n=e.next())t.add(n.value);return t}v(gy,ay),gy.prototype.updateManifestExpiration=function(e,t){var n,r,i,a=this;return D((function(o){return n=ry(a.h,a.g),r=n.store(),i=new zi,r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new Pe(2,9,9012,"Could not find values for "+e))},w(o,Promise.all([n.promise(),i]),0)}))},gy.prototype.ad=function(e){var t,n,r,i,a,o;return D((function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,a=vy(e.periods[n],i),t.push(a);return w(s,Ah(t),2)}return o=s.h,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})}))},gy.prototype.qg=function(e){return{data:e.data}},v(yy,ay),yy.prototype.ad=function(e){var t,n,r,i,a,o;return D((function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var u=e.periods[n],l=[],d=c(u.streams),f=d.next();!f.done;f=d.next())0!=(f=f.value).variantIds.length&&l.push(by(f,u.startTime,u.startTime+i));a=l,t.push(a)}return w(s,Ah(t),2)}return o=s.h,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o,sequenceMode:!1})}))},v(wy,ay),(r=wy.prototype).hasFixedKeySpace=function(){return!1},r.addSegments=function(e){return this.add(this.i,e)},r.addManifests=function(e){return this.add(this.g,e)},r.updateManifest=function(e,t){return function(e,t,n){var r=(e=ry(e.h,e.g)).store();return r.get(t).onsuccess=function(){r.put(n,t)},e.promise()}(this,e,t)},r.ad=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(r=xy.prototype).init=function(){var t=this,n=new zi,r=!1,i=new Be((function(){r=!0,n.reject(new Pe(2,9,9017))}));i.Z(5);var a=e.indexedDB.open("shaka_offline_db",5);return a.onsuccess=function(){if(!r){var e=a.result;t.l=e;var o=e.objectStoreNames;o=o.contains("manifest")&&o.contains("segment")?new gy(e,"segment","manifest"):null,t.g=o,o=(o=e.objectStoreNames).contains("manifest-v2")&&o.contains("segment-v2")?new yy(e,"segment-v2","manifest-v2"):null,t.h=o,o=(o=e.objectStoreNames).contains("manifest-v3")&&o.contains("segment-v3")?new yy(e,"segment-v3","manifest-v3"):null,t.i=o,o=(o=e.objectStoreNames).contains("manifest-v5")&&o.contains("segment-v5")?new wy(e,"segment-v5","manifest-v5"):null,t.j=o,e=e.objectStoreNames.contains("session-ids")?new cy(e):null,t.m=e,i.stop(),n.resolve()}},a.onupgradeneeded=function(){for(var e=a.result,t=c(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},a.onerror=function(e){r||(n.reject(new Pe(2,9,9001,a.error)),i.stop(),e.preventDefault())},n},r.destroy=function(){var e=this;return D((function(t){switch(t.g){case 1:if(!e.g){t.u(2);break}return w(t,e.g.destroy(),2);case 2:if(!e.h){t.u(4);break}return w(t,e.h.destroy(),4);case 4:if(!e.i){t.u(6);break}return w(t,e.i.destroy(),6);case 6:if(!e.j){t.u(8);break}return w(t,e.j.destroy(),8);case 8:if(!e.m){t.u(10);break}return w(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),x(t)}}))},r.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},r.getEmeSessionCell=function(){return this.m},r.erase=function(){var t=this;return D((function(n){switch(n.g){case 1:if(!t.g){n.u(2);break}return w(n,t.g.destroy(),2);case 2:if(!t.h){n.u(4);break}return w(n,t.h.destroy(),4);case 4:if(!t.i){n.u(6);break}return w(n,t.i.destroy(),6);case 6:if(!t.j){n.u(8);break}return w(n,t.j.destroy(),8);case 8:return t.l&&t.l.close(),w(n,function(){var t=new zi,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new Pe(2,9,9001,n.error)),e.preventDefault()},t}(),10);case 10:return t.l=null,t.g=null,t.h=null,t.i=null,t.j=null,w(n,t.init(),0)}}))},py("idb",(function(){return(!Xe()||Xe()&&rt())&&!He()&&e.indexedDB?new xy:null})),Sy.prototype.rb=function(){return this.i},Sy.prototype.Ma=function(){return this.h},Sy.prototype.key=function(){return this.l},Sy.prototype.toString=function(){return this.j},(r=Ey.prototype).configure=function(){},r.start=function(e,t){var n,r,i,a,o,s,u=this;return D((function(c){switch(c.g){case 1:if(n=Ty(e),u.g=n,null==n||"manifest"!=n.g)throw new Pe(2,1,9004,e);return r=new ly,T(c,2),w(c,r.init(),4);case 4:return w(c,fy(r,n.rb(),n.Ma()),5);case 5:return w(c,c.h.getManifests([n.key()]),6);case 6:return i=c.h,a=i[0],o=new ky(n.rb(),n.Ma()),s=Cy(o,a),t.makeTextStreamsForClosedCaptions(s),c.return(s);case 2:return A(c),w(c,r.destroy(),7);case 7:E(c,0)}}))},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(e,t){var n,r,i,a,o,s,u,c=this;return D((function(l){switch(l.g){case 1:return n=c.g,r=new ly,S(l,2,3),w(l,r.init(),5);case 5:return w(l,fy(r,n.rb(),n.Ma()),6);case 6:return w(l,(i=l.h).getManifests([n.key()]),7);case 7:if(a=l.h,o=a[0],s=o.sessionIds.includes(e),u=null==o.expiration||o.expiration>t,!s||!u){l.u(3);break}return w(l,i.updateManifestExpiration(n.key(),t),3);case 3:return A(l),w(l,r.destroy(),10);case 10:E(l,0);break;case 2:C(l),l.u(3)}}))},r.onInitialVariantChosen=function(){},r.banLocation=function(){},r.setMediaElement=function(){},lo["application/x-offline-manifest"]=function(){return new Ey},B("shaka.offline.OfflineScheme",Iy),Iy.plugin=My,ra("offline",My),(r=jy.prototype).destroy=function(){return this.l.destroy()},r.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=ec(e,t)),lc(this.h,e)},r.getConfiguration=function(){var e=cc();return lc(e,this.h,cc()),e},r.Ab=function(){return this.g},r.store=function(e,t,n,r,i){var a=this,o=this.getConfiguration(),s=new Jm(this.g);return this.j.push(s),t=function(e,t,n,r,i,a,o,s){var u,l,d,f,p,h,g,v,m,y,b,T,I,M,_,P,L,R,N,O,U;return D((function(j){switch(j.g){case 1:return Jy(),l=u=null,d=new ly,h=p=f=null,S(j,2,3),w(j,a(),5);case 5:return u=j.h,w(j,function(e,t,n,r){var i,a,o,s,u;return D((function(c){if(1==c.g)return i=null,a=e.g,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(r.manifest),Yy(e),w(c,n.start(t,o),2);if(3!=c.g)return s=c.h,Yy(e),u=Qy(s),w(c,Promise.all(ga(u,(function(e){return e.createSegmentIndex()}))),3);if(Yy(e),i)throw i;return c.return(s)}))}(e,t,u,o),6);case 6:if(g=j.h,Yy(e),g.presentationTimeline.U()||g.presentationTimeline.uc())throw new Pe(2,9,9005,t);v=c(r),m=v.next();case 7:if(m.done){j.u(9);break}return y=m.value,w(j,function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,v,m,y;return D((function(b){switch(b.g){case 1:return w(b,Xy(e,t),2);case 2:if("text/vtt"!=(r=b.h))throw new Pe(1,2,2017,t);return w(b,function(e,t,n){var r,i,a;return D((function(o){return 1==o.g?(r=la,(i=aa([e],n)).method="GET",w(o,t.request(r,i).promise,2)):(a=o.h,o.return(a.data))}))}(t,e.g,e.h.streaming.retryParameters),3);case 3:if(i=b.h,!(a=Br[r]))throw new Pe(2,2,2014,r);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},u=ve(i),l=o.parseMedia(u,s,t,[]),d=[],f=c(l),p=f.next(),h={};!p.done;h={ye:void 0,Gc:void 0},p=f.next())h.Gc=p.value,h.ye=null,g=function(e){return function(){return null==e.ye&&(e.ye=fr([t],[e.Gc.payload])),e.ye||[]}}(h),v=new mo(h.Gc.startTime,h.Gc.endTime,g,0,null,null,0,0,1/0),h.Gc.payload.includes("#xywh")&&4===(m=h.Gc.payload.split("#xywh=")[1].split(",")).length&&v.qe({height:parseInt(m[3],10),positionX:parseInt(m[0],10),positionY:parseInt(m[1],10),width:parseInt(m[2],10)}),d.push(v);if(y=r,!d.length){b.u(4);break}return w(b,kc(d[0].N()[0],e.g,e.h.manifest.retryParameters),5);case 5:y=b.h;case 4:return b.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Qs(d),mimeType:y||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Tr(y||"","")]),isAudioMuxedInVideo:!1})}}))}(e,y,g),10);case 10:b=j.h,g.imageStreams.push(b),Yy(e),m=v.next(),j.u(7);break;case 9:T=c(i),I=T.next();case 11:return I.done?w(j,e.Ec(g,(function(e){h=h||e}),o),15):(M=I.value,w(j,function(e,t,n,r,i,a,o){var s;return D((function(u){if(1==u.g)return a?u.u(2):w(u,Xy(e,n),3);if(2!=u.g&&(a=u.h),s={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:tu(0,t.presentationTimeline.getDuration(),[n]),mimeType:a||"",codecs:o||"",kind:i,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,originalLanguage:r,label:null,type:yr,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([Tr(a||"",o||"")]),isAudioMuxedInVideo:!1},!Ur(Tr(s.mimeType,s.codecs)))throw new Pe(2,2,2014,a);return u.return(s)}))}(e,g,M.uri,M.language,M.kind,M.mime,M.codecs),14));case 14:_=j.h,g.textStreams.push(_),Yy(e),I=T.next(),j.u(11);break;case 15:if(l=j.h,Yy(e),h)throw h;return w(j,function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,g,v,m,y,b,T,A,E,I,M,_,P,L,R,N,O,U,j;return D((function(D){switch(D.g){case 1:return r={width:1/0,height:1/0},function(e,t,n){e.variants=e.variants.filter((function(e){return ni(e,t,n)}))}(e,n.restrictions,r),w(D,ri(t,e,n.offline.usePersistentLicense,n.drm.preferredKeySystems),2);case 2:for(i=[],a=n.preferredDecodingAttributes,o=n.preferredVideoCodecs,s=n.preferredAudioCodecs,u=n.preferredTextFormats,ti(e,o,s,a,u),l=c(e.variants),d=l.next();!d.done;d=l.next())f=d.value,i.push(di(f));for(p=c(e.textStreams),h=p.next();!h.done;h=p.next())g=h.value,i.push(fi(g));for(v=c(e.imageStreams),m=v.next();!m.done;m=v.next())y=m.value,i.push(pi(y));return w(D,n.offline.trackSelectionCallback(i),3);case 3:for(b=D.h,T=e.presentationTimeline.getDuration(),A=0,E=c(b),I=E.next();!I.done;I=E.next())M=I.value,_=M.bandwidth*T/8,A+=_;return S(D,4),w(D,n.offline.downloadSizeCallback(A),6);case 6:if(!D.h)throw new Pe(2,9,9014);k(D,5);break;case 4:if((P=C(D))instanceof Pe)throw P;throw new Pe(2,9,9015);case 5:for(L=new Set,R=new Set,N=new Set,O=c(b),U=O.next();!U.done;U=O.next())"variant"==(j=U.value).type&&L.add(j.id),"text"==j.type&&R.add(j.id),"image"==j.type&&N.add(j.id);e.variants=e.variants.filter((function(e){return L.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return R.has(e.id)})),e.imageStreams=e.imageStreams.filter((function(e){return N.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=c(t),r=n.next();!r.done;r=n.next())for(var i=(r=c(t)).next();!i.done;i=r.next());for(n=(t=c(e)).next();!n.done;n=t.next())for(r=(n=c(e)).next();!r.done;r=n.next());}(e),x(D)}}))}(g,l,o),16);case 16:return w(j,d.init(),17);case 17:return Yy(e),w(j,dy(d),18);case 18:return f=j.h,Yy(e),P=function(e,t,n,r,i,a){var o=function(e,t,n){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=Ly(t),appMetadata:n,isIncomplete:!1}}(n,t,r),s=i.offline.progressCallback;!function(e,t,n){e.m=function(e,t){o.size=t,s(o,e)},e.l=n}(a,0,(function(t,n){u&&i.offline.usePersistentLicense&&l==n&&Fa(e,"cenc",t)}));var u=$y(t)&&!zy(t),l=null;u&&(l=eb.get(e.g.keySystem));for(var d=new Ry,f=c(t.textStreams),p=f.next();!p.done;p=f.next())d.g[p.value.id]=52;for(p=(f=c(t.imageStreams)).next();!p.done;p=f.next())Oy(d,p.value);for(p=(f=c(t.variants)).next();!p.done;p=f.next())Ny(d,p.value);return d=function(e,t,n,r){for(var i=new Map,a=Qy(n),o=new Map,s=(a=c(a)).next();!s.done;s=a.next()){var u=Wy(e,t,n,s=s.value,r,i);o.set(s.id,u)}for(t=(e=c(n.variants)).next();!t.done;t=e.next())(t=t.value).audio&&o.get(t.audio.id).variantIds.push(t.id),t.video&&o.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(o.values()),bg:Array.from(i.values())}}(a,d,t,i),a=d.streams,d=d.bg,f=e.g,p=i.offline.usePersistentLicense,f&&p&&(f.initData=[]),{xi:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.ed(),streams:a,sessionIds:p?Ba(e):[],drmInfo:f,appMetadata:r,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},bg:d}}(l,g,t,n,o,s),L=P.xi,R=P.bg,w(j,f.Ma.addManifests([L]),19);case 19:if(N=j.h,Yy(e),p=N[0],Yy(e),h)throw h;return w(j,function(e,t,n,r,i,a,o,s,u){var l,d,f,p,h,g,v,m,y,b;return D((function(T){switch(T.g){case 1:if(l={},d=0,f=function(t,f){var p,h,g,v,m,y,b;return D((function(S){if(1==S.g){for(p=c(t),h=p.next(),g={};!h.done;g={Hc:void 0},h=p.next())g.Hc=h.value,v=Xm(g.Hc,a),m=g.Hc.i,y=g.Hc.h,b=function(t){return function(n){var r,i,a;return D((function(s){if(1==s.g)return w(s,o.addSegments([{data:n}]),2);r=s.h,Yy(e),i=t.Hc.g,a=Gm(i),l[a]=r[0],d+=n.byteLength,x(s)}))}}(g),Qm(i,g.Hc.groupId,v,m,y,b);return w(S,function(e){return D((function(t){return 1==t.g?w(t,Promise.all(e.j.values()),2):t.return(e.g.h)}))}(i),2)}return f?(Yy(e),Hy(s,r,u,a),w(S,o.updateManifest(n,r),0)):S.u(0)}))},p=!1,S(T,2),!$y(s)||!p||zy(s)){T.u(4);break}return w(T,f(t.filter((function(e){return e.h})),!0),5);case 5:return Yy(e),t=t.filter((function(e){return!e.h})),h=l,g=d,l={},d=0,w(T,Vy(o,n,r,h,g,(function(){return Yy(e)})),6);case 6:Yy(e);case 4:if(p){T.u(7);break}return w(T,f(t,!1),8);case 8:return Yy(e),v=l,m=d,l={},d=0,w(T,Vy(o,n,r,v,m,(function(){return Yy(e)})),9);case 9:Yy(e);case 7:k(T,0);break;case 2:return y=C(T),b=Object.values(l),w(T,o.removeSegments(b,(function(){})),10);case 10:throw y}}))}(e,R,p,L,s,o,f.Ma,g,l),20);case 20:return Yy(e),Hy(g,L,l,o),w(j,f.Ma.updateManifest(p,L),21);case 21:return Yy(e),O=new Sy("manifest",f.path.rb,f.path.Ma,p),j.return(Dy(O,L));case 3:return A(j),w(j,d.destroy(),22);case 22:if(!u){j.u(23);break}return w(j,u.stop(),23);case 23:if(!l){j.u(25);break}return w(j,l.destroy(),25);case 25:E(j,0);break;case 2:if(U=C(j),null==p){j.u(27);break}return w(j,By(p),27);case 27:throw h||U}}))}(this,e,t||{},r||[],i||[],(function(){var t;return D((function(r){return 1==r.g?n?r.u(2):w(r,kc(e,a.g,o.manifest.retryParameters),3):(2!=r.g&&(n=r.h),t=co(e,n||null),r.return(t()))}))}),o,s),(t=new Hi(t,(function(){return Zm(s)}))).finally((function(){Ie(a.j,s)})),function(e,t){var n=t.promise;return e.i.push(n),t.finally((function(){Ie(e.i,n)}))}(this,t)},r.remove=function(e){return Zy(this,function(e,t){var n,r,i,a,o,s;return D((function(u){switch(u.g){case 1:if(Jy(),null==(n=Ty(t))||"manifest"!=n.g)throw new Pe(2,9,9004,t);return r=n,i=new ly,T(u,2),w(u,i.init(),4);case 4:return w(u,fy(i,r.rb(),r.Ma()),5);case 5:return w(u,(a=u.h).getManifests([r.key()]),6);case 6:return o=u.h,s=o[0],w(u,Promise.all([Ky(e,s,i),Gy(a,r,s)]),2);case 2:return A(u),w(u,i.destroy(),8);case 8:E(u,0)}}))}(this,e))},r.Pi=function(){return Zy(this,function(e){var t,n,r,i,a,o,s,u,l,d;return D((function(f){switch(f.g){case 1:return Jy(),t=e.g,n=e.h.drm,r=new ly,i=!1,T(f,2),w(f,r.init(),4);case 4:a=[],function(e,t){e.g.forEach((function(e){var t;t=e.getEmeSessionCell(),a.push(t)}))}(r),o=c(a),s=o.next();case 5:if(s.done){f.u(2);break}return w(f,(u=s.value).getAll(),8);case 8:return l=f.h,w(f,_y(n,t,l),9);case 9:return d=f.h,w(f,u.remove(d),10);case 10:d.length!=l.length&&(i=!0),s=o.next(),f.u(5);break;case 2:return A(f),w(f,r.destroy(),11);case 11:E(f,3);break;case 3:return f.return(!i)}}))}(this))},r.list=function(){return Zy(this,D((function(r){switch(r.g){case 1:return Jy(),e=[],t=new ly,T(r,2),w(r,t.init(),4);case 4:return n=Promise.resolve(),function(e,t){e.g.forEach((function(e,n){e.getCells().forEach((function(e,r){t({rb:n,Ma:r},e)}))}))}(t,(function(t,r){n=n.then((function(){return D((function(n){if(1==n.g)return w(n,r.getAllManifests(),2);n.h.forEach((function(n,r){n=Dy(new Sy("manifest",t.rb,t.Ma,r),n),e.push(n)})),x(n)}))}))})),w(r,n,2);case 2:return A(r),w(r,t.destroy(),6);case 6:E(r,3);break;case 3:return r.return(e)}})));var e,t,n},r.Ec=function(e,t,n){var r,i=this;return D((function(a){return 1==a.g?((r=new Ra({Ob:i.g,onError:t,ee:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(n.drm),w(a,function(e,t,n){return e.fa=!0,e.B=new Map,e.M=n,Oa(e,t)}(r,e.variants,n.offline.usePersistentLicense),2)):3!=a.g?w(a,ja(r),3):a.return(r)}))},B("shaka.offline.Storage",jy),jy.deleteAll=function(){var e;return D((function(t){return 1==t.g?(e=new ly,T(t,2),w(t,function(e){var t,n;return D((function(r){return 1==r.g?(t=Array.from(e.g.values()),(n=0<t.length)||hy.forEach((function(e){(e=e())&&t.push(e)})),w(r,Promise.all(t.map((function(e){return e.erase()}))),2)):n?r.u(0):w(r,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.g?(A(t),w(t,e.destroy(),5)):E(t,0)}))},jy.prototype.list=jy.prototype.list,jy.prototype.removeEmeSessions=jy.prototype.Pi,jy.prototype.remove=jy.prototype.remove,jy.prototype.store=jy.prototype.store,jy.prototype.getNetworkingEngine=jy.prototype.Ab,jy.prototype.getConfiguration=jy.prototype.getConfiguration,jy.prototype.configure=jy.prototype.configure,jy.prototype.destroy=jy.prototype.destroy,jy.support=Fy;var eb=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95");function tb(){}function nb(e,t){for(e={priority:t||0,callback:e},t=0;t<rb.length;t++)if(rb[t].priority<e.priority)return void rb.splice(t,0,e);rb.push(e)}fd.offline=Fy,B("shaka.polyfill",tb),tb.register=nb,tb.installAll=function(){for(var e=c(rb),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(e){X("Error installing polyfill!",e)}}};var rb=[];function ib(){}function ab(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=c(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())ob(t.value)}function ob(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(e){null==e||null==e?this.removeAttribute(t):this.setAttribute(t,e)}})}function sb(){}function ub(){Ze()||at("Sky_STB")||bS()}function cb(){}function lb(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",db),document.addEventListener("webkitfullscreenerror",db),document.addEventListener("mozfullscreenchange",db),document.addEventListener("mozfullscreenerror",db),document.addEventListener("MSFullscreenChange",db),document.addEventListener("MSFullscreenError",db)}}function db(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}function fb(){}function pb(){var e=!0;!Xe()||Xe()&&rt()||Xe()&&at("Fuchsia")||(e=!1),(Ye()||Je()||Ze()||Ge()||qe()||at("PC=EOS")||Qe()||at("WPE"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),gb=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=hb)}function hb(t){var n,r,i,a,o;return D((function(s){switch(s.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},r=t.video,i=t.audio,"media-source"!=t.type){if("file"!=t.type)return s.return(n);if(r&&!$e(r.contentType)||i&&!$e(i.contentType))return s.return(n);s.u(2);break}if(!Ve())return s.return(n);if(!r){s.u(3);break}return w(s,function(t){var n,r;return D((function(i){return 1==i.g?Xe()?w(i,function(t){var n,r,i;return D((function(a){if(1==a.g){if(!(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return a.return(ne(t.contentType));switch(n=t.contentType,t.width&&t.height&&(1280<t.width||720<t.height)&&(n+="; width="+t.width+"; height="+t.height),t.framerate&&(24>(r=Math.round(t.framerate))||30<r)&&(n+="; framerate="+t.framerate),t.transferFunction||""){case"":case"srgb":break;case"pq":n+="; eotf=smpte2084";break;case"hlg":n+="; eotf=arib-std-b67";break;default:return a.return(!1)}return i=!1,n in Sb?(i=Sb[n],a.u(2)):w(a,cast.__platform__.canDisplayType(n),3)}return 2!=a.g&&(i=a.h,Sb[n]=i),a.return(i)}))}(t),3):qe()?(n=t.contentType,t.width&&t.height&&(n+="; width="+t.width,n+="; height="+t.height),t.framerate&&(n+="; framerate="+t.framerate),t.bitrate&&(n+="; bitrate="+t.bitrate),i.return(ne(n))):i.u(2):2!=i.g?(r=i.h,i.return(r)):i.return(ne(t.contentType))}))}(r),4);case 4:if(!s.h)return s.return(n);case 3:if(i){var u=i.contentType;if(Xe()&&i.spatialRendering&&(u+="; spatialRendering=true"),!ne(u))return s.return(n)}case 2:return t.keySystemConfiguration?(a=t.keySystemConfiguration,w(s,function(e,t,n){var r,i,a,o,s,u,c,l,d,f,p;return D((function(h){switch(h.g){case 1:if(r=[],i=[],n.audio&&(a={robustness:n.audio.robustness||"",contentType:t.contentType},qe()&&t.contentType.includes('codecs="ac-3"')&&(a.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(a.encryptionScheme=n.audio.encryptionScheme),r.push(a)),n.video&&(o={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(o.encryptionScheme=n.video.encryptionScheme),i.push(o)),s={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},r.length&&(s.audioCapabilities=r),i.length&&(s.videoCapabilities=i),u=e?e.contentType:"",c=t?t.contentType:"",l=_r(u)+";"+Mr(u),d=_r(c)+";"+Mr(c),f=n.keySystem,p=null,S(h,2),je.has(l+"#"+d+"#"+f)){p=je.get(l+"#"+d+"#"+f)||null,h.u(4);break}return w(h,navigator.requestMediaKeySystemAccess(n.keySystem,[s]),5);case 5:p=h.h,je.set(l+"#"+d+"#"+f,p);case 4:k(h,3);break;case 2:C(h);case 3:return h.return(p)}}))}(r,i,a),6)):(n.supported=!0,s.return(n));case 6:(o=s.h)&&(n.supported=!0,n.keySystemAccess=o);case 5:return s.return(n)}}))}tb.Aria=ib,ib.install=ab,nb(ab),tb.EncryptionScheme=sb,sb.install=ub,nb(ub,-2),tb.Fullscreen=cb,cb.install=lb,nb(lb),tb.MediaCapabilities=fb,fb.install=pb;var gb=null;fb.originalMcap=gb;var vb,mb,yb,bb,wb,xb,Sb={};function Tb(){}function kb(){var t=tt();(e.MediaSource||e.ManagedMediaSource)&&(t&&e.MediaSource?10>=t?e.MediaSource=null:12>=t?(Cb(),Ab()):15>=t&&Cb():at("DT_STB_BCM")?(Cb(),Ab()):at("Tizen 2")||Ke()||at("Tizen 4")?function(){var t=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(e){return"opus"!=Mr(e)&&t(e)},e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"opus"!=Mr(e)&&n(e)}}}():at("WPE")&&(Cb(),Ab())),(e.MediaSource||e.ManagedMediaSource)&&function(){if(e.MediaSource){var t=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(e){return"mp2t"!=Er(e)&&t(e)}}if(e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"mp2t"!=Er(e)&&n(e)}}}(),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;Ge()||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),r=n.findIndex((function(e){return e.startsWith("codecs=")}));if(0>r)return e(t);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex((function(e){return e.startsWith("vp09")}));return 0<=a&&(i[a]="vp9",n[r]='codecs="'+i.join(",")+'"',t=n.join("; ")),e(t)})}()}function Cb(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,L.apply(0,arguments));return t.abort=function(){},t}}function Ab(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function Eb(){}function Ib(){screen.orientation&&screen.orientation.unlock||(null!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):null!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new Mb;screen.orientation=n,t(),e.addEventListener("orientationchange",(function(){t();var e=new Yi("change");n.dispatchEvent(e)}))}())}function Mb(){Qi.call(this),this.type="",this.angle=0}function _b(){}function Pb(e,t){try{var n=new Rb(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Db(e){var t=this.mediaKeys;return t&&t!=e&&Ob(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Ob(e,this):Promise.resolve()}function Lb(e){if(ye(e=ve(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=gt(e=pt(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=ge(e),this.dispatchEvent(t)}function Rb(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(t=(e=c(t)).next();!t.done;t=e.next()){var n=t.value;if("required"==n.persistentState)t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var a=c(n.audioCapabilities),o=a.next();!o.done;o=a.next())(o=o.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.audioCapabilities.push(o),i=!0));if(n.videoCapabilities)for(a=(n=c(n.videoCapabilities)).next();!a.done;a=n.next())(a=a.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.videoCapabilities.push(a),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=i?t:null}if(t)return void(this.g=t)}throw(e=Error("Unsupported keySystem")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function Nb(e){this.h=new WebKitMediaKeys(e),this.g=new Q}function Ob(e,t){if(e.g.Va(),!t)return Promise.resolve();e.g.D(t,"webkitneedkey",Lb);try{return Fs(t,HTMLMediaElement.HAVE_METADATA,e.g,(function(){t.webkitSetMediaKeys(e.h)})),Promise.resolve()}catch(e){return Promise.reject(e)}}function Ub(e){Qi.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new Q,this.sessionId="",this.expiration=NaN,this.closed=new zi,this.keyStatuses=new Fb}function jb(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new Yi("keystatuseschange"),e.dispatchEvent(t)}function Fb(){this.size=0,this.g=void 0}fb.memoizedCanDisplayTypeRequests_=Sb,nb(pb,-1),tb.MediaSource=Tb,Tb.install=kb,nb(kb),tb.Orientation=Eb,Eb.install=Ib,v(Mb,Qi),Mb.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Mb.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},nb(Ib),tb.PatchedMediaKeysApple=_b,_b.uninstall=function(){vb&&(vb=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",mb),HTMLMediaElement.prototype.setMediaKeys=yb,e.MediaKeys=bb,e.MediaKeySystemAccess=wb,navigator.requestMediaKeySystemAccess=xb,mb=xb=yb=wb=bb=null,e.shakaMediaKeysPolyfill="")},_b.install=function(t){e.HTMLVideoElement&&e.WebKitMediaKeys&&(void 0!==t&&t&&(vb=!0,mb=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),yb=HTMLMediaElement.prototype.setMediaKeys,bb=e.MediaKeys,wb=e.MediaKeySystemAccess,xb=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Db,e.MediaKeys=Nb,e.MediaKeySystemAccess=Rb,navigator.requestMediaKeySystemAccess=Pb,e.shakaMediaKeysPolyfill=Bb)},Rb.prototype.createMediaKeys=function(){var e=new Nb(this.keySystem);return Promise.resolve(e)},Rb.prototype.getConfiguration=function(){return this.g},Nb.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Ub(this.h,e)},Nb.prototype.setServerCertificate=function(){return Promise.resolve(!1)},Nb.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},v(Ub,Qi),(r=Ub.prototype).generateRequest=function(e,t){var n=this;this.h=new zi;try{var r=this.l.createSession("video/mp4",ve(t));this.i=r,this.sessionId=r.sessionId||"",this.j.D(this.i,"webkitkeymessage",(function(e){n.h&&(n.h.resolve(),n.h=null),e=new Yi("message",e=(new Map).set("messageType",null==n.keyStatuses.ac()?"license-request":"license-renewal").set("message",ge(e.message))),n.dispatchEvent(e)})),this.j.D(r,"webkitkeyadded",(function(){n.g&&(jb(n,"usable"),n.g.resolve(),n.g=null)})),this.j.D(r,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.i.error,null!=n.h)n.h.reject(e),n.h=null;else if(null!=n.g)n.g.reject(e),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:jb(n,"output-not-allowed");break;default:jb(n,"internal-error")}})),jb(this,"status-pending")}catch(e){this.h.reject(e)}return this.h},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(e){this.g=new zi;try{this.i.update(ve(e))}catch(e){this.g.reject(e)}return this.g},r.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Va()}catch(e){this.closed.reject(e)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=Fb.prototype).ac=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Ue.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Ue.value();return!(!this.g||!pe(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var Bb="apple";function Vb(){}function $b(){e.MediaKeys&&(!MediaKeys.prototype.setServerCertificate||Ke()||at("Tizen 4")||at("Tizen 5.0")||Ge()&&38===We())&&(MediaKeys.prototype.setServerCertificate=zb)}function zb(){return Promise.resolve(!1)}function Hb(){}function qb(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Kb,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Gb,e.MediaKeys=Xb,e.MediaKeySystemAccess=Wb,e.shakaMediaKeysPolyfill=Yb)}function Kb(){return Promise.reject(Error("The key system specified is not supported."))}function Gb(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Xb(){throw new TypeError("Illegal constructor.")}function Wb(){throw this.keySystem="",new TypeError("Illegal constructor.")}tb.PatchedMediaKeysCert=Vb,Vb.install=$b,nb($b),tb.PatchedMediaKeysNop=Hb,Hb.install=qb,Xb.prototype.createSession=function(){},Xb.prototype.setServerCertificate=function(){},Xb.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},Wb.prototype.getConfiguration=function(){},Wb.prototype.createMediaKeys=function(){};var Yb="nop";function Jb(){}function Zb(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)dw="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=ew,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=tw,e.MediaKeys=rw,e.MediaKeySystemAccess=nw,e.shakaMediaKeysPolyfill=fw}}function Qb(e){return dw?dw+e.charAt(0).toUpperCase()+e.slice(1):e}function ew(e,t){try{var n=new nw(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function tw(e){var t=this.mediaKeys;return t&&t!=e&&iw(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&iw(e,this),Promise.resolve()}function nw(e,t){this.g=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=(t=c(t)).next();!a.done;a=t.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},s=!1;if(a.audioCapabilities)for(var u=c(a.audioCapabilities),l=u.next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,i.canPlayType(l.contentType.split(";")[0],this.g)&&(o.audioCapabilities.push(l),r=!0));if(a.videoCapabilities)for(l=(u=c(a.videoCapabilities)).next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,i.canPlayType(l.contentType,this.g)&&(o.videoCapabilities.push(l),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(o.persistentState="required",o.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=o)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(e=Error(n)).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function rw(e){this.l=e,this.h=null,this.g=new Q,this.i=[],this.j=new Map}function iw(e,t){e.h=t,e.g.Va();var n=dw;t&&(e.g.D(t,n+"needkey",(function(t){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=ge(t.initData),e.h.dispatchEvent(n)})),e.g.D(t,n+"keymessage",(function(t){var n=aw(e,t.sessionId);n&&(t=new Yi("message",t=(new Map).set("messageType",null==n.keyStatuses.ac()?"licenserequest":"licenserenewal").set("message",t.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(t))})),e.g.D(t,n+"keyadded",(function(t){(t=aw(e,t.sessionId))&&t.ready()})),e.g.D(t,n+"keyerror",(function(t){var n=aw(e,t.sessionId);if(n){var r=Error("EME v0.1b key error"),i=t.errorCode;i.systemCode=t.systemCode,r.errorCode=i,!t.sessionId&&n.h?(45==t.systemCode&&(r.message="Unsupported session type."),n.h.reject(r),n.h=null):t.sessionId&&n.g?(n.g.reject(r),n.g=null):(r=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?cw(n,"output-restricted"):cw(n,1==r?"expired":"internal-error"))}})))}function aw(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function ow(e,t,n){Qi.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new zi,this.keyStatuses=new lw}function sw(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(n)var r=ve(gt("LOAD_SESSION|"+n));else{var i=gt("PERSISTENT|");r=dr(i,t)}else r=ve(t)}catch(e){return Promise.reject(e)}e.h=new zi;var a=Qb("generateKeyRequest");try{e.j[a](e.i,r)}catch(t){if("InvalidStateError"!=t.name)return e.h=null,Promise.reject(t);new Be((function(){try{e.j[a](e.i,r)}catch(t){e.h.reject(t),e.h=null}})).Z(.01)}return e.h}function uw(e,t,n){if(e.g)e.g.then((function(){return uw(e,t,n)})).catch((function(){return uw(e,t,n)}));else{if(e.g=t,"webkit-org.w3.clearkey"==e.i){var r=ft(n),i=JSON.parse(r);"oct"!=i.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),r=ur(i.keys[0].k),i=ur(i.keys[0].kid)}else r=ve(n),i=null;var a=Qb("addKey");try{e.j[a](e.i,r,i,e.sessionId)}catch(t){e.g.reject(t),e.g=null}}}function cw(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new Yi("keystatuseschange"),e.dispatchEvent(t)}function lw(){this.size=0,this.g=void 0}nb(qb,-10),tb.PatchedMediaKeysWebkit=Jb,Jb.install=Zb,nw.prototype.createMediaKeys=function(){var e=new rw(this.g);return Promise.resolve(e)},nw.prototype.getConfiguration=function(){return this.h},rw.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new ow(t,this.l,e),this.i.push(e),e},rw.prototype.setServerCertificate=function(){return Promise.resolve(!1)},rw.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},v(ow,Qi),(r=ow.prototype).ready=function(){cw(this,"usable"),this.g&&this.g.resolve(),this.g=null},r.generateRequest=function(e,t){return sw(this,t,null)},r.load=function(e){return"persistent-license"==this.l?sw(this,null,e):Promise.reject(Error("Not a persistent session."))},r.update=function(e){var t=new zi;return uw(this,t,e),t},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Qb("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=lw.prototype).ac=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Ue.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Ue.value();return!(!this.g||!pe(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var dw="",fw="webkit";function pw(){}function hw(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=vw,Object.defineProperty(t,"disablePictureInPicture",{get:yw,set:bw,enumerable:!0,configurable:!0}),document.exitPictureInPicture=mw,document.addEventListener("webkitpresentationmodechanged",gw,!0))}}function gw(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function vw(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function mw(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function yw(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function bw(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function ww(){}function xw(){e.crypto&&("randomUUID"in e.crypto||(e.crypto.randomUUID=Sw))}function Sw(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}function Tw(){}function kw(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:Cw})}function Cw(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}function Aw(){}function Ew(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}}function Iw(){}function Mw(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in t||Ge()&&38===We())&&(t.getVideoPlaybackQuality=_w)}}function _w(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Pw(){}function Dw(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=Lw;else if(6==n)t=Rw;else{try{var r=!!Lw(1,2,"")}catch(e){r=!1}r&&(t=Lw)}t&&(e.VTTCue=function(e,n,r){return t(e,n,r)})}}function Lw(t,n,r){return new e.TextTrackCue(t,n,r)}function Rw(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function Nw(){}nb(Zb),tb.PiPWebkit=pw,pw.install=hw,nb(hw),tb.RandomUUID=ww,ww.install=xw,nb(xw),tb.Symbol=Tw,Tw.install=kw,nb(kw),tb.VideoPlayPromise=Aw,Aw.install=Ew,nb(Ew),tb.VideoPlaybackQuality=Iw,Iw.install=Mw,nb(Mw),tb.VTTCue=Pw,Pw.install=Dw,nb(Dw),Nw.prototype.parseInit=function(){},Nw.prototype.setSequenceMode=function(){},Nw.prototype.setManifestType=function(){},Nw.prototype.parseMedia=function(e,t){for(var n=null,r=[],i=(e=c(e=ft(e).split(/\r?\n/))).next();!i.done;i=e.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=Ow.exec(i))){var a=Uw.exec(i[1]);i=new un(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),t.segmentEnd?t.segmentEnd:a+2,i[2]),n&&(n.endTime=a,r.push(n)),n=i}return n&&r.push(n),r},B("shaka.text.LrcTextParser",Nw),Nw.prototype.parseMedia=Nw.prototype.parseMedia,Nw.prototype.setManifestType=Nw.prototype.setManifestType,Nw.prototype.setSequenceMode=Nw.prototype.setSequenceMode,Nw.prototype.parseInit=Nw.prototype.parseInit;var Ow=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,Uw=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function jw(){}function Fw(e,t,n,r,i,a,o,s,u,l,d,f,p){var h=l;if(Dt(e)){if(!d)return null;var g={tagName:"span",children:[Nt(e)],attributes:{},parent:null}}else g=e;for(var v=null,m=c(px),y=m.next();!y.done&&!(v=Gw(g,"backgroundImage",r,"#",y.value)[0]);y=m.next());m=null;var b=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if((y=zt(g,px,"backgroundImage"))&&b.test(y)){if((m=parseInt(y.split(":").pop(),10)-1)>=p.length)return null;m=p[m]}else f&&y&&!y.startsWith("#")&&(b=new zn(f),y=new zn(y),(y=b.resolve(y).toString())&&(m=y));if(("p"==e.tagName||v||m)&&(d=!0),e=d,y="default"==(g.attributes["xml:space"]||(s?"default":"preserve")),s=[],!(b=g.children.every(Dt)))for(var w=c(g.children),x=w.next();!x.done;x=w.next())(x=Fw(x.value,t,n,r,i,a,o,y,u,g,d,f,p))&&s.push(x);if(r=null!=l,f=Nt(g),f=g.children.length&&f&&/\S/.test(f),!((w=g.attributes.begin||g.attributes.end||g.attributes.dur)||f||"br"==g.tagName||0!=s.length||r&&!y))return null;for(f=(p=Ww(g,n)).start,p=p.end;h&&h.tagName&&"tt"!=h.tagName;)f=(p=Xw(h,n,f,p)).start,p=p.end,h=h.parent;if(null==f&&(f=0),f+=t.periodStart,p=null==p?1/0:p+t.periodStart,f=Math.max(f,t.segmentStart),p=Math.min(p,t.segmentEnd),!w&&0<s.length)for(f=1/0,p=0,n=(t=c(s)).next();!n.done;n=t.next())n=n.value,f=Math.min(f,n.startTime),p=Math.max(p,n.endTime);if("br"==g.tagName)return(i=new un(f,p,"")).lineBreak=!0,i;if(t="",b&&(t=yt(Nt(g)||""),y&&(t=t.replace(/\s+/g," "))),(t=new un(f,p,t)).nestedCues=s,d||(t.isContainer=!0),u&&(t.cellResolution=u),u=Gw(g,"region",a,"")[0],g.attributes.region&&u&&u.attributes["xml:id"]){var S=u.attributes["xml:id"];t.region=o.filter((function(e){return e.id==S}))[0]}return o=u,l&&r&&!g.attributes.region&&!g.attributes.style&&(o=Gw(l,"region",a,"")[0]),function(e,t,n,r,i,a,o,s){if("rtl"==zw(t,n,a,"direction",o=o||s)&&(e.direction="rtl"),"tb"==(s=zw(t,n,a,"writingMode",o))||"tblr"==s?e.writingMode="vertical-lr":"tbrl"==s?e.writingMode="vertical-rl":"rltb"==s||"rl"==s?e.direction="rtl":s&&(e.direction=wn),(s=zw(t,n,a,"textAlign",!0))?(e.positionAlign=lx[s],e.lineAlign=cx[s],e.textAlign=mn[s.toUpperCase()]):e.textAlign=vn,(s=zw(t,n,a,"displayAlign",!0))&&(e.displayAlign=bn[s.toUpperCase()]),(s=zw(t,n,a,"color",o))&&(e.color=Vw(s)),(s=zw(t,n,a,"backgroundColor",o))&&(e.backgroundColor=Vw(s)),(s=zw(t,n,a,"border",o))&&(e.border=s),s=zw(t,n,a,"fontFamily",o))switch(s){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=s.split(",").filter((function(e){return"default"!=e})).join(",")}switch((s=zw(t,n,a,"fontWeight",o))&&"bold"==s&&(e.fontWeight=In),s=zw(t,n,a,"wrapOption",o),e.wrapLine=!s||"noWrap"!=s,(s=zw(t,n,a,"lineHeight",o))&&s.match(tx)&&(e.lineHeight=s),(s=zw(t,n,a,"fontSize",o))&&(s.match(tx)||s.match(ex))&&(e.fontSize=s),(s=zw(t,n,a,"fontStyle",o))&&(e.fontStyle=Pn[s.toUpperCase()]),r?(i=r.attributes.imageType||r.attributes.imagetype,s=r.attributes.encoding,r=Nt(r).trim(),"PNG"==i&&"Base64"==s&&r&&(e.backgroundImage="data:image/png;base64,"+r)):i&&(e.backgroundImage=i),(r=zw(t,n,a,"textOutline",o))&&((r=r.split(" "))[0].match(tx)?e.textStrokeColor=e.color:(e.textStrokeColor=Vw(r[0]),r.shift()),r[0]&&r[0].match(tx)?e.textStrokeWidth=r[0]:e.textStrokeColor=""),(r=zw(t,n,a,"letterSpacing",o))&&r.match(tx)&&(e.letterSpacing=r),(r=zw(t,n,a,"linePadding",o))&&r.match(tx)&&(e.linePadding=r),(r=zw(t,n,a,"opacity",o))&&(e.opacity=parseFloat(r)),(r=Hw(n,a,"textDecoration"))&&$w(e,r),(r=qw(t,a,"textDecoration"))&&$w(e,r),(r=zw(t,n,a,"textCombine",o))&&(e.textCombineUpright=r),zw(t,n,a,"ruby",o)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}(t,g,o,v,m,i,e,0==s.length),t}function Bw(e,t,n){var r=new ke,i=e.attributes["xml:id"];if(!i)return null;r.id=i,i=null,n&&(i=Qw.exec(n)||nx.exec(n)),n=i?Number(i[1]):null,i=i?Number(i[2]):null;var a,o=Hw(e,t,"extent");if(o){var s=(a=Qw.exec(o))||nx.exec(o);null!=s&&(r.width=Number(s[1]),r.height=Number(s[2]),a||(null!=n&&(r.width=100*r.width/n),null!=i&&(r.height=100*r.height/i)),r.widthUnits=a||null!=n?Ce:0,r.heightUnits=a||null!=i?Ce:0)}return(e=Hw(e,t,"origin"))&&null!=(s=(a=Qw.exec(e))||nx.exec(e))&&(r.viewportAnchorX=Number(s[1]),r.viewportAnchorY=Number(s[2]),a?o||(r.width=100-r.viewportAnchorX,r.widthUnits=Ce,r.height=100-r.viewportAnchorY,r.heightUnits=Ce):(null!=i&&(r.viewportAnchorY=100*r.viewportAnchorY/i),null!=n&&(r.viewportAnchorX=100*r.viewportAnchorX/n)),r.viewportAnchorUnits=a||null!=n?Ce:0),r}function Vw(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&4==(t=t[1].split(",")).length?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function $w(e,t){for(var n=(t=c(t.split(" "))).next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(Dn)||e.textDecoration.push(Dn);break;case"noUnderline":e.textDecoration.includes(Dn)&&Ie(e.textDecoration,Dn);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Ie(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Ie(e.textDecoration,"overline")}}function zw(e,t,n,r,i){return i=void 0===i||i,(e=qw(e,n,r))?e:i?Hw(t,n,r):null}function Hw(e,t,n){return e?zt(e,fx,n)||Kw(e,t,n):null}function qw(e,t,n){return zt(e,fx,n)||Kw(e,t,n)}function Kw(e,t,n){e=Gw(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var a=Vt(e[i],"urn:ebu:tt:style",n);a||(a=zt(e[i],fx,n)),a||(a=qw(e[i],t,n)),a&&(r=a)}return r}function Gw(e,t,n,r,i){var a=[];if(!e||1>n.length)return a;var o=e;for(e=null;!e&&!(e=i?Vt(o,i,t):o.attributes[t])&&(o=o.parent););if(t=e)for(i=(t=c(t.split(" "))).next();!i.done;i=t.next())for(i=i.value,o=(e=c(n)).next();!o.done;o=e.next())if(r+(o=o.value).attributes["xml:id"]==i){a.push(o);break}return a}function Xw(e,t,n,r){return e=Ww(e,t),null==n?n=e.start:null!=e.start&&(n+=e.start),null==r?r=e.end:null!=e.start&&(r+=e.start),{start:n,end:r}}function Ww(e,t){var n=Yw(e.attributes.begin,t),r=Yw(e.attributes.end,t);return e=Yw(e.attributes.dur,t),null==r&&null!=e&&(r=n+e),{start:n,end:r}}function Yw(e,t){var n=null;if(rx.test(e)){e=rx.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),a=Number(e[4]);n=(i+=(a+=(Number(e[5])||0)/t.h)/t.frameRate)+60*r+3600*n}else if(ix.test(e))n=Jw(ix,e);else if(ax.test(e))n=Jw(ax,e);else if(ox.test(e))e=ox.exec(e),n=Number(e[1])/t.frameRate;else if(sx.test(e))e=sx.exec(e),n=Number(e[1])/t.g;else if(ux.test(e))n=Jw(ux,e);else if(e)throw new Pe(2,2,2001,"Could not parse cue time range in TTML");return n}function Jw(e,t){return null==(e=e.exec(t))||""==e[0]?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function Zw(e,t,n,r){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(r),0==this.g&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}Br["application/x-subtitle-lrc"]=function(){return new Nw},jw.prototype.parseInit=function(){},jw.prototype.setSequenceMode=function(){},jw.prototype.setManifestType=function(){},jw.prototype.parseMedia=function(e,t,n,r){var i=ft(e);if(e=[],""==i)return e;var a=_t(i,"tt",!0);if(!a)throw new Pe(2,2,2005,"Failed to parse TTML.");if(!(i=Ut(a,"body")[0]))return[];var o=zt(a,dx,"frameRate"),s=zt(a,dx,"subFrameRate"),u=zt(a,dx,"frameRateMultiplier"),l=zt(a,dx,"tickRate"),d=zt(a,dx,"cellResolution"),f=a.attributes["xml:space"]||"default",p=zt(a,fx,"extent");if("default"!=f&&"preserve"!=f)throw new Pe(2,2,2005,"Invalid xml:space value: "+f);f="default"==f,o=new Zw(o,s,u,l),d=function(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{lc:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}(d),s=((s=Ut(a,"metadata")[0])?s.children:[]).filter((function(e){return"\n"!=e})),u=Ut(a,"style"),l=[];for(var h=c(a=Ut(a,"region")),g=h.next();!g.done;g=h.next())(g=Bw(g.value,u,p))&&l.push(g);if(Rt(i,"p").length)throw new Pe(2,2,2001,"<p> can only be inside <div> in TTML");for(h=(p=c(Rt(i,"div"))).next();!h.done;h=p.next())if(Rt(h.value,"span").length)throw new Pe(2,2,2001,"<span> can only be inside <p> in TTML");return(t=Fw(i,t,o,s,u,a,l,f,d,null,!1,n,r))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e},B("shaka.text.TtmlTextParser",jw),jw.prototype.parseMedia=jw.prototype.parseMedia,jw.prototype.setManifestType=jw.prototype.setManifestType,jw.prototype.setSequenceMode=jw.prototype.setSequenceMode,jw.prototype.parseInit=jw.prototype.parseInit;var Qw=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,ex=/^(\d{1,4}(?:\.\d+)?|100)%$/,tx=/^(\d+px|\d+em|\d*\.?\d+c)$/,nx=/^(\d+)px (\d+)px$/,rx=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,ix=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,ax=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,ox=/^(\d*(?:\.\d*)?)f$/,sx=/^(\d*(?:\.\d*)?)t$/,ux=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),cx={left:Tn,center:"center",right:"end",start:Tn,end:"end"},lx={left:"line-left",center:"center",right:"line-right"},dx=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],fx=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],px=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function hx(){this.g=new jw}function gx(){this.g="UNKNOWN"}function vx(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?vn:mn[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center"==t||"middle"==t?"center":gn)):(r=/^region:(.*)$/.exec(t))?(t=function(e,t){return e=e.filter((function(e){return e.id==t})),e.length?e[0]:null}(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=kn[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Sn,e.line=Number(n[1]),n[2]&&(e.lineAlign=kn[n[2].toUpperCase()]))}function mx(){this.g=null}function yx(e,t,n){var r,i,a;return(new xa).box("payl",Aa((function(e){r=ft(e)}))).box("iden",Aa((function(e){i=ft(e)}))).box("sttg",Aa((function(e){a=ft(e)}))).parse(e),r?function(e,t,n,r,i){if(dn(e=new un(r,i,e)),t&&(e.id=t),n)for(n=Tt(t=new wt(n));n;)vx(e,n,[]),xt(t),n=Tt(t);return e}(r,i,a,t,n):null}function bx(){}function wx(){this.g=new gx}function xx(e){var t="WEBVTT\n\n";if(""==e)return t;for(var n=(e=c((e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=e.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join("\n").replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+"\n\n";return t}function Sx(){}function Tx(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=kx(n))&&(e.color=n),(n=t.BackColour)&&(n=kx(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=In),t.Italic&&(e.fontStyle=_n),t.Underline&&e.textDecoration.push(Dn),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=yn,e.textAlign="start";break;case 2:e.displayAlign=yn,e.textAlign=vn;break;case 3:e.displayAlign=yn,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=vn;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=vn;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function kx(e){return 0<=(e=parseInt(e.replace("&H",""),16))?"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function Cx(e){return 3600*((e=Mx.exec(e))[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}Br["application/ttml+xml"]=function(){return new jw},hx.prototype.parseInit=function(e){var t=!1;if((new xa).box("moov",Sa).box("trak",Sa).box("mdia",Sa).box("minf",Sa).box("stbl",Sa).R("stsd",Ta).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new Pe(2,2,2007)},hx.prototype.setSequenceMode=function(){},hx.prototype.setManifestType=function(){},hx.prototype.parseMedia=function(e,t,n){var r=this,i=!1,a=[],o=[];if((new xa).box("moof",Sa).box("traf",Sa).R("subs",(function(e){o=[];for(var t=e.reader,n=t.P(),r=0;r<n;r++){t.P();for(var i=t.ma(),a=0;a<i;a++)1==e.version?o.push(t.P()):o.push(t.ma()),t.T(),t.T(),t.P()}})).box("mdat",Aa((function(e){if(i=!0,o.length){for(var s=ve(e,0,o[0]),u=[],c=o[0],l=1;l<o.length;l++){var d=ve(e,c,o[l]);d=or(d),u.push("data:image/png;base64,"+d),c+=o[l]}a=a.concat(r.g.parseMedia(s,t,n,u))}else a=a.concat(r.g.parseMedia(e,t,n,[]))}))).parse(e,!1),!i)throw new Pe(2,2,2007);return a},B("shaka.text.Mp4TtmlParser",hx),hx.prototype.parseMedia=hx.prototype.parseMedia,hx.prototype.setManifestType=hx.prototype.setManifestType,hx.prototype.setSequenceMode=hx.prototype.setSequenceMode,hx.prototype.parseInit=hx.prototype.parseInit,Br['application/mp4; codecs="stpp"']=function(){return new hx},Br['application/mp4; codecs="stpp.ttml"']=function(){return new hx},Br['application/mp4; codecs="stpp.ttml.im1i"']=function(){return new hx},Br['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new hx},Br['application/mp4; codecs="stpp.ttml.im2i"']=function(){return new hx},Br['application/mp4; codecs="stpp.ttml.im2t"']=function(){return new hx},Br['application/mp4; codecs="stpp.ttml.etd1"']=function(){return new hx},Br['application/mp4; codecs="stpp.ttml.etd1|im1t"']=function(){return new hx},Br['application/mp4; codecs="stpp.ttml.im1t|etd1"']=function(){return new hx},Br['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new hx},gx.prototype.parseInit=function(){},gx.prototype.setSequenceMode=function(){},gx.prototype.setManifestType=function(e){this.g=e},gx.prototype.parseMedia=function(e,t){var n=(e=(e=ft(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new Pe(2,2,2e3);if(e=t.vttOffset,n[0].includes("X-TIMESTAMP-MAP")&&"HLS"==this.g){var r=n[0];if(e=r.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=r.match(/MPEGTS:(\d+)/m),!e||!r)throw new Pe(2,2,2e3);if(null==(e=Ct(e[1])))throw new Pe(2,2,2e3);r=Number(r[1]);for(var i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}for(t=[],i=(r=c(n[0].split("\n"))).next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new wt(i);var a=new ke;Tt(i),xt(i);for(var o=Tt(i);o;){var s=a,u=o;(o=/^id=(.*)$/.exec(u))?s.id=o[1]:(o=/^width=(\d{1,2}|100)%$/.exec(u))?s.width=Number(o[1]):(o=/^lines=(\d+)$/.exec(u))?(s.height=Number(o[1]),s.heightUnits=2):(o=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.regionAnchorX=Number(o[1]),s.regionAnchorY=Number(o[2])):(o=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.viewportAnchorX=Number(o[1]),s.viewportAnchorY=Number(o[2])):/^scroll=up$/.exec(u)&&(s.scroll="up"),xt(i),o=Tt(i)}t.push(a)}for(fn(r=new Map),i=[],a=(n=c(n.slice(1))).next();!a.done;a=n.next()){if((1!=(a=a.value.split("\n")).length||a[0])&&!/^NOTE($|[ \t])/.test(a[0])&&"STYLE"==a[0]){for(s=[],o=-1,u=1;u<a.length;u++)a[u].includes("::cue")&&(s.push([]),o=s.length-1),-1!=o&&(s[o].push(a[u]),a[u].includes("}")&&(o=-1));for(o=(s=c(s)).next();!o.done;o=s.next()){var l=o.value;o="global",(u=l[0].match(/\((.*)\)/))&&(o=u.pop()),u=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(u=l[1].split(";")),(l=r.get(o))||(l=new un(0,0,""));for(var d=!1,f=0;f<u.length;f++){var p=/^\s*([^:]+):\s*(.*)/.exec(u[f]);if(p){var h=p[2].trim().replace(";","");switch(p[1].trim()){case"background-color":case"background":d=!0,l.backgroundColor=h;break;case"color":d=!0,l.color=h;break;case"font-family":d=!0,l.fontFamily=h;break;case"font-size":d=!0,l.fontSize=h;break;case"font-weight":(700<=parseInt(h,10)||"bold"==h)&&(d=!0,l.fontWeight=In);break;case"font-style":switch(h){case"normal":d=!0,l.fontStyle=Mn;break;case"italic":d=!0,l.fontStyle=_n;break;case"oblique":d=!0,l.fontStyle="oblique"}break;case"opacity":d=!0,l.opacity=parseFloat(h);break;case"text-combine-upright":d=!0,l.textCombineUpright=h;break;case"text-shadow":d=!0,l.textShadow=h;break;case"white-space":d=!0,l.wrapLine="noWrap"!=h}}}d&&r.set(o,l)}}if(d=e,1==(l=a).length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0]||"REGION"==l[0])a=null;else if(a=null,l[0].includes("--\x3e")||(a=l[0],l.splice(0,1)),o=kt(s=new wt(l[0])),f=St(s,/[ \t]+--\x3e[ \t]+/g),u=kt(s),null==o||null==f||null==u)X("Failed to parse VTT time code. Cue skipped:",a,l),a=null;else{for(o+=d,u+=d,d=l.slice(1).join("\n").trim(),r.has("global")?((l=r.get("global").clone()).startTime=o,l.endTime=u,l.payload=d):l=new un(o,u,d),xt(s),o=Tt(s);o;)vx(l,o,t),xt(s),o=Tt(s);dn(l,r),null!=a&&(l.id=a),a=l}a&&i.push(a)}return i},B("shaka.text.VttTextParser",gx),gx.prototype.parseMedia=gx.prototype.parseMedia,gx.prototype.setManifestType=gx.prototype.setManifestType,gx.prototype.setSequenceMode=gx.prototype.setSequenceMode,gx.prototype.parseInit=gx.prototype.parseInit,Br["text/vtt"]=function(){return new gx},Br['text/vtt; codecs="vtt"']=function(){return new gx},Br['text/vtt; codecs="wvtt"']=function(){return new gx},mx.prototype.parseInit=function(e){var t=this,n=!1;if((new xa).box("moov",Sa).box("trak",Sa).box("mdia",Sa).R("mdhd",(function(e){e=jo(e.reader,e.version),t.g=e.timescale})).box("minf",Sa).box("stbl",Sa).R("stsd",Ta).box("wvtt",(function(){n=!0})).parse(e),!this.g)throw new Pe(2,2,2008);if(!n)throw new Pe(2,2,2008)},mx.prototype.setSequenceMode=function(){},mx.prototype.setManifestType=function(){},mx.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new Pe(2,2,2008);var n,r=0,i=[],a=[],o=!1,s=!1,u=!1,l=null;if((new xa).box("moof",Sa).box("traf",Sa).R("tfdt",(function(e){o=!0,r=Uo(e.reader,e.version).baseMediaDecodeTime})).R("tfhd",(function(e){l=Oo(e.reader,e.flags).cd})).R("trun",(function(e){s=!0,i=Fo(e.reader,e.version,e.flags).Zg})).box("mdat",Aa((function(e){u=!0,n=e}))).parse(e,!1),!u&&!o&&!s)throw new Pe(2,2,2008);e=r;for(var d=new ya(n,0),f=c(i),p=f.next();!p.done;p=f.next()){var h=(p=p.value).Pf||l,g=p.me?r+p.me:e;e=g+(h||0);var v=0;do{var m=d.P();v+=m;var y=null;"vttc"==Ia(d.P())?8<m&&(y=d.vb(m-8)):d.skip(m-8),h&&y&&(m=yx(y,t.periodStart+g/this.g,t.periodStart+e/this.g),a.push(m))}while(p.sampleSize&&v<p.sampleSize)}return a.filter(zr)},B("shaka.text.Mp4VttParser",mx),mx.prototype.parseMedia=mx.prototype.parseMedia,mx.prototype.setManifestType=mx.prototype.setManifestType,mx.prototype.setSequenceMode=mx.prototype.setSequenceMode,mx.prototype.parseInit=mx.prototype.parseInit,Br['application/mp4; codecs="wvtt"']=function(){return new mx},bx.prototype.parseInit=function(){},bx.prototype.setSequenceMode=function(){},bx.prototype.setManifestType=function(){},bx.prototype.parseMedia=function(e){var t=ft(e).replace(/\r+/g,"");if(e=[],""==(t=t.trim()))return e;for(var n=(t=c(t.split("\n\n"))).next();!n.done;n=t.next()){var r=new wt((n=n.value.split("\n"))[0]),i=kt(r),a=St(r,/,/g);if(r=kt(r),null==i||null==a||null==r)throw new Pe(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new un(i,r,n.slice(1).join("\n").trim()))}return e},B("shaka.text.SbvTextParser",bx),bx.prototype.parseMedia=bx.prototype.parseMedia,bx.prototype.setManifestType=bx.prototype.setManifestType,bx.prototype.setSequenceMode=bx.prototype.setSequenceMode,bx.prototype.parseInit=bx.prototype.parseInit,Br["text/x-subviewer"]=function(){return new bx},wx.prototype.parseInit=function(){},wx.prototype.setSequenceMode=function(){},wx.prototype.setManifestType=function(){},wx.prototype.parseMedia=function(e,t,n){return e=ve(gt(e=xx(e=ft(e)))),this.g.parseMedia(e,t,n,[])},B("shaka.text.SrtTextParser",wx),wx.srt2webvtt=xx,wx.prototype.parseMedia=wx.prototype.parseMedia,wx.prototype.setManifestType=wx.prototype.setManifestType,wx.prototype.setSequenceMode=wx.prototype.setSequenceMode,wx.prototype.parseInit=wx.prototype.parseInit,Br["text/srt"]=function(){return new wx},Sx.prototype.parseInit=function(){},Sx.prototype.setSequenceMode=function(){},Sx.prototype.setManifestType=function(){},Sx.prototype.parseMedia=function(e){var t="",n="",r=null,i=null;for(i=(e=c(i=ft(e).split(/\r?\n\s*\r?\n/))).next();!i.done;i=e.next()){var a=i.value;i=a,(a=Ax.exec(a))&&(r=a[1],i=a[2]),"V4 Styles"==r||"V4+ Styles"==r?(t=i,t=n?t+"\n"+i:i):"Events"==r&&(n=n?n+"\n"+i:i)}for(r=[],i=null,e=(t=c(t.split(/\r?\n/))).next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(a=Ex.exec(e)))if(e=a[1].trim(),a=a[2].trim(),"Format"==e)i=a.split(Ix);else if("Style"==e){e=a.split(Ix),a={};for(var o=0;o<i.length&&o<e.length;o++)a[i[o]]=e[o];r.push(a)}for(i=[],t=null,a=(n=c(n.split(/\r?\n/))).next(),e={};!a.done;e={lh:void 0},a=n.next())if(a=a.value,!/^\s*;/.test(a)&&(o=Ex.exec(a)))if(a=o[1].trim(),o=o[2].trim(),"Format"==a)t=o.split(Ix);else if("Dialogue"==a){o=o.split(Ix),a={};for(var s=0;s<t.length&&s<o.length;s++)a[t[s]]=o[s];o=new un(s=Cx(a.Start),Cx(a.End),o.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),e.lh=a.Style,(e=r.find(function(e){return function(t){return t.Name==e.lh}}(e)))&&Tx(o,e),i.push(o)}return i},B("shaka.text.SsaTextParser",Sx),Sx.prototype.parseMedia=Sx.prototype.parseMedia,Sx.prototype.setManifestType=Sx.prototype.setManifestType,Sx.prototype.setSequenceMode=Sx.prototype.setSequenceMode,Sx.prototype.parseInit=Sx.prototype.parseInit;var Ax=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,Ex=/^\s*([^:]+):\s*(.*)/,Ix=/\s*,\s*/,Mx=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function _x(e,t){var n=1&e[t+1]?7:9;return t+n<=e.length&&0<(e=((3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5)-n)?{Rd:n,ea:e}:null}function Px(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(60&e[t+2])>>>2;if(r>n.length-1)return null;var i=1+((192&e[t+2])>>>6),a=(1&e[t+2])<<2;return a|=(192&e[t+3])>>>6,{sampleRate:n[r],channelCount:a,codec:"mp4a.40."+i}}function Dx(e,t){if(t+1<e.length&&255===e[t]&&240==(246&e[t+1])){var n=1&e[t+1]?7:9;if(t+n>=e.length)return!1;var r=(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5;return!(r<=n)&&((t+=r)===e.length||t+1<e.length&&255===e[t]&&240==(246&e[t+1]))}return!1}function Lx(e){this.i=e,this.h=0,this.g=new Map}function Rx(e,t){if(t+8>e.length||11!==e[t]||119!==e[t+1])return null;var n=e[t+4]>>6;if(3<=n)return null;var r=63&e[t+4],i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(t+i>e.length)return null;var a=e[t+6]>>5,o=0;2===a?o+=2:(1&a&&1!==a&&(o+=2),4&a&&(o+=2)),o=(e[t+6]<<8|e[t+7])>>12-o&1;var s=7&e[t+5];return e=new Uint8Array([n<<6|e[t+5]>>3<<1|s>>2,(3&s)<<6|a<<3|o<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][a]+o,pa:e,ea:i}}function Nx(e,t){if(11===e[t]&&119===e[t+1]){var n,r,i=0,a=5;for(t+=a;0<a;){r=e[t];var o=Math.min(a,8),s=8-o;n=(r&(n=4278190080>>>24+s<<s))>>s,i=i?i<<o|n:n,t+=1,a-=o}if(16>i)return!0}return!1}function Ox(e){this.i=e,this.h=0,this.g=new Map}function Ux(e,t){if(t+8>e.length||2935!=(e[t]<<8|e[t+1]<<0))return null;var n=new Ho(e.subarray(t+2));Ko(n,2),Ko(n,3);var r=Go(n,11)+1<<1,i=Go(n,2);if(3==i){i=[24e3,22060,16e3][i=Go(n,2)];var a=3}else i=[48e3,44100,32e3][i],a=Go(n,2);var o=Go(n,3),s=Go(n,1);return n=Go(n,5),t+r>e.byteLength?null:(e=Math.floor(r*i/(16*[1,2,3,6][a])),e=new Uint8Array([(8160&e)>>5,(31&e)<<3,i<<6|n<<1|0,0|o<<1|s<<0,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][o]+s,pa:e,ea:r})}function jx(e){this.i=e,this.h=0,this.g=new Map}function Fx(e){for(var t=!1,n=[],r=e.find((function(e){return 7==e.type})),i=!1,a=(e=c(e)).next();!a.done;a=e.next()){var o=!1;switch((a=a.value).type){case 1:o=i=!0;var s=a.data;r&&4<s.length&&(2===(s=ts(new Ho(s)))||4===s||7===s||9===s)&&(t=!0);break;case 5:t=o=i=!0;break;case 6:case 7:case 8:case 12:o=!0;break;case 9:i=o=!0;break;default:o=!1}i&&o&&(o=a.fullData.byteLength,(s=new Uint8Array(4))[0]=o>>24&255,s[1]=o>>16&255,s[2]=o>>8&255,s[3]=255&o,n.push(s),n.push(a.fullData))}return n.length?{data:dr.apply(ar,l(n)),ld:t}:null}Br["text/x-ssa"]=function(){return new Sx},(r=Lx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/aac"==e.toLowerCase().split(";")[0]&&ne(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(Pr(t)||"mp4a.40.2")+'"':t},r.getOriginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=ve(e),a=No(i),o=a.length;o<i.length&&!Dx(i,o);o++);if(e=1e3*n.endTime,(a=Ro(a)).length&&n&&(a=a.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(e=a.data),!(a=Px(i,o)))return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=a.sampleRate,t.channelsCount=a.channelCount;for(var s=[];o<i.length;){var u=_x(i,o);if(!u)return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null));var c=u.Rd+u.ea;o+c<=i.length&&s.push({data:i.subarray(o+u.Rd,o+c),size:u.ea,duration:1024,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),o+=c}return i=a.sampleRate,e=Math.floor(e*i/1e3),r=new nm([r={id:t.id,type:"audio",codecs:a.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,fb:[],pa:new Uint8Array([]),za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.h,baseMediaDecodeTime:e,ab:s},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=rm(r),this.g.set(n,t)),n=um(r),this.h++,t=dr(t,n),Promise.resolve(t)},B("shaka.transmuxer.AacTransmuxer",Lx),Lx.prototype.transmux=Lx.prototype.transmux,Lx.prototype.getOriginalMimeType=Lx.prototype.getOriginalMimeType,Lx.prototype.convertCodecs=Lx.prototype.convertCodecs,Lx.prototype.isSupported=Lx.prototype.isSupported,Lx.prototype.destroy=Lx.prototype.destroy,Nn("audio/aac",(function(){return new Lx("audio/aac")}),jn),(r=Ox.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ac3"==e.toLowerCase().split(";")[0]&&ne(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ac3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ac-3"':t},r.getOriginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=No(e=ve(e)),a=i.length;a<e.length&&!Nx(e,a);a++);var o=1e3*n.endTime;(i=Ro(i)).length&&n&&(i=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),u=[];a<e.length;){var c=Rx(e,a);if(!c)return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=c.sampleRate,t.channelsCount=c.channelCount,i=c.sampleRate,s=c.pa,u.push({data:e.subarray(a,a+c.ea),size:c.ea,duration:1536,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),a+=c.ea}return e=Math.floor(o*i/1e3),r=new nm([r={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,fb:[],pa:s,za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.h,baseMediaDecodeTime:e,ab:u},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=rm(r),this.g.set(n,t)),n=um(r),this.h++,t=dr(t,n),Promise.resolve(t)},B("shaka.transmuxer.Ac3Transmuxer",Ox),Ox.prototype.transmux=Ox.prototype.transmux,Ox.prototype.getOriginalMimeType=Ox.prototype.getOriginalMimeType,Ox.prototype.convertCodecs=Ox.prototype.convertCodecs,Ox.prototype.isSupported=Ox.prototype.isSupported,Ox.prototype.destroy=Ox.prototype.destroy,Nn("audio/ac3",(function(){return new Ox("audio/ac3")}),jn),(r=jx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ec3"==e.toLowerCase().split(";")[0]&&ne(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ec3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':t},r.getOriginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=No(e=ve(e)),a=i.length;a<e.length&&2935!=(e[a]<<8|e[a+1]<<0);a++);var o=1e3*n.endTime;(i=Ro(i)).length&&n&&(i=i.find((function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),u=[];a<e.length;){var c=Ux(e,a);if(!c)return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null));t.audioSamplingRate=c.sampleRate,t.channelsCount=c.channelCount,i=c.sampleRate,s=c.pa,u.push({data:e.subarray(a,a+c.ea),size:c.ea,duration:1536,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),a+=c.ea}return e=Math.floor(o*i/1e3),r=new nm([r={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:i,duration:r,fb:[],pa:s,za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.h,baseMediaDecodeTime:e,ab:u},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=rm(r),this.g.set(n,t)),n=um(r),this.h++,t=dr(t,n),Promise.resolve(t)},B("shaka.transmuxer.Ec3Transmuxer",jx),jx.prototype.transmux=jx.prototype.transmux,jx.prototype.getOriginalMimeType=jx.prototype.getOriginalMimeType,jx.prototype.convertCodecs=jx.prototype.convertCodecs,jx.prototype.isSupported=jx.prototype.isSupported,jx.prototype.destroy=jx.prototype.destroy,Nn("audio/ec3",(function(){return new jx("audio/ec3")}),jn);var Bx=[100,110,122,244,44,83,86,118,128,138,139,134];function Vx(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var o=e[t+3]>>6;i=1e3*Hx[14*(3===n?3-r:3===r?3:4)+i-1],a=qx[3*(3===n?0:2===n?1:2)+a],n=Kx[n][r];var s=Gx[r],u=Math.floor(n*i/a+(e[t+2]>>1&1))*s,c=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(c=c?parseInt(c[1],10):0)&&87>=c&&2===r&&224e3<=i&&0===o&&(e[t+3]|=128),{sampleRate:a,channelCount:3===o?1:2,ea:u,Ti:8*n*s}}return null}function $x(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function zx(e,t){if(t+1<e.length&&$x(e,t)){var n=Vx(e,t),r=4;return n&&n.ea&&(r=n.ea),(t+=r)===e.length||t+1<e.length&&$x(e,t)}return!1}var Hx=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],qx=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Kx=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Gx=[0,1,1,4];function Xx(e){this.i=e,this.h=0,this.g=new Map}function Wx(e){this.h=e,this.g=null}function Yx(e){this.h=e,(this.g=Dg.get("ISOBoxer")())&&function(e){function t(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,(function(e){this._procEntryField(e,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(e,"NumberOfEntries","uint",16),this._procSubEntries(e,"clearAndCryptedData",e.NumberOfEntries,(function(e){this._procEntryField(e,"BytesOfClearData","uint",16),this._procEntryField(e,"BytesOfEncryptedData","uint",32)})))}))}e.g.addBoxProcessor("saio",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)})),e.g.addBoxProcessor("saiz",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)})),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",(function(){for(var e=!0,n=0;16>n;n++)this.usertype[n]!==Zx[n]&&(e=!1);e&&(this._parsing&&(this.type="sepiff"),t.call(this))}))}(this)}function Jx(e,t){for(var n=8,r=0;r<e.boxes.length&&e.boxes[r].type!==t;r++)n+=e.boxes[r].size;return n}(r=Xx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/mpeg"==e.toLowerCase().split(";")[0]&&ne(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/mpeg"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':t},r.getOriginalMimeType=function(){return this.i},r.transmux=function(e,t,n,r){for(var i=ve(e),a=No(i).length;a<i.length&&!zx(i,a);a++);var o;for(e=[];a<i.length;){var s=Vx(i,a);if(!s)return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null));o||(o=s),a+s.ea<=i.length&&e.push({data:i.subarray(a,a+s.ea),size:s.ea,duration:1152,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),a+=s.ea}return o?(i=9e4*o.Ti/o.sampleRate*this.h,r=new nm([r={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:o.sampleRate,duration:r,fb:[],pa:new Uint8Array([]),za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.h,baseMediaDecodeTime:i,ab:e},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=rm(r),this.g.set(n,t)),n=um(r),this.h++,t=dr(t,n),Promise.resolve(t)):Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null))},B("shaka.transmuxer.Mp3Transmuxer",Xx),Xx.prototype.transmux=Xx.prototype.transmux,Xx.prototype.getOriginalMimeType=Xx.prototype.getOriginalMimeType,Xx.prototype.convertCodecs=Xx.prototype.convertCodecs,Xx.prototype.isSupported=Xx.prototype.isSupported,Xx.prototype.destroy=Xx.prototype.destroy,Nn("audio/mpeg",(function(){return new Xx("audio/mpeg")}),jn),(r=Wx.prototype).destroy=function(){},r.isSupported=function(e){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var t=Pr(e).split(","),n=vr("audio",t);return t=vr("video",t),!(!n||t||"mp3"!=Ir(n))&&ne(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?"audio/mpeg":t},r.getOriginalMimeType=function(){return this.h},r.transmux=function(e,t,n,r,i){if(this.g?this.g.clearData():this.g=new ns,e=ve(e),"mp3"!=(e=this.g.parse(e)).dd().audio||"audio"!=i)return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null));for(n=new Uint8Array([]),i=c(e.Xb()),e=i.next();!e.done;e=i.next())if(e=e.value.data)for(t=0;t<e.length;)(r=Vx(e,t))?(t+r.ea<=e.length&&(n=dr(n,e.subarray(t,t+r.ea))),t+=r.ea):t++;return Promise.resolve(n)},B("shaka.transmuxer.MpegTsTransmuxer",Wx),Wx.prototype.transmux=Wx.prototype.transmux,Wx.prototype.getOriginalMimeType=Wx.prototype.getOriginalMimeType,Wx.prototype.convertCodecs=Wx.prototype.convertCodecs,Wx.prototype.isSupported=Wx.prototype.isSupported,Wx.prototype.destroy=Wx.prototype.destroy,Nn("video/mp2t",(function(){return new Wx("video/mp2t")}),Fn),(r=Yx.prototype).destroy=function(){},r.isSupported=function(e,t){var n=e.startsWith("mss/");return!(!this.g||!n)&&(t?ne(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),ne(t)||ne(e)))},r.convertCodecs=function(e,t){return t.replace("mss/","")},r.getOriginalMimeType=function(){return this.h},r.transmux=function(e,t,n){if(!n)return Promise.resolve(ve(e));if(!t.mssPrivateData)return Promise.reject(new Pe(2,3,3020,n?n.N()[0]:null));try{var r,i=this.g.parseBuffer(e),a=i.fetch("tfhd");a.track_ID=t.id+1;var o=i.fetch("tfdt"),s=i.fetch("traf");null===o&&((o=this.g.createFullBox("tfdt",s,a)).version=1,o.flags=0,o.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var u=i.fetch("trun"),c=i.fetch("tfxd");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var l=i.fetch("tfrf");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var d=i.fetch("sepiff");if(null!==d){d.type="senc",d.usertype=void 0;var f=i.fetch("saio");if(null===f){(f=this.g.createFullBox("saio",s)).version=0,f.flags=0,f.entry_count=1,f.offset=[0];var p=this.g.createFullBox("saiz",s);if(p.version=0,p.flags=0,p.sample_count=d.sample_count,p.default_sample_info_size=0,p.sample_info_size=[],2&d.flags)for(r=0;r<d.sample_count;r+=1)p.sample_info_size[r]=10+6*d.entry[r].NumberOfEntries;else p.default_sample_info_size=8}}a.flags&=16777214,a.flags|=131072,u.flags|=1;var h=i.fetch("moof");u.data_offset=h.getLength()+8;var g=i.fetch("saio");null!==g&&(g.offset[0]=Jx(h,"traf")+Jx(s,"senc")+16);var v=ve(i.write());return Promise.resolve(v)}catch(e){return e instanceof Pe?Promise.reject(e):Promise.reject(new Pe(2,3,3022,n?n.N()[0]:null))}},B("shaka.transmuxer.MssTransmuxer",Yx),Yx.prototype.transmux=Yx.prototype.transmux,Yx.prototype.getOriginalMimeType=Yx.prototype.getOriginalMimeType,Yx.prototype.convertCodecs=Yx.prototype.convertCodecs,Yx.prototype.isSupported=Yx.prototype.isSupported,Yx.prototype.destroy=Yx.prototype.destroy;var Zx=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function Qx(e){this.l=e,this.g=0,this.i=new Map,this.h=this.j=null}Nn("mss/audio/mp4",(function(){return new Yx("mss/audio/mp4")}),jn),Nn("mss/video/mp4",(function(){return new Yx("mss/video/mp4")}),jn),(r=Qx.prototype).destroy=function(){this.i.clear(),this.h&&this.h.destroy()},r.isSupported=function(e,t){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var n=e;t&&(n=this.convertCodecs(t,e));var r=Pr(n).split(",");return n=vr("audio",r),r=vr("video",r),!(n&&(n=Ir(n),!nS.includes(n))||r&&(n=Ir(r),!rS.includes(n)))&&(t?ne(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),ne(t)||ne(e)))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?(t=Pr(t).replace("mp4a.40.34","mp3").split(",").map((function(e){return ci(e,"audio/mp4")})).map(li).join(","),"audio"==e?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},r.getOriginalMimeType=function(){return this.l},r.transmux=function(e,t,n,r,i){var a=ve(e);if("audio"==i&&!os(a)){for(var o=No(a),s=o.length;s<a.length;s++)if(zx(a,s))return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null));for(s=o.length;s<a.length;s++)if(Dx(a,s))return this.h||(this.h=new Lx("audio/aac")),this.h.transmux(e,t,n,r,i);return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null))}this.j?this.j.clearData():this.j=new ns;var u=this.j.parse(a),d=[],f=u.dd();try{var p=null;if("video"==i){switch(f.video){case"avc":var h=[],g=null,v=[],m=u.sc();if(!m.length)throw new Pe(2,3,3023,n?n.N()[0]:null);for(var y=0;y<m.length;y++){var b=m[y],w=b.nalus;v.push.apply(v,l(w));var x,S=Fx(w);if(S)null==g&&(g=b.dts),x=y+1<m.length?(m[y+1].dts||0)-(b.dts||0):1<m.length?(b.dts||0)-(m[y-1].dts||0):9e4*(n.endTime-n.startTime),h.push({data:S.data,size:S.data.byteLength,duration:x,hb:Math.round((b.pts||0)-(b.dts||0)),flags:{kb:0,$a:0,Za:0,Xa:0,Ya:S.ld?2:1,lb:S.ld?0:1}})}var T=function(e){if(!e.length)return null;var t=e.find((function(e){return 7==e.type}));if(e=e.find((function(e){return 8==e.type})),!t||!e)return null;var n=new Ho(t.data),r=Qo(n);if(Qo(n),Qo(n),Wo(n),Bx.includes(r)&&(3===(r=Yo(n))&&Ko(n,1),Wo(n),Wo(n),Ko(n,1),Zo(n))){r=3!==r?8:12;for(var i=0;i<r;i++)Zo(n)&&es(n,6>i?16:64)}if(Wo(n),0===(r=Yo(n)))Yo(n);else if(1===r)for(Ko(n,1),Wo(n),Wo(n),r=Yo(n),i=0;i<r;i++)Wo(n);Wo(n),Ko(n,1);var a=Yo(n),o=Yo(n),s=Go(n,1);0===s&&Ko(n,1),Ko(n,1);var u=0,c=0,d=0,f=0;if(Zo(n)&&(u=Yo(n),c=Yo(n),d=Yo(n),f=Yo(n)),i=r=1,Zo(n)&&Zo(n)){var p=Qo(n);0<p&&16>=p?(r=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][p-1],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][p-1]):255===p&&(r=Go(n,16),i=Go(n,16))}return n=(2-s)*(o+1)*16-2*d-2*f,a=16*(a+1)-2*u-2*c,u=[],t=t.fullData,u.push(t.byteLength>>>8&255),u.push(255&t.byteLength),u=u.concat.apply(u,l(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(255&e.byteLength),t=t.concat.apply(t,l(e)),{height:n,width:a,za:e=new Uint8Array([1,u[3],u[4],u[5],255,225].concat(u,[1],t)),Da:r,Fa:i}}(v);if(!T||null==g)throw new Pe(2,3,3018,n?n.N()[0]:null);t.height=T.height,t.width=T.width,p={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,fb:[],pa:new Uint8Array([]),za:T.za,Da:T.Da,Fa:T.Fa,data:{wb:this.g,baseMediaDecodeTime:g,ab:h},stream:t};break;case"hvc":var k=[],C=null,A=[],E=u.sc();if(!E.length)throw new Pe(2,3,3023,n?n.N()[0]:null);for(var I=0;I<E.length;I++){var M=E[I],_=M.nalus;A.push.apply(A,l(_));for(var P=!1,D=[],L=!1,R=c(_),N=R.next();!N.done;N=R.next()){var O=N.value;switch(O.type){case 1:case 0:var U=L=!0;break;case 19:case 20:case 21:P=U=L=!0;break;case 32:case 33:case 34:case 39:case 40:U=!0;break;case 35:L=U=!0;break;default:U=!1}if(L&&U){var j=O.fullData.byteLength,F=new Uint8Array(4);F[0]=j>>24&255,F[1]=j>>16&255,F[2]=j>>8&255,F[3]=255&j,D.push(F),D.push(O.fullData)}}var B,V=D.length?{data:dr.apply(ar,l(D)),ld:P}:null;if(V)null==C&&null!=M.dts&&(C=M.dts),B=I+1<E.length?(E[I+1].dts||0)-(M.dts||0):1<E.length?(M.dts||0)-(E[I-1].dts||0):9e4*(n.endTime-n.startTime),k.push({data:V.data,size:V.data.byteLength,duration:B,hb:Math.round((M.pts||0)-(M.dts||0)),flags:{kb:0,$a:0,Za:0,Xa:0,Ya:V.ld?2:1,lb:V.ld?0:1}})}var $=function(e){if(!e.length)return null;var t=e.find((function(e){return 32==e.type})),n=e.find((function(e){return 33==e.type})),r=e.find((function(e){return 34==e.type}));if(!t||!n||!r)return null;var i=function(e){var t=new Ho(e,!0);return Qo(t),Qo(t),Go(t,4),Go(t,2),Go(t,6),{Df:(e=Go(t,3))+1,$f:t=Zo(t)}}(t.fullData);e=function(e){Qo(e=new Ho(e,!0)),Qo(e);var t=0,n=0,r=0,i=0;Go(e,4);var a=Go(e,3);Zo(e);for(var o=Go(e,2),s=Go(e,1),u=Go(e,5),c=Qo(e),l=Qo(e),d=Qo(e),f=Qo(e),p=Qo(e),h=Qo(e),g=Qo(e),v=Qo(e),m=Qo(e),y=Qo(e),b=Qo(e),w=[],x=[],S=0;S<a;S++)w.push(Zo(e)),x.push(Zo(e));if(0<a)for(S=a;8>S;S++)Go(e,2);for(S=0;S<a;S++)w[S]&&Go(e,88),x[S]&&Qo(e);Yo(e),3==(w=Yo(e))&&Go(e,1),x=Yo(e),S=Yo(e),Zo(e)&&(t+=Yo(e),n+=Yo(e),r+=Yo(e),i+=Yo(e));var T=Yo(e),k=Yo(e),C=Yo(e);if(Zo(e))for(var A=0;A<=a;A++)Yo(e),Yo(e),Yo(e);else Yo(e),Yo(e),Yo(e);if(Yo(e),Yo(e),Yo(e),Yo(e),Yo(e),Yo(e),Zo(e)&&Zo(e))for(A=0;4>A;A++)for(var E=0;E<(3===A?2:6);E++)if(Zo(e)){var I=Math.min(64,1<<4+(A<<1));1<A&&Jo(e);for(var M=0;M<I;M++)Jo(e)}else Yo(e);for(Zo(e),Zo(e),Zo(e)&&(Qo(e),Yo(e),Yo(e),Zo(e)),A=Yo(e),I=E=0;I<A;I++)if(M=!1,0!==I&&(M=Zo(e)),M){I===A&&Yo(e),Zo(e),Yo(e);for(var _=M=0;_<=E;_++){var P=Zo(e),D=!1;P||(D=Zo(e)),(P||D)&&M++}E=M}else{for(E=(_=Yo(e))+(M=Yo(e)),P=0;P<_;P++)Yo(e),Zo(e);for(_=0;_<M;_++)Yo(e),Zo(e)}if(Zo(e))for(A=Yo(e),E=0;E<A;E++){for(I=0;I<C+4;I++)Go(e,1);Go(e,1)}if(A=C=1,E=0,Zo(e),Zo(e),Zo(e)){if(Zo(e)&&(M=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],_=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1],0<(I=Qo(e))&&16>=I?(C=M[I-1],A=_[I-1]):255===I&&(C=Go(e,16),A=Go(e,16))),Zo(e)&&Zo(e),Zo(e)&&(Go(e,3),Zo(e),Zo(e)&&(Qo(e),Qo(e),Qo(e))),Zo(e)&&(Yo(e),Yo(e)),Zo(e),Zo(e),Zo(e),(I=Zo(e))&&(Yo(e),Yo(e),Yo(e),Yo(e)),Zo(e)&&(Go(e,32),Go(e,32),Zo(e)&&Yo(e),Zo(e)))for(_=!1,I=Zo(e),M=Zo(e),(I||M)&&((_=Zo(e))&&(Qo(e),Go(e,5),Zo(e),Go(e,5)),Go(e,4),Go(e,4),_&&Go(e,4),Go(e,5),Go(e,5),Go(e,5)),P=0;P<=a;P++){var L=!0;D=1,Zo(e)||(L=Zo(e));var R=!1;if(L?Yo(e):R=Zo(e),R||(D=Yo(e)+1),I){for(L=0;L<D;L++)Yo(e),Yo(e),_&&(Yo(e),Yo(e));Zo(e)}if(M){for(L=0;L<D;L++)Yo(e),Yo(e),_&&(Yo(e),Yo(e));Zo(e)}}Zo(e)&&(Zo(e),Zo(e),Zo(e),E=Yo(e),Yo(e),Yo(e),Yo(e),Yo(e))}return{bf:b,hf:o,jf:s,gf:u,cf:c,df:l,ef:d,ff:f,We:p,Xe:h,Ye:g,Ze:v,$e:m,af:y,ae:E,Pe:0,Ne:w,Me:T,Le:k,width:x-(t+n)*(1===w||2===w?2:1),height:S-(r+i)*(1===w?2:1),Vi:C,Ui:A}}(n.fullData);var a=function(e){var t=new Ho(e,!0);Qo(t),Qo(t),Yo(t),Yo(t),Zo(t),Zo(t),Go(t,3),Zo(t),Zo(t),Yo(t),Yo(t),Jo(t),Zo(t),Zo(t),Zo(t)&&Yo(t),Jo(t),Jo(t),Zo(t),Zo(t),Zo(t),Zo(t),e=Zo(t);var n=1;return(t=Zo(t))&&e?n=0:t?n=3:e&&(n=2),{Gf:n}}(r.fullData);return t=function(e,t,n,r){var i=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));return i[0]=1,i[1]=(3&r.hf)<<6|(r.jf?1:0)<<5|31&r.gf,i[2]=r.cf,i[3]=r.df,i[4]=r.ef,i[5]=r.ff,i[6]=r.We,i[7]=r.Xe,i[8]=r.Ye,i[9]=r.Ze,i[10]=r.$e,i[11]=r.af,i[12]=r.bf,i[13]=240|(3840&r.ae)>>8,i[14]=255&r.ae,i[15]=252|3&r.Gf,i[16]=252|3&r.Ne,i[17]=248|7&r.Me,i[18]=248|7&r.Le,i[19]=0,i[20]=0,i[21]=(3&r.Pe)<<6|(7&r.Df)<<3|(r.$f?1:0)<<2|3,i[22]=3,i[23]=160,i[24]=0,i[25]=1,i[26]=(65280&e.byteLength)>>8,i[27]=(255&e.byteLength)>>0,i.set(e,28),i[23+(5+e.byteLength)]=161,i[e.byteLength+29]=0,i[e.byteLength+30]=1,i[e.byteLength+31]=(65280&t.byteLength)>>8,i[e.byteLength+32]=(255&t.byteLength)>>0,i.set(t,e.byteLength+33),i[23+(e.byteLength+10+t.byteLength)]=162,i[e.byteLength+10+t.byteLength+24]=0,i[e.byteLength+10+t.byteLength+25]=1,i[e.byteLength+10+t.byteLength+26]=(65280&n.byteLength)>>8,i[e.byteLength+10+t.byteLength+27]=(255&n.byteLength)>>0,i.set(n,e.byteLength+10+t.byteLength+28),i}(t.fullData,n.fullData,r.fullData,{Df:i.Df,$f:i.$f,hf:e.hf,jf:e.jf,bf:e.bf,gf:e.gf,cf:e.cf,df:e.df,ef:e.ef,ff:e.ff,We:e.We,Xe:e.Xe,Ye:e.Ye,Ze:e.Ze,$e:e.$e,af:e.af,Pe:e.Pe,ae:e.ae,Ne:e.Ne,Me:e.Me,Le:e.Le,Gf:a.Gf}),{height:e.height,width:e.width,za:t,Da:e.Vi,Fa:e.Ui}}(A);if(!$||null==C)throw new Pe(2,3,3018,n?n.N()[0]:null);t.height=$.height,t.width=$.width,p={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:9e4,duration:r,fb:[],pa:new Uint8Array([]),za:$.za,Da:$.Da,Fa:$.Fa,data:{wb:this.g,baseMediaDecodeTime:C,ab:k},stream:t}}p&&(d.push(p),p=null)}if("audio"==i){switch(f.audio){case"aac":for(var z,H=[],q=null,K=c(u.Xb()),G=K.next();!G.done;G=K.next()){var X=G.value,W=X.data;if(W){var Y=0;if(!(z=Px(W,Y)))throw new Pe(2,3,3018,n?n.N()[0]:null);for(t.audioSamplingRate=z.sampleRate,t.channelsCount=z.channelCount,null==q&&null!==X.pts&&(q=X.pts);Y<W.length;){var J=_x(W,Y);if(J){var Z=J.Rd+J.ea;Y+Z<=W.length&&H.push({data:W.subarray(Y+J.Rd,Y+Z),size:J.ea,duration:1024,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),Y+=Z}else Y++}}}if(!z||null==q){if(!u.sc().length)throw new Pe(2,3,3018,n?n.N()[0]:null);q=9e4*n.startTime;var Q=vr("audio",t.codecs.split(","));if(!Q||!t.channelsCount||!t.audioSamplingRate)throw new Pe(2,3,3018,n?n.N()[0]:null);z={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:Q};var ee=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t||3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}(Q,t.channelsCount);if(!ee)throw new Pe(2,3,3018,n?n.N()[0]:null);for(var te=q+9e4*(n.endTime-n.startTime),ne=q;ne<te;)H.push({data:ee,size:ee.byteLength,duration:1024,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),ne+=1024/z.sampleRate*9e4}var re=z.sampleRate,ie=q/9e4*re;p={id:t.id,type:"audio",codecs:z.codec,encrypted:t.encrypted&&0<t.drmInfos.length,timescale:re,duration:r,fb:[],pa:new Uint8Array([]),za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.g,baseMediaDecodeTime:ie,ab:H},stream:t};break;case"ac3":for(var ae=[],oe=0,se=new Uint8Array([]),ue=null,ce=c(u.Xb()),le=ce.next();!le.done;le=ce.next()){var de=le.value,fe=de.data;null==ue&&null!==de.pts&&(ue=de.pts);for(var pe=0;pe<fe.length;){var he=Rx(fe,pe);he?(t.audioSamplingRate=he.sampleRate,t.channelsCount=he.channelCount,oe=he.sampleRate,se=he.pa,ae.push({data:fe.subarray(pe,pe+he.ea),size:he.ea,duration:1536,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),pe+=he.ea):pe++}}if(0==oe||0==se.byteLength||null==ue)throw new Pe(2,3,3018,n?n.N()[0]:null);var ge=ue/9e4*oe;p={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:oe,duration:r,fb:[],pa:se,za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.g,baseMediaDecodeTime:ge,ab:ae},stream:t};break;case"ec3":for(var me=[],ye=0,be=new Uint8Array([]),we=null,xe=c(u.Xb()),Se=xe.next();!Se.done;Se=xe.next()){var Te=Se.value,ke=Te.data;null==we&&null!==Te.pts&&(we=Te.pts);for(var Ce=0;Ce<ke.length;){var Ae=Ux(ke,Ce);Ae?(t.audioSamplingRate=Ae.sampleRate,t.channelsCount=Ae.channelCount,ye=Ae.sampleRate,be=Ae.pa,me.push({data:ke.subarray(Ce,Ce+Ae.ea),size:Ae.ea,duration:1536,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),Ce+=Ae.ea):Ce++}}if(0==ye||0==be.byteLength||null==we)throw new Pe(2,3,3018,n?n.N()[0]:null);var Ee=we/9e4*ye;p={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:ye,duration:r,fb:[],pa:be,za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.g,baseMediaDecodeTime:Ee,ab:me},stream:t};break;case"mp3":for(var Ie,Me=[],_e=null,De=c(u.Xb()),Le=De.next();!Le.done;Le=De.next()){var Re=Le.value,Ne=Re.data;if(Ne){null==_e&&null!==Re.pts&&(_e=Re.pts);for(var Oe=0;Oe<Ne.length;){var Ue=Vx(Ne,Oe);Ue?(Ie||(Ie=Ue),Oe+Ue.ea<=Ne.length&&Me.push({data:Ne.subarray(Oe,Oe+Ue.ea),size:Ue.ea,duration:1152,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),Oe+=Ue.ea):Oe++}}}if(!Ie||null==_e)throw new Pe(2,3,3018,n?n.N()[0]:null);var je=Ie.sampleRate,Fe=_e/9e4*je;p={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:je,duration:r,fb:[],pa:new Uint8Array([]),za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.g,baseMediaDecodeTime:Fe,ab:Me},stream:t};break;case"opus":var Be=[],Ve=null,$e=u.F;if(!$e)throw new Pe(2,3,3018,n?n.N()[0]:null);var ze=[];switch($e.Fh){case 1:case 2:ze=[0];break;case 0:ze=[255,1,1,0,1];break;case 128:ze=[255,2,0,0,1];break;case 3:ze=[1,2,1,0,2,1];break;case 4:ze=[1,2,2,0,1,2,3];break;case 5:ze=[1,3,2,0,4,1,2,3];break;case 6:ze=[1,4,2,0,4,1,2,3,5];break;case 7:ze=[1,4,2,0,4,1,2,3,5,6];break;case 8:ze=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:ze=[1,1,2,0,1];break;case 131:ze=[1,1,3,0,1,2];break;case 132:ze=[1,1,4,0,1,2,3];break;case 133:ze=[1,1,5,0,1,2,3,4];break;case 134:ze=[1,1,6,0,1,2,3,4,5];break;case 135:ze=[1,1,7,0,1,2,3,4,5,6];break;case 136:ze=[1,1,8,0,1,2,3,4,5,6,7]}for(var He=new Uint8Array([0,$e.channelCount,0,0,$e.sampleRate>>>24&255,$e.sampleRate>>>17&255,$e.sampleRate>>>8&255,$e.sampleRate>>>0&255,0,0].concat(l(ze))),qe=$e.sampleRate,Ke=c(u.Xb()),Ge=Ke.next();!Ge.done;Ge=Ke.next()){var Xe=Ge.value,We=Xe.data;null==Ve&&null!==Xe.pts&&(Ve=Xe.pts);for(var Ye=0;Ye<We.length;){for(var Je=0!=(16&We[Ye+1]),Ze=0!=(8&We[Ye+1]),Qe=Ye+2,et=0;255===We[Qe];)et+=255,Qe+=1;et+=We[Qe],Qe+=1,Qe+=Je?2:0,Qe+=Ze?2:0;var tt=We.slice(Qe,Qe+et);Be.push({data:tt,size:tt.byteLength,duration:960,hb:0,flags:{kb:0,$a:0,Za:0,Xa:0,Ya:2,lb:0}}),Ye=Qe+et}}if(0==He.byteLength||null==Ve)throw new Pe(2,3,3018,n?n.N()[0]:null);t.audioSamplingRate=$e.sampleRate,t.channelsCount=$e.channelCount;var nt=Ve/9e4*qe;p={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&0<t.drmInfos.length,timescale:qe,duration:r,fb:[],pa:He,za:new Uint8Array([]),Da:0,Fa:0,data:{wb:this.g,baseMediaDecodeTime:nt,ab:Be},stream:t}}p&&(d.push(p),p=null)}}catch(e){return e&&3023==e.code?Promise.resolve(new Uint8Array([])):Promise.reject(e)}if(!d.length)return Promise.reject(new Pe(2,3,3018,n?n.N()[0]:null));var rt=new nm(d),it=t.id+"_"+n.i;if(this.i.has(it))var at=this.i.get(it);else at=rm(rt),this.i.set(it,at);var ot=um(rt);this.g++;var st=dr(at,ot);return Promise.resolve(st)},B("shaka.transmuxer.TsTransmuxer",Qx),Qx.prototype.transmux=Qx.prototype.transmux,Qx.prototype.getOriginalMimeType=Qx.prototype.getOriginalMimeType,Qx.prototype.convertCodecs=Qx.prototype.convertCodecs,Qx.prototype.isSupported=Qx.prototype.isSupported,Qx.prototype.destroy=Qx.prototype.destroy;var eS,tS,nS=["aac","ac-3","ec-3","mp3","opus"],rS=["avc","hevc"];function iS(){}function aS(){eS||navigator.emeEncryptionSchemePolyfilled?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(eS=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=oS,navigator.emeEncryptionSchemePolyfilled=!0):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function oS(e,t){var n,r=this;return D((function(i){return 1==i.g?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),w(i,eS.call(r,e,t),2)):vS(n=i.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=eS,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=sS,i.return(sS.call(r,e,t)))}))}function sS(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,g=this;return D((function(v){if(1==v.g){for(console.assert(g==navigator,'bad "this" for requestMediaKeySystemAccess'),n=gS(e),r=[],i=c(t),a=i.next();!a.done;a=i.next())o=a.value,s=uS(o.videoCapabilities,n),u=uS(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((l=Object.assign({},o)).videoCapabilities=s,l.audioCapabilities=u,r.push(l));if(!r.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return w(v,eS.call(g,e,r),2)}return f=v.h,h=p=null,r[0]&&(r[0].videoCapabilities&&(p=r[0].videoCapabilities[0].encryptionScheme),r[0].audioCapabilities&&(h=r[0].audioCapabilities[0].encryptionScheme)),v.return(new hS(f,p,h))}))}function uS(e,t){return e?e.filter((function(e){return mS(e.encryptionScheme,t)})):e}function cS(){}function lS(){tS||navigator.mediaCapabilitiesEncryptionSchemePolyfilled?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(tS=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=dS,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function dS(e){var t,n,r=this;return D((function(i){switch(i.g){case 1:return console.assert(r==navigator.mediaCapabilities,'bad "this" for decodingInfo'),w(i,tS.call(r,e),2);case 2:if(t=i.h,!e.keySystemConfiguration)return i.return(t);if((n=t.keySystemAccess)&&vS(n))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=tS,i.return(t);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=fS,n){i.u(3);break}return w(i,pS(e),4);case 4:return t.keySystemAccess=i.h,i.return(t);case 3:return i.return(fS.call(r,e))}}))}function fS(e){var t,n,r,i,a,o,s,u=this;return D((function(c){switch(c.g){case 1:return console.assert(u==navigator.mediaCapabilities,'bad "this" for decodingInfo'),n=t=null,!e.keySystemConfiguration||(r=e.keySystemConfiguration,i=r.keySystem,n=r.audio&&r.audio.encryptionScheme,t=r.video&&r.video.encryptionScheme,a=gS(i),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},mS(n,a)&&mS(t,a))?w(c,tS.call(u,e),2):c.return(o);case 2:if((s=c.h).keySystemAccess){s.keySystemAccess=new hS(s.keySystemAccess,t,n),c.u(3);break}if(!e.keySystemConfiguration){c.u(3);break}return w(c,pS(e),5);case 5:s.keySystemAccess=c.h;case 3:return c.return(s)}}))}function pS(e){var t,n;return D((function(r){if(1==r.g){var i=e.keySystemConfiguration,a=[],o=[];return i.audio&&a.push({robustness:i.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:i.audio.encryptionScheme}),i.video&&o.push({robustness:i.video.robustness||"",contentType:e.video.contentType,encryptionScheme:i.video.encryptionScheme}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(i.audioCapabilities=a),o.length&&(i.videoCapabilities=o),t=i,w(r,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=r.h,r.return(n)}))}function hS(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}function gS(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function vS(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function mS(e,t){return!e||e==t||!("cbcs"!=e&&"cbcs-1-9"!=e||!xS&&!wS)}function yS(){}function bS(){aS(),lS()}Nn("video/mp2t",(function(){return new Qx("video/mp2t")}),Bn),B("EmeEncryptionSchemePolyfill",iS),iS.install=aS,B("McEncryptionSchemePolyfill",cS),cS.install=lS,hS.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=c(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(n=(t=c(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},hS.prototype.createMediaKeys=function(){return this.g.createMediaKeys()},B("EncryptionSchemePolyfills",yS),yS.install=bS;var wS=navigator.userAgent.includes("CrKey"),xS=100<=parseInt(navigator.userAgent.split("Firefox/").pop(),10);void 0!==n&&n.exports&&(n.exports=yS)}.call(r,e,e,void 0),r.shaka)t[i]=r.shaka[i]}()}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return e+".min.js"},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},r.l=function(t,n,i,a){if(e[t])e[t].push(n);else{var o,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==t){o=l;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=t),e[t]=[n];var d=function(n,r){o.onerror=o.onload=null,clearTimeout(f);var i=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),n)return n(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),s&&document.head.appendChild(o)}},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/js",function(){var e={7696:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=a);var o=r.p+r.u(t),s=new Error;r.l(o,(function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var i,a,o=n[0],s=n[1],u=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);u&&u(r)}for(t&&t(n);c<o.length;c++)a=o[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e={};r.r(e),r.d(e,{eventIsClick:function(){return o},eventIsDownKeypress:function(){return l},eventIsEnterKeypress:function(){return s},eventIsEscKeypress:function(){return u},eventIsTabKeypress:function(){return c},eventIsUpKeypress:function(){return d}});var t={componentGroup:{outcomeDrivenHelp:"ODH",cssControl:"CSSControl"},interactionType:{formSubmit:"2",samePage:"11",completedFinalStepInSeries:"22"},coreEventType:{pageView:"0",anchorLinkClick:"1",imageLinkClick:"2",imageAreaClick:"3",imputClick:"4",customEvent:"5",pageUnload:"11"},endActionAction:{goto:"Goto",send:"Send"},endActionOffer:{phone:"PHN",contact:"Contact"}},n={CLICK_EVENT_TYPE:"click",COPY_EVENT_TYPE:"copy",TAB_KEYCODE:9,ENTER_KEYCODE:13,ESC_KEYCODE:27,DOWN_KEYCODE:40,UP_KEYCODE:38},i=function(e){var t,n;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(document.cookie.split("; ")),i=r.next();!i.done;i=r.next()){var a=i.value.split("=");if(a[0]===e)return decodeURIComponent(a[1])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},a=function(e,t,n){var r="".concat(e,"=").concat(t,";path=/");if(void 0!==n){var i=new Date(Date.now()+n);r+=";expires=".concat(i.toUTCString())}document.cookie=r},o=function(e){return e.type===n.CLICK_EVENT_TYPE},s=function(e){return e.which===n.ENTER_KEYCODE},u=function(e){return e.which===n.ESC_KEYCODE},c=function(e){return e.which===n.TAB_KEYCODE},l=function(e){return e.which===n.DOWN_KEYCODE},d=function(e){return e.which===n.UP_KEYCODE},f=["ms-Icon--expandoCollapsed","ms-Icon--expandoExpanded"],p="opened",h=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return window.setTimeout((function(){return e.apply(t,n)}),0)},g=function(){var e=window.analytics;if(e)try{e.getWebAnalyticsExtension().refreshMetadata()}catch(t){e.trackException({exception:{name:"CustomError",message:"Failed to refresh 1DS metadata: ".concat(t)}})}},v=function(e){return document.getElementsByTagName("meta").namedItem(e)},m=function(e){var t;return null===(t=v(e))||void 0===t?void 0:t.content},y=function(e,t){var n=v(e);if(n)n.content=t;else{var r=document.createElement("meta");r.name=e,r.content=t,document.head.appendChild(r)}g()},b=(r(3104),r(8488),function(e,t){var n;return void 0===t&&(t=window.location),null!==(n=new URLSearchParams(t.search).get(e))&&void 0!==n?n:""}),w=function(e,t,n){void 0===n&&(n=window.location.href);var r=new URL(n);return r.searchParams.set(e,t),r.href};function x(e,t){for(var n in t)e[n]=t[n]}var S=function(){function e(){this.localizedStrings={},this.settings={}}return e.prototype.addLocalizedStrings=function(e){x(this.localizedStrings,e)},e.prototype.getLocalizedString=function(e){return this.localizedStrings[e]},e.prototype.addSettings=function(e){x(this.settings,e)},e.prototype.getSetting=function(e){return this.settings[e]},e.prototype.getMetadata=function(e){return m(e)},e}(),T=function(e){try{return sessionStorage.getItem(e)}catch(e){}return null},k=function(e,t,n){if(void 0===n&&(n=!1),!n&&null!==T(e))return!1;try{sessionStorage.setItem(e,t)}catch(e){return!1}return!0},C="div.videoContainer",A="div.cardControlCarouselVideoArea";function E(e){var t,n,r,i,a,o,s="Escape"===e.key,u="Enter"===e.key&&$(e.target).hasClass("modalCloseButton"),c="Tab"===e.key,l=e.shiftKey;s||u?(t=$(".modalContainer").closest(".supCardControlCard"),n=t.closest("div.supCardControlCarousel"),r=t.find(C),i=r.find("span.modalCloseButton"),a=r.find("div.videoContent"),o=a.find(A),r.removeClass("modalContainer"),r.find("div.modalCloseButton").css("display","none"),r.find(".supCardControlImage").css("display","block"),r.siblings(".modalPageBackground").css("display","none"),a.removeClass("modalContent"),i.removeAttr("tabindex"),i.css("display","none"),o.attr("hidden","true"),$('[class^="slick-"]').each((function(){$(this).removeClass("resetTransform")})),n.find(".supCardControlCarouselPrevButton, .supCardControlCarouselNextButton").not(".slick-hidden").show(),r.css({width:"",height:"",top:"",left:""}),a.css({width:"",height:""}),$("body").removeClass("disableScroll"),r.off("keydown",E),window.occe.suspendStateOfContents(a)):c&&!l&&$(e.target).hasClass("modalCloseButton")?($(e.target).closest(".slick-active").focus(),e.preventDefault()):c&&l&&$(e.target).hasClass("slick-active")&&($(e.target).find(".modalCloseButton").focus(),e.preventDefault())}class I extends Event{constructor(e,t,n){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=n??!1}}class M{constructor(e,t,n,r){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(e,t)=>{this.unsubscribe&&(this.unsubscribe!==t&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,t)),this.unsubscribe=t},this.host=e,void 0!==t.context){const e=t;this.context=e.context,this.callback=e.callback,this.subscribe=e.subscribe??!1}else this.context=t,this.callback=n,this.subscribe=r??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new I(this.context,this.t,this.subscribe))}}function _({context:e,subscribe:t}){return(n,r)=>{"object"==typeof r?r.addInitializer((function(){new M(this,{context:e,callback:e=>{n.set.call(this,e)},subscribe:t})})):n.constructor.addInitializer((n=>{new M(n,{context:e,callback:e=>{n[r]=e},subscribe:t})}))}}class P{get value(){return this.o}set value(e){this.setValue(e)}setValue(e,t=!1){const n=t||!Object.is(e,this.o);this.o=e,n&&this.updateObservers()}constructor(e){this.subscriptions=new Map,this.updateObservers=()=>{for(const[e,{disposer:t}]of this.subscriptions)e(this.o,t)},void 0!==e&&(this.value=e)}addCallback(e,t,n){if(!n)return void e(this.value);this.subscriptions.has(e)||this.subscriptions.set(e,{disposer:()=>{this.subscriptions.delete(e)},consumerHost:t});const{disposer:r}=this.subscriptions.get(e);e(this.value,r)}clearCallbacks(){this.subscriptions.clear()}}class D extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}}class L extends P{constructor(e,t,n){super(void 0!==t.context?t.initialValue:n),this.onContextRequest=e=>{const t=e.composedPath()[0];e.context===this.context&&t!==this.host&&(e.stopPropagation(),this.addCallback(e.callback,t,e.subscribe))},this.onProviderRequest=e=>{const t=e.composedPath()[0];if(e.context!==this.context||t===this.host)return;const n=new Set;for(const[e,{consumerHost:t}]of this.subscriptions)n.has(e)||(n.add(e),t.dispatchEvent(new I(this.context,e,!0)));e.stopPropagation()},this.host=e,void 0!==t.context?this.context=t.context:this.context=t,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new D(this.context))}}var R=r(7046);const N=globalThis,O=N.ShadowRoot&&(void 0===N.ShadyCSS||N.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,U=Symbol(),j=new WeakMap;class F{constructor(e,t,n){if(this._$cssResult$=!0,n!==U)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(O&&void 0===e){const n=void 0!==t&&1===t.length;n&&(e=j.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&j.set(t,e))}return e}toString(){return this.cssText}}const B=e=>new F("string"==typeof e?e:e+"",void 0,U),V=(e,...t)=>{const n=1===e.length?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[r+1]),e[0]);return new F(n,e,U)},z=(e,t)=>{if(O)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const n of t){const t=document.createElement("style"),r=N.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=n.cssText,e.appendChild(t)}},H=O?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return B(t)})(e):e,{is:q,defineProperty:K,getOwnPropertyDescriptor:G,getOwnPropertyNames:X,getOwnPropertySymbols:W,getPrototypeOf:Y}=Object,J=globalThis,Z=J.trustedTypes,Q=Z?Z.emptyScript:"",ee=J.reactiveElementPolyfillSupport,te=(e,t)=>e,ne={toAttribute(e,t){switch(t){case Boolean:e=e?Q:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=null!==e;break;case Number:n=null===e?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch(e){n=null}}return n}},re=(e,t)=>!q(e,t),ie={attribute:!0,type:String,converter:ne,reflect:!1,hasChanged:re};Symbol.metadata??=Symbol("metadata"),J.litPropertyMetadata??=new WeakMap;class ae extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=ie){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&K(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:i}=G(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get(){return r?.call(this)},set(t){const a=r?.call(this);i.call(this,t),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??ie}static _$Ei(){if(this.hasOwnProperty(te("elementProperties")))return;const e=Y(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(te("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(te("properties"))){const e=this.properties,t=[...X(e),...W(e)];for(const n of t)this.createProperty(n,e[n])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const n=this._$Eu(e,t);void 0!==n&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const e of n)t.unshift(H(e))}else void 0!==e&&t.push(H(e));return t}static _$Eu(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return z(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EC(e,t){const n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(void 0!==r&&!0===n.reflect){const i=(void 0!==n.converter?.toAttribute?n.converter:ne).toAttribute(t,n.type);this._$Em=e,null==i?this.removeAttribute(r):this.setAttribute(r,i),this._$Em=null}}_$AK(e,t){const n=this.constructor,r=n._$Eh.get(e);if(void 0!==r&&this._$Em!==r){const e=n.getPropertyOptions(r),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:ne;this._$Em=r,this[r]=i.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,n){if(void 0!==e){if(n??=this.constructor.getPropertyOptions(e),!(n.hasChanged??re)(this[e],t))return;this.P(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,n){this._$AL.has(e)||this._$AL.set(e,t),!0===n.reflect&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,n]of e)!0!==n.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],n)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach((e=>this._$EC(e,this[e]))),this._$EU()}updated(e){}firstUpdated(e){}}ae.elementStyles=[],ae.shadowRootOptions={mode:"open"},ae[te("elementProperties")]=new Map,ae[te("finalized")]=new Map,ee?.({ReactiveElement:ae}),(J.reactiveElementVersions??=[]).push("2.0.4");const oe=globalThis,se=oe.trustedTypes,ue=se?se.createPolicy("lit-html",{createHTML:e=>e}):void 0,ce="$lit$",le=`lit$${Math.random().toFixed(9).slice(2)}$`,de="?"+le,fe=`<${de}>`,pe=document,he=()=>pe.createComment(""),ge=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ve=Array.isArray,me="[ \t\n\f\r]",ye=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,be=/-->/g,we=/>/g,xe=RegExp(`>|${me}(?:([^\\s"'>=/]+)(${me}*=${me}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),Se=/'/g,Te=/"/g,ke=/^(?:script|style|textarea|title)$/i,Ce=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Ae=Ce(1),Ee=(Ce(2),Ce(3),Symbol.for("lit-noChange")),Ie=Symbol.for("lit-nothing"),Me=new WeakMap,_e=pe.createTreeWalker(pe,129);function Pe(e,t){if(!ve(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==ue?ue.createHTML(t):t}const De=(e,t)=>{const n=e.length-1,r=[];let i,a=2===t?"<svg>":3===t?"<math>":"",o=ye;for(let t=0;t<n;t++){const n=e[t];let s,u,c=-1,l=0;for(;l<n.length&&(o.lastIndex=l,u=o.exec(n),null!==u);)l=o.lastIndex,o===ye?"!--"===u[1]?o=be:void 0!==u[1]?o=we:void 0!==u[2]?(ke.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=xe):void 0!==u[3]&&(o=xe):o===xe?">"===u[0]?(o=i??ye,c=-1):void 0===u[1]?c=-2:(c=o.lastIndex-u[2].length,s=u[1],o=void 0===u[3]?xe:'"'===u[3]?Te:Se):o===Te||o===Se?o=xe:o===be||o===we?o=ye:(o=xe,i=void 0);const d=o===xe&&e[t+1].startsWith("/>")?" ":"";a+=o===ye?n+fe:c>=0?(r.push(s),n.slice(0,c)+ce+n.slice(c)+le+d):n+le+(-2===c?t:d)}return[Pe(e,a+(e[n]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class Le{constructor({strings:e,_$litType$:t},n){let r;this.parts=[];let i=0,a=0;const o=e.length-1,s=this.parts,[u,c]=De(e,t);if(this.el=Le.createElement(u,n),_e.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=_e.nextNode())&&s.length<o;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(ce)){const t=c[a++],n=r.getAttribute(e).split(le),o=/([.?@])?(.*)/.exec(t);s.push({type:1,index:i,name:o[2],strings:n,ctor:"."===o[1]?je:"?"===o[1]?Fe:"@"===o[1]?Be:Ue}),r.removeAttribute(e)}else e.startsWith(le)&&(s.push({type:6,index:i}),r.removeAttribute(e));if(ke.test(r.tagName)){const e=r.textContent.split(le),t=e.length-1;if(t>0){r.textContent=se?se.emptyScript:"";for(let n=0;n<t;n++)r.append(e[n],he()),_e.nextNode(),s.push({type:2,index:++i});r.append(e[t],he())}}}else if(8===r.nodeType)if(r.data===de)s.push({type:2,index:i});else{let e=-1;for(;-1!==(e=r.data.indexOf(le,e+1));)s.push({type:7,index:i}),e+=le.length-1}i++}}static createElement(e,t){const n=pe.createElement("template");return n.innerHTML=e,n}}function Re(e,t,n=e,r){if(t===Ee)return t;let i=void 0!==r?n._$Co?.[r]:n._$Cl;const a=ge(t)?void 0:t._$litDirective$;return i?.constructor!==a&&(i?._$AO?.(!1),void 0===a?i=void 0:(i=new a(e),i._$AT(e,n,r)),void 0!==r?(n._$Co??=[])[r]=i:n._$Cl=i),void 0!==i&&(t=Re(e,i._$AS(e,t.values),i,r)),t}class Ne{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??pe).importNode(t,!0);_e.currentNode=r;let i=_e.nextNode(),a=0,o=0,s=n[0];for(;void 0!==s;){if(a===s.index){let t;2===s.type?t=new Oe(i,i.nextSibling,this,e):1===s.type?t=new s.ctor(i,s.name,s.strings,this,e):6===s.type&&(t=new Ve(i,this,e)),this._$AV.push(t),s=n[++o]}a!==s?.index&&(i=_e.nextNode(),a++)}return _e.currentNode=pe,r}p(e){let t=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class Oe{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=Ie,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Re(this,e,t),ge(e)?e===Ie||null==e||""===e?(this._$AH!==Ie&&this._$AR(),this._$AH=Ie):e!==this._$AH&&e!==Ee&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>ve(e)||"function"==typeof e?.[Symbol.iterator])(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Ie&&ge(this._$AH)?this._$AA.nextSibling.data=e:this.T(pe.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,r="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=Le.createElement(Pe(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{const e=new Ne(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=Me.get(e.strings);return void 0===t&&Me.set(e.strings,t=new Le(e)),t}k(e){ve(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,r=0;for(const i of e)r===t.length?t.push(n=new Oe(this.O(he()),this.O(he()),this,this.options)):n=t[r],n._$AI(i),r++;r<t.length&&(this._$AR(n&&n._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class Ue{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=Ie,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ie}_$AI(e,t=this,n,r){const i=this.strings;let a=!1;if(void 0===i)e=Re(this,e,t,0),a=!ge(e)||e!==this._$AH&&e!==Ee,a&&(this._$AH=e);else{const r=e;let o,s;for(e=i[0],o=0;o<i.length-1;o++)s=Re(this,r[n+o],t,o),s===Ee&&(s=this._$AH[o]),a||=!ge(s)||s!==this._$AH[o],s===Ie?e=Ie:e!==Ie&&(e+=(s??"")+i[o+1]),this._$AH[o]=s}a&&!r&&this.j(e)}j(e){e===Ie?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class je extends Ue{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ie?void 0:e}}class Fe extends Ue{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Ie)}}class Be extends Ue{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=Re(this,e,t,0)??Ie)===Ee)return;const n=this._$AH,r=e===Ie&&n!==Ie||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==Ie&&(n===Ie||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Ve{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Re(this,e)}}const $e=oe.litHtmlPolyfillSupport;$e?.(Le,Oe),(oe.litHtmlVersions??=[]).push("3.2.1");class ze extends ae{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(void 0===i){const e=n?.renderBefore??null;r._$litPart$=i=new Oe(t.insertBefore(he(),e),e,void 0,n??{})}return i._$AI(e),i})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ee}}ze._$litElement$=!0,ze.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:ze});const He=globalThis.litElementPolyfillSupport;He?.({LitElement:ze}),(globalThis.litElementVersions??=[]).push("4.1.1");const qe=e=>(t,n)=>{void 0!==n?n.addInitializer((()=>{customElements.define(e,t)})):customElements.define(e,t)},Ke={attribute:!0,type:String,converter:ne,reflect:!1,hasChanged:re},Ge=(e=Ke,t,n)=>{const{kind:r,metadata:i}=n;let a=globalThis.litPropertyMetadata.get(i);if(void 0===a&&globalThis.litPropertyMetadata.set(i,a=new Map),a.set(n.name,e),"accessor"===r){const{name:r}=n;return{set(n){const i=t.get.call(this);t.set.call(this,n),this.requestUpdate(r,i,e)},init(t){return void 0!==t&&this.P(r,void 0,e),t}}}if("setter"===r){const{name:r}=n;return function(n){const i=this[r];t.call(this,n),this.requestUpdate(r,i,e)}}throw Error("Unsupported decorator location: "+r)};function Xe(e){return(t,n)=>"object"==typeof n?Ge(e,t,n):((e,t,n)=>{const r=t.hasOwnProperty(n);return t.constructor.createProperty(n,r?{...e,wrapped:!0}:e),r?Object.getOwnPropertyDescriptor(t,n):void 0})(e,t,n)}function We(e){return Xe({...e,state:!0,attribute:!1})}const Ye=(e,t,n)=>(n.configurable=!0,n.enumerable=!0,Reflect.decorate&&"object"!=typeof t&&Object.defineProperty(e,t,n),n);function Je(e,t){return(n,r,i)=>{const a=t=>t.renderRoot?.querySelector(e)??null;if(t){const{get:e,set:t}="object"==typeof r?n:i??(()=>{const e=Symbol();return{get(){return this[e]},set(t){this[e]=t}}})();return Ye(n,r,{get(){let n=e.call(this);return void 0===n&&(n=a(this),(null!==n||this.hasUpdated)&&t.call(this,n)),n}})}return Ye(n,r,{get(){return a(this)}})}}var Ze=r(917);const Qe=(e,t,n)=>{let r=e[0];for(let i=1;i<e.length;i++)r+=t[n?n[i-1]:i-1],r+=e[i];return r},et=e=>{return"string"!=typeof(t=e)&&"strTag"in t?Qe(e.strings,e.values):e;var t};let tt=et,nt=!1;const rt="lit-localize-status";class it{constructor(e){this.__litLocalizeEventHandler=e=>{"ready"===e.detail.status&&this.host.requestUpdate()},this.host=e}hostConnected(){window.addEventListener(rt,this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener(rt,this.__litLocalizeEventHandler)}}const at=e=>e.addController(new it(e)),ot=()=>(e,t)=>(e.addInitializer(at),e);class st{constructor(){this.settled=!1,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}}const ut=[];for(let e=0;e<256;e++)ut[e]=(e>>4&15).toString(16)+(15&e).toString(16);const ct="",lt="h",dt="s";const ft=new WeakMap,pt=new Map;function ht(e,t,n){if(e){const r=n?.id??function(e){const t="string"==typeof e?e:e.strings;let n=pt.get(t);return void 0===n&&(n=function(e,t){return(t?lt:dt)+function(e){let t=0,n=8997,r=0,i=33826,a=0,o=40164,s=0,u=52210;for(let c=0;c<e.length;c++)n^=e.charCodeAt(c),t=435*n,r=435*i,a=435*o,s=435*u,a+=n<<8,s+=i<<8,r+=t>>>16,n=65535&t,a+=r>>>16,i=65535&r,u=s+(a>>>16)&65535,o=65535&a;return ut[u>>8]+ut[255&u]+ut[o>>8]+ut[255&o]+ut[i>>8]+ut[255&i]+ut[n>>8]+ut[255&n]}("string"==typeof e?e:e.join(ct))}(t,"string"!=typeof e&&!("strTag"in e)),pt.set(t,n)),n}(t),i=e[r];if(i){if("string"==typeof i)return i;if("strTag"in i)return Qe(i.strings,t.values,i.values);{let e=ft.get(i);return void 0===e&&(e=i.values,ft.set(i,e)),{...i,values:e.map((e=>t.values[e]))}}}}return et(t)}function gt(e){window.dispatchEvent(new CustomEvent(rt,{detail:e}))}let vt,mt,yt,bt,wt,xt="",St=new st;St.resolve();let Tt=0;const kt=e=>(...t)=>({_$litDirective$:e,values:t});class Ct{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const At=kt(class extends Ct{constructor(e){if(super(e),1!==e.type||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const n=e.element.classList;for(const e of this.st)e in t||(n.remove(e),this.st.delete(e));for(const e in t){const r=!!t[e];r===this.st.has(e)||this.nt?.has(e)||(r?(n.add(e),this.st.add(e)):(n.remove(e),this.st.delete(e)))}return Ee}});class Et extends Ct{constructor(e){if(super(e),this.it=Ie,2!==e.type)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===Ie||null==e)return this._t=void 0,this.it=e;if(e===Ee)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}Et.directiveName="unsafeHTML",Et.resultType=1,kt(Et);class It extends Et{}It.directiveName="unsafeSVG",It.resultType=2;const Mt=kt(It);function _t(e,t){return e||t}function Pt(e,t){return e[t]}var Dt,Lt=void 0,Rt=null,Nt="",Ot="function",Ut="object",jt="prototype",Ft="__proto__",Bt="undefined",Vt="constructor",$t="Symbol",zt="_polyfill",Ht="length",qt="name",Kt="call",Gt="toString",Xt=_t(Object),Wt=Pt(Xt,jt),Yt=_t(String),Jt=Pt(Yt,jt),Zt=_t(Math),Qt=_t(Array),en=Pt(Qt,jt),tn=Pt(en,"slice");function nn(e,t){try{return{v:e.apply(this,t)}}catch(e){return{e:e}}}function rn(e){return function(t){return typeof t===e}}function an(e){var t="[object "+e+"]";return function(e){return!(!e||on(e)!==t)}}function on(e){return Wt[Gt].call(e)}function sn(e){return typeof e===Bt||e===Bt}function un(e){return e===Rt||sn(e)}function cn(e){return!!e||e!==Lt}var ln=rn("string"),dn=rn(Ot);function fn(e){return!(!e&&un(e)||!e||typeof e!==Ut)}var pn=Pt(Qt,"isArray"),hn=an("Date"),gn=rn("number"),vn=rn("boolean"),mn=an("Error");function yn(e){return!!(e&&e.then&&dn(e.then))}function bn(e){return!(!e||(t=function(){return!(e&&0+e)},n=!e,r=nn(t),r.e?n:r.v));var t,n,r}var wn=Pt(Xt,"getOwnPropertyDescriptor");function xn(e,t){return!!e&&Wt.hasOwnProperty[Kt](e,t)}var Sn=_t(Pt(Xt,"hasOwn"),Tn);function Tn(e,t){return xn(e,t)||!!wn(e,t)}function kn(e,t,n){if(e&&fn(e))for(var r in e)if(Sn(e,r)&&-1===t[Kt](n||e,r,e[r]))break}var Cn={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};var An=Pt(Xt,"defineProperty"),En=Pt(Xt,"defineProperties");function In(e,t,n){return An(e,t,function(e){var t={};if(t[Cn.c]=!0,t[Cn.e]=!0,e.l){t.get=function(){return e.l.v};var n=wn(e.l,"v");n&&n.set&&(t.set=function(t){e.l.v=t})}return kn(e,(function(e,n){t[Cn[e]]=cn(n)?n:t[Cn[e]]})),t}(n))}function Mn(e,t,n,r,i){var a={};return kn(e,(function(e,r){_n(a,e,t?r:e,i),_n(a,r,n?r:e,i)})),r?r(a):a}function _n(e,t,n,r){An(e,t,{value:n,enumerable:!0,writable:!!r})}var Pn=_t(Yt),Dn="[object Error]";function Ln(e,t){var n=Nt,r=Wt[Gt][Kt](e);r===Dn&&(e={stack:Pn(e.stack),message:Pn(e.message),name:Pn(e.name)});try{n=((n=JSON.stringify(e,Rt,t?"number"==typeof t?t:4:Lt))?n.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):Rt)||Pn(e)}catch(e){n=" - "+Ln(e,t)}return r+": "+n}function Rn(e){throw new Error(e)}function Nn(e){throw new TypeError(e)}var On=Pt(Xt,"freeze");function Un(e){return e}function jn(e){return e[Ft]||Rt}var Fn=Pt(Xt,"assign"),Bn=Pt(Xt,"keys");function Vn(e){return On&&kn(e,(function(e,t){(pn(t)||fn(t))&&Vn(t)})),$n(e)}var $n=_t(On,Un),zn=_t(Pt(Xt,"getPrototypeOf"),jn);function Hn(e){return Mn(e,1,0,$n)}function qn(e){return Mn(e,0,0,$n)}function Kn(e){return function(e){var t={};return kn(e,(function(e,n){_n(t,e,n[1]),_n(t,n[0],n[1])})),$n(t)}(e)}var Gn,Xn=qn({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Wn="__tsUtils$gblCfg";function Yn(){var e;return typeof globalThis!==Bt&&(e=globalThis),e||typeof self===Bt||(e=self),e||typeof window===Bt||(e=window),e||typeof r.g===Bt||(e=r.g),e}function Jn(){if(!Gn){var e=nn(Yn).v||{};Gn=e[Wn]=e[Wn]||{}}return Gn}var Zn=Qn;function Qn(e,t,n){var r=t?t[e]:Rt;return function(t){var i=(t?t[e]:Rt)||r;if(i||n){var a=arguments;return(i||n).apply(t,i?tn[Kt](a,1):a)}Nn('"'+Pn(e)+'" not defined for '+Ln(t))}}function er(e){return function(t){return t[e]}}var tr=Pt(Zt,"max"),nr=Zn("slice",Jt),rr=Zn("substring",Jt),ir=Qn("substr",Jt,ar);function ar(e,t,n){return un(e)&&Nn("Invalid "+Ln(e)),n<0?Nt:((t=t||0)<0&&(t=tr(t+e[Ht],0)),sn(n)?nr(e,t):nr(e,t,t+n))}function or(e,t){return rr(e,0,t)}var sr,ur,cr,lr="_urid";function dr(e){var t={description:Pn(e),toString:function(){return $t+"("+e+")"}};return t[zt]=!0,t}function fr(e){var t=function(){if(!sr){var e=Jn();sr=e.gblSym=e.gblSym||{k:{},s:{}}}return sr}();if(!Sn(t.k,e)){var n=dr(e),r=Bn(t.s).length;n[lr]=function(){return r+"_"+n[Gt]()},t.k[e]=n,t.s[n[lr]()]=Pn(e)}return t.k[e]}function pr(){cr=Jn()}function hr(e){var t={};return!cr&&pr(),t.b=cr.lzy,An(t,"v",{configurable:!0,get:function(){var n=e();return cr.lzy||An(t,"v",{value:n}),t.b=cr.lzy,n}}),t}function gr(e){return An({toJSON:function(){return e}},"v",{value:e})}var vr,mr="window";function yr(e,t){var n;return function(){return!cr&&pr(),n&&!cr.lzy||(n=gr(nn(e,t).v)),n.v}}function br(e){return!cr&&pr(),vr&&!1!==e&&!cr.lzy||(vr=gr(nn(Yn).v||Rt)),vr.v}function wr(e,t){var n;if((n=vr&&!1!==t?vr.v:br(t))&&n[e])return n[e];if(e===mr)try{return window}catch(e){}return Rt}function xr(){return!!Sr()}var Sr=yr(wr,["document"]);function Tr(){return!!Er()}var kr,Cr,Ar,Er=yr(wr,[mr]),Ir=yr(wr,["navigator"]),Mr=yr(wr,["history"]),_r=yr((function(){return!!nn((function(){return process&&(process.versions||{}).node})).v})),Pr=yr((function(){return!!nn((function(){return self&&self instanceof WorkerGlobalScope})).v}));function Dr(){return kr=gr(nn(wr,[$t]).v)}function Lr(e){var t=(cr.lzy?0:kr)||Dr();return t.v?t.v[e]:Lt}function Rr(){return!!Nr()}function Nr(){return!cr&&pr(),((cr.lzy?0:kr)||Dr()).v}function Or(e,t){var n=Xn[e];!cr&&pr();var r=(cr.lzy?0:kr)||Dr();return r.v?r.v[n||e]:t?Lt:function(e){var t;!ur&&(ur={});var n=Xn[e];return n&&(t=ur[n]=ur[n]||dr($t+"."+n)),t}(e)}function Ur(e,t){!cr&&pr();var n=(cr.lzy?0:kr)||Dr();return n.v?n.v(e):t?Rt:dr(e)}function jr(e){return!cr&&pr(),((Cr=(cr.lzy?0:Cr)||gr(nn(Lr,["for"]).v)).v||fr)(e)}function Fr(e){return!!e&&dn(e.next)}function Br(e){return!function(e){return e===Rt||!cn(e)}(e)&&dn(e[Or(3)])}function Vr(e,t,n){if(e&&(Fr(e)||(!Ar&&(Ar=gr(Or(3))),e=e[Ar.v]?e[Ar.v]():Rt),Fr(e))){var r=Lt,i=Lt;try{for(var a=0;!(i=e.next()).done&&-1!==t[Kt](n||e,i.value,a,e);)a++}catch(t){r={e:t},e.throw&&(i=Rt,e.throw(r))}finally{try{i&&!i.done&&e.return&&e.return(i)}finally{if(r)throw r.e}}}}function $r(e,t,n){return e.apply(t,n)}function zr(e,t){return!sn(t)&&e&&(pn(t)?$r(e.push,e,t):Fr(t)||Br(t)?Vr(t,(function(t){e.push(t)})):e.push(t)),e}function Hr(e,t,n){if(e)for(var r=e[Ht]>>>0,i=0;i<r&&(!(i in e)||-1!==t[Kt](n||e,e[i],i,e));i++);}var qr=Zn("indexOf",en),Kr=Zn("map",en);function Gr(e,t,n){return((e?e.slice:Rt)||tn).apply(e,tn[Kt](arguments,1))}var Xr,Wr,Yr=Zn("reduce",en),Jr=_t(Pt(Xt,"create"),Zr);function Zr(e){if(!e)return{};var t=typeof e;function n(){}return t!==Ut&&t!==Ot&&Nn("Prototype must be an Object or function: "+Ln(e)),n[jt]=e,new n}function Qr(e,t){var n=Xt.setPrototypeOf||function(e,t){var n;!Xr&&(Xr=gr(((n={})[Ft]=[],n instanceof Array))),Xr.v?e[Ft]=t:kn(t,(function(t,n){return e[t]=n}))};return n(e,t)}function ei(e,t){t&&(e[qt]=t)}function ti(e,t,n){var r=n||Error,i=r[jt][qt],a=Error.captureStackTrace;return function(e,t,n){function r(){this[Vt]=t,nn(In,[this,qt,{v:e,c:!0,e:!1}])}return nn(In,[t,qt,{v:e,c:!0,e:!1}]),(t=Qr(t,n))[jt]=n===Rt?Jr(n):(r[jt]=n[jt],new r),t}(e,(function(){var n=this,o=arguments;try{nn(ei,[r,e]);var s=$r(r,n,tn[Kt](o))||n;if(s!==n){var u=zn(n);u!==zn(s)&&Qr(s,u)}return a&&a(s,n[Vt]),t&&t(s,o),s}finally{nn(ei,[r,i])}}),r)}function ni(){return(Date.now||ri)()}function ri(){return(new Date).getTime()}function ii(e){return function(t){return un(t)&&Nn("strTrim called ["+Ln(t)+"]"),t&&t.replace&&(t=t.replace(e,Nt)),t}}var ai,oi,si,ui=Qn("trim",Jt,ii(/^\s+|(?=\s)\s+$/g));function ci(e){if(!e||typeof e!==Ut)return!1;si||(si=!Tr()||Er());var t=!1;if(e!==si){oi||(ai=Function[jt][Gt],oi=ai[Kt](Xt));try{var n=zn(e);(t=!n)||(xn(n,Vt)&&(n=n[Vt]),t=!(!n||typeof n!==Ot||ai[Kt](n)!==oi))}catch(e){}}return t}function li(e){return e.value&&hi(e),!0}var di=[function(e){var t=e.value;if(pn(t)){var n=e.result=[];return n.length=t.length,e.copyTo(n,t),!0}return!1},hi,function(e){return e.type===Ot},function(e){var t=e.value;return!!hn(t)&&(e.result=new Date(t.getTime()),!0)}];function fi(e,t,n,r){var i=n.handler,a=n.path?r?n.path.concat(r):n.path:[],o={handler:n.handler,src:n.src,path:a},s=typeof t,u=!1,c=t===Rt;c||(t&&s===Ut?u=ci(t):c=function(e){return!Dt&&(Dt=["string","number","boolean",Bt,"symbol","bigint"]),!(e===Ut||-1===Dt.indexOf(e))}(s));var l={type:s,isPrim:c,isPlain:u,value:t,result:t,path:a,origin:n.src,copy:function(t,r){return fi(e,t,r?o:n,r)},copyTo:function(t,n){return pi(e,t,n,o)}};return l.isPrim?i&&i[Kt](n,l)?l.result:t:function(e,t,r,a){var o;return Hr(e,(function(e){if(e.k===t)return o=e,-1})),o||(o={k:t,v:t},e.push(o),function(e){In(l,"result",{g:function(){return e.v},s:function(t){e.v=t}});for(var t=0,r=i;!(r||(t<di.length?di[t++]:li))[Kt](n,l);)r=Rt}(o)),o.v}(e,t)}function pi(e,t,n,r){if(!un(n))for(var i in n)t[i]=fi(e,n[i],r,i);return t}function hi(e){var t=e.value;if(t&&e.isPlain){var n=e.result={};return e.copyTo(n,t),!0}return!1}function gi(e,t){return Hr(t,(function(t){!function(e,t,n){pi([],e,t,{handler:void 0,src:t,path:[]})}(e,t)})),e}function vi(e,t,n,r,i,a,o){return gi(fi([],s=e,{handler:undefined,src:s})||{},tn[Kt](arguments));var s}var mi,yi=er(Ht);function bi(){return!cr&&pr(),mi&&!cr.lzy||(mi=gr(nn(wr,["performance"]).v)),mi.v}var wi=Zn("split",Jt);function xi(e,t,n){if(e&&t){var r=wi(t,"."),i=r.pop();Hr(r,(function(t){un(e[t])&&(e[t]={}),e=e[t]})),e[i]=n}}Rr();var Si=Qn("endsWith",Jt,Ti);function Ti(e,t,n){ln(e)||Nn("'"+Ln(e)+"' is not a string");var r=ln(t)?t:Pn(t),i=!sn(n)&&n<e[Ht]?n:e[Ht];return rr(e,i-r[Ht],i)===r}var ki,Ci=Zn("indexOf",Jt),Ai="ref",Ei="unref",Ii="hasRef",Mi="enabled";function _i(e,t,n){var r=pn(t),i=r?t.length:0,a=(i>0?t[0]:r?Lt:t)||setTimeout,o=(i>1?t[1]:Lt)||clearTimeout,s=n[0];n[0]=function(){u.dn(),$r(s,Lt,tn[Kt](arguments))};var u=function(e,t,n){var r,i=!0,a=e?t(Rt):Rt;function o(){return i=!1,a&&a[Ei]&&a[Ei](),r}function s(){a&&n(a),a=Rt}function u(){return a=t(a),i||o(),r}return(r={cancel:s,refresh:u})[Ii]=function(){return a&&a[Ii]?a[Ii]():i},r[Ai]=function(){return i=!0,a&&a[Ai]&&a[Ai](),r},r[Ei]=o,{h:r=An(r,Mi,{get:function(){return!!a},set:function(e){!e&&a&&s(),e&&!a&&u()}}),dn:function(){a=Rt}}}(e,(function(e){if(e){if(e.refresh)return e.refresh(),e;$r(o,Lt,[e])}return $r(a,Lt,n)}),(function(e){$r(o,Lt,[e])}));return u.h}function Pi(e,t){return _i(!0,Lt,tn[Kt](arguments))}var Di="constructor",Li="prototype",Ri="function",Ni="_dynInstFuncs",Oi="_isDynProxy",Ui="_dynClass",ji="_dynInstChk",Fi=ji,Bi="_dfOpts",Vi="_unknown_",$i="__proto__",zi="_dyn"+$i,Hi="__dynProto$Gbl",qi="_dynInstProto",Ki="useBaseInst",Gi="setInstFuncs",Xi=Object,Wi=Xi.getPrototypeOf,Yi=Xi.getOwnPropertyNames,Ji=br(),Zi=Ji[Hi]||(Ji[Hi]={o:(ki={},ki[Gi]=!0,ki[Ki]=!0,ki),n:1e3});function Qi(e){return e&&(e===Xi[Li]||e===Array[Li])}function ea(e){return Qi(e)||e===Function[Li]}function ta(e){var t;if(e){if(Wi)return Wi(e);var n=e[$i]||e[Li]||(e[Di]?e[Di][Li]:null);t=e[zi]||n,xn(e,zi)||(delete e[qi],t=e[zi]=e[qi]||e[zi],e[qi]=n)}return t}function na(e,t){var n=[];if(Yi)n=Yi(e);else for(var r in e)"string"==typeof r&&xn(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function ra(e,t,n){return t!==Di&&typeof e[t]===Ri&&(n||xn(e,t))&&t!==$i&&t!==Li}function ia(e){Nn("DynamicProto: "+e)}function aa(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function oa(e,t,n,r,i){if(!Qi(e)){var a=n[Ni]=n[Ni]||Jr(null);if(!Qi(a)){var o=a[t]=a[t]||Jr(null);!1!==a[Fi]&&(a[Fi]=!!i),Qi(o)||na(n,(function(t){ra(n,t,!1)&&n[t]!==r[t]&&(o[t]=n[t],delete n[t],(!xn(e,t)||e[t]&&!e[t][Oi])&&(e[t]=function(e,t){var n=function(){var r=function(e,t,n,r){var i=null;if(e&&xn(n,Ui)){var a=e[Ni]||Jr(null);if((i=(a[n[Ui]]||Jr(null))[t])||ia("Missing ["+t+"] "+Ri),!i[ji]&&!1!==a[Fi]){for(var o=!xn(e,t),s=ta(e),u=[];o&&s&&!ea(s)&&!aa(u,s);){var c=s[t];if(c){o=c===r;break}u.push(s),s=ta(s)}try{o&&(e[t]=i),i[ji]=1}catch(e){a[Fi]=!1}}}return i}(this,t,e,n)||function(e,t,n){var r=t[e];return r===n&&(r=ta(t)[e]),typeof r!==Ri&&ia("["+e+"] is not a "+Ri),r}(t,e,n);return r.apply(this,arguments)};return n[Oi]=1,n}(e,t)))}))}}}function sa(e,t){return xn(e,Li)?e.name||t||Vi:((e||{})[Di]||{}).name||t||Vi}function ua(e,t,n,r){xn(e,Li)||ia("theClass is an invalid class definition.");var i=e[Li];(function(e,t){if(Wi){for(var n=[],r=ta(t);r&&!ea(r)&&!aa(n,r);){if(r===e)return!0;n.push(r),r=ta(r)}return!1}return!0})(i,t)||ia("["+sa(e)+"] not in hierarchy of ["+sa(t)+"]");var a=null;xn(i,Ui)?a=i[Ui]:(a="_dynCls$"+sa(e,"_")+"$"+Zi.n,Zi.n++,i[Ui]=a);var o=ua[Bi],s=!!o[Ki];s&&r&&void 0!==r[Ki]&&(s=!!r[Ki]);var u=function(e){var t=Jr(null);return na(e,(function(n){!t[n]&&ra(e,n,!1)&&(t[n]=e[n])})),t}(t),c=function(e,t,n,r){function i(e,t,n){var i=t[n];if(i[Oi]&&r){var a=e[Ni]||{};!1!==a[Fi]&&(i=(a[t[Ui]]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var a=Jr(null);na(n,(function(e){a[e]=i(t,n,e)}));for(var o=ta(e),s=[];o&&!ea(o)&&!aa(s,o);)na(o,(function(e){!a[e]&&ra(o,e,!Wi)&&(a[e]=i(t,o,e))})),s.push(o),o=ta(o);return a}(i,t,u,s);n(t,c);var l=!!Wi&&!!o[Gi];l&&r&&(l=!!r[Gi]),oa(i,a,t,u,!1!==l)}ua[Bi]=Zi.o;var ca="function",la="object",da="undefined",fa="prototype",pa=Object,ha=pa[fa],ga=((br()||{}).Symbol,(br()||{}).Reflect,"hasOwnProperty"),va=Fn||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])ha[ga].call(t,i)&&(e[i]=t[i]);return e},ma=function(e,t){return ma=pa.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[ga](n)&&(e[n]=t[n])},ma(e,t)};function ya(e,t){function n(){this.constructor=e}typeof t!==ca&&null!==t&&Nn("Class extends value "+String(t)+" is not a constructor or null"),ma(e,t),e[fa]=null===t?Jr(t):(n[fa]=t[fa],new n)}function ba(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var wa="toLowerCase",xa="blkVal",Sa="length",Ta="rdOnly",ka="notify",Ca="warnToConsole",Aa="throwInternal",Ea="setDf",Ia="watch",Ma="logger",_a="apply",Pa="push",Da="splice",La="hdlr",Ra="cancel",Na="initialize",Oa="identifier",Ua="removeNotificationListener",ja="addNotificationListener",Fa="isInitialized",Ba="instrumentationKey",Va="INACTIVE",$a="value",za="getNotifyMgr",Ha="getPlugin",qa="name",Ka="iKey",Ga="time",Xa="processNext",Wa="getProcessTelContext",Ya="pollInternalLogs",Ja="enabled",Za="stopPollingInternalLogs",Qa="unload",eo="onComplete",to="version",no="loggingLevelConsole",ro="createNew",io="teardown",ao="messageId",oo="message",so="isAsync",uo="diagLog",co="_doTeardown",lo="update",fo="getNext",po="setNextPlugin",ho="protocol",go="userAgent",vo="split",mo="nodeType",yo="replace",bo="type",wo="handler",xo="isChildEvt",So="getCtx",To="setCtx",ko="complete",Co="traceId",Ao="spanId",Eo="traceFlags",Io="getAttribute",Mo=void 0,_o="",Po="channels",Do="core",Lo="createPerfMgr",Ro="disabled",No="extensionConfig",Oo="extensions",Uo="processTelemetry",jo="priority",Fo="eventsSent",Bo="eventsDiscarded",Vo="eventsSendRequest",$o="perfEvent",zo="offlineEventsStored",Ho="offlineBatchSent",qo="offlineBatchDrop",Ko="getPerfMgr",Go="domain",Xo="path",Wo="Not dynamic - ",Yo=/-([a-z])/g,Jo=/([^\w\d_$])/g,Zo=/^(\d+[\w\d_$])/,Qo=Object.getPrototypeOf;function es(e){return!un(e)}function ts(e){var t=e;return t&&ln(t)&&(t=(t=(t=t[yo](Yo,(function(e,t){return t.toUpperCase()})))[yo](Jo,"_"))[yo](Zo,(function(e,t){return"_"+t}))),t}function ns(e,t){return!(!e||!t)&&-1!==Ci(e,t)}function rs(e){return e&&e.toISOString()||""}function is(e){return mn(e)?e[qa]:_o}function as(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(a=n,e[t]=a)),a}function os(e,t){var n=null,r=null;return dn(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t][_a](r,e)}}function ss(e,t,n,r,i){e&&t&&n&&(!1!==i||sn(e[t]))&&(e[t]=os(n,r))}function us(e,t,n,r){return e&&t&&fn(e)&&pn(n)&&Hr(n,(function(n){ln(n)&&ss(e,n,t,n,r)})),e}function cs(e,t){var n=!1,r=t&&t.featureOptIn&&t.featureOptIn[e];if(e&&r){var i=r.mode;n=3==i||1==i}return n}var ls="location",ds="JSON",fs="crypto",ps="msCrypto",hs="msie",gs="trident/",vs=null,ms=null,ys=!1;function bs(e){if(e&&ys){var t=wr("__mockLocation");if(t)return t}return typeof location===la&&location?location:wr(ls)}function ws(){return Boolean(typeof JSON===la&&JSON||null!==wr(ds))}function xs(){return ws()?JSON||wr(ds):null}function Ss(){var e=Ir();if(e&&(e[go]!==ms||null===vs)){var t=((ms=e[go])||_o)[wa]();vs=ns(t,hs)||ns(t,gs)}return vs}var Ts=4294967296,ks=4294967295,Cs=123456789,As=987654321,Es=!1,Is=Cs,Ms=As;function _s(){try{var e=2147483647&ni();(t=(Math.random()*Ts^e)+e)<0&&(t>>>=0),Is=Cs+t&ks,Ms=As-t&ks,Es=!0}catch(e){}var t}function Ps(e){var t=0,n=wr(fs)||wr(ps);return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&ks),0===t&&Ss()&&(Es||_s(),t=function(e){var t=((Ms=36969*(65535&Ms)+(Ms>>16)&ks)<<16)+(65535&(Is=18e3*(65535&Is)+(Is>>16)&ks))>>>0&ks|0;return t>>>=0}()&ks),0===t&&(t=Math.floor(Ts*Math.random()|0)),e||(t>>>=0),t}var Ds="3.3.3",Ls="."+function(e){void 0===e&&(e=22);for(var t=Ps()>>>0,n=0,r=_o;r[Sa]<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Ps()<<2&4294967295|3&t)>>>0,n=0);return r}(6),Rs=0;function Ns(e){return 1===e[mo]||9===e[mo]||!+e[mo]}function Os(e,t){return void 0===t&&(t=!1),ts(e+Rs+++(t?"."+Ds:_o)+Ls)}function Us(e){var t={id:Os("_aiData-"+(e||_o)+"."+Ds),accept:function(e){return Ns(e)},get:function(e,n,r,i){var a=e[t.id];return a?a[ts(n)]:(i&&(a=function(e,t){var n=t[e.id];if(!n){n={};try{Ns(t)&&In(t,e.id,{e:!1,v:n})}catch(e){}}return n}(t,e),a[ts(n)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}function js(e){return e&&fn(e)&&(e.isVal||e.fb||Sn(e,"v")||Sn(e,"mrg")||Sn(e,"ref")||e.set)}function Fs(e,t,n){var r,i=n.dfVal||cn;if(t&&n.fb){var a=n.fb;pn(a)||(a=[a]);for(var o=0;o<a[Sa];o++){var s=a[o],u=t[s];if(i(u)?r=u:e&&(i(u=e.cfg[s])&&(r=u),e.set(e.cfg,Pn(s),u)),i(r))break}}return!i(r)&&i(n.v)&&(r=n.v),r}function Bs(e,t,n){var r,i=n;return n&&js(n)&&(i=Fs(e,t,n)),i&&(js(i)&&(i=Bs(e,t,i)),pn(i)?(r=[])[Sa]=i[Sa]:ci(i)&&(r={}),r&&(kn(i,(function(n,i){i&&js(i)&&(i=Bs(e,t,i)),r[n]=i})),i=r)),i}function Vs(e,t,n,r){var i,a,o,s,u,c,l,d,f=r;js(f)?(i=f.isVal,a=f.set,c=f[Ta],l=f[xa],s=f.mrg,!(u=f.ref)&&sn(u)&&(u=!!s),o=Fs(e,t,f)):o=r,l&&e[xa](t,n);var p=!0,h=t[n];!h&&un(h)||(d=h,p=!1,i&&d!==o&&!i(d)&&(d=o,p=!0),a&&(p=(d=a(d,o,t))===o)),p?d=o?Bs(e,t,o):o:(ci(d)||pn(o))&&s&&o&&(ci(o)||pn(o))&&kn(o,(function(t,n){Vs(e,d,t,n)})),e.set(t,n,d),u&&e.ref(t,n),c&&e[Ta](t,n)}var $s=jr("[[ai_dynCfg_1]]"),zs=jr("[[ai_blkDynCfg_1]]"),Hs=jr("[[ai_frcDynCfg_1]]");function qs(e){var t;return e&&(pn(e)?(t=[])[Sa]=e[Sa]:ci(e)&&(t={}),t)?(kn(e,(function(e,n){t[e]=qs(n)})),t):e}function Ks(e,t,n){var r=!1;return n&&!e[t.blkVal]&&((r=n[Hs])||n[zs]||(r=ci(n)||pn(n))),r}function Gs(e){Nn("InvalidAccess:"+e)}var Xs,Ws=["push","pop","shift","unshift","splice"],Ys=function(e,t,n,r){e&&e[Aa](3,108,"".concat(n," [").concat(t,"] failed - ")+Ln(r))};function Js(e,t){var n=wn(e,t);return n&&n.get}function Zs(e,t,n,r){if(t){var i=Js(t,n);i&&i[e.prop]?t[n]=r:function(e,t,n,r){var i={n:n,h:[],trk:function(t){t&&t.fn&&(-1===qr(i.h,t)&&i.h[Pa](t),e.trk(t,i))},clr:function(e){var t=qr(i.h,e);-1!==t&&i.h[Da](t,1)}},a=!0,o=!1;function s(){a&&(o=o||Ks(s,e,r),r&&!r[$s]&&o&&(r=eu(e,r,n,"Converting")),a=!1);var t=e.act;return t&&i.trk(t),r}s[e.prop]={chng:function(){e.add(i)}},In(t,i.n,{g:s,s:function(u){if(r!==u){s[e.ro]&&!e.upd&&Gs("["+n+"] is read-only:"+Ln(t)),a&&(o=o||Ks(s,e,r),a=!1);var c=o&&s[e.rf];if(o)if(c){kn(r,(function(e){r[e]=u?u[e]:Mo}));try{kn(u,(function(t,n){Zs(e,r,t,n)})),u=r}catch(t){Ys((e.hdlr||{})[Ma],n,"Assigning",t),o=!1}}else r&&r[$s]&&kn(r,(function(t){var n=Js(r,t);if(n){var i=n[e.prop];i&&i.chng()}}));if(u!==r){var l=u&&Ks(s,e,u);!c&&l&&(u=eu(e,u,n,"Converting")),r=u,o=l}e.add(i)}}})}(e,t,n,r)}return t}function Qs(e,t,n,r){if(t){var i=Js(t,n),a=i&&!!i[e.prop],o=r&&r[0],s=r&&r[1],u=r&&r[2];if(!a){if(u)try{!function(e){if(e&&(ci(e)||pn(e)))try{e[zs]=!0}catch(e){}}(t)}catch(t){Ys((e.hdlr||{})[Ma],n,"Blocking",t)}try{Zs(e,t,n,t[n]),i=Js(t,n)}catch(t){Ys((e.hdlr||{})[Ma],n,"State",t)}}o&&(i[e.rf]=o),s&&(i[e.ro]=s),u&&(i[e.blkVal]=!0)}return t}function eu(e,t,n,r){try{kn(t,(function(n,r){Zs(e,t,n,r)})),t[$s]||(An(t,$s,{get:function(){return e[La]}}),function(e,t,n){pn(t)&&Hr(Ws,(function(r){var i=t[r];t[r]=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=i[_a](this,r);return eu(e,t,n,"Patching"),o}}))}(e,t,n))}catch(t){Ys((e.hdlr||{})[Ma],n,r,t)}return t}var tu="[[ai_",nu="]]";function ru(e,t,n){var r,i=function(e){if(e){var t=e[$s]||e;if(t.cfg&&(t.cfg===e||t.cfg[$s]===t))return t}return null}(t);if(i)return i;var a,o=Os("dyncfg",!0),s=t&&!1!==n?t:qs(t),u=((r={uid:null,cfg:s})[Ma]=e,r[ka]=function(){a[ka]()},r.set=function(t,n,r){try{t=Zs(a,t,n,r)}catch(t){Ys(e,n,"Setting value",t)}return t[n]},r[Ea]=function(e,t){return t&&kn(t,(function(t,n){Vs(u,e,t,n)})),e},r[Ia]=function(e){return function(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return In(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),e.use(n,t),n}(a,e)},r.ref=function(e,t){var n;return Qs(a,e,t,(n={},n[0]=!0,n))[t]},r[Ta]=function(e,t){var n;return Qs(a,e,t,(n={},n[1]=!0,n))[t]},r[xa]=function(e,t){var n;return Qs(a,e,t,(n={},n[2]=!0,n))[t]},r._block=function(e,t){a.use(null,(function(n){var r=a.upd;try{sn(t)||(a.upd=t),e(n)}finally{a.upd=r}}))},r);return In(u,"uid",{c:!1,e:!1,w:!1,v:o}),eu(a=function(e){var t,n,r=Ur(tu+"get"+e.uid+nu),i=Ur(tu+"ro"+e.uid+nu),a=Ur(tu+"rf"+e.uid+nu),o=Ur(tu+"blkVal"+e.uid+nu),s=Ur(tu+"dtl"+e.uid+nu),u=null,c=null;function l(t,r){var i=n.act;try{n.act=t,t&&t[s]&&(Hr(t[s],(function(e){e.clr(t)})),t[s]=[]),r({cfg:e.cfg,set:e.set.bind(e),setDf:e[Ea].bind(e),ref:e.ref.bind(e),rdOnly:e[Ta].bind(e)})}catch(t){var a=e[Ma];throw a&&a[Aa](1,107,Ln(t)),t}finally{n.act=i||null}}function d(){if(u){var e=u;u=null,c&&c[Ra](),c=null;var t=[];if(Hr(e,(function(e){if(e&&(e[s]&&(Hr(e[s],(function(t){t.clr(e)})),e[s]=null),e.fn))try{l(e,e.fn)}catch(e){t[Pa](e)}})),u)try{d()}catch(e){t[Pa](e)}t[Sa]>0&&function(e,t){Xs||(Xs=ti("AggregationError",(function(e,t){t[Sa]>1&&(e.errors=t[1])})));var n="Watcher error(s): ";throw Hr(t,(function(e,t){n+="\n".concat(t," > ").concat(Ln(e))})),new Xs(n,t||[])}(0,t)}}return(t={prop:r,ro:i,rf:a})[xa]=o,t[La]=e,t.add=function(e){if(e&&e.h[Sa]>0){u||(u=[]),c||(c=Pi((function(){c=null,d()}),0));for(var t=0;t<e.h[Sa];t++){var n=e.h[t];n&&-1===qr(u,n)&&u[Pa](n)}}},t[ka]=d,t.use=l,t.trk=function(e,t){if(e){var n=e[s]=e[s]||[];-1===qr(n,t)&&n[Pa](t)}},n=t}(u),s,"config","Creating"),u}function iu(e,t,n,r){var i=ru(n,e||{},r);return t&&i[Ea](i.cfg,t),i}function au(e,t,n){var r=e[$s]||e;return!r.cfg||r.cfg!==e&&r.cfg[$s]!==r?(function(e,t){e?(e[Ca](t),e[Aa](2,108,t)):Gs(t)}(n,Wo+Ln(e)),iu(e,null,n)[Ia](t)):r[Ia](t)}var ou,su,uu=[Fo,Bo,Vo,$o],cu=null;function lu(e,t){return function(){var n=arguments,r=du(t);if(r){var i=r.listener;i&&i[e]&&i[e][_a](i,n)}}}function du(e){var t,n=cu;return n||!0===e.disableDbgExt||(n=cu||((t=wr("Microsoft"))&&(cu=t.ApplicationInsights),cu)),n?n.ChromeDbgExt:null}var fu="warnToConsole",pu={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},hu=((su={})[0]=null,su[1]="errorToConsole",su[2]=fu,su[3]="debugToConsole",su);function gu(e){return e?'"'+e[yo](/\"/g,_o)+'"':_o}function vu(e,t){var n=typeof console!==da?console:wr("console");if(n){var r="log";n[e]&&(r=e),dn(n[r])&&n[r](t)}}var mu=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i[ao]=e,i[oo]=(n?"AI: ":"AI (Internal): ")+e;var a=_o;ws()&&(a=xs().stringify(r));var o=(t?" message:"+gu(t):_o)+(r?" props:"+gu(a):_o);i[oo]+=o}return e.dataType="MessageData",e}();function yu(e,t){return(e||{})[Ma]||new bu(t)}var bu=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n,r,i,a,o,s=0,u={};ua(e,this,(function(e){function c(t,n){if(!(s>=i)){var a=!0,o="AITR_"+n[ao];if(u[o]?a=!1:u[o]=!0,a&&(t<=r&&(e.queue[Pa](n),s++,l(1===t?"error":"warn",n)),s===i)){var c="Internal events throttle limit per PageView reached for this app.",d=new mu(23,c,!1);e.queue[Pa](d),1===t?e.errorToConsole(c):e[Ca](c)}}}function l(e,n){var r=du(t||{});r&&r[uo]&&r[uo](e,n)}o=function(t){return au(iu(t,pu,e).cfg,(function(e){var t=e.cfg;n=t[no],r=t.loggingLevelTelemetry,i=t.maxMessageLimit,a=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return n},e[Aa]=function(t,r,i,o,s){void 0===s&&(s=!1);var d=new mu(r,i,s,o);if(a)throw Ln(d);var f=hu[t]||fu;if(sn(d[oo]))l("throw"+(1===t?"Critical":"Warning"),d);else{if(s){var p=+d[ao];!u[p]&&n>=t&&(e[f](d[oo]),u[p]=!0)}else n>=t&&e[f](d[oo]);c(t,d)}},e.debugToConsole=function(e){vu("debug",e),l("warning",e)},e[Ca]=function(e){vu("warn",e),l("warning",e)},e.errorToConsole=function(e){vu("error",e),l("error",e)},e.resetInternalMessageCount=function(){s=0,u={}},e.logInternalMessage=c,e[Qa]=function(e){o&&o.rm(),o=null}}))}return e.__ieDyn=1,e}();function wu(e){return e||new bu}function xu(e,t,n,r,i,a){void 0===a&&(a=!1),wu(e)[Aa](t,n,r,i,a)}function Su(e,t){wu(e)[Ca](t)}var Tu=Hn,ku=Tu({LocalStorage:0,SessionStorage:1}),Cu=(Tu({AI:0,AI_AND_W3C:1,W3C:2}),Tu({Normal:1,Critical:2}),"split"),Au="length",Eu="toLowerCase",Iu="ingestionendpoint",Mu="toString",_u="push",Pu="removeItem",Du="name",Lu="message",Ru="count",Nu="preTriggerDate",Ou="disabled",Uu="interval",ju="daysOfMonth",Fu="date",Bu="getUTCDate",Vu="stringify",$u="pathname",zu="exceptions",Hu="parsedStack",qu="properties",Ku="measurements",Gu="sizeInBytes",Xu="typeName",Wu="severityLevel",Yu="problemGroup",Ju="isManual",Zu="CreateFromInterface",Qu="assembly",ec="fileName",tc="hasFullStack",nc="level",rc="method",ic="line",ac="duration",oc="receivedResponse",sc=void 0,uc=void 0,cc="";function lc(){return pc()?dc(ku.LocalStorage):null}function dc(e){try{if(un(br()))return null;var t=(new Date)[Mu](),n=wr(e===ku.LocalStorage?"localStorage":"sessionStorage"),r=cc+t;n.setItem(r,t);var i=n.getItem(r)!==t;if(n[Pu](r),!i)return n}catch(e){}return null}function fc(){return vc()?dc(ku.SessionStorage):null}function pc(e){return(e||void 0===sc)&&(sc=!!dc(ku.LocalStorage)),sc}function hc(e,t){var n=lc();if(null!==n)try{return n.getItem(t)}catch(t){sc=!1,xu(e,2,1,"Browser failed read of local storage. "+is(t),{exception:Ln(t)})}return null}function gc(e,t,n){var r=lc();if(null!==r)try{return r.setItem(t,n),!0}catch(t){sc=!1,xu(e,2,3,"Browser failed write to local storage. "+is(t),{exception:Ln(t)})}return!1}function vc(e){return(e||void 0===uc)&&(uc=!!dc(ku.SessionStorage)),uc}function mc(e,t){var n=fc();if(null!==n)try{return n.getItem(t)}catch(t){uc=!1,xu(e,2,2,"Browser failed read of session storage. "+is(t),{exception:Ln(t)})}return null}var yc="AppInsightsPropertiesPlugin",bc="ApplicationInsightsAnalytics",wc="/v2/track",xc="not_specified",Sc="iKey";function Tc(e,t,n){var r=t[Au],i=function(e,t){var n;return t&&(t=ui(Pn(t)))[Au]>150&&(n=rr(t,0,150),xu(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}(e,t);if(i[Au]!==r){for(var a=0,o=i;void 0!==n[o];)a++,o=rr(i,0,147)+_c(a);i=o}return i}function kc(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ui(Pn(t)))[Au]>n&&(r=rr(t,0,n),xu(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Cc(e,t){return Mc(e,t,2048,66)}function Ac(e,t){var n;return t&&t[Au]>32768&&(n=rr(t,0,32768),xu(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Ec(e,t){if(t){var n={};kn(t,(function(t,r){if(fn(r)&&ws())try{r=xs()[Vu](r)}catch(t){xu(e,2,49,"custom property is not valid",{exception:t},!0)}r=kc(e,r,8192),t=Tc(e,t,n),n[t]=r})),t=n}return t}function Ic(e,t){if(t){var n={};kn(t,(function(t,r){t=Tc(e,t,n),n[t]=r})),t=n}return t}function Mc(e,t,n,r){var i;return t&&(t=ui(Pn(t)))[Au]>n&&(i=rr(t,0,n),xu(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function _c(e){var t="00"+e;return ir(t,t[Au]-3)}function Pc(e,t,n,r,i,a){var o;n=kc(r,n)||xc,(un(e)||un(t)||un(n))&&Rn("Input doesn't contain all required fields");var s="";e[Sc]&&(s=e[Sc],delete e[Sc]);var u=((o={})[Du]=n,o.time=rs(new Date),o.iKey=s,o.ext=a||{},o.tags=[],o.data={},o.baseType=t,o.baseData=e,o);return un(i)||kn(i,(function(e,t){u.data[e]=t})),u}var Dc=function(){function e(e,t,n,r){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i[Du]=kc(e,t)||xc,i[qu]=Ec(e,n),i[Ku]=Ic(e,r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),Lc=function(){function e(e,t,n,r,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,t=t||xc,a[Lu]=Ac(e,t),a[qu]=Ec(e,r),a[Ku]=Ic(e,i),n&&(a[Wu]=n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(),Rc=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Nc=function(){function e(e,t,n,r,i,a,o,s,u){this.aiDataContract={ver:1,metrics:1,properties:0};var c=this;c.ver=2;var l=new Rc;l[Ru]=r>0?r:void 0,l.max=isNaN(a)||null===a?void 0:a,l.min=isNaN(i)||null===i?void 0:i,l[Du]=kc(e,t)||xc,l.value=n,l.stdDev=isNaN(o)||null===o?void 0:o,c.metrics=[l],c[qu]=Ec(e,s),c[Ku]=Ic(e,u)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}();function Oc(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t[Au]?"00"+t:2===t[Au]?"0"+t:t,n=n[Au]<2?"0"+n:n,r=r[Au]<2?"0"+r:r,(a>0?a+".":"")+(i=i[Au]<2?"0"+i:i)+":"+r+":"+n+"."+t}var Uc=function(){function e(e,t,n,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var s=this;s.ver=2,s.id=function(e,t){return t?Mc(e,t,128,69)[Mu]():t}(e,o),s.url=Cc(e,n),s[Du]=kc(e,t)||xc,isNaN(r)||(s[ac]=Oc(r)),s[qu]=Ec(e,i),s[Ku]=Ic(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),jc=function(){function e(e,t,n,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var s=this;s.ver=2,s.url=Cc(e,n),s[Du]=kc(e,t)||xc,s[qu]=Ec(e,i),s[Ku]=Ic(e,a),o&&(s.domProcessing=o.domProcessing,s[ac]=o[ac],s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s[oc]=o[oc],s.sentRequest=o.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(),Fc="error",Bc="stack",Vc="stackDetails",$c="errorSrc",zc="message",Hc="description";function qc(e,t){var n=e;return n&&!ln(n)&&(JSON&&JSON[Vu]?(n=JSON[Vu](e),!t||n&&"{}"!==n||(n=dn(e[Mu])?e[Mu]():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Kc(e,t){var n=e;return e&&(n&&!ln(n)&&(n=e[zc]||e[Hc]||n),n&&!ln(n)&&(n=qc(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===Ci(n||"",t)&&(n=t+": "+n),n||""}function Gc(e){return e&&e.src&&ln(e.src)&&e.obj&&pn(e.obj)}function Xc(e){var t=e||"";ln(t)||(t=ln(t[Bc])?t[Bc]:""+t);var n=t[Cu]("\n");return{src:t,obj:n}}function Wc(e){var t=null;if(e)try{if(e[Bc])t=Xc(e[Bc]);else if(e[Fc]&&e[Fc][Bc])t=Xc(e[Fc][Bc]);else if(e.exception&&e.exception[Bc])t=Xc(e.exception[Bc]);else if(Gc(e))t=e;else if(Gc(e[Vc]))t=e[Vc];else if(Er()&&Er().opera&&e[zc])t=function(e){for(var t=[],n=e[Cu]("\n"),r=0;r<n[Au];r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t[_u](i)}return{src:e,obj:t}}(e[Lu]);else if(e.reason&&e.reason[Bc])t=Xc(e.reason[Bc]);else if(ln(e))t=Xc(e);else{var n=e[zc]||e[Hc]||"";ln(e[$c])&&(n&&(n+="\n"),n+=" from "+e[$c]),n&&(t=Xc(n))}}catch(e){t=Xc(e)}return t||{src:"",obj:null}}function Yc(e){var t="";if(e&&!(t=e.typeName||e[Du]||""))try{var n=/function (.{1,200})\(/.exec(e.constructor[Mu]());t=n&&n[Au]>1?n[1]:""}catch(e){}return t}function Jc(e){if(e)try{if(!ln(e)){var t=Yc(e),n=qc(e,!1);return n&&"{}"!==n||(e[Fc]&&(t=Yc(e=e[Fc])),n=qc(e,!0)),0!==Ci(n,t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var Zc=function(){function e(e,t,n,r,i,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var o=this;o.ver=2,function(e){try{if(fn(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(o[zu]=t[zu]||[],o[qu]=t[qu],o[Ku]=t[Ku],t[Wu]&&(o[Wu]=t[Wu]),t.id&&(o.id=t.id,t[qu].id=t.id),t[Yu]&&(o[Yu]=t[Yu]),un(t[Ju])||(o[Ju]=t[Ju])):(n||(n={}),a&&(n.id=a),o[zu]=[new Qc(e,t,n)],o[qu]=Ec(e,n),o[Ku]=Ic(e,r),i&&(o[Wu]=i),a&&(o.id=a))}return e.CreateAutoException=function(e,t,n,r,i,a,o,s){var u,c=Yc(i||a||e);return(u={})[Lu]=Kc(e,c),u.url=t,u.lineNumber=n,u.columnNumber=r,u.error=Jc(i||a||e),u.evt=Jc(a||e),u[Xu]=c,u.stackDetails=Wc(o||i||a),u.errorSrc=s,u},e.CreateFromInterface=function(t,n,r,i){var a=n[zu]&&Kr(n[zu],(function(e){return Qc[Zu](t,e)}));return new e(t,va(va({},n),{exceptions:a}),r,i)},e.prototype.toInterface=function(){var e,t=this,n=t.exceptions,r=t.properties,i=t.measurements,a=t.severityLevel,o=t.problemGroup,s=t.id,u=t.isManual,c=n instanceof Array&&Kr(n,(function(e){return e.toInterface()}))||void 0;return(e={ver:"4.0"})[zu]=c,e.severityLevel=a,e.properties=r,e.measurements=i,e.problemGroup=o,e.id=s,e.isManual=u,e},e.CreateSimpleException=function(e,t,n,r,i,a){var o;return{exceptions:[(o={},o[tc]=!0,o.message=e,o.stack=i,o.typeName=t,o)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Jc,e}(),Qc=function(){function e(e,t,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var r=this;if(function(e){try{if(fn(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))r[Xu]=t[Xu],r[Lu]=t[Lu],r[Bc]=t[Bc],r[Hu]=t[Hu]||[],r[tc]=t[tc];else{var i=t,a=i&&i.evt;mn(i)||(i=i[Fc]||a||i),r[Xu]=kc(e,Yc(i))||xc,r[Lu]=Ac(e,Kc(t||i,r[Xu]))||xc;var o=t[Vc]||Wc(t);r[Hu]=function(e){var t,n=e.obj;if(n&&n[Au]>0){t=[];var r=0,i=0;if(Hr(n,(function(e){var n=e[Mu]();if(el.regex.test(n)){var a=new el(n,r++);i+=a[Gu],t[_u](a)}})),i>32768)for(var a=0,o=t[Au]-1,s=0,u=a,c=o;a<o;){if((s+=t[a][Gu]+t[o][Gu])>32768){var l=c-u+1;t.splice(u,l);break}u=a,c=o,a++,o--}}return t}(o),pn(r[Hu])&&Kr(r[Hu],(function(t){t[Qu]=kc(e,t[Qu]),t[ec]=kc(e,t[ec])})),r[Bc]=function(e,t){var n;if(t){var r=""+t;r[Au]>32768&&(n=rr(r,0,32768),xu(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}(e,function(e){var t="";return e&&(e.obj?Hr(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(o)),r.hasFullStack=pn(r.parsedStack)&&r.parsedStack[Au]>0,n&&(n[Xu]=n[Xu]||r[Xu])}}return e.prototype.toInterface=function(){var e,t=this,n=t[Hu]instanceof Array&&Kr(t[Hu],(function(e){return e.toInterface()}));return(e={id:t.id,outerId:t.outerId,typeName:t[Xu],message:t[Lu],hasFullStack:t[tc],stack:t[Bc]})[Hu]=n||void 0,e},e.CreateFromInterface=function(t,n){var r=n[Hu]instanceof Array&&Kr(n[Hu],(function(e){return el[Zu](e)}))||n[Hu];return new e(t,va(va({},n),{parsedStack:r}))},e}(),el=function(){function e(t,n){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r=this;if(r[Gu]=0,"string"==typeof t){var i=t;r[nc]=n,r[rc]="<no_method>",r[Qu]=ui(i),r[ec]="",r[ic]=0;var a=i.match(e.regex);a&&a[Au]>=5&&(r[rc]=ui(a[2])||r[rc],r[ec]=ui(a[4]),r[ic]=parseInt(a[5])||0)}else r[nc]=t[nc],r[rc]=t[rc],r[Qu]=t[Qu],r[ec]=t[ec],r[ic]=t[ic],r[Gu]=0;r.sizeInBytes+=r.method[Au],r.sizeInBytes+=r.fileName[Au],r.sizeInBytes+=r.assembly[Au],r[Gu]+=e.baseSize,r.sizeInBytes+=r.level.toString()[Au],r.sizeInBytes+=r.line.toString()[Au]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){var e=this;return{level:e[nc],method:e[rc],assembly:e[Qu],fileName:e[ec],line:e[ic]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();function tl(e,t,n){return!(!e||e[Sa]!==t||e===n||!e.match(/^[\da-f]*$/i))}function nl(e){return tl(e,32,"00000000000000000000000000000000")}function rl(e){return tl(e,16,"0000000000000000")}var il=Sr()||{},al=0,ol=[null,null,null,null,null];function sl(e,t){var n=function(e,t){var n=null;if(e){var r=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r[Au]>2&&ln(r[2])&&r[2][Au]>0&&(n=r[2]||"",t&&r[Au]>2)){var i=(r[1]||"")[Eu](),a=r[3]||"";("http"===i&&":80"===a||"https"===i&&":443"===a)&&(a=""),n+=a}}return n}(e,t)||"";if(n){var r=n.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r[Au]>3&&ln(r[2])&&r[2][Au]>0)return r[2]+(r[3]||"")}return n}function ul(e,t){var n=null;return 0===e||0===t||un(e)||un(t)||(n=t-e),n}var cl,ll,dl=function(){function e(e,t,n,r,i,a,o,s,u,c,l,d){void 0===u&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var f=this;f.ver=2,f.id=t,f[ac]=Oc(i),f.success=a,f.resultCode=o+"",f.type=kc(e,u);var p=function(e,t,n,r){var i,a,o,s,u,c=r,l=r;if(t&&t[Au]>0){var d=(a=t,u=(s=ol)[o=al],il.createElement?s[o]||(u=s[o]=il.createElement("a")):u={host:sl(a,!0)},u.href=a,++o>=s[Au]&&(o=0),al=o,u);if(i=d.host,!c)if(null!=d[$u]){var f=0===d.pathname[Au]?"/":d[$u];"/"!==f.charAt(0)&&(f="/"+f),l=d[$u],c=kc(e,n?n+" "+f:f)}else c=kc(e,t)}else i=r,c=r;return{target:i,name:c,data:l}}(e,n,s,r);f.data=Cc(e,r)||p.data,f.target=kc(e,p.target),c&&(f.target="".concat(f.target," | ").concat(c)),f[Du]=kc(e,p[Du]),f[qu]=Ec(e,l),f[Ku]=Ic(e,d)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}();function fl(e){var t=null;if(dn(Event))t=new Event(e);else{var n=Sr();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}function pl(e,t,n){return!e&&un(e)?t:vn(e)?e:"true"===Pn(e)[wa]()}function hl(e){return{mrg:!0,v:e}}function gl(e,t){return{set:e,v:t}}function vl(e,t,n){return{fb:n,isVal:e,v:t}}function ml(e,t){return{fb:t,set:pl,v:!!e}}var yl,bl="toGMTString",wl="toUTCString",xl="cookie",Sl="expires",Tl="isCookieUseDisabled",kl="disableCookiesUsage",Cl="_ckMgr",Al=null,El=null,Il=null,Ml={},_l={},Pl=((cl={cookieCfg:hl((ll={},ll[Go]={fb:"cookieDomain",dfVal:es},ll.path={fb:"cookiePath",dfVal:es},ll.enabled=Mo,ll.ignoreCookies=Mo,ll.blockedCookies=Mo,ll)),cookieDomain:Mo,cookiePath:Mo})[kl]=Mo,cl);function Dl(){!yl&&(yl=hr((function(){return Sr()})))}function Ll(e){return!e||e.isEnabled()}function Rl(e,t){return!!(t&&e&&pn(e.ignoreCookies))&&-1!==qr(e.ignoreCookies,t)}function Nl(e,t){var n=t[Ja];if(un(n)){var r=void 0;sn(e[Tl])||(r=!e[Tl]),sn(e[kl])||(r=!e[kl]),n=r}return n}function Ol(e,t){var n,r,i,a,o,s,u,c,l;e=iu(e||_l,null,t).cfg,o=au(e,(function(t){t[Ea](t.cfg,Pl),r=t.ref(t.cfg,"cookieCfg"),i=r[Xo]||"/",a=r[Go],s=!1!==Nl(e,r),u=r.getCookie||Vl,c=r.setCookie||$l,l=r.delCookie||$l}),t);var d=((n={isEnabled:function(){var n=!1!==Nl(e,r)&&s&&Ul(t),i=_l[Cl];return n&&i&&d!==i&&(n=Ll(i)),n},setEnabled:function(e){s=!1!==e,r[Ja]=e},set:function(e,t,n,o,s){var u,l=!1;if(Ll(d)&&!function(e,t){return!!(t&&e&&pn(e.blockedCookies)&&-1!==qr(e.blockedCookies,t))||Rl(e,t)}(r,e)){var f={},p=ui(t||_o),h=Ci(p,";");if(-1!==h&&(p=ui(or(t,h)),f=jl(rr(t,h+1))),as(f,Go,o||a,bn,sn),!un(n)){var g=Ss();if(sn(f[Sl])){var v=ni()+1e3*n;if(v>0){var m=new Date;m.setTime(v),as(f,Sl,Fl(m,g?bl:wl)||Fl(m,g?bl:wl)||_o,bn)}}g||as(f,"max-age",_o+n,null,sn)}var y=bs();y&&"https:"===y[ho]&&(as(f,"secure",null,null,sn),null===El&&(u=(Ir()||{})[go],El=!(ln(u)&&(ns(u,"CPU iPhone OS 12")||ns(u,"iPad; CPU OS 12")||ns(u,"Macintosh; Intel Mac OS X 10_14")&&ns(u,"Version/")&&ns(u,"Safari")||ns(u,"Macintosh; Intel Mac OS X 10_14")&&Si(u,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ns(u,"Chrome/5")||ns(u,"Chrome/6")||ns(u,"UnrealEngine")&&!ns(u,"Chrome")||ns(u,"UCBrowser/12")||ns(u,"UCBrowser/11")))),El&&as(f,"SameSite","None",null,sn)),as(f,Xo,s||i,null,sn),c(e,Bl(p,f)),l=!0}return l},get:function(e){var t=_o;return Ll(d)&&!Rl(r,e)&&(t=u(e)),t},del:function(e,t){var n=!1;return Ll(d)&&(n=d.purge(e,t)),n},purge:function(e,n){var r,i=!1;if(Ul(t)){var a=((r={})[Xo]=n||"/",r[Sl]="Thu, 01 Jan 1970 00:00:01 GMT",r);Ss()||(a["max-age"]="0"),l(e,Bl(_o,a)),i=!0}return i}})[Qa]=function(e){o&&o.rm(),o=null},n);return d[Cl]=d,d}function Ul(e){if(null===Al){Al=!1,!yl&&Dl();try{var t=yl.v||{};Al=void 0!==t[xl]}catch(t){xu(e,2,68,"Cannot access document.cookie - "+is(t),{exception:Ln(t)})}}return Al}function jl(e){var t={};return e&&e[Sa]&&Hr(ui(e)[vo](";"),(function(e){if(e=ui(e||_o)){var n=Ci(e,"=");-1===n?t[e]=null:t[ui(or(e,n))]=ui(rr(e,n+1))}})),t}function Fl(e,t){return dn(e[t])?e[t]():null}function Bl(e,t){var n=e||_o;return kn(t,(function(e,t){n+="; "+e+(un(t)?_o:"="+t)})),n}function Vl(e){var t=_o;if(!yl&&Dl(),yl.v){var n=yl.v[xl]||_o;Il!==n&&(Ml=jl(n),Il=n),t=ui(Ml[e]||_o)}return t}function $l(e,t){!yl&&Dl(),yl.v&&(yl.v[xl]=e+"="+t)}var zl="on",Hl="attachEvent",ql="addEventListener",Kl="detachEvent",Gl="removeEventListener",Xl="events",Wl="visibilitychange",Yl="pagehide",Jl="unload",Zl="beforeunload",Ql=Os("aiEvtPageHide"),ed=(Os("aiEvtPageShow"),/\.[\.]+/g),td=/[\.]+$/,nd=1,rd=Us("events"),id=/^([^.]*)(?:\.(.+)|)/;function ad(e){return e&&e[yo]?e[yo](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,_o):e}function od(e,t){var n;if(t){var r=_o;pn(t)?(r=_o,Hr(t,(function(e){(e=ad(e))&&("."!==e[0]&&(e="."+e),r+=e)}))):r=ad(t),r&&("."!==r[0]&&(r="."+r),e=(e||_o)+r)}var i=id.exec(e||_o)||[];return(n={})[bo]=i[1],n.ns=(i[2]||_o).replace(ed,".").replace(td,_o)[vo](".").sort().join("."),n}function sd(e,t,n){void 0===n&&(n=!0);var r=rd.get(e,Xl,{},n),i=r[t];return i||(i=r[t]=[]),i}function ud(e,t,n,r){e&&t&&t[bo]&&(e[Gl]?e[Gl](t[bo],n,r):e[Kl]&&e[Kl](zl+t[bo],n))}function cd(e,t,n,r){for(var i=t[Sa];i--;){var a=t[i];a&&(n.ns&&n.ns!==a.evtName.ns||r&&!r(a)||(ud(e,a.evtName,a[wo],a.capture),t[Da](i,1)))}}function ld(e,t){return t?od("xx",pn(t)?[e].concat(t):[e,t]).ns[vo]("."):e}function dd(e,t,n,r,i){var a;void 0===i&&(i=!1);var o=!1;if(e)try{var s=od(t,r);if(o=function(e,t,n,r){var i=!1;return e&&t&&t[bo]&&n&&(e[ql]?(e[ql](t[bo],n,r),i=!0):e[Hl]&&(e[Hl](zl+t[bo],n),i=!0)),i}(e,s,n,i),o&&rd.accept(e)){var u=((a={guid:nd++,evtName:s})[wo]=n,a.capture=i,a);sd(e,s.type)[Pa](u)}}catch(e){}return o}function fd(e,t,n,r,i){if(void 0===i&&(i=!1),e)try{var a=od(t,r),o=!1;!function(e,t,n){if(t[bo])cd(e,sd(e,t[bo]),t,n);else{var r=rd.get(e,Xl,{});kn(r,(function(r,i){cd(e,i,t,n)})),0===Bn(r)[Sa]&&rd.kill(e,Xl)}}(e,a,(function(e){return!((!a.ns||n)&&e[wo]!==n||(o=!0,0))})),o||ud(e,a,n,i)}catch(e){}}function pd(e,t,n,r){var i=!1;return t&&e&&e[Sa]>0&&Hr(e,(function(e){e&&(n&&-1!==qr(n,e)||(i=function(e,t,n){var r=!1,i=Er();i&&(r=dd(i,e,t,n),r=dd(i.body,e,t,n)||r);var a=Sr();return a&&(r=dd(a,e,t,n)||r),r}(e,t,r)||i))})),i}function hd(e,t,n){e&&pn(e)&&Hr(e,(function(e){e&&function(e,t,n){var r=Er();r&&(fd(r,e,t,n),fd(r.body,e,t,n));var i=Sr();i&&fd(i,e,t,n)}(e,t,n)}))}function gd(e,t,n){var r=ld(Ql,n),i=pd([Yl],e,t,r);return t&&-1!==qr(t,Wl)||(i=pd([Wl],(function(t){var n=Sr();e&&n&&"hidden"===n.visibilityState&&e(t)}),t,r)||i),!i&&t&&(i=gd(e,null,n)),i}var vd="ctx",md="ParentContextKey",yd="ChildrenContextKey",bd=function(){function e(t,n,r){var i,a=this;a.start=ni(),a[qa]=t,a[so]=r,a[xo]=function(){return!1},dn(n)&&In(a,"payload",{g:function(){return!i&&dn(n)&&(i=n(),n=null),i}}),a[So]=function(t){return t?t===e[md]||t===e[yd]?a[t]:(a[vd]||{})[t]:null},a[To]=function(t,n){t&&(t===e[md]?(a[t]||(a[xo]=function(){return!0}),a[t]=n):t===e[yd]?a[t]=n:(a[vd]=a[vd]||{})[t]=n)},a[ko]=function(){var t=0,n=a[So](e[yd]);if(pn(n))for(var r=0;r<n[Sa];r++){var i=n[r];i&&(t+=i[Ga])}a[Ga]=ni()-a.start,a.exTime=a[Ga]-t,a[ko]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),wd=function(){function e(t){this.ctx={},ua(e,this,(function(e){e.create=function(e,t,n){return new bd(e,t,n)},e.fire=function(e){e&&(e[ko](),t&&dn(t[$o])&&t[$o](e))},e[To]=function(t,n){t&&((e[vd]=e[vd]||{})[t]=n)},e[So]=function(t){return(e[vd]||{})[t]}}))}return e.__ieDyn=1,e}(),xd="CoreUtils.doPerf";function Sd(e,t,n,r,i){if(e){var a=e;if(a[Ko]&&(a=a[Ko]()),a){var o=void 0,s=a[So](xd);try{if(o=a.create(t(),r,i)){if(s&&o[To]&&(o[To](bd[md],s),s[So]&&s[To])){var u=s[So](bd[yd]);u||(u=[],s[To](bd[yd],u)),u[Pa](o)}return a[To](xd,o),n(o)}}catch(e){o&&o[To]&&o[To]("exception",e)}finally{o&&a.fire(o),a[To](xd,s)}}}return n()}var Td=Us("plugin");function kd(e){return Td.get(e,"state",{},!0)}function Cd(e,t){for(var n,r=[],i=null,a=e[fo]();a;){var o=a[Ha]();if(o){i&&i[po]&&o[Uo]&&i[po](o);var s=!!(n=kd(o))[Fa];o[Fa]&&(s=o[Fa]()),s||r[Pa](o),i=o,a=a[fo]()}}Hr(r,(function(r){var i=e[Do]();r[Na](e.getCfg(),i,t,e[fo]()),n=kd(r),r[Do]||n[Do]||(n[Do]=i),n[Fa]=!0,delete n[io]}))}function Ad(e){return e.sort((function(e,t){var n=0;if(t){var r=t[Uo];e[Uo]?n=r?e[jo]-t[jo]:1:r&&(n=-1)}else n=e?1:-1;return n}))}var Ed="TelemetryPluginChain",Id="_hasRun",Md="_getTelCtx",_d=0;function Pd(e,t,n,r){var i=null,a=[];t||(t=iu({},null,n[Ma])),null!==r&&(i=r?function(e,t,n){for(;e;){if(e[Ha]()===n)return e;e=e[fo]()}return Nd([n],t.config||{},t)}(e,n,r):e);var o={_next:function(){var e=i;if(i=e?e[fo]():null,!e){var t=a;t&&t[Sa]>0&&(Hr(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){xu(n[Ma],2,73,"Unexpected Exception during onComplete - "+Ln(e))}})),a=[])}return e},ctx:{core:function(){return n},diagLog:function(){return yu(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,n){var r=s(e,!0);return n&&kn(n,(function(e,n){if(un(r[e])){var i=t.cfg[e];!i&&un(i)||(r[e]=i)}Vs(t,r,e,n)})),t[Ea](r,n)},getConfig:function(e,n,r){void 0===r&&(r=!1);var i,a=s(e,!1),o=t.cfg;return!a||!a[n]&&un(a[n])?!o[n]&&un(o[n])||(i=o[n]):i=a[n],i||!un(i)?i:r},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var t;t=o._next();){var n=t[Ha]();n&&e(n)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&a[Pa]({func:e,self:sn(t)?o.ctx:t,args:n})}}};function s(e,n){var r=null,i=t.cfg;if(i&&e){var a=i[No];!a&&n&&(a={}),i[No]=a,(a=t.ref(i,No))&&(!(r=a[e])&&n&&(r={}),a[e]=r,r=t.ref(a,e))}return r}return o}function Dd(e,t,n,r){var i=iu(t),a=Pd(e,i,n,r),o=a.ctx;return o[Xa]=function(e){var t=a._next();return t&&t[Uo](e,o),!t},o[ro]=function(e,t){return void 0===e&&(e=null),pn(e)&&(e=Nd(e,i.cfg,n,t)),Dd(e||o[fo](),i.cfg,n,t)},o}function Ld(e,t,n){var r=iu(t.config),i=Pd(e,r,t,n),a=i.ctx;return a[Xa]=function(e){var t=i._next();return t&&t[Qa](a,e),!t},a[ro]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=Nd(e,r.cfg,t,n)),Ld(e||a[fo](),t,n)},a}function Rd(e,t,n){var r=iu(t.config),i=Pd(e,r,t,n).ctx;return i[Xa]=function(e){return i.iterate((function(t){dn(t[lo])&&t[lo](i,e)}))},i[ro]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=Nd(e,r.cfg,t,n)),Rd(e||i[fo](),t,n)},i}function Nd(e,t,n,r){var i=null,a=!r;if(pn(e)&&e[Sa]>0){var o=null;Hr(e,(function(e){if(a||r!==e||(a=!0),a&&e&&dn(e[Uo])){var s=function(e,t,n){var r,i=null,a=dn(e[Uo]),o=dn(e[po]),s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(r,c){u(c=c||function(){var r;return e&&dn(e[Md])&&(r=e[Md]()),r||(r=Dd(s,t,n)),r}(),(function(t){if(!e||!a)return!1;var n=kd(e);return!n[io]&&!n[Ro]&&(o&&e[po](i),e[Uo](r,t),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||c[Xa](r)},unload:function(t,n){u(t,(function(){var r=!1;if(e){var i=kd(e),a=e[Do]||i[Do];!e||a&&a!==t.core()||i[io]||(i[Do]=null,i[io]=!0,i[Fa]=!1,e[io]&&!0===e[io](t,n)&&(r=!0))}return r}),"unload",(function(){}),n[so])||t[Xa](n)},update:function(t,n){u(t,(function(){var r=!1;if(e){var i=kd(e),a=e[Do]||i[Do];!e||a&&a!==t.core()||i[io]||e[lo]&&!0===e[lo](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t[Xa](n)},_id:r=e?e[Oa]+"-"+e[jo]+"-"+_d++:"Unknown-0-"+_d++,_setNext:function(e){i=e}};function u(t,n,a,o,s){var u=!1,c=e?e[Oa]:Ed,l=t[Id];return l||(l=t[Id]={}),t.setNext(i),e&&Sd(t[Do](),(function(){return c+":"+a}),(function(){l[r]=!0;try{var e=i?i._id:_o;e&&(l[e]=!1),u=n(t)}catch(e){var o=!i||l[i._id];o&&(u=!0),i&&o||xu(t[uo](),1,73,"Plugin ["+c+"] failed during "+a+" - "+Ln(e)+", run flags: "+Ln(l))}}),o,s),u}return $n(s)}(e,t,n);i||(i=s),o&&o._setNext(s),o=s}}))}return r&&!i?Nd([r],t,n):i}var Od,Ud="_aiHooks",jd=["req","rsp","hkErr","fnErr"];function Fd(e,t){if(e)for(var n=0;n<e[Sa]&&!t(e[n],n);n++);}function Bd(e,t,n,r,i){i>=0&&i<=2&&Fd(e,(function(e,a){var o=e.cbks,s=o[jd[i]];if(s){t.ctx=function(){return r[a]=r[a]||{}};try{s[_a](t.inst,n)}catch(e){var u=t.err;try{var c=o[jd[2]];c&&(t.err=e,c[_a](t.inst,n))}catch(e){}finally{t.err=u}}}}))}function Vd(e,t,n,r){var i=null;return e&&(xn(e,t)?i=e:n&&(i=Vd(Qo(e),t,r,!1))),i}function $d(e,t,n,r,i){if(e&&t&&n){var a=Vd(e,t,r,i)||e;if(a)return function(e,t,n,r){var i=n&&n[Ud];if(!i){var a=function(e){return function(){var t,n=arguments,r=e.h,i=((t={})[qa]=e.n,t.inst=this,t.ctx=null,t.set=function(e,t){(n=s([],n))[e]=t,o=s([i],n)},t),a=[],o=s([i],n);function s(e,t){return Fd(t,(function(t){e[Pa](t)})),e}i.evt=wr("event"),Bd(r,i,o,a,0);var u=e.f;if(u)try{i.rslt=u[_a](this,n)}catch(e){throw i.err=e,Bd(r,i,o,a,3),e}return Bd(r,i,o,a,1),i.rslt}}(i={i:0,n:t,f:n,h:[]});a[Ud]=i,e[t]=a}var o={id:i.i,cbks:r,rm:function(){var e=this.id;Fd(i.h,(function(t,n){if(t.id===e)return i.h[Da](n,1),1}))}};return i.i++,i.h[Pa](o),o}(a,t,a[t],n)}return null}function zd(){var e=[];return{add:function(t){t&&e[Pa](t)},run:function(t,n){Hr(e,(function(e){try{e(t,n)}catch(e){xu(t[uo](),2,73,"Unexpected error calling unload handler - "+Ln(e))}})),e=[]}}}function Hd(){var e=[];return{run:function(t){var n=e;e=[],Hr(n,(function(e){try{(e.rm||e.remove).call(e)}catch(e){xu(t,2,73,"Unloading:"+Ln(e))}}))},add:function(t){t&&zr(e,t)}}}var qd="getPlugin",Kd=((Od={})[No]={isVal:es,v:{}},Od),Gd=function(){function e(){var t,n,r,i,a,o=this;function s(e){void 0===e&&(e=null);var t=e;if(!t){var i=n||Dd(null,{},o[Do]);t=r&&r[qd]?i[ro](null,r[qd]):i[ro](null,r)}return t}function u(e,t,i){iu(e,Kd,yu(t)),!i&&t&&(i=t[Wa]()[fo]());var a=r;r&&r[qd]&&(a=r[qd]()),o[Do]=t,n=Dd(i,e,t,a)}function c(){t=!1,o[Do]=null,n=null,r=null,a=Hd(),i=zd()}c(),ua(e,o,(function(e){e[Na]=function(e,n,r,i){u(e,n,i),t=!0},e[io]=function(t,n){var o,s=e[Do];if(s&&(!t||s===t[Do]())){var u,l=!1,d=t||Ld(null,s,r&&r[qd]?r[qd]():r),f=n||((o={reason:0})[so]=!1,o);return e[co]&&!0===e[co](d,f,p)?u=!0:p(),u}function p(){l||(l=!0,i.run(d,n),a.run(d[uo]()),!0===u&&d[Xa](f),c())}},e[lo]=function(t,n){var i=e[Do];if(i&&(!t||i===t[Do]())){var a,o=!1,s=t||Rd(null,i,r&&r[qd]?r[qd]():r),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,c,l)?a=!0:l(),a}function l(){o||(o=!0,u(s.getCfg(),s.core(),s[fo]()))}},ss(e,"_addUnloadCb",(function(){return i}),"add"),ss(e,"_addHook",(function(){return a}),"add"),In(e,"_unloadHooks",{g:function(){return a}})})),o[uo]=function(e){return s(e)[uo]()},o[Fa]=function(){return t},o.setInitialized=function(e){t=e},o[po]=function(e){r=e},o[Xa]=function(e,t){t?t[Xa](e):r&&dn(r[Uo])&&r[Uo](e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}(),Xd="toString",Wd="isStorageUseDisabled",Yd="_addHook",Jd="core",Zd="dataType",Qd="envelopeType",ef="diagLog",tf="track",nf="trackPageView",rf="trackPreviousPageVisit",af="sendPageViewInternal",of="startTime",sf="properties",uf="duration",cf="sendPageViewPerformanceInternal",lf="populatePageViewPerformanceEvent",df="href",ff="sendExceptionInternal",pf="exception",hf="error",gf="_onerror",vf="errorSrc",mf="lineNumber",yf="columnNumber",bf="message",wf="CreateAutoException",xf="addTelemetryInitializer",Sf="autoTrackPageVisitTime",Tf="isBrowserLinkTrackingEnabled",kf="length",Cf="enableAutoRouteTracking",Af="enableUnhandledPromiseRejectionTracking",Ef="autoUnhandledPromiseInstrumented",If="getEntriesByType",Mf="isPerformanceTimingSupported",_f="getPerformanceTiming",Pf="navigationStart",Df="shouldCollectDuration",Lf="isPerformanceTimingDataReady",Rf="responseStart",Nf="loadEventEnd",Of="responseEnd",Uf="connectEnd",jf="pageVisitStartTime",Ff=function(){function e(t,n,r,i){ua(e,this,(function(e){var a,o=null,s=[],u=!1,c=!1;function l(e){r&&r.flush(e,(function(){}))}function d(){o||(o=Pi((function(){o=null;var e=s.slice(0),t=!1;s=[],Hr(e,(function(e){e()?t=!0:s.push(e)})),s[kf]>0&&d(),t&&l(!0)}),100))}function f(e){s.push(e),d()}r&&(a=r.logger),e[nf]=function(e,r){var o=e.name;if(un(o)||"string"!=typeof o){var s=Sr();o=e.name=s&&s.title||""}var d=e.uri;if(un(d)||"string"!=typeof d){var p=bs();d=e.uri=p&&p[df]||""}if(!c){var h=bi(),g=h&&h[If]&&h[If]("navigation");if(g&&g[0]&&!sn(h.timeOrigin)){var v=g[0].loadEventStart;e[of]=new Date(h.timeOrigin+v)}else{var m=(r||e[sf]||{})[uf]||0;e[of]=new Date((new Date).getTime()-m)}c=!0}if(!i[Mf]())return t[af](e,r),l(!0),void(Pr()||xu(a,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info."));var y,b,w=!1,x=i[_f]()[Pf];x>0&&(y=ul(x,+new Date),i[Df](y)||(y=void 0)),un(r)||un(r[uf])||(b=r[uf]),!n&&isNaN(b)||(isNaN(b)&&(r||(r={}),r[uf]=y),t[af](e,r),l(!0),w=!0),r||(r={}),f((function(){var n=!1;try{if(i[Lf]()){n=!0;var s={name:o,uri:d};i[lf](s),s.isValid||w?(w||(r[uf]=s.durationMs,t[af](e,r)),u||(t[cf](s,r),u=!0)):(r[uf]=y,t[af](e,r))}else x>0&&ul(x,+new Date)>6e4&&(n=!0,w||(r[uf]=6e4,t[af](e,r)))}catch(e){xu(a,1,38,"trackPageView failed on page load calculation: "+is(e),{exception:Ln(e)})}return n}))},e.teardown=function(e,t){if(o){o.cancel(),o=null;var n=s.slice(0);s=[],Hr(n,(function(e){e()}))}}}))}return e.__ieDyn=1,e}(),Bf=["googlebot","adsbot-google","apis-google","mediapartners-google"];function Vf(){var e=bi();return e&&!!e.timing}function $f(){var e=bi(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t[Pf]>0&&t[Rf]>0&&t.requestStart>0&&t[Nf]>0&&t[Of]>0&&t[Uf]>0&&t.domLoading>0}function zf(){return Vf()?bi().timing:null}function Hf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(Ir()||{}).userAgent,r=!1;if(n)for(var i=0;i<Bf[kf];i++)r=r||-1!==Ci(n.toLowerCase(),Bf[i]);if(r)return!1;for(i=0;i<e[kf];i++)if(e[i]<0||e[i]>=36e5)return!1;return!0}var qf,Kf=function(){function e(t){var n=yu(t);ua(e,this,(function(e){e[lf]=function(t){t.isValid=!1;var r,i=(r=bi())&&r.getEntriesByType&&r.getEntriesByType("navigation")[kf]>0?bi()[If]("navigation")[0]:null,a=zf(),o=0,s=0,u=0,c=0,l=0;(i||a)&&(i?(o=i[uf],s=0===i[of]?i[Uf]:ul(i[of],i[Uf]),u=ul(i.requestStart,i[Rf]),c=ul(i[Rf],i[Of]),l=ul(i.responseEnd,i[Nf])):(o=ul(a[Pf],a[Nf]),s=ul(a[Pf],a[Uf]),u=ul(a.requestStart,a[Rf]),c=ul(a[Rf],a[Of]),l=ul(a.responseEnd,a[Nf])),0===o?xu(n,2,10,"error calculating page view performance.",{total:o,network:s,request:u,response:c,dom:l}):e[Df](o,s,u,c,l)?o<Math.floor(s)+Math.floor(u)+Math.floor(c)+Math.floor(l)?xu(n,2,8,"client performance math error.",{total:o,network:s,request:u,response:c,dom:l}):(t.durationMs=o,t.perfTotal=t[uf]=Oc(o),t.networkConnect=Oc(s),t.sentRequest=Oc(u),t.receivedResponse=Oc(c),t.domProcessing=Oc(l),t.isValid=!0):xu(n,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:o,network:s,request:u,response:c,dom:l}))},e[_f]=zf,e[Mf]=Vf,e[Lf]=$f,e[Df]=Hf}))}return e.__ieDyn=1,e}(),Gf=function(){function e(t,n){var r="prevPageVisitData";ua(e,this,(function(e){e[rf]=function(e,i){try{var a=function(e,n){var i=null;try{if(i=function(){var e=null;try{if(vc()){var n=ni(),i=mc(t,r);i&&ws()&&((e=xs().parse(i)).pageVisitTime=n-e[jf],function(e,t){var n=fc();if(null!==n)try{return n[Pu](t),!0}catch(t){uc=!1,xu(e,2,6,"Browser failed removal of session storage item. "+is(t),{exception:Ln(t)})}}(t,r))}}catch(n){Su(t,"Stop page visit timer failed: "+Ln(n)),e=null}return e}(),vc()){null!=mc(t,r)&&Rn("Cannot call startPageVisit consecutively without first calling stopPageVisit");var a=xs().stringify(new Xf(e,n));!function(e,t,n){var r=fc();if(null!==r)try{return r.setItem(t,n),!0}catch(t){uc=!1,xu(e,2,4,"Browser failed write to session storage. "+is(t),{exception:Ln(t)})}}(t,r,a)}}catch(e){Su(t,"Call to restart failed: "+Ln(e)),i=null}return i}(e,i);a&&n(a.pageName,a.pageUrl,a.pageVisitTime)}catch(e){Su(t,"Auto track page visit time failed, metric will not be collected: "+Ln(e))}},In(e,"_logger",{g:function(){return t}}),In(e,"pageVisitTimeTrackingHandler",{g:function(){return n}})}))}return e.__ieDyn=1,e}(),Xf=function(e,t){this[jf]=ni(),this.pageName=e,this.pageUrl=t},Wf=function(e,t){var n=this,r={};n.start=function(t){void 0!==r[t]&&xu(e,2,62,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),r[t]=+new Date},n.stop=function(t,i,a,o){var s=r[t];if(isNaN(s))xu(e,2,63,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var u=ul(s,+new Date);n.action(t,i,u,a,o)}delete r[t],r[t]=void 0}};function Yf(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Jf=Vn(((qf={sessionRenewalMs:gl(Zf,18e5),sessionExpirationMs:gl(Zf,864e5),disableExceptionTracking:ml()})[Sf]=ml(),qf.overridePageViewDuration=ml(),qf[Af]=ml(),qf[Ef]=!1,qf.samplingPercentage=vl((function(e){return!isNaN(e)&&e>0&&e<=100}),100),qf[Wd]=ml(),qf[Tf]=ml(),qf[Cf]=ml(),qf.namePrefix={isVal:ln,v:Pn(_o)},qf.enableDebug=ml(),qf.disableFlushOnBeforeUnload=ml(),qf.disableFlushOnUnload=ml(!1,"disableFlushOnBeforeUnload"),qf.expCfg=hl({inclScripts:!1,expLog:void 0,maxLogs:50}),qf));function Zf(e,t){return(e=e||t)<6e4&&(e=6e4),+e}var Qf=function(e){function t(){var n,r,i,a,o,s,u,c,l,d,f,p,h,g,v,m,y,b,w,x,S=e.call(this)||this;return S.identifier=bc,S.priority=180,S.autoRoutePVDelay=500,ua(t,S,(function(e,t){var S=t[Yd];function T(t,n,r,i,a){e[ef]().throwInternal(t,n,r,i,a)}function k(){n=null,r=null,i=null,a=null,o=null,s=null,u=!1,c=!1,l=!1,d=!1,f=!1,p=!1,h=!1,g=!1,m=!1;var t=bs(!0);b=t&&t[df]||"",w=null,x=null,v=null,In(e,"config",{g:function(){return v}})}k(),e.getCookieMgr=function(){return function(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r&&r[Cl]?r[Cl]:Ol(t)}return n||(n=function(e,t){var n=Ol[Cl]||_l[Cl];return n||(n=Ol[Cl]=Ol(e,t),_l[Cl]=n),n}(t,(e||{})[Ma])),n}(e[Jd])},e.processTelemetry=function(t,n){e.processNext(t,n)},e.trackEvent=function(t,n){try{var r=Pc(t,Dc[Zd],Dc[Qd],e[ef](),n);e[Jd][tf](r)}catch(e){T(2,39,"trackTrace failed, trace will not be collected: "+is(e),{exception:Ln(e)})}},e.startTrackEvent=function(e){try{n.start(e)}catch(e){T(1,29,"startTrackEvent failed, event will not be collected: "+is(e),{exception:Ln(e)})}},e.stopTrackEvent=function(e,t,r){try{n.stop(e,void 0,t,r)}catch(e){T(1,30,"stopTrackEvent failed, event will not be collected: "+is(e),{exception:Ln(e)})}},e.trackTrace=function(t,n){try{var r=Pc(t,Lc[Zd],Lc[Qd],e[ef](),n);e[Jd][tf](r)}catch(e){T(2,39,"trackTrace failed, trace will not be collected: "+is(e),{exception:Ln(e)})}},e.trackMetric=function(t,n){try{var r=Pc(t,Nc[Zd],Nc[Qd],e[ef](),n);e[Jd][tf](r)}catch(e){T(1,36,"trackMetric failed, metric will not be collected: "+is(e),{exception:Ln(e)})}},e[nf]=function(e,t){try{var n=e||{};i[nf](n,va(va(va({},n.properties),n.measurements),t)),m&&o[rf](n.name,n.uri)}catch(e){T(1,37,"trackPageView failed, page view will not be collected: "+is(e),{exception:Ln(e)})}},e[af]=function(t,n,r){var i=Sr();if(i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri),un(t[of])){var a=(n||t[sf]||{})[uf]||0;t[of]=new Date((new Date).getTime()-a)}var o=Pc(t,Uc[Zd],Uc[Qd],e[ef](),n,r);e[Jd][tf](o)},e[cf]=function(t,n,r){var i=Pc(t,jc[Zd],jc[Qd],e[ef](),n,r);e[Jd][tf](i)},e.trackPageViewPerformance=function(t,n){var r=t||{};try{a[lf](r),e[cf](r,n)}catch(e){T(1,37,"trackPageViewPerformance failed, page view will not be collected: "+is(e),{exception:Ln(e)})}},e.startTrackPage=function(e){try{if("string"!=typeof e){var t=Sr();e=t&&t.title||""}r.start(e)}catch(e){T(1,31,"startTrackPage failed, page view may not be collected: "+is(e),{exception:Ln(e)})}},e.stopTrackPage=function(e,t,n,i){try{if("string"!=typeof e){var a=Sr();e=a&&a.title||""}if("string"!=typeof t){var s=bs();t=s&&s[df]||""}r.stop(e,t,n,i),m&&o[rf](e,t)}catch(e){T(1,32,"stopTrackPage failed, page view will not be collected: "+is(e),{exception:Ln(e)})}},e[ff]=function(t,n,r){var i=t&&(t[pf]||t[hf])||mn(t)&&t||{name:t&&typeof t,message:t||xc};t=t||{};var a=new Zc(e[ef](),i,t[sf]||n,t.measurements,t.severityLevel,t.id).toInterface(),o=Sr();if(o&&(null==y?void 0:y.inclScripts)){var s=function(e){var t=e.getElementsByTagName("script"),n=[];return Hr(t,(function(e){var t=e[Io]("src");if(t){var r=e[Io]("crossorigin"),i=!0===e.hasAttribute("async"),a=!0===e.hasAttribute("defer"),o=e[Io]("referrerpolicy"),s={url:t};r&&(s.crossOrigin=r),i&&(s.async=i),a&&(s.defer=a),o&&(s.referrerPolicy=o),n[Pa](s)}})),n}(o);a[sf].exceptionScripts=JSON.stringify(s)}if(null==y?void 0:y.expLog){var u=y.expLog();u&&u.logs&&pn(u.logs)&&(a[sf].exceptionLog=u.logs.slice(0,y.maxLogs).join("\n"))}var c=Pc(a,Zc[Zd],Zc[Qd],e[ef](),n,r);e[Jd][tf](c)},e.trackException=function(t,n){t&&!t[pf]&&t[hf]&&(t[pf]=t[hf]);try{e[ff](t,n)}catch(e){T(1,35,"trackException failed, exception will not be collected: "+is(e),{exception:Ln(e)})}},e[gf]=function(t){var n=t&&t[hf],r=t&&t.evt;try{if(!r){var i=Er();i&&(r=i.event)}var a=t&&t.url||(Sr()||{}).URL,o=t[vf]||"window.onerror@"+a+":"+(t[mf]||0)+":"+(t[yf]||0),s={errorSrc:o,url:a,lineNumber:t[mf]||0,columnNumber:t[yf]||0,message:t[bf]};!function(e,t,n,r,i){return!i&&ln(e)&&("Script error."===e||"Script error"===e)}(t.message,t.url,t.lineNumber,t.columnNumber,t[hf])?(t[vf]||(t[vf]=o),e.trackException({exception:t,severityLevel:3},s)):function(t,n){var r=Pc(t,Zc[Zd],Zc[Qd],e[ef](),n);e[Jd][tf](r)}(Zc[wf]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",a,t[mf]||0,t[yf]||0,n,r,null,o),s)}catch(e){var u=n?n.name+", "+n[bf]:"null";T(1,11,"_onError threw exception while logging error, error will not be collected: "+is(e),{exception:Ln(e),errorString:u})}},e[xf]=function(t){if(e[Jd])return e[Jd][xf](t);s||(s=[]),s.push(t)},e.initialize=function(T,k,C,A){if(!e.isInitialized()){un(k)&&Rn("Error initializing"),t.initialize(T,k,C,A);try{x=ld(Os(e.identifier),k.evtNamespace&&k.evtNamespace()),s&&(Hr(s,(function(e){k[xf](e)})),s=null),function(t){var n=e.identifier,r=e[Jd];e[Yd](au(t,(function(){var i,a,o=Dd(null,t,r);v=o.getExtCfg(n,Jf),y=v.expCfg,m=v[Sf],t.storagePrefix&&(i=t.storagePrefix,cc=i||""),sn((a=v)[Wd])||(a[Wd]?(sc=!1,uc=!1):(sc=pc(!0),uc=vc(!0))),u=v[Tf],function(){if(!c&&u){var t=["/browserLinkSignalR/","/__browserLink/"];e[Yd](e[xf]((function(e){if(u&&e.baseType===dl[Zd]){var n=e.baseData;if(n)for(var r=0;r<t[kf];r++)if(n.target&&Ci(n.target,t[r])>=0)return!1}return!0}))),c=!0}}()})))}(T),a=new Kf(e[Jd]),i=new Ff(e,v.overridePageViewDuration,e[Jd],a),o=new Gf(e[ef](),(function(t,n,r){return function(t,n,r){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(t,n,r)})),(n=new Wf(e[ef](),"trackEvent")).action=function(t,n,r,i,a){i||(i={}),a||(a={}),i.duration=r[Xd](),e.trackEvent({name:t,properties:i,measurements:a})},(r=new Wf(e[ef](),"trackPageView")).action=function(t,n,r,i,a){un(i)&&(i={}),i.duration=r[Xd]();var o={name:t,uri:n,properties:i,measurements:a};e[af](o,i)},Tr()&&(E=Er(),I=bs(!0),e[Yd](au(v,(function(){(f=v.disableExceptionTracking)||p||v.autoExceptionInstrumented||(S($d(E,"onerror",{ns:x,rsp:function(t,n,r,i,a,o){f||!0===t.rslt||e[gf](Zc[wf](n,r,i,a,o,t.evt))}},!1)),p=!0)}))),function(t,n){e[Yd](au(v,(function(){h=!0===v[Af],p=p||v[Ef],h&&!g&&(S($d(t,"onunhandledrejection",{ns:x,rsp:function(t,r){h&&!0!==t.rslt&&e[gf](Zc[wf](function(e){if(e&&e.reason){var t=e.reason;return!ln(t)&&dn(t[Xd])?t[Xd]():Ln(t)}return e||""}(r),n?n[df]:"",0,0,r,t.evt))}},!1)),v[Ef]=g=!0)})))}(E,I),function(){var t=Er(),n=bs(!0);e[Yd](au(v,(function(){if(l=!0===v[Cf],t&&l&&!d&&Mr()){var r=Mr();dn(r.pushState)&&dn(r.replaceState)&&typeof Event!==da&&function(t,n,r){if(!d){var i=v.namePrefix||"";S($d(n,"pushState",{ns:x,rsp:function(){l&&(Yf(t,fl(i+"pushState")),Yf(t,fl(i+"locationchange")))}},!0)),S($d(n,"replaceState",{ns:x,rsp:function(){l&&(Yf(t,fl(i+"replaceState")),Yf(t,fl(i+"locationchange")))}},!0)),dd(t,i+"popstate",(function(){l&&Yf(t,fl(i+"locationchange"))}),x),dd(t,i+"locationchange",(function(){if(w?(b=w,w=r&&r[df]||""):w=r&&r[df]||"",l){var t=function(){var t,n,r=null;if(e[Jd]&&e[Jd].getTraceCtx&&(r=e[Jd].getTraceCtx(!1)),!r){var i=e[Jd].getPlugin(yc);if(i){var a=i.plugin.context;a&&(t=a.telemetryTrace,n=t||{},r={getName:function(){return n[Du]},setName:function(e){n[Du]=e},getTraceId:function(){return n.traceID},setTraceId:function(e){nl(e)&&(n.traceID=e)},getSpanId:function(){return n.parentID},setSpanId:function(e){rl(e)&&(n.parentID=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){n.traceFlags=e}})}}return r}();if(t){t.setTraceId(function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=_o,r=0;r<4;r++)n+=t[15&(e=Ps())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Ps())|0];return ir(n,0,8)+ir(n,9,4)+"4"+ir(n,13,3)+i+ir(n,16,3)+ir(n,19,12)}());var n="_unknown_";r&&r.pathname&&(n=r.pathname+(r.hash||"")),t.setName(kc(e[ef](),n))}Pi(function(t){e[nf]({refUri:t,properties:{duration:0}})}.bind(e,b),e.autoRoutePVDelay)}}),x),d=!0}}(t,r,n)}})))}())}catch(t){throw e.setInitialized(!1),t}var E,I}},e._doTeardown=function(e,t){i&&i.teardown(e,t),fd(window,null,null,x),k()},In(e,"_pageViewManager",{g:function(){return i}}),In(e,"_pageViewPerformanceManager",{g:function(){return a}}),In(e,"_pageVisitTimeManager",{g:function(){return o}}),In(e,"_evtNamespace",{g:function(){return"."+x}})})),S}return ya(t,e),t.Version="3.3.3",t}(Gd),ep="blkVal",tp="length",np="rdOnly",rp="notify",ip="warnToConsole",ap="throwInternal",op="setDf",sp="watch",up="logger",cp="apply",lp="push",dp="splice",fp="hdlr",pp="cancel",hp="identifier",gp="isInitialized",vp="getPlugin",mp="time",yp="processNext",bp="unload",wp="createNew",xp="teardown",Sp="messageId",Tp="message",kp="isAsync",Cp="diagLog",Ap="_doTeardown",Ep="update",Ip="getNext",Mp="setNextPlugin",_p="userAgent",Pp="split",Dp="nodeType",Lp="replace",Rp="type",Np="handler",Op="isChildEvt",Up="getCtx",jp="setCtx",Fp="complete",Bp=/-([a-z])/g,Vp=/([^\w\d_$])/g,$p=/^(\d+[\w\d_$])/;function zp(e){var t=e;return t&&ln(t)&&(t=(t=(t=t[Lp](Bp,(function(e,t){return t.toUpperCase()})))[Lp](Vp,"_"))[Lp]($p,(function(e,t){return"_"+t}))),t}function Hp(e,t){return!(!e||!t)&&-1!==Ci(e,t)}function qp(e,t,n,r,i){e&&t&&n&&(!1!==i||sn(e[t]))&&(e[t]=function(e,t){var n=null,r=null;return dn(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t][cp](r,e)}}(n,r))}Object.getPrototypeOf;var Kp=void 0,Gp="",Xp="core",Wp="disabled",Yp="extensionConfig",Jp="processTelemetry",Zp="priority",Qp="getPerfMgr",eh="JSON",th=null,nh=null;function rh(){return Boolean(typeof JSON===la&&JSON||null!==wr(eh))}function ih(){return rh()?JSON||wr(eh):null}var ah=4294967296,oh=4294967295,sh=123456789,uh=987654321,ch=!1,lh=sh,dh=uh;function fh(){try{var e=2147483647&ni();(t=(Math.random()*ah^e)+e)<0&&(t>>>=0),lh=sh+t&oh,dh=uh-t&oh,ch=!0}catch(e){}var t}function ph(e){var t=0,n=wr("crypto")||wr("msCrypto");return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&oh),0===t&&function(){var e=Ir();if(e&&(e[_p]!==nh||null===th)){var t=((nh=e[_p])||Gp).toLowerCase();th=Hp(t,"msie")||Hp(t,"trident/")}return th}()&&(ch||fh(),t=function(e){var t=((dh=36969*(65535&dh)+(dh>>16)&oh)<<16)+(65535&(lh=18e3*(65535&lh)+(lh>>16)&oh))>>>0&oh|0;return t>>>=0}()&oh),0===t&&(t=Math.floor(ah*Math.random()|0)),e||(t>>>=0),t}var hh="3.3.3",gh="."+function(e){void 0===e&&(e=22);for(var t=ph()>>>0,n=0,r=Gp;r[tp]<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(ph()<<2&4294967295|3&t)>>>0,n=0);return r}(6),vh=0;function mh(e){return 1===e[Dp]||9===e[Dp]||!+e[Dp]}function yh(e,t){return void 0===t&&(t=!1),zp(e+vh+++(t?"."+hh:Gp)+gh)}function bh(e){var t={id:yh("_aiData-"+(e||Gp)+"."+hh),accept:function(e){return mh(e)},get:function(e,n,r,i){var a=e[t.id];return a?a[zp(n)]:(i&&(a=function(e,t){var n=t[e.id];if(!n){n={};try{mh(t)&&In(t,e.id,{e:!1,v:n})}catch(e){}}return n}(t,e),a[zp(n)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}var wh="on",xh="attachEvent",Sh="addEventListener",Th="detachEvent",kh="removeEventListener",Ch="events",Ah=(yh("aiEvtPageHide"),yh("aiEvtPageShow"),/\.[\.]+/g),Eh=/[\.]+$/,Ih=1,Mh=bh("events"),_h=/^([^.]*)(?:\.(.+)|)/;function Ph(e){return e&&e[Lp]?e[Lp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Gp):e}function Dh(e,t){var n;if(t){var r=Gp;pn(t)?(r=Gp,Hr(t,(function(e){(e=Ph(e))&&("."!==e[0]&&(e="."+e),r+=e)}))):r=Ph(t),r&&("."!==r[0]&&(r="."+r),e=(e||Gp)+r)}var i=_h.exec(e||Gp)||[];return(n={})[Rp]=i[1],n.ns=(i[2]||Gp).replace(Ah,".").replace(Eh,Gp)[Pp](".").sort().join("."),n}function Lh(e,t,n){void 0===n&&(n=!0);var r=Mh.get(e,Ch,{},n),i=r[t];return i||(i=r[t]=[]),i}function Rh(e,t,n,r){e&&t&&t[Rp]&&(e[kh]?e[kh](t[Rp],n,r):e[Th]&&e[Th](wh+t[Rp],n))}function Nh(e,t,n,r){for(var i=t[tp];i--;){var a=t[i];a&&(n.ns&&n.ns!==a.evtName.ns||r&&!r(a)||(Rh(e,a.evtName,a[Np],a.capture),t[dp](i,1)))}}function Oh(e){return e&&fn(e)&&(e.isVal||e.fb||Sn(e,"v")||Sn(e,"mrg")||Sn(e,"ref")||e.set)}function Uh(e,t,n){var r,i=n.dfVal||cn;if(t&&n.fb){var a=n.fb;pn(a)||(a=[a]);for(var o=0;o<a[tp];o++){var s=a[o],u=t[s];if(i(u)?r=u:e&&(i(u=e.cfg[s])&&(r=u),e.set(e.cfg,Pn(s),u)),i(r))break}}return!i(r)&&i(n.v)&&(r=n.v),r}function jh(e,t,n){var r,i=n;return n&&Oh(n)&&(i=Uh(e,t,n)),i&&(Oh(i)&&(i=jh(e,t,i)),pn(i)?(r=[])[tp]=i[tp]:ci(i)&&(r={}),r&&(kn(i,(function(n,i){i&&Oh(i)&&(i=jh(e,t,i)),r[n]=i})),i=r)),i}function Fh(e,t,n,r){var i,a,o,s,u,c,l,d,f=r;Oh(f)?(i=f.isVal,a=f.set,c=f[np],l=f[ep],s=f.mrg,!(u=f.ref)&&sn(u)&&(u=!!s),o=Uh(e,t,f)):o=r,l&&e[ep](t,n);var p=!0,h=t[n];!h&&un(h)||(d=h,p=!1,i&&d!==o&&!i(d)&&(d=o,p=!0),a&&(p=(d=a(d,o,t))===o)),p?d=o?jh(e,t,o):o:(ci(d)||pn(o))&&s&&o&&(ci(o)||pn(o))&&kn(o,(function(t,n){Fh(e,d,t,n)})),e.set(t,n,d),u&&e.ref(t,n),c&&e[np](t,n)}var Bh=jr("[[ai_dynCfg_1]]"),Vh=jr("[[ai_blkDynCfg_1]]"),$h=jr("[[ai_frcDynCfg_1]]");function zh(e){var t;return e&&(pn(e)?(t=[])[tp]=e[tp]:ci(e)&&(t={}),t)?(kn(e,(function(e,n){t[e]=zh(n)})),t):e}function Hh(e,t,n){var r=!1;return n&&!e[t.blkVal]&&((r=n[$h])||n[Vh]||(r=ci(n)||pn(n))),r}function qh(e){Nn("InvalidAccess:"+e)}var Kh,Gh=["push","pop","shift","unshift","splice"],Xh=function(e,t,n,r){e&&e[ap](3,108,"".concat(n," [").concat(t,"] failed - ")+Ln(r))};function Wh(e,t){var n=wn(e,t);return n&&n.get}function Yh(e,t,n,r){if(t){var i=Wh(t,n);i&&i[e.prop]?t[n]=r:function(e,t,n,r){var i={n:n,h:[],trk:function(t){t&&t.fn&&(-1===qr(i.h,t)&&i.h[lp](t),e.trk(t,i))},clr:function(e){var t=qr(i.h,e);-1!==t&&i.h[dp](t,1)}},a=!0,o=!1;function s(){a&&(o=o||Hh(s,e,r),r&&!r[Bh]&&o&&(r=Zh(e,r,n,"Converting")),a=!1);var t=e.act;return t&&i.trk(t),r}s[e.prop]={chng:function(){e.add(i)}},In(t,i.n,{g:s,s:function(u){if(r!==u){s[e.ro]&&!e.upd&&qh("["+n+"] is read-only:"+Ln(t)),a&&(o=o||Hh(s,e,r),a=!1);var c=o&&s[e.rf];if(o)if(c){kn(r,(function(e){r[e]=u?u[e]:Kp}));try{kn(u,(function(t,n){Yh(e,r,t,n)})),u=r}catch(t){Xh((e.hdlr||{})[up],n,"Assigning",t),o=!1}}else r&&r[Bh]&&kn(r,(function(t){var n=Wh(r,t);if(n){var i=n[e.prop];i&&i.chng()}}));if(u!==r){var l=u&&Hh(s,e,u);!c&&l&&(u=Zh(e,u,n,"Converting")),r=u,o=l}e.add(i)}}})}(e,t,n,r)}return t}function Jh(e,t,n,r){if(t){var i=Wh(t,n),a=i&&!!i[e.prop],o=r&&r[0],s=r&&r[1],u=r&&r[2];if(!a){if(u)try{!function(e){if(e&&(ci(e)||pn(e)))try{e[Vh]=!0}catch(e){}}(t)}catch(t){Xh((e.hdlr||{})[up],n,"Blocking",t)}try{Yh(e,t,n,t[n]),i=Wh(t,n)}catch(t){Xh((e.hdlr||{})[up],n,"State",t)}}o&&(i[e.rf]=o),s&&(i[e.ro]=s),u&&(i[e.blkVal]=!0)}return t}function Zh(e,t,n,r){try{kn(t,(function(n,r){Yh(e,t,n,r)})),t[Bh]||(An(t,Bh,{get:function(){return e[fp]}}),function(e,t,n){pn(t)&&Hr(Gh,(function(r){var i=t[r];t[r]=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=i[cp](this,r);return Zh(e,t,n,"Patching"),o}}))}(e,t,n))}catch(t){Xh((e.hdlr||{})[up],n,r,t)}return t}var Qh="[[ai_",eg="]]";function tg(e,t,n){var r,i=function(e){if(e){var t=e[Bh]||e;if(t.cfg&&(t.cfg===e||t.cfg[Bh]===t))return t}return null}(t);if(i)return i;var a,o=yh("dyncfg",!0),s=t&&!1!==n?t:zh(t),u=((r={uid:null,cfg:s})[up]=e,r[rp]=function(){a[rp]()},r.set=function(t,n,r){try{t=Yh(a,t,n,r)}catch(t){Xh(e,n,"Setting value",t)}return t[n]},r[op]=function(e,t){return t&&kn(t,(function(t,n){Fh(u,e,t,n)})),e},r[sp]=function(e){return function(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return In(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),e.use(n,t),n}(a,e)},r.ref=function(e,t){var n;return Jh(a,e,t,(n={},n[0]=!0,n))[t]},r[np]=function(e,t){var n;return Jh(a,e,t,(n={},n[1]=!0,n))[t]},r[ep]=function(e,t){var n;return Jh(a,e,t,(n={},n[2]=!0,n))[t]},r._block=function(e,t){a.use(null,(function(n){var r=a.upd;try{sn(t)||(a.upd=t),e(n)}finally{a.upd=r}}))},r);return In(u,"uid",{c:!1,e:!1,w:!1,v:o}),Zh(a=function(e){var t,n,r=Ur(Qh+"get"+e.uid+eg),i=Ur(Qh+"ro"+e.uid+eg),a=Ur(Qh+"rf"+e.uid+eg),o=Ur(Qh+"blkVal"+e.uid+eg),s=Ur(Qh+"dtl"+e.uid+eg),u=null,c=null;function l(t,r){var i=n.act;try{n.act=t,t&&t[s]&&(Hr(t[s],(function(e){e.clr(t)})),t[s]=[]),r({cfg:e.cfg,set:e.set.bind(e),setDf:e[op].bind(e),ref:e.ref.bind(e),rdOnly:e[np].bind(e)})}catch(t){var a=e[up];throw a&&a[ap](1,107,Ln(t)),t}finally{n.act=i||null}}function d(){if(u){var e=u;u=null,c&&c[pp](),c=null;var t=[];if(Hr(e,(function(e){if(e&&(e[s]&&(Hr(e[s],(function(t){t.clr(e)})),e[s]=null),e.fn))try{l(e,e.fn)}catch(e){t[lp](e)}})),u)try{d()}catch(e){t[lp](e)}t[tp]>0&&function(e,t){Kh||(Kh=ti("AggregationError",(function(e,t){t[tp]>1&&(e.errors=t[1])})));var n="Watcher error(s): ";throw Hr(t,(function(e,t){n+="\n".concat(t," > ").concat(Ln(e))})),new Kh(n,t||[])}(0,t)}}return(t={prop:r,ro:i,rf:a})[ep]=o,t[fp]=e,t.add=function(e){if(e&&e.h[tp]>0){u||(u=[]),c||(c=Pi((function(){c=null,d()}),0));for(var t=0;t<e.h[tp];t++){var n=e.h[t];n&&-1===qr(u,n)&&u[lp](n)}}},t[rp]=d,t.use=l,t.trk=function(e,t){if(e){var n=e[s]=e[s]||[];-1===qr(n,t)&&n[lp](t)}},n=t}(u),s,"config","Creating"),u}function ng(e,t,n,r){var i=tg(n,e||{},r);return t&&i[op](i.cfg,t),i}function rg(e,t,n){var r=e[Bh]||e;return!r.cfg||r.cfg!==e&&r.cfg[Bh]!==r?(function(e,t){e?(e[ip](t),e[ap](2,108,t)):qh(t)}(n,"Not dynamic - "+Ln(e)),ng(e,null,n)[sp](t)):r[sp](t)}var ig,ag=null;var og="warnToConsole",sg={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ug=((ig={})[0]=null,ig[1]="errorToConsole",ig[2]=og,ig[3]="debugToConsole",ig);function cg(e){return e?'"'+e[Lp](/\"/g,Gp)+'"':Gp}function lg(e,t){var n=typeof console!==da?console:wr("console");if(n){var r="log";n[e]&&(r=e),dn(n[r])&&n[r](t)}}var dg=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i[Sp]=e,i[Tp]=(n?"AI: ":"AI (Internal): ")+e;var a=Gp;rh()&&(a=ih().stringify(r));var o=(t?" message:"+cg(t):Gp)+(r?" props:"+cg(a):Gp);i[Tp]+=o}return e.dataType="MessageData",e}();function fg(e,t){return(e||{})[up]||new pg(t)}var pg=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n,r,i,a,o,s=0,u={};ua(e,this,(function(e){function c(t,n){if(!(s>=i)){var a=!0,o="AITR_"+n[Sp];if(u[o]?a=!1:u[o]=!0,a&&(t<=r&&(e.queue[lp](n),s++,l(1===t?"error":"warn",n)),s===i)){var c="Internal events throttle limit per PageView reached for this app.",d=new dg(23,c,!1);e.queue[lp](d),1===t?e.errorToConsole(c):e[ip](c)}}}function l(e,n){var r=function(e){var t,n=ag;return n||!0===e.disableDbgExt||(n=ag||((t=wr("Microsoft"))&&(ag=t.ApplicationInsights),ag)),n?n.ChromeDbgExt:null}(t||{});r&&r[Cp]&&r[Cp](e,n)}o=function(t){return rg(ng(t,sg,e).cfg,(function(e){var t=e.cfg;n=t.loggingLevelConsole,r=t.loggingLevelTelemetry,i=t.maxMessageLimit,a=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return n},e[ap]=function(t,r,i,o,s){void 0===s&&(s=!1);var d=new dg(r,i,s,o);if(a)throw Ln(d);var f=ug[t]||og;if(sn(d[Tp]))l("throw"+(1===t?"Critical":"Warning"),d);else{if(s){var p=+d[Sp];!u[p]&&n>=t&&(e[f](d[Tp]),u[p]=!0)}else n>=t&&e[f](d[Tp]);c(t,d)}},e.debugToConsole=function(e){lg("debug",e),l("warning",e)},e[ip]=function(e){lg("warn",e),l("warning",e)},e.errorToConsole=function(e){lg("error",e),l("error",e)},e.resetInternalMessageCount=function(){s=0,u={}},e.logInternalMessage=c,e[bp]=function(e){o&&o.rm(),o=null}}))}return e.__ieDyn=1,e}();function hg(e,t,n,r,i,a){void 0===a&&(a=!1),function(e){return e||new pg}(e)[ap](t,n,r,i,a)}var gg="ctx",vg="ParentContextKey",mg="ChildrenContextKey",yg=function(){function e(t,n,r){var i,a=this;a.start=ni(),a.name=t,a[kp]=r,a[Op]=function(){return!1},dn(n)&&In(a,"payload",{g:function(){return!i&&dn(n)&&(i=n(),n=null),i}}),a[Up]=function(t){return t?t===e[vg]||t===e[mg]?a[t]:(a[gg]||{})[t]:null},a[jp]=function(t,n){t&&(t===e[vg]?(a[t]||(a[Op]=function(){return!0}),a[t]=n):t===e[mg]?a[t]=n:(a[gg]=a[gg]||{})[t]=n)},a[Fp]=function(){var t=0,n=a[Up](e[mg]);if(pn(n))for(var r=0;r<n[tp];r++){var i=n[r];i&&(t+=i[mp])}a[mp]=ni()-a.start,a.exTime=a[mp]-t,a[Fp]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),bg="CoreUtils.doPerf",wg=bh("plugin");function xg(e){return wg.get(e,"state",{},!0)}var Sg,Tg="TelemetryPluginChain",kg="_hasRun",Cg="_getTelCtx",Ag=0;function Eg(e,t,n,r){var i=null,a=[];t||(t=ng({},null,n[up])),null!==r&&(i=r?function(e,t,n){for(;e;){if(e[vp]()===n)return e;e=e[Ip]()}return Pg([n],t.config||{},t)}(e,n,r):e);var o={_next:function(){var e=i;if(i=e?e[Ip]():null,!e){var t=a;t&&t[tp]>0&&(Hr(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){hg(n[up],2,73,"Unexpected Exception during onComplete - "+Ln(e))}})),a=[])}return e},ctx:{core:function(){return n},diagLog:function(){return fg(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,n){var r=s(e,!0);return n&&kn(n,(function(e,n){if(un(r[e])){var i=t.cfg[e];!i&&un(i)||(r[e]=i)}Fh(t,r,e,n)})),t[op](r,n)},getConfig:function(e,n,r){void 0===r&&(r=!1);var i,a=s(e,!1),o=t.cfg;return!a||!a[n]&&un(a[n])?!o[n]&&un(o[n])||(i=o[n]):i=a[n],i||!un(i)?i:r},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var t;t=o._next();){var n=t[vp]();n&&e(n)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&a[lp]({func:e,self:sn(t)?o.ctx:t,args:n})}}};function s(e,n){var r=null,i=t.cfg;if(i&&e){var a=i[Yp];!a&&n&&(a={}),i[Yp]=a,(a=t.ref(i,Yp))&&(!(r=a[e])&&n&&(r={}),a[e]=r,r=t.ref(a,e))}return r}return o}function Ig(e,t,n,r){var i=ng(t),a=Eg(e,i,n,r),o=a.ctx;return o[yp]=function(e){var t=a._next();return t&&t[Jp](e,o),!t},o[wp]=function(e,t){return void 0===e&&(e=null),pn(e)&&(e=Pg(e,i.cfg,n,t)),Ig(e||o[Ip](),i.cfg,n,t)},o}function Mg(e,t,n){var r=ng(t.config),i=Eg(e,r,t,n),a=i.ctx;return a[yp]=function(e){var t=i._next();return t&&t[bp](a,e),!t},a[wp]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=Pg(e,r.cfg,t,n)),Mg(e||a[Ip](),t,n)},a}function _g(e,t,n){var r=ng(t.config),i=Eg(e,r,t,n).ctx;return i[yp]=function(e){return i.iterate((function(t){dn(t[Ep])&&t[Ep](i,e)}))},i[wp]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=Pg(e,r.cfg,t,n)),_g(e||i[Ip](),t,n)},i}function Pg(e,t,n,r){var i=null,a=!r;if(pn(e)&&e[tp]>0){var o=null;Hr(e,(function(e){if(a||r!==e||(a=!0),a&&e&&dn(e[Jp])){var s=function(e,t,n){var r,i=null,a=dn(e[Jp]),o=dn(e[Mp]),s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(r,c){u(c=c||function(){var r;return e&&dn(e[Cg])&&(r=e[Cg]()),r||(r=Ig(s,t,n)),r}(),(function(t){if(!e||!a)return!1;var n=xg(e);return!n[xp]&&!n[Wp]&&(o&&e[Mp](i),e[Jp](r,t),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||c[yp](r)},unload:function(t,n){u(t,(function(){var r=!1;if(e){var i=xg(e),a=e[Xp]||i[Xp];!e||a&&a!==t.core()||i[xp]||(i[Xp]=null,i[xp]=!0,i[gp]=!1,e[xp]&&!0===e[xp](t,n)&&(r=!0))}return r}),"unload",(function(){}),n[kp])||t[yp](n)},update:function(t,n){u(t,(function(){var r=!1;if(e){var i=xg(e),a=e[Xp]||i[Xp];!e||a&&a!==t.core()||i[xp]||e[Ep]&&!0===e[Ep](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t[yp](n)},_id:r=e?e[hp]+"-"+e[Zp]+"-"+Ag++:"Unknown-0-"+Ag++,_setNext:function(e){i=e}};function u(t,n,a,o,s){var u=!1,c=e?e[hp]:Tg,l=t[kg];return l||(l=t[kg]={}),t.setNext(i),e&&function(e,t,n,r,i){if(e){var o=e;if(o[Qp]&&(o=o[Qp]()),o){var s=void 0,u=o[Up](bg);try{if(s=o.create(c+":"+a,r,i)){if(u&&s[jp]&&(s[jp](yg[vg],u),u[Up]&&u[jp])){var l=u[Up](yg[mg]);l||(l=[],u[jp](yg[mg],l)),l[lp](s)}return o[jp](bg,s),n()}}catch(e){s&&s[jp]&&s[jp]("exception",e)}finally{s&&o.fire(s),o[jp](bg,u)}}}n()}(t[Xp](),0,(function(){l[r]=!0;try{var e=i?i._id:Gp;e&&(l[e]=!1),u=n(t)}catch(e){var o=!i||l[i._id];o&&(u=!0),i&&o||hg(t[Cp](),1,73,"Plugin ["+c+"] failed during "+a+" - "+Ln(e)+", run flags: "+Ln(l))}}),o,s),u}return $n(s)}(e,t,n);i||(i=s),o&&o._setNext(s),o=s}}))}return r&&!i?Pg([r],t,n):i}var Dg,Lg,Rg,Ng="getPlugin",Og=((Sg={})[Yp]={isVal:function(e){return!un(e)},v:{}},Sg),Ug=function(){function e(){var t,n,r,i,a,o=this;function s(e){void 0===e&&(e=null);var t=e;if(!t){var i=n||Ig(null,{},o[Xp]);t=r&&r[Ng]?i[wp](null,r[Ng]):i[wp](null,r)}return t}function u(e,t,i){ng(e,Og,fg(t)),!i&&t&&(i=t.getProcessTelContext()[Ip]());var a=r;r&&r[Ng]&&(a=r[Ng]()),o[Xp]=t,n=Ig(i,e,t,a)}function c(){var e,s;t=!1,o[Xp]=null,n=null,r=null,e=[],a={run:function(t){var n=e;e=[],Hr(n,(function(e){try{(e.rm||e.remove).call(e)}catch(e){hg(t,2,73,"Unloading:"+Ln(e))}}))},add:function(t){t&&zr(e,t)}},s=[],i={add:function(e){e&&s[lp](e)},run:function(e,t){Hr(s,(function(n){try{n(e,t)}catch(t){hg(e[Cp](),2,73,"Unexpected error calling unload handler - "+Ln(t))}})),s=[]}}}c(),ua(e,o,(function(e){e.initialize=function(e,n,r,i){u(e,n,i),t=!0},e[xp]=function(t,n){var o,s=e[Xp];if(s&&(!t||s===t[Xp]())){var u,l=!1,d=t||Mg(null,s,r&&r[Ng]?r[Ng]():r),f=n||((o={reason:0})[kp]=!1,o);return e[Ap]&&!0===e[Ap](d,f,p)?u=!0:p(),u}function p(){l||(l=!0,i.run(d,n),a.run(d[Cp]()),!0===u&&d[yp](f),c())}},e[Ep]=function(t,n){var i=e[Xp];if(i&&(!t||i===t[Xp]())){var a,o=!1,s=t||_g(null,i,r&&r[Ng]?r[Ng]():r),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,c,l)?a=!0:l(),a}function l(){o||(o=!0,u(s.getCfg(),s.core(),s[Ip]()))}},qp(e,"_addUnloadCb",(function(){return i}),"add"),qp(e,"_addHook",(function(){return a}),"add"),In(e,"_unloadHooks",{g:function(){return a}})})),o[Cp]=function(e){return s(e)[Cp]()},o[gp]=function(){return t},o.setInitialized=function(e){t=e},o[Mp]=function(e){r=e},o[yp]=function(e,t){t?t[yp](e):r&&dn(r[Jp])&&r[Jp](e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}(),jg="Promise",Fg="rejected";function Bg(e,t){return Vg(e,(function(e){return t?t({status:"fulfilled",rejected:!1,value:e}):e}),(function(e){return t?t({status:Fg,rejected:!0,reason:e}):e}))}function Vg(e,t,n,r){var i=e;try{if(yn(e))(t||n)&&(i=e.then(t,n));else try{t&&(i=t(e))}catch(e){if(!n)throw e;i=n(e)}}finally{r&&function(e,t){var n=e;t&&(yn(e)?n=e.finally?e.finally(t):e.then((function(e){return t(),e}),(function(e){throw t(),e})):t())}(i,r)}return i}var $g,zg=!1,Hg=["pending","resolving","resolved",Fg],qg="dispatchEvent";function Kg(e){var t;return e&&e.createEvent&&(t=e.createEvent("Event")),!!t&&t.initEvent}var Gg,Xg,Wg,Yg,Jg="unhandledRejection",Zg=Jg.toLowerCase(),Qg=[],ev=0,tv=10;function nv(e){return dn(e)?e.toString():Ln(e)}function rv(e,t,n){var r,i,a=Gr(arguments,3),o=0,s=!1,u=[],c=ev++,l=Qg.length>0?Qg[Qg.length-1]:void 0,d=!1,f=null;function p(t,n){try{Qg.push(c),d=!0,f&&f.cancel(),f=null;var i=e((function(e,i){u.push((function(){try{var a=2===o?t:n,s=sn(a)?r:dn(a)?a(r):a;yn(s)?s.then(e,i):a?e(s):3===o?i(s):e(s)}catch(e){i(e)}})),s&&g()}),a);return i}finally{Qg.pop()}}function h(){return Hg[o]}function g(){if(u.length>0){var e=u.slice();u=[],d=!0,f&&f.cancel(),f=null,t(e)}}function v(e,t){return function(n){if(o===t){if(2===e&&yn(n))return o=1,void n.then(v(2,1),v(3,1));o=e,s=!0,r=n,g(),d||3!==e||f||(f=Pi(m,tv))}}}function m(){if(!d)if(d=!0,_r())process.emit(Jg,r,i);else{var e=Er()||br();!Gg&&(Gg=gr(nn(wr,[jg+"RejectionEvent"]).v)),function(e,t,n,r){var i=Sr();!$g&&($g=gr(!!nn(Kg,[i]).v));var a=$g.v?i.createEvent("Event"):r?new Event(t):{};if(n&&n(a),$g.v&&a.initEvent(t,!1,!0),a&&e[qg])e[qg](a);else{var o=e["on"+t];if(o)o(a);else{var s=wr("console");s&&(s.error||s.log)(t,Ln(a))}}}(e,Zg,(function(e){return In(e,"promise",{g:function(){return i}}),e.reason=r,e}),!!Gg.v)}}return An(i={then:p,catch:function(e){return p(void 0,e)},finally:function(e){var t=e,n=e;return dn(e)&&(t=function(t){return e&&e(),t},n=function(t){throw e&&e(),t}),p(t,n)}},"state",{get:h}),zg&&function(e,t,n,i){Lg=Lg||{toString:function(){return"[[PromiseResult]]"}},Rg=Rg||{toString:function(){return"[[PromiseIsHandled]]"}};var a={};a[Dg=Dg||{toString:function(){return"[[PromiseState]]"}}]={get:t},a[Lg]={get:function(){return on(r)}},a[Rg]={get:function(){return d}},En(e,a)}(i,h),Rr()&&(i[Or(11)]="IPromise"),i.toString=function(){return"IPromise"+(zg?"["+c+(sn(l)?"":":"+l)+"]":"")+" "+h()+(s?" - "+nv(r):"")},function(){dn(n)||Nn(jg+": executor is not a function - "+nv(n));var e=v(3,0);try{n.call(i,v(2,0),e)}catch(t){e(t)}}(),i}function iv(e){return function(t){var n=Gr(arguments,1);return e((function(e,n){try{var r=[],i=1;Vr(t,(function(t,a){t&&(i++,Vg(t,(function(t){r[a]=t,0==--i&&e(r)}),n))})),0==--i&&e(r)}catch(e){n(e)}}),n)}}function av(e){Hr(e,(function(e){try{e()}catch(e){}}))}function ov(e,t){return rv(ov,function(e){var t=gn(e)?e:0;return function(e){Pi((function(){av(e)}),t)}}(t),e,t)}function sv(e,t){!Xg&&(Xg=gr(nn(wr,[jg]).v||null));var n=Xg.v;if(!n)return ov(e);dn(e)||Nn(jg+": executor is not a function - "+Ln(e));var r=0,i=new n((function(t,n){e((function(e){r=2,t(e)}),(function(e){r=3,n(e)}))}));return An(i,"state",{get:function(){return Hg[r]}}),i}function uv(e){return rv(uv,av,e)}function cv(e,t){return!Yg&&(Yg=gr(sv)),Yg.v.call(this,e,t)}var lv=iv(cv);Or(11);var dv="featureOptIn",fv="onCfgChangeReceive",pv="nonOverrideConfigs",hv="scheduleFetchTimeout";function gv(e,t,n,r){try{var i=n>r;i&&(e=null);var a=0==n?function(e,t,n,r,i,a,o){return gi(e||{},tn[Kt](arguments))}({},e):e;return a&&t&&!i&&kn(a,(function(e){var i=t[e];i&&(fn(a[e])&&fn(i)?a[e]=gv(a[e],i,++n,r):delete a[e])})),a}catch(e){}return e}var vv,mv="featureOptIn.",yv=".mode",bv=".onCfg",wv=".offCfg";var xv=void 0,Sv=Vn(((vv={syncMode:1,blkCdnCfg:xv,customEvtName:xv,cfgUrl:xv,overrideSyncFn:xv,overrideFetchFn:xv})[fv]=xv,vv[hv]=18e5,vv[pv]={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},vv)),Tv=function(e){function t(){var n,r,i,a,o,s,u,c,l,d,f,p,h,g,v,m,y=e.call(this)||this;y.priority=198,y.identifier="AppInsightsCfgSyncPlugin";var b=!1;return ua(t,y,(function(e,t){function y(){r=null,i=null,a=null,o=null,u=null,c=null,h=null,s=null,d=null,f=null,l=null,v=null,m=null,p=null}function w(t,n){if(t){if(r=t,n&&!b)return S();if(u&&!b)return e.core.updateCfg(t),!0}return!1}function x(){try{var e=br();e&&function(e,t,n,r,i){if(void 0===i&&(i=!1),e)try{var a=Dh(t,r),o=!1;!function(e,t,n){if(t[Rp])Nh(e,Lh(e,t[Rp]),t,n);else{var r=Mh.get(e,Ch,{});kn(r,(function(r,i){Nh(e,i,t,n)})),0===Bn(r)[tp]&&Mh.kill(e,Ch)}}(e,a,(function(e){return!((!a.ns||n)&&e[Np]!==n||(o=!0,0))})),o||Rh(e,a,n,i)}catch(e){}}(e,null,null,a)}catch(e){}}function S(e){try{return m&&dn(m)?m(r,e):function(e,t,n){var r,i,a=br();if(a&&a.CustomEvent)try{return r=a,i=function(e,t){var n=null,r={detail:t||null};if(dn(CustomEvent))n=new CustomEvent(e,r);else{var i=Sr();i&&i.createEvent&&(n=i.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,r)}return n}(e,{cfg:t||null,customDetails:n||null}),!!(r&&r.dispatchEvent&&i)&&(r.dispatchEvent(i),!0)}catch(e){}return!1}(i,r,e)}catch(e){}return!1}function T(e){try{return x(),e&&(i=e,function(){if(u){var e=br();if(e)try{!function(e,t,n,r,i){var a;void 0===i&&(i=!1);var o=!1;if(e)try{var s=Dh(t,r);if(o=function(e,t,n,r){var i=!1;return e&&t&&t[Rp]&&n&&(e[Sh]?(e[Sh](t[Rp],n,r),i=!0):e[xh]&&(e[xh](wh+t[Rp],n),i=!0)),i}(e,s,n,i),o&&Mh.accept(e)){var u=((a={guid:Ih++,evtName:s})[Np]=n,a.capture=i,a);Lh(e,s.type)[lp](u)}}catch(e){}}(e,i,(function(e){var t=e&&e.detail;if(p&&t)p(t);else{var n=t&&t.cfg,r=n&&ci(n)&&I(n);r&&w(r)}}),a,!0)}catch(e){}}}()),!0}catch(e){}return!1}function k(e,t,n){var r=br(),i=r&&r.fetch||null;if(e&&i&&dn(i))try{var a=new Request(e,{method:"GET"});Bg(fetch(a),(function(e){var r=e.value;e.rejected?E(t,400):r.ok?Bg(r.text(),(function(e){E(t,r.status,e.value,n)})):E(t,r.status,null,n)}))}catch(e){}}function C(e,t,n){try{var r=new XMLHttpRequest;r.open("GET",e),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&E(t,r.status,r.responseText,n)},r.onerror=function(){E(t,400)},r.ontimeout=function(){E(t,400)},r.send()}catch(e){}}function A(t,n,r){try{if(t>=200&&t<400&&n){f=0;var i=ih();if(i){var a=function(e,t){try{if(!e||!e.enabled)return null;if(!e[dv])return e.config;var n=e[dv],r=e.config||{};return kn(n,(function(n){var i=function(e,t,n){var r;if(!t||!t.enabled)return null;var i=(t[dv]||{})[e]||{mode:1},a=i.mode,o=i.onCfg,s=i.offCfg,u=(n||{})[e]||{mode:2},c=u.mode,l=u.onCfg,d=u.offCfg,f=!!u.blockCdnCfg,p=mv+e+bv,h=mv+e+wv,g=c,v=l,m=d;return f||(4===a||5===a?(g=4==a?3:2,v=o||l,m=s||d):2===a||2===c?(g=2,v=l||o,m=d||s):3===a?(g=3,v=l||o,m=d||s):1===a&&1===c&&(g=1)),(r={})[mv+e+yv]=g,r[p]=v,r[h]=m,r}(n,e,t.config[dv]);un(i)||(kn(i,(function(e,t){xi(r,e,t)})),function(e,t,n){var r=t[mv+e+yv],i=t[mv+e+bv],a=t[mv+e+wv],o=null;3===r&&(o=i),2===r&&(o=a),o&&kn(o,(function(e,t){xi(n,e,t)}))}(n,i,r))})),r}catch(e){}return null}(i.parse(n),e.core),o=a&&ci(a)&&I(a);o&&w(o,r)}}else f++;f<3&&M()}catch(e){}}function E(e,t,n,r){try{e(t,n,r)}catch(e){}}function I(e,t){var n=null;try{e&&(n=gv(e,h,0,5))}catch(e){}return n}function M(){!s&&d&&(s=Pi((function(){s=null,g(o,A,c)}),d)).unref()}function _(){s&&s.cancel(),s=null,f=0}y(),e.initialize=function(s,y,b,w){var E,I;t.initialize(s,y,b,w),E=yh(e.identifier),I=y.evtNamespace&&y.evtNamespace(),a=I?Dh("xx",pn(I)?[E].concat(I):[E,I]).ns[Pp]("."):E,function(t){var a=e.identifier,s=e.core;e._addHook(rg(t,(function(){var e=Ig(null,t,s);n=e.getExtCfg(a,Sv);var d=l;l=!!n.blkCdnCfg,un(d)||d===l||(!l&&o?g&&g(o,A,c):_()),un(u)&&(u=2===n.syncMode),un(c)&&(c=1===n.syncMode);var f=n.customEvtName||"ai_cfgsync";i!==f&&(u?T(f):(x(),i=f)),un(o)&&(o=n.cfgUrl),o||(r=t,c&&S())}))),m=n.overrideSyncFn,v=n.overrideFetchFn,p=n[fv],h=n[pv],d=n[hv],g=function(){var e=v;return un(e)&&(function(e){var t=!1;try{t=!!wr("fetch");wr("Request")}catch(e){}return t}()?e=k:function(){var e=!1;try{e=!!wr("XMLHttpRequest")}catch(e){}return e}()&&(e=C)),e}(),f=0,o&&!l&&g&&g(o,A,c)}(s)},e.getCfg=function(){return r},e.pause=function(){b=!0,_()},e.resume=function(){b=!1,M()},e.setCfg=function(e){return w(e)},e.sync=function(e){return S(e)},e.updateEventListenerName=function(e){return T(e)},e._doTeardown=function(e,t){x(),_(),y()},e._getDbgPlgTargets=function(){return[c,u,i,l,h]},e.processTelemetry=function(t,n){e.processNext(t,n)}})),y}return ya(t,e),t.__ieDyn=1,t}(Ug),kv="sampleRate",Cv="ProcessLegacy",Av="http.method",Ev="https://dc.services.visualstudio.com",Iv="/v2/track",Mv="not_specified",_v="split",Pv="length",Dv="toLowerCase",Lv="toString",Rv="push",Nv="removeItem",Ov="name",Uv="message",jv="stringify",Fv="pathname",Bv="exceptions",Vv="parsedStack",$v="properties",zv="measurements",Hv="sizeInBytes",qv="typeName",Kv="severityLevel",Gv="problemGroup",Xv="isManual",Wv="CreateFromInterface",Yv="assembly",Jv="fileName",Zv="hasFullStack",Qv="level",em="method",tm="line",nm="duration",rm="receivedResponse",im="toLowerCase",am="blkVal",om="length",sm="rdOnly",um="notify",cm="warnToConsole",lm="throwInternal",dm="setDf",fm="watch",pm="logger",hm="apply",gm="push",vm="splice",mm="hdlr",ym="cancel",bm="initialize",wm="identifier",xm="isInitialized",Sm="value",Tm="getPlugin",km="name",Cm="time",Am="processNext",Em="unload",Im="createNew",Mm="teardown",_m="messageId",Pm="message",Dm="isAsync",Lm="diagLog",Rm="_doTeardown",Nm="update",Om="getNext",Um="setNextPlugin",jm="userAgent",Fm="split",Bm="nodeType",Vm="replace",$m="type",zm="handler",Hm="status",qm="getResponseHeader",Km="getAllResponseHeaders",Gm="isChildEvt",Xm="data",Wm="getCtx",Ym="setCtx",Jm="complete",Zm="itemsReceived",Qm="urlString",ey="sendPOST",ty="headers",ny="timeout",ry="setRequestHeader",iy=void 0,ay="",oy="core",sy="disabled",uy="extensionConfig",cy="processTelemetry",ly="priority",dy="getPerfMgr",fy=/-([a-z])/g,py=/([^\w\d_$])/g,hy=/^(\d+[\w\d_$])/;function gy(e){var t=e;return t&&ln(t)&&(t=(t=(t=t[Vm](fy,(function(e,t){return t.toUpperCase()})))[Vm](py,"_"))[Vm](hy,(function(e,t){return"_"+t}))),t}function vy(e,t){return!(!e||!t)&&-1!==Ci(e,t)}function my(e){return e&&e.toISOString()||""}function yy(e){return mn(e)?e[km]:ay}function by(e,t,n,r,i){e&&t&&n&&(!1!==i||sn(e[t]))&&(e[t]=function(e,t){var n=null,r=null;return dn(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t][hm](r,e)}}(n,r))}function wy(e){return e&&Fn&&(e=pa(Fn({},e))),e}function xy(e,t,n,r,i,a){var o=arguments,s=o[0]||{},u=o[om],c=!1,l=1;for(u>0&&vn(s)&&(c=s,s=o[l]||{},l++),fn(s)||(s={});l<u;l++){var d=o[l],f=pn(d),p=fn(d);for(var h in d)if(f&&h in d||p&&Sn(d,h)){var g=d[h],v=void 0;if(c&&g&&((v=pn(g))||ci(g))){var m=s[h];v?pn(m)||(m=[]):ci(m)||(m={}),g=xy(c,m,g)}void 0!==g&&(s[h]=g)}}return s}function Sy(e){try{return e.responseText}catch(e){}return null}function Ty(e,t){return e?"XDomainRequest,Response:"+Sy(e)||0:t}function ky(e,t){return e?"XMLHttpRequest,Status:"+e[Hm]+",Response:"+Sy(e)||0:t}function Cy(e,t){return t&&(gn(t)?e=[t].concat(e):pn(t)&&(e=t.concat(e))),e}Object.getPrototypeOf;var Ay="withCredentials";function Ey(e,t,n){if(!e[n]&&t&&t[qm]){var r=t[qm](n);r&&(e[n]=ui(r))}return e}function Iy(e,t){var n,r,i={};return e[Km]?(n=e[Km](),r={},ln(n)&&Hr(ui(n)[Fm](/[\r\n]+/),(function(e){if(e){var t=e.indexOf(": ");if(-1!==t){var n=ui(e.substring(0,t))[im](),i=ui(e.substring(t+1));r[n]=i}else r[ui(e)]=1}})),i=r):t&&(i=Ey(i,e,"time-delta-millis"),i=Ey(i,e,"kill-duration"),i=Ey(i,e,"kill-duration-seconds")),i}var My="JSON",_y="msie",Py="trident/",Dy="XMLHttpRequest",Ly=null,Ry=null,Ny=null,Oy=null;function Uy(e,t){var n=!1;if(e){try{if(!(n=t in e)){var r=e[fa];r&&(n=t in r)}}catch(e){}if(!n)try{n=!sn((new e)[t])}catch(e){}}return n}function jy(){return Boolean(typeof JSON===la&&JSON||null!==wr(My))}function Fy(){return jy()?JSON||wr(My):null}function By(e){return null!==Oy&&!1!==e||(Oy=!!Ir()&&Boolean(Ir().sendBeacon)),Oy}function Vy(e){var t=!1;try{t=!!wr("fetch");var n=wr("Request");t&&e&&n&&(t=Uy(n,"keepalive"))}catch(e){}return t}function $y(){var e=!1;try{e=!!wr(Dy)}catch(e){}return e}var zy=4294967296,Hy=4294967295,qy=123456789,Ky=987654321,Gy=!1,Xy=qy,Wy=Ky;function Yy(){try{var e=2147483647&ni();(t=(Math.random()*zy^e)+e)<0&&(t>>>=0),Xy=qy+t&Hy,Wy=Ky-t&Hy,Gy=!0}catch(e){}var t}function Jy(e){var t=0,n=wr("crypto")||wr("msCrypto");return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&Hy),0===t&&function(){var e=Ir();if(e&&(e[jm]!==Ry||null===Ly)){var t=((Ry=e[jm])||ay)[im]();Ly=vy(t,_y)||vy(t,Py)}return Ly}()&&(Gy||Yy(),t=function(e){var t=((Wy=36969*(65535&Wy)+(Wy>>16)&Hy)<<16)+(65535&(Xy=18e3*(65535&Xy)+(Xy>>16)&Hy))>>>0&Hy|0;return t>>>=0}()&Hy),0===t&&(t=Math.floor(zy*Math.random()|0)),e||(t>>>=0),t}var Zy="3.3.3",Qy="."+function(e){void 0===e&&(e=22);for(var t=Jy()>>>0,n=0,r=ay;r[om]<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Jy()<<2&4294967295|3&t)>>>0,n=0);return r}(6),eb=0;function tb(e){return 1===e[Bm]||9===e[Bm]||!+e[Bm]}function nb(e,t){return void 0===t&&(t=!1),gy(e+eb+++(t?"."+Zy:ay)+Qy)}function rb(e){var t={id:nb("_aiData-"+(e||ay)+"."+Zy),accept:function(e){return tb(e)},get:function(e,n,r,i){var a=e[t.id];return a?a[gy(n)]:(i&&(a=function(e,t){var n=t[e.id];if(!n){n={};try{tb(t)&&In(t,e.id,{e:!1,v:n})}catch(e){}}return n}(t,e),a[gy(n)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}function ib(e){return e&&fn(e)&&(e.isVal||e.fb||Sn(e,"v")||Sn(e,"mrg")||Sn(e,"ref")||e.set)}function ab(e,t,n){var r,i=n.dfVal||cn;if(t&&n.fb){var a=n.fb;pn(a)||(a=[a]);for(var o=0;o<a[om];o++){var s=a[o],u=t[s];if(i(u)?r=u:e&&(i(u=e.cfg[s])&&(r=u),e.set(e.cfg,Pn(s),u)),i(r))break}}return!i(r)&&i(n.v)&&(r=n.v),r}function ob(e,t,n){var r,i=n;return n&&ib(n)&&(i=ab(e,t,n)),i&&(ib(i)&&(i=ob(e,t,i)),pn(i)?(r=[])[om]=i[om]:ci(i)&&(r={}),r&&(kn(i,(function(n,i){i&&ib(i)&&(i=ob(e,t,i)),r[n]=i})),i=r)),i}function sb(e,t,n,r){var i,a,o,s,u,c,l,d,f=r;ib(f)?(i=f.isVal,a=f.set,c=f[sm],l=f[am],s=f.mrg,!(u=f.ref)&&sn(u)&&(u=!!s),o=ab(e,t,f)):o=r,l&&e[am](t,n);var p=!0,h=t[n];!h&&un(h)||(d=h,p=!1,i&&d!==o&&!i(d)&&(d=o,p=!0),a&&(p=(d=a(d,o,t))===o)),p?d=o?ob(e,t,o):o:(ci(d)||pn(o))&&s&&o&&(ci(o)||pn(o))&&kn(o,(function(t,n){sb(e,d,t,n)})),e.set(t,n,d),u&&e.ref(t,n),c&&e[sm](t,n)}var ub=jr("[[ai_dynCfg_1]]"),cb=jr("[[ai_blkDynCfg_1]]"),lb=jr("[[ai_frcDynCfg_1]]");function db(e){var t;return e&&(pn(e)?(t=[])[om]=e[om]:ci(e)&&(t={}),t)?(kn(e,(function(e,n){t[e]=db(n)})),t):e}function fb(e,t,n){var r=!1;return n&&!e[t.blkVal]&&((r=n[lb])||n[cb]||(r=ci(n)||pn(n))),r}function pb(e){Nn("InvalidAccess:"+e)}var hb,gb=["push","pop","shift","unshift","splice"],vb=function(e,t,n,r){e&&e[lm](3,108,"".concat(n," [").concat(t,"] failed - ")+Ln(r))};function mb(e,t){var n=wn(e,t);return n&&n.get}function yb(e,t,n,r){if(t){var i=mb(t,n);i&&i[e.prop]?t[n]=r:function(e,t,n,r){var i={n:n,h:[],trk:function(t){t&&t.fn&&(-1===qr(i.h,t)&&i.h[gm](t),e.trk(t,i))},clr:function(e){var t=qr(i.h,e);-1!==t&&i.h[vm](t,1)}},a=!0,o=!1;function s(){a&&(o=o||fb(s,e,r),r&&!r[ub]&&o&&(r=wb(e,r,n,"Converting")),a=!1);var t=e.act;return t&&i.trk(t),r}s[e.prop]={chng:function(){e.add(i)}},In(t,i.n,{g:s,s:function(u){if(r!==u){s[e.ro]&&!e.upd&&pb("["+n+"] is read-only:"+Ln(t)),a&&(o=o||fb(s,e,r),a=!1);var c=o&&s[e.rf];if(o)if(c){kn(r,(function(e){r[e]=u?u[e]:iy}));try{kn(u,(function(t,n){yb(e,r,t,n)})),u=r}catch(t){vb((e.hdlr||{})[pm],n,"Assigning",t),o=!1}}else r&&r[ub]&&kn(r,(function(t){var n=mb(r,t);if(n){var i=n[e.prop];i&&i.chng()}}));if(u!==r){var l=u&&fb(s,e,u);!c&&l&&(u=wb(e,u,n,"Converting")),r=u,o=l}e.add(i)}}})}(e,t,n,r)}return t}function bb(e,t,n,r){if(t){var i=mb(t,n),a=i&&!!i[e.prop],o=r&&r[0],s=r&&r[1],u=r&&r[2];if(!a){if(u)try{!function(e){if(e&&(ci(e)||pn(e)))try{e[cb]=!0}catch(e){}}(t)}catch(t){vb((e.hdlr||{})[pm],n,"Blocking",t)}try{yb(e,t,n,t[n]),i=mb(t,n)}catch(t){vb((e.hdlr||{})[pm],n,"State",t)}}o&&(i[e.rf]=o),s&&(i[e.ro]=s),u&&(i[e.blkVal]=!0)}return t}function wb(e,t,n,r){try{kn(t,(function(n,r){yb(e,t,n,r)})),t[ub]||(An(t,ub,{get:function(){return e[mm]}}),function(e,t,n){pn(t)&&Hr(gb,(function(r){var i=t[r];t[r]=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=i[hm](this,r);return wb(e,t,n,"Patching"),o}}))}(e,t,n))}catch(t){vb((e.hdlr||{})[pm],n,r,t)}return t}var xb="[[ai_",Sb="]]";function Tb(e,t,n){var r,i=function(e){if(e){var t=e[ub]||e;if(t.cfg&&(t.cfg===e||t.cfg[ub]===t))return t}return null}(t);if(i)return i;var a,o=nb("dyncfg",!0),s=t&&!1!==n?t:db(t),u=((r={uid:null,cfg:s})[pm]=e,r[um]=function(){a[um]()},r.set=function(t,n,r){try{t=yb(a,t,n,r)}catch(t){vb(e,n,"Setting value",t)}return t[n]},r[dm]=function(e,t){return t&&kn(t,(function(t,n){sb(u,e,t,n)})),e},r[fm]=function(e){return function(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return In(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),e.use(n,t),n}(a,e)},r.ref=function(e,t){var n;return bb(a,e,t,(n={},n[0]=!0,n))[t]},r[sm]=function(e,t){var n;return bb(a,e,t,(n={},n[1]=!0,n))[t]},r[am]=function(e,t){var n;return bb(a,e,t,(n={},n[2]=!0,n))[t]},r._block=function(e,t){a.use(null,(function(n){var r=a.upd;try{sn(t)||(a.upd=t),e(n)}finally{a.upd=r}}))},r);return In(u,"uid",{c:!1,e:!1,w:!1,v:o}),wb(a=function(e){var t,n,r=Ur(xb+"get"+e.uid+Sb),i=Ur(xb+"ro"+e.uid+Sb),a=Ur(xb+"rf"+e.uid+Sb),o=Ur(xb+"blkVal"+e.uid+Sb),s=Ur(xb+"dtl"+e.uid+Sb),u=null,c=null;function l(t,r){var i=n.act;try{n.act=t,t&&t[s]&&(Hr(t[s],(function(e){e.clr(t)})),t[s]=[]),r({cfg:e.cfg,set:e.set.bind(e),setDf:e[dm].bind(e),ref:e.ref.bind(e),rdOnly:e[sm].bind(e)})}catch(t){var a=e[pm];throw a&&a[lm](1,107,Ln(t)),t}finally{n.act=i||null}}function d(){if(u){var e=u;u=null,c&&c[ym](),c=null;var t=[];if(Hr(e,(function(e){if(e&&(e[s]&&(Hr(e[s],(function(t){t.clr(e)})),e[s]=null),e.fn))try{l(e,e.fn)}catch(e){t[gm](e)}})),u)try{d()}catch(e){t[gm](e)}t[om]>0&&function(e,t){hb||(hb=ti("AggregationError",(function(e,t){t[om]>1&&(e.errors=t[1])})));var n="Watcher error(s): ";throw Hr(t,(function(e,t){n+="\n".concat(t," > ").concat(Ln(e))})),new hb(n,t||[])}(0,t)}}return(t={prop:r,ro:i,rf:a})[am]=o,t[mm]=e,t.add=function(e){if(e&&e.h[om]>0){u||(u=[]),c||(c=Pi((function(){c=null,d()}),0));for(var t=0;t<e.h[om];t++){var n=e.h[t];n&&-1===qr(u,n)&&u[gm](n)}}},t[um]=d,t.use=l,t.trk=function(e,t){if(e){var n=e[s]=e[s]||[];-1===qr(n,t)&&n[gm](t)}},n=t}(u),s,"config","Creating"),u}function kb(e,t,n,r){var i=Tb(n,e||{},r);return t&&i[dm](i.cfg,t),i}function Cb(e,t,n){var r=e[ub]||e;return!r.cfg||r.cfg!==e&&r.cfg[ub]!==r?(function(e,t){e?(e[cm](t),e[lm](2,108,t)):pb(t)}(n,"Not dynamic - "+Ln(e)),kb(e,null,n)[fm](t)):r[fm](t)}var Ab,Eb=null;var Ib="warnToConsole",Mb={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},_b=((Ab={})[0]=null,Ab[1]="errorToConsole",Ab[2]=Ib,Ab[3]="debugToConsole",Ab);function Pb(e){return e?'"'+e[Vm](/\"/g,ay)+'"':ay}function Db(e,t){var n=typeof console!==da?console:wr("console");if(n){var r="log";n[e]&&(r=e),dn(n[r])&&n[r](t)}}var Lb=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i[_m]=e,i[Pm]=(n?"AI: ":"AI (Internal): ")+e;var a=ay;jy()&&(a=Fy().stringify(r));var o=(t?" message:"+Pb(t):ay)+(r?" props:"+Pb(a):ay);i[Pm]+=o}return e.dataType="MessageData",e}();function Rb(e,t){return(e||{})[pm]||new Nb(t)}var Nb=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n,r,i,a,o,s=0,u={};ua(e,this,(function(e){function c(t,n){if(!(s>=i)){var a=!0,o="AITR_"+n[_m];if(u[o]?a=!1:u[o]=!0,a&&(t<=r&&(e.queue[gm](n),s++,l(1===t?"error":"warn",n)),s===i)){var c="Internal events throttle limit per PageView reached for this app.",d=new Lb(23,c,!1);e.queue[gm](d),1===t?e.errorToConsole(c):e[cm](c)}}}function l(e,n){var r=function(e){var t,n=Eb;return n||!0===e.disableDbgExt||(n=Eb||((t=wr("Microsoft"))&&(Eb=t.ApplicationInsights),Eb)),n?n.ChromeDbgExt:null}(t||{});r&&r[Lm]&&r[Lm](e,n)}o=function(t){return Cb(kb(t,Mb,e).cfg,(function(e){var t=e.cfg;n=t.loggingLevelConsole,r=t.loggingLevelTelemetry,i=t.maxMessageLimit,a=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return n},e[lm]=function(t,r,i,o,s){void 0===s&&(s=!1);var d=new Lb(r,i,s,o);if(a)throw Ln(d);var f=_b[t]||Ib;if(sn(d[Pm]))l("throw"+(1===t?"Critical":"Warning"),d);else{if(s){var p=+d[_m];!u[p]&&n>=t&&(e[f](d[Pm]),u[p]=!0)}else n>=t&&e[f](d[Pm]);c(t,d)}},e.debugToConsole=function(e){Db("debug",e),l("warning",e)},e[cm]=function(e){Db("warn",e),l("warning",e)},e.errorToConsole=function(e){Db("error",e),l("error",e)},e.resetInternalMessageCount=function(){s=0,u={}},e.logInternalMessage=c,e[Em]=function(e){o&&o.rm(),o=null}}))}return e.__ieDyn=1,e}();function Ob(e){return e||new Nb}function Ub(e,t,n,r,i,a){void 0===a&&(a=!1),Ob(e)[lm](t,n,r,i,a)}function jb(e,t){Ob(e)[cm](t)}function Fb(e,t,n){var r=t[Pv],i=function(e,t){var n;return t&&(t=ui(Pn(t)))[Pv]>150&&(n=rr(t,0,150),Ub(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}(e,t);if(i[Pv]!==r){for(var a=0,o=i;void 0!==n[o];)a++,o=rr(i,0,147)+Kb(a);i=o}return i}function Bb(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ui(Pn(t)))[Pv]>n&&(r=rr(t,0,n),Ub(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Vb(e,t){return qb(e,t,2048,66)}function $b(e,t){var n;return t&&t[Pv]>32768&&(n=rr(t,0,32768),Ub(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function zb(e,t){if(t){var n={};kn(t,(function(t,r){if(fn(r)&&jy())try{r=Fy()[jv](r)}catch(t){Ub(e,2,49,"custom property is not valid",{exception:t},!0)}r=Bb(e,r,8192),t=Fb(e,t,n),n[t]=r})),t=n}return t}function Hb(e,t){if(t){var n={};kn(t,(function(t,r){t=Fb(e,t,n),n[t]=r})),t=n}return t}function qb(e,t,n,r){var i;return t&&(t=ui(Pn(t)))[Pv]>n&&(i=rr(t,0,n),Ub(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function Kb(e){var t="00"+e;return ir(t,t[Pv]-3)}var Gb=function(){function e(e,t,n,r){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var i=this;i.ver=2,i[Ov]=Bb(e,t)||Mv,i[$v]=zb(e,n),i[zv]=Hb(e,r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),Xb=function(){function e(e,t,n,r,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,t=t||Mv,a[Uv]=$b(e,t),a[$v]=zb(e,r),a[zv]=Hb(e,i),n&&(a[Kv]=n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}();function Wb(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t[Pv]?"00"+t:2===t[Pv]?"0"+t:t,n=n[Pv]<2?"0"+n:n,r=r[Pv]<2?"0"+r:r,(a>0?a+".":"")+(i=i[Pv]<2?"0"+i:i)+":"+r+":"+n+"."+t}var Yb=function(){function e(e,t,n,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var s=this;s.ver=2,s.id=function(e,t){return t?qb(e,t,128,69)[Lv]():t}(e,o),s.url=Vb(e,n),s[Ov]=Bb(e,t)||Mv,isNaN(r)||(s[nm]=Wb(r)),s[$v]=zb(e,i),s[zv]=Hb(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),Jb=function(){function e(e,t,n,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var s=this;s.ver=2,s.url=Vb(e,n),s[Ov]=Bb(e,t)||Mv,s[$v]=zb(e,i),s[zv]=Hb(e,a),o&&(s.domProcessing=o.domProcessing,s[nm]=o[nm],s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s[rm]=o[rm],s.sentRequest=o.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(),Zb="error",Qb="stack",ew="stackDetails",tw="errorSrc",nw="message",rw="description";function iw(e,t){var n=e;return n&&!ln(n)&&(JSON&&JSON[jv]?(n=JSON[jv](e),!t||n&&"{}"!==n||(n=dn(e[Lv])?e[Lv]():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function aw(e,t){var n=e;return e&&(n&&!ln(n)&&(n=e[nw]||e[rw]||n),n&&!ln(n)&&(n=iw(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===Ci(n||"",t)&&(n=t+": "+n),n||""}function ow(e){return e&&e.src&&ln(e.src)&&e.obj&&pn(e.obj)}function sw(e){var t=e||"";ln(t)||(t=ln(t[Qb])?t[Qb]:""+t);var n=t[_v]("\n");return{src:t,obj:n}}function uw(e){var t=null;if(e)try{if(e[Qb])t=sw(e[Qb]);else if(e[Zb]&&e[Zb][Qb])t=sw(e[Zb][Qb]);else if(e.exception&&e.exception[Qb])t=sw(e.exception[Qb]);else if(ow(e))t=e;else if(ow(e[ew]))t=e[ew];else if(Er()&&Er().opera&&e[nw])t=function(e){for(var t=[],n=e[_v]("\n"),r=0;r<n[Pv];r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t[Rv](i)}return{src:e,obj:t}}(e[Uv]);else if(e.reason&&e.reason[Qb])t=sw(e.reason[Qb]);else if(ln(e))t=sw(e);else{var n=e[nw]||e[rw]||"";ln(e[tw])&&(n&&(n+="\n"),n+=" from "+e[tw]),n&&(t=sw(n))}}catch(e){t=sw(e)}return t||{src:"",obj:null}}function cw(e){var t="";if(e&&!(t=e.typeName||e[Ov]||""))try{var n=/function (.{1,200})\(/.exec(e.constructor[Lv]());t=n&&n[Pv]>1?n[1]:""}catch(e){}return t}function lw(e){if(e)try{if(!ln(e)){var t=cw(e),n=iw(e,!1);return n&&"{}"!==n||(e[Zb]&&(t=cw(e=e[Zb])),n=iw(e,!0)),0!==Ci(n,t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var dw=function(){function e(e,t,n,r,i,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var o=this;o.ver=2,function(e){try{if(fn(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(o[Bv]=t[Bv]||[],o[$v]=t[$v],o[zv]=t[zv],t[Kv]&&(o[Kv]=t[Kv]),t.id&&(o.id=t.id,t[$v].id=t.id),t[Gv]&&(o[Gv]=t[Gv]),un(t[Xv])||(o[Xv]=t[Xv])):(n||(n={}),a&&(n.id=a),o[Bv]=[new fw(e,t,n)],o[$v]=zb(e,n),o[zv]=Hb(e,r),i&&(o[Kv]=i),a&&(o.id=a))}return e.CreateAutoException=function(e,t,n,r,i,a,o,s){var u,c=cw(i||a||e);return(u={})[Uv]=aw(e,c),u.url=t,u.lineNumber=n,u.columnNumber=r,u.error=lw(i||a||e),u.evt=lw(a||e),u[qv]=c,u.stackDetails=uw(o||i||a),u.errorSrc=s,u},e.CreateFromInterface=function(t,n,r,i){var a=n[Bv]&&Kr(n[Bv],(function(e){return fw[Wv](t,e)}));return new e(t,va(va({},n),{exceptions:a}),r,i)},e.prototype.toInterface=function(){var e,t=this,n=t.exceptions,r=t.properties,i=t.measurements,a=t.severityLevel,o=t.problemGroup,s=t.id,u=t.isManual,c=n instanceof Array&&Kr(n,(function(e){return e.toInterface()}))||void 0;return(e={ver:"4.0"})[Bv]=c,e.severityLevel=a,e.properties=r,e.measurements=i,e.problemGroup=o,e.id=s,e.isManual=u,e},e.CreateSimpleException=function(e,t,n,r,i,a){var o;return{exceptions:[(o={},o[Zv]=!0,o.message=e,o.stack=i,o.typeName=t,o)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=lw,e}(),fw=function(){function e(e,t,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var r=this;if(function(e){try{if(fn(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))r[qv]=t[qv],r[Uv]=t[Uv],r[Qb]=t[Qb],r[Vv]=t[Vv]||[],r[Zv]=t[Zv];else{var i=t,a=i&&i.evt;mn(i)||(i=i[Zb]||a||i),r[qv]=Bb(e,cw(i))||Mv,r[Uv]=$b(e,aw(t||i,r[qv]))||Mv;var o=t[ew]||uw(t);r[Vv]=function(e){var t,n=e.obj;if(n&&n[Pv]>0){t=[];var r=0,i=0;if(Hr(n,(function(e){var n=e[Lv]();if(pw.regex.test(n)){var a=new pw(n,r++);i+=a[Hv],t[Rv](a)}})),i>32768)for(var a=0,o=t[Pv]-1,s=0,u=a,c=o;a<o;){if((s+=t[a][Hv]+t[o][Hv])>32768){var l=c-u+1;t.splice(u,l);break}u=a,c=o,a++,o--}}return t}(o),pn(r[Vv])&&Kr(r[Vv],(function(t){t[Yv]=Bb(e,t[Yv]),t[Jv]=Bb(e,t[Jv])})),r[Qb]=function(e,t){var n;if(t){var r=""+t;r[Pv]>32768&&(n=rr(r,0,32768),Ub(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}(e,function(e){var t="";return e&&(e.obj?Hr(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(o)),r.hasFullStack=pn(r.parsedStack)&&r.parsedStack[Pv]>0,n&&(n[qv]=n[qv]||r[qv])}}return e.prototype.toInterface=function(){var e,t=this,n=t[Vv]instanceof Array&&Kr(t[Vv],(function(e){return e.toInterface()}));return(e={id:t.id,outerId:t.outerId,typeName:t[qv],message:t[Uv],hasFullStack:t[Zv],stack:t[Qb]})[Vv]=n||void 0,e},e.CreateFromInterface=function(t,n){var r=n[Vv]instanceof Array&&Kr(n[Vv],(function(e){return pw[Wv](e)}))||n[Vv];return new e(t,va(va({},n),{parsedStack:r}))},e}(),pw=function(){function e(t,n){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r=this;if(r[Hv]=0,"string"==typeof t){var i=t;r[Qv]=n,r[em]="<no_method>",r[Yv]=ui(i),r[Jv]="",r[tm]=0;var a=i.match(e.regex);a&&a[Pv]>=5&&(r[em]=ui(a[2])||r[em],r[Jv]=ui(a[4]),r[tm]=parseInt(a[5])||0)}else r[Qv]=t[Qv],r[em]=t[em],r[Yv]=t[Yv],r[Jv]=t[Jv],r[tm]=t[tm],r[Hv]=0;r.sizeInBytes+=r.method[Pv],r.sizeInBytes+=r.fileName[Pv],r.sizeInBytes+=r.assembly[Pv],r[Hv]+=e.baseSize,r.sizeInBytes+=r.level.toString()[Pv],r.sizeInBytes+=r.line.toString()[Pv]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){var e=this;return{level:e[Qv],method:e[em],assembly:e[Yv],fileName:e[Jv],line:e[tm]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(),hw=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},gw=function(){function e(e,t,n,r,i,a,o,s,u){this.aiDataContract={ver:1,metrics:1,properties:0};var c=this;c.ver=2;var l=new hw;l.count=r>0?r:void 0,l.max=isNaN(a)||null===a?void 0:a,l.min=isNaN(i)||null===i?void 0:i,l[Ov]=Bb(e,t)||Mv,l.value=n,l.stdDev=isNaN(o)||null===o?void 0:o,c.metrics=[l],c[$v]=zb(e,s),c[zv]=Hb(e,u)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),vw=Sr()||{},mw=0,yw=[null,null,null,null,null];function bw(e,t){var n=function(e,t){var n=null;if(e){var r=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r[Pv]>2&&ln(r[2])&&r[2][Pv]>0&&(n=r[2]||"",t&&r[Pv]>2)){var i=(r[1]||"")[Dv](),a=r[3]||"";("http"===i&&":80"===a||"https"===i&&":443"===a)&&(a=""),n+=a}}return n}(e,t)||"";if(n){var r=n.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r[Pv]>3&&ln(r[2])&&r[2][Pv]>0)return r[2]+(r[3]||"")}return n}var ww=[Ev+Iv,"https://breeze.aimon.applicationinsights.io"+Iv,"https://dc-int.services.visualstudio.com"+Iv];function xw(e){return-1!==qr(ww,e[Dv]())}var Sw=function(){function e(e,t,n,r,i,a,o,s,u,c,l,d){void 0===u&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var f=this;f.ver=2,f.id=t,f[nm]=Wb(i),f.success=a,f.resultCode=o+"",f.type=Bb(e,u);var p=function(e,t,n,r){var i,a,o,s,u,c=r,l=r;if(t&&t[Pv]>0){var d=(a=t,u=(s=yw)[o=mw],vw.createElement?s[o]||(u=s[o]=vw.createElement("a")):u={host:bw(a,!0)},u.href=a,++o>=s[Pv]&&(o=0),mw=o,u);if(i=d.host,!c)if(null!=d[Fv]){var f=0===d.pathname[Pv]?"/":d[Fv];"/"!==f.charAt(0)&&(f="/"+f),l=d[Fv],c=Bb(e,n?n+" "+f:f)}else c=Bb(e,t)}else i=r,c=r;return{target:i,name:c,data:l}}(e,n,s,r);f.data=Vb(e,r)||p.data,f.target=Bb(e,p.target),c&&(f.target="".concat(f.target," | ").concat(c)),f[Ov]=Bb(e,p[Ov]),f[$v]=zb(e,l),f[zv]=Hb(e,d)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),Tw="on",kw="attachEvent",Cw="addEventListener",Aw="detachEvent",Ew="removeEventListener",Iw="events",Mw=(nb("aiEvtPageHide"),nb("aiEvtPageShow"),/\.[\.]+/g),_w=/[\.]+$/,Pw=1,Dw=rb("events"),Lw=/^([^.]*)(?:\.(.+)|)/;function Rw(e){return e&&e[Vm]?e[Vm](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ay):e}function Nw(e,t){var n;if(t){var r=ay;pn(t)?(r=ay,Hr(t,(function(e){(e=Rw(e))&&("."!==e[0]&&(e="."+e),r+=e)}))):r=Rw(t),r&&("."!==r[0]&&(r="."+r),e=(e||ay)+r)}var i=Lw.exec(e||ay)||[];return(n={})[$m]=i[1],n.ns=(i[2]||ay).replace(Mw,".").replace(_w,ay)[Fm](".").sort().join("."),n}function Ow(e,t,n){void 0===n&&(n=!0);var r=Dw.get(e,Iw,{},n),i=r[t];return i||(i=r[t]=[]),i}function Uw(e,t,n,r){e&&t&&t[$m]&&(e[Ew]?e[Ew](t[$m],n,r):e[Aw]&&e[Aw](Tw+t[$m],n))}function jw(e,t,n,r){for(var i=t[om];i--;){var a=t[i];a&&(n.ns&&n.ns!==a.evtName.ns||r&&!r(a)||(Uw(e,a.evtName,a[zm],a.capture),t[vm](i,1)))}}function Fw(e,t){return t?Nw("xx",pn(t)?[e].concat(t):[e,t]).ns[Fm]("."):e}function Bw(e,t,n,r,i){var a;void 0===i&&(i=!1);var o=!1;if(e)try{var s=Nw(t,r);if(o=function(e,t,n,r){var i=!1;return e&&t&&t[$m]&&n&&(e[Cw]?(e[Cw](t[$m],n,r),i=!0):e[kw]&&(e[kw](Tw+t[$m],n),i=!0)),i}(e,s,n,i),o&&Dw.accept(e)){var u=((a={guid:Pw++,evtName:s})[zm]=n,a.capture=i,a);Ow(e,s.type)[gm](u)}}catch(e){}return o}function Vw(e,t){!function(e,t,n,r,i){if(void 0===i&&(i=!1),e)try{var a=Nw(t,r),o=!1;!function(e,t,n){if(t[$m])jw(e,Ow(e,t[$m]),t,n);else{var r=Dw.get(e,Iw,{});kn(r,(function(r,i){jw(e,i,t,n)})),0===Bn(r)[om]&&Dw.kill(e,Iw)}}(e,a,(function(e){return!((!a.ns||n)&&e[zm]!==n||(o=!0,0))})),o||Uw(e,a,n,i)}catch(e){}}(e,null,null,t)}var $w=Hn,zw=Kn,Hw=$w({LocalStorage:0,SessionStorage:1}),qw=($w({AI:0,AI_AND_W3C:1,W3C:2}),void $w({Normal:1,Critical:2})),Kw="";function Gw(e){try{if(un(br()))return null;var t=(new Date)[Lv](),n=wr(e===Hw.LocalStorage?"localStorage":"sessionStorage"),r=Kw+t;n.setItem(r,t);var i=n.getItem(r)!==t;if(n[Nv](r),!i)return n}catch(e){}return null}function Xw(){return Ww()?Gw(Hw.SessionStorage):null}function Ww(e){return(e||void 0===qw)&&(qw=!!Gw(Hw.SessionStorage)),qw}function Yw(e,t){var n=Xw();if(null!==n)try{return n.getItem(t)}catch(t){qw=!1,Ub(e,2,2,"Browser failed read of session storage. "+yy(t),{exception:Ln(t)})}return null}function Jw(e,t,n){var r=Xw();if(null!==r)try{return r.setItem(t,n),!0}catch(t){qw=!1,Ub(e,2,4,"Browser failed write to session storage. "+yy(t),{exception:Ln(t)})}return!1}var Zw=zw({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});function Qw(e,t,n){return!e&&un(e)?t:vn(e)?e:"true"===Pn(e)[im]()}function ex(e,t,n){return{fb:n,isVal:e,v:t}}function tx(e,t){return{fb:t,set:Qw,v:!!e}}var nx="ctx",rx="ParentContextKey",ix="ChildrenContextKey",ax=function(){function e(t,n,r){var i,a=this;a.start=ni(),a[km]=t,a[Dm]=r,a[Gm]=function(){return!1},dn(n)&&In(a,"payload",{g:function(){return!i&&dn(n)&&(i=n(),n=null),i}}),a[Wm]=function(t){return t?t===e[rx]||t===e[ix]?a[t]:(a[nx]||{})[t]:null},a[Ym]=function(t,n){t&&(t===e[rx]?(a[t]||(a[Gm]=function(){return!0}),a[t]=n):t===e[ix]?a[t]=n:(a[nx]=a[nx]||{})[t]=n)},a[Jm]=function(){var t=0,n=a[Wm](e[ix]);if(pn(n))for(var r=0;r<n[om];r++){var i=n[r];i&&(t+=i[Cm])}a[Cm]=ni()-a.start,a.exTime=a[Cm]-t,a[Jm]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),ox="CoreUtils.doPerf",sx=rb("plugin");function ux(e){return sx.get(e,"state",{},!0)}var cx="TelemetryPluginChain",lx="_hasRun",dx="_getTelCtx",fx=0;function px(e,t,n,r){var i=null,a=[];t||(t=kb({},null,n[pm])),null!==r&&(i=r?function(e,t,n){for(;e;){if(e[Tm]()===n)return e;e=e[Om]()}return mx([n],t.config||{},t)}(e,n,r):e);var o={_next:function(){var e=i;if(i=e?e[Om]():null,!e){var t=a;t&&t[om]>0&&(Hr(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){Ub(n[pm],2,73,"Unexpected Exception during onComplete - "+Ln(e))}})),a=[])}return e},ctx:{core:function(){return n},diagLog:function(){return Rb(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,n){var r=s(e,!0);return n&&kn(n,(function(e,n){if(un(r[e])){var i=t.cfg[e];!i&&un(i)||(r[e]=i)}sb(t,r,e,n)})),t[dm](r,n)},getConfig:function(e,n,r){void 0===r&&(r=!1);var i,a=s(e,!1),o=t.cfg;return!a||!a[n]&&un(a[n])?!o[n]&&un(o[n])||(i=o[n]):i=a[n],i||!un(i)?i:r},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var t;t=o._next();){var n=t[Tm]();n&&e(n)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&a[gm]({func:e,self:sn(t)?o.ctx:t,args:n})}}};function s(e,n){var r=null,i=t.cfg;if(i&&e){var a=i[uy];!a&&n&&(a={}),i[uy]=a,(a=t.ref(i,uy))&&(!(r=a[e])&&n&&(r={}),a[e]=r,r=t.ref(a,e))}return r}return o}function hx(e,t,n,r){var i=kb(t),a=px(e,i,n,r),o=a.ctx;return o[Am]=function(e){var t=a._next();return t&&t[cy](e,o),!t},o[Im]=function(e,t){return void 0===e&&(e=null),pn(e)&&(e=mx(e,i.cfg,n,t)),hx(e||o[Om](),i.cfg,n,t)},o}function gx(e,t,n){var r=kb(t.config),i=px(e,r,t,n),a=i.ctx;return a[Am]=function(e){var t=i._next();return t&&t[Em](a,e),!t},a[Im]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=mx(e,r.cfg,t,n)),gx(e||a[Om](),t,n)},a}function vx(e,t,n){var r=kb(t.config),i=px(e,r,t,n).ctx;return i[Am]=function(e){return i.iterate((function(t){dn(t[Nm])&&t[Nm](i,e)}))},i[Im]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=mx(e,r.cfg,t,n)),vx(e||i[Om](),t,n)},i}function mx(e,t,n,r){var i=null,a=!r;if(pn(e)&&e[om]>0){var o=null;Hr(e,(function(e){if(a||r!==e||(a=!0),a&&e&&dn(e[cy])){var s=function(e,t,n){var r,i=null,a=dn(e[cy]),o=dn(e[Um]),s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(r,c){u(c=c||function(){var r;return e&&dn(e[dx])&&(r=e[dx]()),r||(r=hx(s,t,n)),r}(),(function(t){if(!e||!a)return!1;var n=ux(e);return!n[Mm]&&!n[sy]&&(o&&e[Um](i),e[cy](r,t),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||c[Am](r)},unload:function(t,n){u(t,(function(){var r=!1;if(e){var i=ux(e),a=e[oy]||i[oy];!e||a&&a!==t.core()||i[Mm]||(i[oy]=null,i[Mm]=!0,i[xm]=!1,e[Mm]&&!0===e[Mm](t,n)&&(r=!0))}return r}),"unload",(function(){}),n[Dm])||t[Am](n)},update:function(t,n){u(t,(function(){var r=!1;if(e){var i=ux(e),a=e[oy]||i[oy];!e||a&&a!==t.core()||i[Mm]||e[Nm]&&!0===e[Nm](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t[Am](n)},_id:r=e?e[wm]+"-"+e[ly]+"-"+fx++:"Unknown-0-"+fx++,_setNext:function(e){i=e}};function u(t,n,a,o,s){var u=!1,c=e?e[wm]:cx,l=t[lx];return l||(l=t[lx]={}),t.setNext(i),e&&function(e,t,n,r,i){if(e){var o=e;if(o[dy]&&(o=o[dy]()),o){var s=void 0,u=o[Wm](ox);try{if(s=o.create(c+":"+a,r,i)){if(u&&s[Ym]&&(s[Ym](ax[rx],u),u[Wm]&&u[Ym])){var l=u[Wm](ax[ix]);l||(l=[],u[Ym](ax[ix],l)),l[gm](s)}return o[Ym](ox,s),n()}}catch(e){s&&s[Ym]&&s[Ym]("exception",e)}finally{s&&o.fire(s),o[Ym](ox,u)}}}n()}(t[oy](),0,(function(){l[r]=!0;try{var e=i?i._id:ay;e&&(l[e]=!1),u=n(t)}catch(e){var o=!i||l[i._id];o&&(u=!0),i&&o||Ub(t[Lm](),1,73,"Plugin ["+c+"] failed during "+a+" - "+Ln(e)+", run flags: "+Ln(l))}}),o,s),u}return $n(s)}(e,t,n);i||(i=s),o&&o._setNext(s),o=s}}))}return r&&!i?mx([r],t,n):i}var yx,bx=$w({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),wx="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",xx="",Sx="&NoResponseBody=true",Tx="POST",kx=function(){function e(){var t,n,r,i,a,o,s,u,c,l,d,f,p,h,g=0;ua(e,this,(function(e,v){var m=!0;function y(e,t){Ub(r,2,26,"Failed to send telemetry.",{message:e}),w(t,400,{})}function b(e){y("No endpoint url is provided for the batch",e)}function w(e,t,n,r){try{e&&e(t,n,r)}catch(e){}}function x(e,t){var n=Ir(),r=e[Qm];if(!r)return b(t),!0;r=e[Qm]+(p?Sx:xx);var a=e[Xm],o=i?a:new Blob([a],{type:"text/plain;charset=UTF-8"});return n.sendBeacon(r,o)}function S(e,t,n){var o=e[Xm];try{if(o)if(x(e,t))w(t,200,{},xx);else{var s=a&&a.beaconOnRetry;s&&dn(s)?s(e,t,x):(u&&u[ey](e,t,!0),Ub(r,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(e){i&&jb(r,"Failed to send telemetry using sendBeacon API. Ex:"+Ln(e)),w(t,i?0:400,{},xx)}}function T(e,n,r){var o,s,u,c=e[ty]||{};!r&&t&&(o=cv((function(e,t){s=e,u=t}))),i&&r&&e.disableXhrSync&&(r=!1);var l=e[Qm];if(!l)return b(n),void(s&&s(!1));var d=function(e,t,n,r,i,a){function o(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var s=new XMLHttpRequest;return r&&o(s,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),n&&o(s,Ay,n),s.open(e,t,!i),n&&o(s,Ay,n),!i&&a&&o(s,"timeout",a),s}(Tx,l,m,!0,r,e[ny]);function f(t){var r=a&&a.xhrOnComplete;if(r&&dn(r))r(t,n,e);else{var o=Sy(t);w(n,t[Hm],Iy(t,i),o)}}return i||d[ry]("Content-type","application/json"),Hr(Bn(c),(function(e){d[ry](e,c[e])})),d.onreadystatechange=function(){i||(f(d),4===d.readyState&&s&&s(!0))},d.onload=function(){i&&f(d)},d.onerror=function(e){w(n,i?d[Hm]:400,Iy(d,i),i?xx:ky(d)),u&&u(e)},d.ontimeout=function(){w(n,i?d[Hm]:500,Iy(d,i),i?xx:ky(d)),s&&s(!1)},d.send(e[Xm]),o}function k(e,n,r){var o,u,c,l,d=e[Qm],f=e[Xm],v=i?f:new Blob([f],{type:"application/json"}),y=new Headers,x=f[om],S=!1,T=!1,k=e[ty]||{},C=((o={method:Tx,body:v})[wx]=!0,o);e.headers&&Bn(e.headers)[om]>0&&(Hr(Bn(k),(function(e){y.append(e,k[e])})),C[ty]=y),s?C.credentials=s:m&&i&&(C.credentials="include"),r&&(C.keepalive=!0,g+=x,i?2===e._sendReason&&(S=!0,p&&(d+=Sx)):S=!0);var A=new Request(d,C);try{A[wx]=!0}catch(e){}if(!r&&t&&(u=cv((function(e,t){c=e,l=t}))),!d)return b(n),void(c&&c(!1));function E(e){w(n,i?0:400,{},i?xx:e)}function I(e,t,r){var i=e[Hm],o=a.fetchOnComplete;o&&dn(o)?o(e,n,r||xx,t):w(n,i,{},r||xx)}try{Bg(fetch(i?d:A,i?C:null),(function(t){if(r&&(g-=x,x=0),!T)if(T=!0,t.rejected)E(t.reason&&t.reason[Pm]),l&&l(t.reason);else{var n=t[Sm];try{i||n.ok?i&&!n.body?(I(n,null,xx),c&&c(!0)):Bg(n.text(),(function(t){I(n,e,t[Sm]),c&&c(!0)})):(E(n.statusText),c&&c(!1))}catch(e){E(Ln(e)),l&&l(e)}}}))}catch(e){T||(E(Ln(e)),l&&l(e))}return S&&!T&&(T=!0,w(n,200,{}),c&&c(!0)),i&&!T&&e[ny]>0&&h&&h.set((function(){T||(T=!0,w(n,500,{}),c&&c(!0))}),e[ny]),u}function C(e,t,n){var o=Er(),s=new XDomainRequest,u=e[Xm];s.onload=function(){var n=Sy(s),r=a&&a.xdrOnComplete;r&&dn(r)?r(s,t,e):w(t,200,{},n)},s.onerror=function(){w(t,400,{},i?xx:Ty(s))},s.ontimeout=function(){w(t,500,{})},s.onprogress=function(){};var c=o&&o.location&&o.location.protocol||"",l=e[Qm];if(l){if(!i&&0!==l.lastIndexOf(c,0)){var d="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";return Ub(r,2,40,". "+d),void y(d,t)}var f=i?l:l[Vm](/^(https?:)/,"");s.open(Tx,f),e[ny]&&(s[ny]=e[ny]),s.send(u),i&&n?h&&h.set((function(){s.send(u)}),0):s.send(u)}else b(t)}function A(){g=0,n=!1,t=!1,r=null,i=null,a=null,o=null,s=null,u=null,c=!1,l=!1,d=!1,f=!1,p=!1,h=null}A(),e[bm]=function(t,i){r=i,n&&Ub(r,1,28,"Sender is already initialized"),e.SetConfig(t),n=!0},e._getDbgPlgTargets=function(){return[n,i,o,t]},e.SetConfig=function(e){try{if(a=e.senderOnCompleteCallBack||{},o=!!e.disableCredentials,s=e.fetchCredentials,i=!!e.isOneDs,t=!!e.enableSendPromise,c=!!e.disableXhr,l=!!e.disableBeacon,d=!!e.disableBeaconSync,h=e.timeWrapper,p=!!e.addNoResponse,f=!!e.disableFetchKeepAlive,u={sendPOST:T},i||(m=!1),o){var n=typeof location===la&&location?location:wr("location");n&&n.protocol&&"file:"===n.protocol[im]()&&(m=!1)}return!0}catch(e){}return!1},e.getSyncFetchPayload=function(){return g},e.getSenderInst=function(e,t){return e&&e[om]?function(e,t){for(var n,r=0,i=null,a=0;null==i&&a<e[om];)r=e[a],c||1!==r?2!==r||!Vy(t)||t&&f?3!==r||!By()||(t?d:l)||(i=S):i=k:(null===Ny&&(Ny=typeof XDomainRequest!==da)&&$y()&&(Ny=Ny&&!Uy(wr(Dy),"withCredentials")),Ny?i=C:$y()&&(i=T)),a++;return i?((n={_transport:r,_isSync:t})[ey]=i,n):null}(e,t):null},e.getFallbackInst=function(){return u},e[Rm]=function(e,t){A()}}))}return e.__ieDyn=1,e}();function Cx(e,t){try{if(e&&""!==e){var n=Fy().parse(e);if(n&&n[Zm]&&n[Zm]>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors[om])return n}}catch(n){Ub(t,1,43,"Cannot parse the response. "+(n[km]||Ln(n)),{response:e})}return null}var Ax="getPlugin",Ex=((yx={})[uy]={isVal:function(e){return!un(e)},v:{}},yx),Ix=function(){function e(){var t,n,r,i,a,o=this;function s(e){void 0===e&&(e=null);var t=e;if(!t){var i=n||hx(null,{},o[oy]);t=r&&r[Ax]?i[Im](null,r[Ax]):i[Im](null,r)}return t}function u(e,t,i){kb(e,Ex,Rb(t)),!i&&t&&(i=t.getProcessTelContext()[Om]());var a=r;r&&r[Ax]&&(a=r[Ax]()),o[oy]=t,n=hx(i,e,t,a)}function c(){var e,s;t=!1,o[oy]=null,n=null,r=null,e=[],a={run:function(t){var n=e;e=[],Hr(n,(function(e){try{(e.rm||e.remove).call(e)}catch(e){Ub(t,2,73,"Unloading:"+Ln(e))}}))},add:function(t){t&&zr(e,t)}},s=[],i={add:function(e){e&&s[gm](e)},run:function(e,t){Hr(s,(function(n){try{n(e,t)}catch(t){Ub(e[Lm](),2,73,"Unexpected error calling unload handler - "+Ln(t))}})),s=[]}}}c(),ua(e,o,(function(e){e[bm]=function(e,n,r,i){u(e,n,i),t=!0},e[Mm]=function(t,n){var o,s=e[oy];if(s&&(!t||s===t[oy]())){var u,l=!1,d=t||gx(null,s,r&&r[Ax]?r[Ax]():r),f=n||((o={reason:0})[Dm]=!1,o);return e[Rm]&&!0===e[Rm](d,f,p)?u=!0:p(),u}function p(){l||(l=!0,i.run(d,n),a.run(d[Lm]()),!0===u&&d[Am](f),c())}},e[Nm]=function(t,n){var i=e[oy];if(i&&(!t||i===t[oy]())){var a,o=!1,s=t||vx(null,i,r&&r[Ax]?r[Ax]():r),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,c,l)?a=!0:l(),a}function l(){o||(o=!0,u(s.getCfg(),s.core(),s[Om]()))}},by(e,"_addUnloadCb",(function(){return i}),"add"),by(e,"_addHook",(function(){return a}),"add"),In(e,"_unloadHooks",{g:function(){return a}})})),o[Lm]=function(e){return s(e)[Lm]()},o[xm]=function(){return t},o.setInitialized=function(e){t=e},o[Um]=function(e){r=e},o[Am]=function(e,t){t?t[Am](e):r&&dn(r[cy])&&r[cy](e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}();function Mx(e){var t="ai."+e+".";return function(e){return t+e}}var _x,Px=Mx("application"),Dx=Mx("device"),Lx=Mx("location"),Rx=Mx("operation"),Nx=Mx("session"),Ox=Mx("user"),Ux=Mx("cloud"),jx=Mx("internal"),Fx=function(e){function t(){return e.call(this)||this}return ya(t,e),t}((_x={applicationVersion:Px("ver"),applicationBuild:Px("build"),applicationTypeId:Px("typeId"),applicationId:Px("applicationId"),applicationLayer:Px("layer"),deviceId:Dx("id"),deviceIp:Dx("ip"),deviceLanguage:Dx("language"),deviceLocale:Dx("locale"),deviceModel:Dx("model"),deviceFriendlyName:Dx("friendlyName"),deviceNetwork:Dx("network"),deviceNetworkName:Dx("networkName"),deviceOEMName:Dx("oemName"),deviceOS:Dx("os"),deviceOSVersion:Dx("osVersion"),deviceRoleInstance:Dx("roleInstance"),deviceRoleName:Dx("roleName"),deviceScreenResolution:Dx("screenResolution"),deviceType:Dx("type"),deviceMachineName:Dx("machineName"),deviceVMName:Dx("vmName"),deviceBrowser:Dx("browser"),deviceBrowserVersion:Dx("browserVersion"),locationIp:Lx("ip"),locationCountry:Lx("country"),locationProvince:Lx("province"),locationCity:Lx("city"),operationId:Rx("id"),operationName:Rx("name"),operationParentId:Rx("parentId"),operationRootId:Rx("rootId"),operationSyntheticSource:Rx("syntheticSource"),operationCorrelationVector:Rx("correlationVector"),sessionId:Nx("id"),sessionIsFirst:Nx("isFirst"),sessionIsNew:Nx("isNew"),userAccountAcquisitionDate:Ox("accountAcquisitionDate"),userAccountId:Ox("accountId"),userAgent:Ox("userAgent"),userId:Ox("id"),userStoreRegion:Ox("storeRegion"),userAuthUserId:Ox("authUserId"),userAnonymousUserAcquisitionDate:Ox("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ox("authUserAcquisitionDate"),cloudName:Ux("name"),cloudRole:Ux("role"),cloudRoleVer:Ux("roleVer"),cloudRoleInstance:Ux("roleInstance"),cloudEnvironment:Ux("environment"),cloudLocation:Ux("location"),cloudDeploymentUnit:Ux("deploymentUnit"),internalNodeName:jx("nodeName"),internalSdkVersion:jx("sdkVersion"),internalAgentVersion:jx("agentVersion"),internalSnippet:jx("snippet"),internalSdkSrc:jx("sdkSrc")},function(){var e=this;_x&&kn(_x,(function(t,n){e[t]=n}))})),Bx=new Fx,Vx=function(e,t,n){var r=this,i=this;i.ver=1,i.sampleRate=100,i.tags={},i[Ov]=Bb(e,n)||Mv,i.data=t,i.time=my(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===r.sampleRate?4:1},tags:1,data:1}},$x=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t},zx="duration",Hx="tags",qx="deviceType",Kx="data",Gx="name",Xx="traceID",Wx="length",Yx="stringify",Jx="measurements",Zx="dataType",Qx="envelopeType",eS="toString",tS="_get",nS="enqueue",rS="count",iS="eventsLimitInMem",aS="push",oS="item",sS="emitLineDelimitedJson",uS="clear",cS="createNew",lS="markAsSent",dS="clearSent",fS="bufferOverride",pS="BUFFER_KEY",hS="SENT_BUFFER_KEY",gS="concat",vS="MAX_BUFFER_SIZE",mS="triggerSend",yS="diagLog",bS="initialize",wS="_sender",xS="endpointUrl",SS="instrumentationKey",TS="customHeaders",kS="maxBatchSizeInBytes",CS="onunloadDisableBeacon",AS="isBeaconApiDisabled",ES="alwaysUseXhrOverride",IS="disableXhr",MS="enableSessionStorageBuffer",_S="_buffer",PS="onunloadDisableFetch",DS="disableSendBeaconSplit",LS="enableSendPromise",RS="getSenderInst",NS="unloadTransports",OS="convertUndefined",US="maxBatchInterval",jS="serialize",FS="_onError",BS="_onPartialSuccess",VS="_onSuccess",$S="itemsReceived",zS="itemsAccepted",HS="oriPayload",qS="baseType",KS="sampleRate",GS="eventsSendRequest",XS="getSamplingScore",WS="baseType",YS="baseData",JS="properties",ZS="true";function QS(e,t,n){return function(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||r&&!r(n)||(a=n,e[t]=a)),a}(e,t,n,bn)}function eT(e,t,n){un(e)||kn(e,(function(e,r){gn(r)?n[e]=r:ln(r)?t[e]=r:jy()&&(t[e]=Fy()[Yx](r))}))}function tT(e,t){un(e)||kn(e,(function(n,r){e[n]=r||t}))}function nT(e,t,n,r){var i=new Vx(e,r,t);QS(i,"sampleRate",n[kv]),(n[YS]||{}).startTime&&(i.time=my(n[YS].startTime)),i.iKey=n.iKey;var a=n.iKey.replace(/-/g,"");return i[Gx]=i[Gx].replace("{0}",a),function(e,t,n){var r=n[Hx]=n[Hx]||{},i=t.ext=t.ext||{},a=t[Hx]=t[Hx]||[],o=i.user;o&&(QS(r,Bx.userAuthUserId,o.authId),QS(r,Bx.userId,o.id||o.localId));var s=i.app;s&&QS(r,Bx.sessionId,s.sesId);var u=i.device;u&&(QS(r,Bx.deviceId,u.id||u.localId),QS(r,Bx[qx],u.deviceClass),QS(r,Bx.deviceIp,u.ip),QS(r,Bx.deviceModel,u.model),QS(r,Bx[qx],u[qx]));var c=t.ext.web;if(c){QS(r,Bx.deviceLanguage,c.browserLang),QS(r,Bx.deviceBrowserVersion,c.browserVer),QS(r,Bx.deviceBrowser,c.browser);var l=n[Kx]=n[Kx]||{},d=l[YS]=l[YS]||{},f=d[JS]=d[JS]||{};QS(f,"domain",c.domain),QS(f,"isManual",c.isManual?ZS:null),QS(f,"screenRes",c.screenRes),QS(f,"userConsent",c.userConsent?ZS:null)}var p=i.os;p&&(QS(r,Bx.deviceOS,p[Gx]),QS(r,Bx.deviceOSVersion,p.osVer));var h=i.trace;h&&(QS(r,Bx.operationParentId,h.parentID),QS(r,Bx.operationName,Bb(e,h[Gx])),QS(r,Bx.operationId,h[Xx]));for(var g={},v=a[Wx]-1;v>=0;v--)kn(a[v],(function(e,t){g[e]=t})),a.splice(v,1);kn(a,(function(e,t){g[e]=t}));var m=va(va({},r),g);m[Bx.internalSdkVersion]||(m[Bx.internalSdkVersion]=Bb(e,"javascript:".concat(iT.Version),64)),n[Hx]=wy(m)}(e,n,i),n[Hx]=n[Hx]||[],wy(i)}function rT(e,t){un(t[YS])&&Ub(e,1,46,"telemetryItem.baseData cannot be null.")}var iT={Version:"3.3.3"};function aT(e,t,n){rT(e,t);var r={},i={};t[WS]!==Gb[Zx]&&(r.baseTypeSource=t[WS]),t[WS]===Gb[Zx]?(r=t[YS][JS]||{},i=t[YS][Jx]||{}):t[YS]&&eT(t[YS],r,i),eT(t[Kx],r,i),un(n)||tT(r,n);var a=t[YS][Gx],o=new Gb(e,a,r,i),s=new $x(Gb[Zx],o);return nT(e,Gb[Qx],t,s)}var oT,sT,uT=function(){function e(t,n){var r=[],i=!1,a=n.maxRetryCnt;this[tS]=function(){return r},this._set=function(e){return r=e},ua(e,this,(function(e){e[nS]=function(o){e[rS]()>=n[iS]?i||(Ub(t,2,105,"Maximum in-memory buffer size reached: "+e[rS](),!0),i=!0):(o.cnt=o.cnt||0,!un(a)&&o.cnt>a||r[aS](o))},e[rS]=function(){return r[Wx]},e.size=function(){for(var e=r[Wx],t=0;t<r[Wx];t++)e+=r[t].item[Wx];return n[sS]||(e+=2),e},e[uS]=function(){r=[],i=!1},e.getItems=function(){return r.slice(0)},e.batchPayloads=function(e){if(e&&e[Wx]>0){var t=[];return Hr(e,(function(e){t[aS](e[oS])})),n[sS]?t.join("\n"):"["+t.join(",")+"]"}return null},e[cS]=function(e,n,i){var a=r.slice(0);e=e||t,n=n||{};var o=i?new dT(e,n):new cT(e,n);return Hr(a,(function(e){o[nS](e)})),o}}))}return e.__ieDyn=1,e}(),cT=function(e){function t(n,r){var i=e.call(this,n,r)||this;return ua(t,i,(function(e,t){e[lS]=function(e){t[uS]()},e[dS]=function(e){}})),i}return ya(t,e),t.__ieDyn=1,t}(uT),lT=["AI_buffer","AI_sentBuffer"],dT=function(e){function t(n,r){var i=e.call(this,n,r)||this,a=!1,o=null==r?void 0:r.namePrefix,s=r[fS]||{getItem:Yw,setItem:Jw},u=s.getItem,c=s.setItem,l=r.maxRetryCnt;return ua(t,i,(function(e,r){var i=g(t[pS]),s=g(t[hS]),d=function(){var e=[];try{return Hr(lT,(function(t){var n=y(t);if(e=e[gS](n),o){var r=y(o+"_"+t);e=e[gS](r)}})),e}catch(e){Ub(n,2,41,"Transfer events from previous buffers: "+yy(e)+". previous Buffer items can not be removed",{exception:Ln(e)})}return[]}(),f=s[gS](d),p=e._set(i[gS](f));function h(e,t){var n=[],r=[];return Hr(e,(function(e){r[aS](e[oS])})),Hr(t,(function(e){dn(e)||-1!==qr(r,e[oS])||n[aS](e)})),n}function g(e){return v(o?o+"_"+e:e)}function v(e){try{var t=u(n,e);if(t){var r=Fy().parse(t);if(ln(r)&&(r=Fy().parse(r)),r&&pn(r))return r}}catch(t){Ub(n,1,42," storage key: "+e+", "+yy(t),{exception:Ln(t)})}return[]}function m(e,t){var r=e;try{r=o?o+"_"+r:r;var i=JSON[Yx](t);c(n,r,i)}catch(e){c(n,r,JSON[Yx]([])),Ub(n,2,41," storage key: "+r+", "+yy(e)+". Buffer cleared",{exception:Ln(e)})}}function y(e){try{var t=v(e),r=[];return Hr(t,(function(e){var t={item:e,cnt:0};r[aS](t)})),function(e,t){var n=Xw();if(null!==n)try{return n[Nv](t),!0}catch(t){qw=!1,Ub(e,2,6,"Browser failed removal of session storage item. "+yy(t),{exception:Ln(t)})}}(n,e),r}catch(e){}return[]}p[Wx]>t[vS]&&(p[Wx]=t[vS]),m(t[hS],[]),m(t[pS],p),e[nS]=function(i){e[rS]()>=t[vS]?a||(Ub(n,2,67,"Maximum buffer size reached: "+e[rS](),!0),a=!0):(i.cnt=i.cnt||0,!un(l)&&i.cnt>l||(r[nS](i),m(t.BUFFER_KEY,e[tS]())))},e[uS]=function(){r[uS](),m(t.BUFFER_KEY,e[tS]()),m(t[hS],[]),a=!1},e[lS]=function(r){m(t[pS],e._set(h(r,e[tS]())));var i=g(t[hS]);i instanceof Array&&r instanceof Array&&((i=i[gS](r))[Wx]>t[vS]&&(Ub(n,1,67,"Sent buffer reached its maximum size: "+i[Wx],!0),i[Wx]=t[vS]),m(t[hS],i))},e[dS]=function(e){var n=g(t[hS]);n=h(e,n),m(t[hS],n)},e[cS]=function(r,i,a){a=!!a;var o=e[tS]().slice(0),s=g(t[hS]).slice(0);r=r||n,i=i||{},e[uS]();var u=a?new t(r,i):new cT(r,i);return Hr(o,(function(e){u[nS](e)})),a&&u[lS](s),u}})),i}var n;return ya(t,e),n=t,t.VERSION="_1",t.BUFFER_KEY="AI_buffer"+n.VERSION,t.SENT_BUFFER_KEY="AI_sentBuffer"+n.VERSION,t.MAX_BUFFER_SIZE=2e3,t}(uT),fT=function(){function e(t){ua(e,this,(function(e){function n(e,a){var o="__aiCircularRefCheck",s={};if(!e)return Ub(t,1,48,"cannot serialize object because it is null or undefined",{name:a},!0),s;if(e[o])return Ub(t,2,50,"Circular reference detected while serializing object",{name:a},!0),s;if(!e.aiDataContract){if("measurements"===a)s=i(e,"number",a);else if("properties"===a)s=i(e,"string",a);else if("tags"===a)s=i(e,"string",a);else if(pn(e))s=r(e,a);else{Ub(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:a},!0);try{Fy()[Yx](e),s=e}catch(e){Ub(t,1,48,e&&dn(e[eS])?e[eS]():"Error serializing object",null,!0)}}return s}return e[o]=!0,kn(e.aiDataContract,(function(i,o){var u=dn(o)?1&o():1&o,c=dn(o)?4&o():4&o,l=2&o,d=void 0!==e[i],f=fn(e[i])&&null!==e[i];if(!u||d||l){if(!c){var p;void 0!==(p=f?l?r(e[i],i):n(e[i],i):e[i])&&(s[i]=p)}}else Ub(t,1,24,"Missing required field specification. The field is required but not present on source",{field:i,name:a})})),delete e[o],s}function r(e,r){var i;if(e)if(pn(e)){i=[];for(var a=0;a<e[Wx];a++){var o=n(e[a],r+"["+a+"]");i[aS](o)}}else Ub(t,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return i}function i(e,n,r){var i;return e&&(i={},kn(e,(function(e,a){if("string"===n)void 0===a?i[e]="undefined":null===a?i[e]="null":a[eS]?i[e]=a[eS]():i[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===a)i[e]="undefined";else if(null===a)i[e]="null";else{var o=parseFloat(a);i[e]=o}else i[e]="invalid field: "+r+" is of unknown type.",Ub(t,1,i[e],null,!0)}))),i}e[jS]=function(e){var r=n(e,"root");try{return Fy()[Yx](r)}catch(e){Ub(t,1,48,e&&dn(e[eS])?e[eS]():"Error serializing object",null,!0)}}}))}return e.__ieDyn=1,e}(),pT=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e[Wx]<8;)e=e[gS](e);for(var t=5381,n=0;n<e[Wx];++n)t=(t<<5)+t+e.charCodeAt(n),t&=t;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),hT=function(){var e=new pT,t=new Fx;this[XS]=function(n){return n[Hx]&&n[Hx][t.userId]?e.getHashCodeScore(n[Hx][t.userId]):n.ext&&n.ext.user&&n.ext.user.id?e.getHashCodeScore(n.ext.user.id):n[Hx]&&n[Hx][t.operationId]?e.getHashCodeScore(n[Hx][t.operationId]):n.ext&&n.ext.telemetryTrace&&n.ext.telemetryTrace[Xx]?e.getHashCodeScore(n.ext.telemetryTrace[Xx]):100*Math.random()}},gT=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var n=t||Rb(null);(e>100||e<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[KS]=e,this.samplingScoreGenerator=new hT}return e.prototype.isSampledIn=function(e){var t=this[KS];return null==t||t>=100||e.baseType===gw[Zx]||this.samplingScoreGenerator[XS](e)<t},e}(),vT=void 0;function mT(e){try{return e.responseText}catch(e){}return null}var yT=Vn(((oT={endpointUrl:ex(bn,Ev+Iv)})[sS]=tx(),oT[US]=15e3,oT[kS]=102400,oT.disableTelemetry=tx(),oT[MS]=tx(!0),oT.isRetryDisabled=tx(),oT[AS]=tx(!0),oT[DS]=tx(!0),oT[IS]=tx(),oT[PS]=tx(),oT[CS]=tx(),oT[SS]=vT,oT.namePrefix=vT,oT.samplingPercentage=ex((function(e){return!isNaN(e)&&e>0&&e<=100}),100),oT[TS]=vT,oT[OS]=vT,oT[iS]=1e4,oT[fS]=!1,oT.httpXHROverride={isVal:function(e){return e&&e.sendPOST},v:vT},oT[ES]=tx(),oT.transports=vT,oT.retryCodes=vT,oT.maxRetryCnt={isVal:gn,v:10},oT)),bT=((sT={})[Gb.dataType]=aT,sT[Xb.dataType]=function(e,t,n){rT(e,t);var r=t[YS].message,i=t[YS].severityLevel,a=t[YS][JS]||{},o=t[YS][Jx]||{};eT(t[Kx],a,o),un(n)||tT(a,n);var s=new Xb(e,r,i,a,o),u=new $x(Xb[Zx],s);return nT(e,Xb[Qx],t,u)},sT[Yb.dataType]=function(e,t,n){var r;rT(e,t);var i=t[YS];un(i)||un(i[JS])||un(i[JS][zx])?un(t[Kx])||un(t[Kx][zx])||(r=t[Kx][zx],delete t[Kx][zx]):(r=i[JS][zx],delete i[JS][zx]);var a,o=t[YS];((t.ext||{}).trace||{})[Xx]&&(a=t.ext.trace[Xx]);var s=o.id||a,u=o[Gx],c=o.uri,l=o[JS]||{},d=o[Jx]||{};un(o.refUri)||(l.refUri=o.refUri),un(o.pageType)||(l.pageType=o.pageType),un(o.isLoggedIn)||(l.isLoggedIn=o.isLoggedIn[eS]()),un(o[JS])||kn(o[JS],(function(e,t){l[e]=t})),eT(t[Kx],l,d),un(n)||tT(l,n);var f=new Yb(e,u,c,r,l,d,s),p=new $x(Yb[Zx],f);return nT(e,Yb[Qx],t,p)},sT[Jb.dataType]=function(e,t,n){rT(e,t);var r=t[YS],i=r[Gx],a=r.uri||r.url,o=r[JS]||{},s=r[Jx]||{};eT(t[Kx],o,s),un(n)||tT(o,n);var u=new Jb(e,i,a,void 0,o,s,r),c=new $x(Jb[Zx],u);return nT(e,Jb[Qx],t,c)},sT[dw.dataType]=function(e,t,n){rT(e,t);var r=t[YS][Jx]||{},i=t[YS][JS]||{};eT(t[Kx],i,r),un(n)||tT(i,n);var a=t[YS],o=dw.CreateFromInterface(e,a,i,r),s=new $x(dw[Zx],o);return nT(e,dw[Qx],t,s)},sT[gw.dataType]=function(e,t,n){rT(e,t);var r=t[YS],i=r[JS]||{},a=r[Jx]||{};eT(t[Kx],i,a),un(n)||tT(i,n);var o=new gw(e,r[Gx],r.average,r.sampleCount,r.min,r.max,r.stdDev,i,a),s=new $x(gw[Zx],o);return nT(e,gw[Qx],t,s)},sT[Sw.dataType]=function(e,t,n){rT(e,t);var r=t[YS][Jx]||{},i=t[YS][JS]||{};eT(t[Kx],i,r),un(n)||tT(i,n);var a=t[YS];if(un(a))return jb(e,"Invalid input for dependency data"),null;var o=a[JS]&&a[JS][Av]?a[JS][Av]:"GET",s=new Sw(e,a.id,a.target,a[Gx],a[zx],a.success,a.responseCode,o,a.type,a.correlationContext,i,r),u=new $x(Sw[Zx],s);return nT(e,Sw[Qx],t,u)},sT),wT=function(e){function t(){var n,r,i,a,o,s,u,c=e.call(this)||this;c.priority=1001,c.identifier="AppInsightsChannelPlugin";var l,d,f,p,h,g,v,m,y,b,w,x,S,T,k,C,A,E,I,M,_,P,D,L,R,N,O,U=0;return ua(t,c,(function(e,j){function F(t,r){var i=mT(t);if(!t||i+""!="200"&&""!==i){var a=Cx(i);a&&a[$S]&&a[$S]>a[zS]&&!T?e[BS](r,a):e[FS](r,Ty(t))}else n=0,e[VS](r,0)}function B(e,t,n){4===e.readyState&&J(e.status,t,e.responseURL,n,ky(e),mT(e)||e.response)}function V(e){try{if(e){var t=e[HS];return t&&t[Wx]?t:null}}catch(e){}return null}function $(t,n){return!(w||(t?t.baseData&&!t[qS]?(n&&Ub(n,1,70,"Cannot send telemetry without baseData and baseType"),1):(t[qS]||(t[qS]="EventData"),e[wS]?(r=t,e._sample.isSampledIn(r)?(t[kv]=e._sample[KS],0):(n&&Ub(n,2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample[KS]}),1)):(n&&Ub(n,1,28,"Sender was not initialized"),1)):(n&&Ub(n,1,7,"Cannot send empty telemetry"),1)));var r}function z(e,n){var r=e.iKey||x,i=t.constructEnvelope(e,r,n,S);if(i){var a=!1;if(e[Hx]&&e[Hx][Cv]&&(Hr(e[Hx][Cv],(function(e){try{e&&!1===e(i)&&(a=!0,jb(n,"Telemetry processor check returns false"))}catch(e){Ub(n,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+yy(e),{exception:Ln(e)},!0)}})),delete e[Hx][Cv]),!a)return i}else Ub(n,1,47,"Unable to create an AppInsights envelope")}function H(t){var n="",r=e[yS]();try{var i=$(t,r),a=null;i&&(a=z(t,r)),a&&(n=o[jS](a))}catch(e){}return n}function q(e){var t="";return e&&e[Wx]&&(t="["+e.join(",")+"]"),t}function K(e){var t,n=W();return(t={urlString:p})[Kx]=e,t.headers=n,t}function G(t,n,r,i){void 0===i&&(i=!0);var a=X(n),o=t&&t.sendPOST;return o&&a?(i&&e._buffer[lS](n),o(a,(function(t,r,i){return function(t,n,r,i){200===n&&t?e._onSuccess(t,t[Wx]):i&&e[FS](t,i)}(n,t,0,i)}),!r)):null}function X(t){var n;if(pn(t)&&t[Wx]>0){var r=e[_S].batchPayloads(t),i=W();return(n={})[Kx]=r,n.urlString=p,n.headers=i,n.disableXhrSync=_,n.disableFetchKeepAlive=!P,n[HS]=t,n}return null}function W(){try{var e=u||{};return xw(p)&&(e[Zw[6]]=Zw[7]),e}catch(e){}return null}function Y(t){var n=t?t[Wx]:0;return e[_S].size()+n>g&&(d&&!d.isOnline()||e[mS](!0,null,10),!0)}function J(t,r,i,a,o,s){var u=null;if(e._appId||(u=Cx(s))&&u.appId&&(e._appId=u.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!Z(i))return void e[FS](r,o);if(d&&!d.isOnline())return void(T||(ne(r,10),Ub(e[yS](),2,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(!d.isOnline(),". Will retry to send ").concat(r.length," items."))));!T&&ae(t)?(ne(r),Ub(e[yS](),2,40,". Response code "+t+". Will retry to send "+r[Wx]+" items.")):e[FS](r,o)}else Z(i),206===t?(u||(u=Cx(s)),u&&!T?e[BS](r,u):e[FS](r,o)):(n=0,e[VS](r,a))}function Z(e){return!(s>=10||un(e)||""===e||e===p||(p=e,++s,0))}function Q(e,t){if(!l)return G(N&&N[RS]([3],!0),e,t);l(e,!1)}function ee(e){try{if(e&&e[Wx])return ln(e[0])}catch(e){}return null}function te(t,n){var r=null;if(pn(t)){for(var i=t[Wx],a=0;a<t[Wx];a++)i+=t[a].item[Wx];return N.getSyncFetchPayload()+i<=65e3?r=2:By()?r=3:(r=1,Ub(e[yS](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender.")),G(N&&N[RS]([r],!0),t,n)}return null}function ne(t,i){if(void 0===i&&(i=1),t&&0!==t[Wx]){var a=e[_S];a[dS](t),n++;for(var o=0,s=t;o<s.length;o++){var u=s[o];u.cnt=u.cnt||0,u.cnt++,a[nS](u)}!function(e){var t;if(n<=1)t=10;else{var i=(Math.pow(2,n)-1)/2,a=Math.floor(Math.random()*i*10)+1;a*=e,t=Math.max(Math.min(a,3600),10)}var o=ni()+1e3*t;r=o}(i),re()}}function re(){if(!a&&!i){var t=r?Math.max(0,r-ni()):0,n=Math.max(k,t);a=Pi((function(){a=null,e[mS](!0,null,1)}),n)}}function ie(){a&&a.cancel(),a=null,r=null}function ae(e){return un(O)?401===e||408===e||429===e||500===e||502===e||503===e||504===e:O[Wx]&&O.indexOf(e)>-1}function oe(){e[wS]=null,e[_S]=null,e._appId=null,e._sample=null,u={},d=null,n=0,r=null,i=!1,a=null,o=null,s=0,U=0,l=null,f=null,p=null,h=null,g=0,v=!1,b=null,w=!1,x=null,S=vT,T=!1,C=null,E=vT,_=!1,P=!1,R=!1,D=null,L=null,N=null,In(e,"_senderConfig",{g:function(){return xy({},yT)}})}oe(),e.pause=function(){ie(),i=!0},e.resume=function(){i&&(i=!1,r=null,Y(),re())},e.flush=function(t,n,r){if(void 0===t&&(t=!0),!i){ie();try{return e[mS](t,null,r||1)}catch(t){Ub(e[yS](),1,22,"flush failed, telemetry will not be collected: "+yy(t),{exception:Ln(t)})}}},e.onunloadFlush=function(){if(!i)if(v||M)try{return e[mS](!0,Q,2)}catch(t){Ub(e[yS](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+yy(t),{exception:Ln(t)})}else e.flush(!1)},e.addHeader=function(e,t){u[e]=t},e[bS]=function(t,i,a,U){e.isInitialized()&&Ub(e[yS](),1,28,"Sender is already initialized"),j[bS](t,i,a,U);var $=e.identifier;o=new fT(i.logger),n=0,r=null,e[wS]=null,s=0;var z=e[yS]();f=Fw(nb("Sender"),i.evtNamespace&&i.evtNamespace()),d=function(e){var t=Sr(),n=Ir(),r=!1,i=[],a=1;!n||un(n.onLine)||n.onLine||(a=2);var o=0,s=d(),u=Fw(nb("OfflineListener"),e);try{if(l(Er())&&(r=!0),t){var c=t.body||t;c.ononline&&l(c)&&(r=!0)}}catch(e){r=!1}function l(e){var t=!1;return e&&(t=Bw(e,"online",p,u))&&Bw(e,"offline",h,u),t}function d(){return 2!==o&&2!==a}function f(){var e=d();s!==e&&(s=e,Hr(i,(function(e){var t={isOnline:s,rState:a,uState:o};try{e(t)}catch(e){}})))}function p(){a=1,f()}function h(){a=2,f()}return{isOnline:function(){return s},isListening:function(){return r},unload:function(){var e=Er();if(e&&r){if(Vw(e,u),t){var n=t.body||t;sn(n.ononline)||Vw(n,u)}r=!1}},addListener:function(e){return i[Rv](e),{rm:function(){var t=i.indexOf(e);return t>-1?i.splice(t,1):void 0}}},setOnlineState:function(e){o=e,f()}}}(f),e._addHook(Cb(t,(function(t){var n,r=t.cfg;r.storagePrefix&&(n=r.storagePrefix,Kw=n||"");var a=hx(null,r,i).getExtCfg($,yT);yn(a[xS])&&(a[xS]=r[xS]),yn(a[SS])&&(a[SS]=r[SS]),In(e,"_senderConfig",{g:function(){return a}}),h!==a[xS]&&(p=h=a[xS]),i.activeStatus()===bx.PENDING?e.pause():i.activeStatus()===bx.ACTIVE&&e.resume(),b&&b!==a[TS]&&Hr(b,(function(e){delete u[e.header]})),g=a[kS],v=(!1===a[CS]||!1===a[AS])&&By(),m=!1===a[CS]&&By(),y=!1===a[AS]&&By(),M=a[ES],_=!!a[IS],O=a.retryCodes;var o=a[fS],s=!!a[MS]&&(!!o||Ww()),d=a.namePrefix,f=s!==C||s&&E!==d||s&&A!==o;if(e[_S]){if(f)try{e._buffer=e._buffer[cS](z,a,s)}catch(t){Ub(e[yS](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+yy(t),{exception:Ln(t)})}Y()}else e[_S]=s?new dT(z,a):new cT(z,a);E=d,C=s,A=o,P=!a[PS]&&Vy(!0),R=!!a[DS],e._sample=new gT(a.samplingPercentage,z),yn(x=a[SS])||function(e,t){var n=t.disableInstrumentationKeyValidation;return!(un(n)||!n)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)}(x,r)||Ub(z,1,100,"Invalid Instrumentation key "+x),b=a[TS],ln(p)&&!xw(p)&&b&&b[Wx]>0?Hr(b,(function(e){c.addHeader(e.header,e.value)})):b=null,I=a[LS];var U=function(){var t;try{var n={xdrOnComplete:function(e,t,n){var r=V(n);if(r)return F(e,r)},fetchOnComplete:function(e,t,n,r){var i=V(r);if(i)return J(e.status,i,e.url,i[Wx],e.statusText,n||"")},xhrOnComplete:function(e,t,n){var r=V(n);if(r)return B(e,r,r[Wx])},beaconOnRetry:function(t,n,r){return function(t,n,r){var i=t&&t[HS];if(R)L&&L(i,!0),Ub(e[yS](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var a=[],o=0;o<i[Wx];o++){var s=i[o],u=[s];r(X(u),n)?e._onSuccess(u,u[Wx]):a[aS](s)}a[Wx]>0&&(L&&L(a,!0),Ub(e[yS](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}(t,n,r)}};return(t={})[LS]=I,t.isOneDs=!1,t.disableCredentials=!1,t[IS]=_,t.disableBeacon=!y,t.disableBeaconSync=!m,t.senderOnCompleteCallBack=n,t}catch(e){}return null}();N?N.SetConfig(U):(N=new kx)[bS](U,z);var j=a.httpXHROverride,H=null,q=null,K=Cy([3,1,2],a.transports);H=N&&N[RS](K,!1);var W=N&&N.getFallbackInst();D=function(e,t){return G(W,e,t)},L=function(e,t){return G(W,e,t,!1)},H=M?j:H||j||W,e[wS]=function(e,t){return G(H,e,t)},P&&(l=te);var Z=Cy([3,1],a[NS]);P||(Z=Z.filter((function(e){return 2!==e}))),q=N&&N[RS](Z,!0),q=M?j:q||j,(M||a[NS]||!l)&&q&&(l=function(e,t){return G(q,e,t)}),l||(l=D),w=a.disableTelemetry,S=a[OS]||vT,T=a.isRetryDisabled,k=a[US]})))},e.processTelemetry=function(t,n){var r,i=(n=e._getTelCtx(n))[yS]();try{if(!$(t,i))return;var a=z(t,i);if(!a)return;var s=o[jS](a),u=e[_S];Y(s);var c=((r={})[oS]=s,r.cnt=0,r);u[nS](c),re()}catch(e){Ub(i,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+yy(e),{exception:Ln(e)})}e.processNext(t,n)},e.isCompletelyIdle=function(){return!i&&0===U&&0===e._buffer[rS]()},e._xhrReadyStateChange=function(e,t,n){if(!ee(t))return B(e,t,n)},e[mS]=function(t,n,r){var a;if(void 0===t&&(t=!0),!i)try{var o=e[_S];if(w)o[uS]();else{if(o[rS]()>0){var s=o.getItems();!function(t,n){var r,i=(r="getNotifyMgr",e.core[r]?e.core[r]():e.core._notificationManager);if(i&&i[GS])try{i[GS](t,n)}catch(t){Ub(e[yS](),1,74,"send request notification failed: "+yy(t),{exception:Ln(t)})}}(r||0,t),a=n?n.call(e,s,t):e[wS](s,t)}new Date}ie()}catch(t){var u=function(e){if(void 0===e&&(e=null),!e){var t=Ir()||{};e=t?(t.userAgent||ay)[im]():ay}var n=(e||ay)[im]();if(vy(n,_y)){var r=Sr()||{};return Math.max(parseInt(n[Fm](_y)[1]),r.documentMode||0)}if(vy(n,Py)){var i=parseInt(n[Fm](Py)[1]);if(i)return i+4}return null}();(!u||u>9)&&Ub(e[yS](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+yy(t),{exception:Ln(t)})}return a},e.getOfflineSupport=function(){var e;return(e={getUrl:function(){return p},createPayload:K})[jS]=H,e.batch=q,e.shouldProcess=function(e){return!!$(e)},e},e._doTeardown=function(t,n){e.onunloadFlush(),function(e,t){if(e&&e[Em])e[Em](t)}(d,!1),oe()},e[FS]=function(t,n,r){if(!ee(t))return function(t,n,r){Ub(e[yS](),2,26,"Failed to send telemetry.",{message:n}),e._buffer&&e._buffer[dS](t)}(t,n)},e[BS]=function(t,n){if(!ee(t))return function(t,n){for(var r=[],i=[],a=0,o=n.errors.reverse();a<o.length;a++){var s=o[a],u=t.splice(s.index,1)[0];ae(s.statusCode)?i[aS](u):r[aS](u)}t[Wx]>0&&e[VS](t,n[zS]),r[Wx]>0&&e[FS](r,ky(null,["partial success",n[zS],"of",n.itemsReceived].join(" "))),i[Wx]>0&&(ne(i),Ub(e[yS](),2,40,"Partial success. Delivered: "+t[Wx]+", Failed: "+r[Wx]+". Will retry to send "+i[Wx]+" our of "+n[$S]+" items"))}(t,n)},e[VS]=function(t,n){if(!ee(t))return function(t,n){e._buffer&&e._buffer[dS](t)}(t)},e._xdrOnLoad=function(e,t){if(!ee(t))return F(e,t)}})),c}return ya(t,e),t.constructEnvelope=function(e,t,n,r){var i;return i=t===e.iKey||un(t)?e:va(va({},e),{iKey:t}),(bT[i.baseType]||aT)(n,i,r)},t}(Ix);function xT(e){if(!e)return{};var t=e[Cu](";"),n=Yr(t,(function(e,t){var n=t[Cu]("=");if(2===n[Au]){var r=n[0][Eu](),i=n[1];e[r]=i}return e}),{});if(Bn(n)[Au]>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n[Iu]=n[Iu]||"https://"+r+"dc."+n.endpointsuffix}n[Iu]=n[Iu]||"https://dc.services.visualstudio.com",Si(n[Iu],"/")&&(n[Iu]=n[Iu].slice(0,-1))}return n}var ST=function(e,t){var n,r,i,a,o,s,u,c=this,l=!1,d=!1;function f(e,t,i,a){if(l){var s=function(e){try{var t=p(e);return(1e6>0?Math.floor(Ps()/ks*1000001)>>>0:0)<=t.limit.samplingRate}catch(e){}return!1}(e);if(!s)return;var u=p(e),c=x(e),d=g(u,n,c),f=!1,h=0,m=S(e);try{d&&!m?(h=Math.min(u.limit.maxSendNumber,c[Ru]+1),c[Ru]=0,f=!0,o[e]=!0,c[Nu]=new Date):(o[e]=d,c[Ru]+=1);var b=v(e);y(r,b,c);for(var k=0;k<h;k++)w(e,r,t,i)}catch(e){}return{isThrottled:f,throttleNum:h}}return a&&T(e)[_u]({msgID:e,message:t,severity:i}),null}function p(e){return i[e]||i[109]}function h(e,t){var n,r,a,o,s;try{var u=t||{},c={};c[Ou]=!!u[Ou];var l=u[Uu]||{};d=(null==l?void 0:l.daysOfMonth)&&(null==l?void 0:l.daysOfMonth[Au])>0,c[Uu]=(o=null===(a=(a=l)||{})||void 0===a?void 0:a.monthInterval,s=null==a?void 0:a.dayInterval,un(o)&&un(s)&&(a.monthInterval=3,d||(a[ju]=[28],d=!0)),a={monthInterval:null==a?void 0:a.monthInterval,dayInterval:null==a?void 0:a.dayInterval,daysOfMonth:null==a?void 0:a.daysOfMonth});var f={samplingRate:(null===(n=u.limit)||void 0===n?void 0:n.samplingRate)||100,maxSendNumber:(null===(r=u.limit)||void 0===r?void 0:r.maxSendNumber)||1};c.limit=f,i[e]=c}catch(e){}}function g(e,t,n){if(e&&!e[Ou]&&t&&es(n)){var r=m(),i=n[Fu],a=e[Uu],o=1;if(null==a?void 0:a.monthInterval){var s=12*(r.getUTCFullYear()-i.getUTCFullYear())+r.getUTCMonth()-i.getUTCMonth();o=b(a.monthInterval,0,s)}var u=1;if(d)u=qr(a[ju],r[Bu]());else if(null==a?void 0:a.dayInterval){var c=Math.floor((r.getTime()-i.getTime())/864e5);u=b(a.dayInterval,0,c)}return o>=0&&u>=0}return!1}function v(e,t){var n=es(t)?t:"";return e?"appInsightsThrottle"+n+"-"+e:null}function m(e){try{if(!e)return new Date;var t=new Date(e);if(!isNaN(t.getDate()))return t}catch(e){}return null}function y(e,t,n){try{return gc(e,t,ui(JSON[Vu](n)))}catch(e){}return!1}function b(e,t,n){return e<=0?1:n>=t&&(n-t)%e==0?Math.floor((n-t)/e)+1:-1}function w(e,t,n,r){xu(t,r||1,e,n)}function x(e){try{var t=a[e];if(!t){var n=v(e,s);t=function(e,t,n){try{var r={date:m(),count:0};if(e){var i=JSON.parse(e);return{date:m(i[Fu])||r[Fu],count:i[Ru]||r[Ru],preTriggerDate:i.preTriggerDate?m(i[Nu]):void 0}}return y(t,n,r),r}catch(e){}return null}(hc(r,n),r,n),a[e]=t}return a[e]}catch(e){}return null}function S(e){var t=o[e];if(un(t)){t=!1;var n=x(e);n&&(t=function(e){try{if(e){var t=new Date;return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e[Bu]()===t[Bu]()}}catch(e){}return!1}(n[Nu])),o[e]=t}return o[e]}function T(e){return un((u=u||{})[e])&&(u[e]=[]),u[e]}r=yu(e),o={},a={},u={},i={},h(109),s=es(t)?t:"",e.addUnloadHook(au(e.config,(function(e){var t=e.cfg;n=pc(),kn(t.throttleMgrCfg||{},(function(e,t){h(parseInt(e),t)}))}))),c._getDbgPlgTargets=function(){return[u]},c.getConfig=function(){return i},c.canThrottle=function(e){var t=x(e);return g(p(e),n,t)},c.isTriggered=function(e){return S(e)},c.isReady=function(){return l},c.flush=function(e){try{var t=T(e);if(t&&t[Au]>0){var n=t.slice(0);return u[e]=[],Hr(n,(function(e){f(e.msgID,e[Lu],e.severity,!1)})),!0}}catch(e){}return!1},c.flushAll=function(){try{if(u){var e=!0;return kn(u,(function(t){var n=c.flush(parseInt(t));e=e&&n})),e}}catch(e){}return!1},c.onReadyState=function(e,t){return void 0===t&&(t=!0),(l=!!un(e)||e)&&t?c.flushAll():null},c.sendMessage=function(e,t,n){return f(e,t,n,!0)}},TT=Tu({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2});function kT(e,t){if(e&&e[Qa])return e[Qa](t)}function CT(e,t,n){var r;return n||(r=cv((function(e){n=e}))),e&&yi(e)>0?Bg(kT(e[0],t),(function(){CT(Gr(e,1),t,n)})):n(),r}var AT={perfEvtsSendAll:!1};function ET(e){e.h=null;var t=e.cb;e.cb=[],Hr(t,(function(e){nn(e.fn,[e.arg])}))}function IT(e,t,n,r){Hr(e,(function(e){e&&e[t]&&(n?(n.cb[Pa]({fn:r,arg:e}),n.h=n.h||Pi(ET,0,n)):nn(r,[e]))}))}var MT,_T=function(){function e(t){var n,r;this.listeners=[];var i=[],a={h:null,cb:[]},o=iu(t,AT);r=o[Ia]((function(e){n=!!e.cfg.perfEvtsSendAll})),ua(e,this,(function(e){In(e,"listeners",{g:function(){return i}}),e[ja]=function(e){i[Pa](e)},e[Ua]=function(e){for(var t=qr(i,e);t>-1;)i[Da](t,1),t=qr(i,e)},e[Fo]=function(e){IT(i,Fo,a,(function(t){t[Fo](e)}))},e[Bo]=function(e,t){IT(i,Bo,a,(function(n){n[Bo](e,t)}))},e[Vo]=function(e,t){IT(i,Vo,t?a:null,(function(n){n[Vo](e,t)}))},e[$o]=function(e){e&&(!n&&e[xo]()||IT(i,$o,null,(function(t){e[so]?Pi((function(){return t[$o](e)}),0):t[$o](e)})))},e[zo]=function(e){e&&e[Sa]&&IT(i,zo,a,(function(t){t[zo](e)}))},e[Ho]=function(e){e&&e.data&&IT(i,Ho,a,(function(t){t[Ho](e)}))},e[qo]=function(e,t){if(e>0){var n=t||0;IT(i,qo,a,(function(t){t[qo](e,n)}))}},e[Qa]=function(e){var t,n=function(){r&&r.rm(),r=null,i=[],a.h&&a.h[Ra](),a.h=null,a.cb=[]};if(IT(i,"unload",null,(function(n){var r=n[Qa](e);r&&(t||(t=[]),t[Pa](r))})),t)return cv((function(e){return Bg(lv(t),(function(){n(),e()}))}));n()}}))}return e.__ieDyn=1,e}(),PT=function(e){function t(){var n,r,i=e.call(this)||this;function a(){n=0,r=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,a(),ua(t,i,(function(e,t){e.addTelemetryInitializer=function(e){return function(e,t,n){var r={id:t,fn:n};return zr(e,r),{remove:function(){Hr(e,(function(t,n){if(t.id===r.id)return e[Da](n,1),-1}))}}}(r,n++,e)},e[Uo]=function(t,n){(function(e,t,n){for(var r=!1,i=e[Sa],a=0;a<i;++a){var o=e[a];if(o)try{if(!1===o.fn[_a](null,[t])){r=!0;break}}catch(e){xu(n,2,64,"Telemetry initializer failed: "+is(e),{exception:Ln(e)},!0)}}return!r})(r,t,n?n[uo]():e[uo]())&&e[Xa](t,n)},e[co]=function(){a()}})),i}return ya(t,e),t.__ieDyn=1,t}(Gd),DT="Plugins must provide initialize method",LT="SDK is still unloading...",RT=Vn(((MT={cookieCfg:{}})[Oo]={rdOnly:!0,ref:!0,v:[]},MT[Po]={rdOnly:!0,ref:!0,v:[]},MT[No]={ref:!0,v:{}},MT[Lo]=Mo,MT.loggingLevelConsole=0,MT.diagnosticLogInterval=Mo,MT));function NT(e,t){return new wd(t)}function OT(e,t){var n=!1;return Hr(t,(function(t){if(t===e)return n=!0,-1})),n}function UT(e,t,n,r){n&&kn(n,(function(n,i){r&&ci(i)&&ci(t[n])&&UT(e,t[n],i,r),r&&ci(i)&&ci(t[n])?UT(e,t[n],i,r):e.set(t,n,i)}))}function jT(e,t){var n=null,r=-1;return Hr(e,(function(e,i){if(e.w===t)return n=e,r=i,-1})),{i:r,l:n}}function FT(e,t,n,r){return t.add(e[Ia]((function(e){var t=e.cfg.disableDbgExt;!0===t&&r&&(n[Ua](r),r=null),n&&!r&&!0!==t&&(r=function(e){if(!ou){ou={};for(var t=0;t<uu[Sa];t++)ou[uu[t]]=lu(uu[t],e)}return ou}(e.cfg),n[ja](r))}))),r}var BT=function(){function e(){var t,n,r,i,a,o,s,u,c,l,d,f,p,h,g,v,m,y,b,w,x,S,T,k,C,A,E,I,M,_,P,D;ua(e,this,(function(e){function L(){M=!0,un(x)?(A=TT[Va],xu(r,1,112,"ikey can't be resolved from promises")):A=TT.ACTIVE,R()}function R(){n&&(e.releaseQueue(),e[Ya]())}function N(e){return _&&_[Ja]||D||(e||r&&r.queue[Sa]>0)&&(P||(P=!0,X(t[Ia]((function(e){var t=e.cfg.diagnosticLogInterval;t&&t>0||(t=1e4);var n=!1;_&&(n=_[Ja],_[Ra]()),_=function(e,t){return _i(!1,Lt,tn[Kt](arguments))}(z,t),_.unref(),_[Ja]=n})))),_[Ja]=!0),_}function O(){var e={};k=[];var t=function(t){t&&Hr(t,(function(t){if(t[Oa]&&t[to]&&!e[t.identifier]){var n=t[Oa]+"="+t[to];k[Pa](n),e[t.identifier]=t}}))};t(f),d&&Hr(d,(function(e){t(e)})),t(l)}function U(){n=!1,(t=iu({},RT,e[Ma])).cfg[no]=1,In(e,"config",{g:function(){return t.cfg},s:function(t){e.updateCfg(t,!1)}}),In(e,"pluginVersionStringArr",{g:function(){return k||O(),k}}),In(e,"pluginVersionString",{g:function(){return C||(k||O(),C=k.join(";")),C||_o}}),In(e,"logger",{g:function(){return r||(r=new bu(t.cfg),t[Ma]=r),r},s:function(e){t[Ma]=e,r!==e&&(kT(r,!1),r=e)}}),e[Ma]=new bu(t.cfg),T=[];var b=e.config[Oo]||[];b.splice(0,b[Sa]),zr(b,T),h=new PT,i=[],kT(a,!1),a=null,o=null,s=null,kT(u,!1),u=null,c=null,l=[],d=null,f=null,p=!1,g=null,v=Os("AIBaseCore",!0),m=zd(),w=null,x=null,y=Hd(),S=[],C=null,k=null,D=!1,_=null,P=!1,A=0,E=null,I=null,M=!1}function j(){var n=Dd(V(),t.cfg,e);return n[eo](N),n}function F(t){var n=function(e,t,n){var r,i=[],a=[],o={};return Hr(n,(function(t){(un(t)||un(t[Na]))&&Rn(DT);var n=t[jo],r=t[Oa];t&&n&&(un(o[n])?o[n]=r:Su(e,"Two extensions have same priority #"+n+" - "+o[n]+", "+r)),!n||n<500?i[Pa](t):a[Pa](t)})),(r={})[Do]=i,r[Po]=a,r}(e[Ma],0,l);c=null,C=null,k=null,f=Ad(zr(f=(d||[])[0]||[],n[Po]));var r=zr(Ad(n[Do]),f);T=$n(r);var i=e.config[Oo]||[];i.splice(0,i[Sa]),zr(i,T);var a=j();f&&f[Sa]>0&&Cd(a[ro](f),r),Cd(a,r),t&&q(t)}function B(e){var t=null,n=null,r=[];return Hr(T,(function(t){if(t[Oa]===e&&t!==h)return n=t,-1;t.getChannel&&r[Pa](t)})),!n&&r[Sa]>0&&Hr(r,(function(t){if(!(n=t.getChannel(e)))return-1})),n&&(t={plugin:n,setEnabled:function(e){kd(n)[Ro]=!e},isEnabled:function(){var e=kd(n);return!e[io]&&!e[Ro]},remove:function(e,t){var r;void 0===e&&(e=!0);var i=[n],a=((r={reason:1})[so]=e,r);$(i,a,(function(e){e&&F({reason:32,removed:i}),t&&t(e)}))}}),t}function V(){if(!c){var n=(T||[]).slice();-1===qr(n,h)&&n[Pa](h),c=Nd(Ad(n),t.cfg,e)}return c}function $(n,r,i){if(n&&n[Sa]>0){var a=Ld(Nd(n,t.cfg,e),e);a[eo]((function(){var e=!1,t=[];Hr(l,(function(r,i){OT(r,n)?e=!0:t[Pa](r)})),l=t,C=null,k=null;var r=[];d&&(Hr(d,(function(t,i){var a=[];Hr(t,(function(t){OT(t,n)?e=!0:a[Pa](t)})),r[Pa](a)})),d=r),i&&i(e),N()})),a[Xa](r)}else i(!1)}function z(){if(r&&r.queue){var t=r.queue.slice(0);r.queue[Sa]=0,Hr(t,(function(t){var n,r=((n={})[qa]=g||"InternalMessageId: "+t[ao],n[Ka]=x,n[Ga]=rs(new Date),n.baseType=mu.dataType,n.baseData={message:t[oo]},n);e.track(r)}))}}function H(e,t,n,r){var i=1,a=!1,o=null;function s(){i--,a&&0===i&&(o&&o[Ra](),o=null,t&&t(a),t=null)}return r=r||5e3,f&&f[Sa]>0&&j()[ro](f).iterate((function(t){if(t.flush){i++;var a=!1;t.flush(e,(function(){a=!0,s()}),n)||a||(e&&null==o?o=Pi((function(){o=null,s()}),r):s())}})),a=!0,s(),!0}function q(t){var n=Rd(V(),e);n[eo](N),e._updateHook&&!0===e._updateHook(n,t)||n[Xa](t)}function K(t){var n=e[Ma];n?(xu(n,2,73,t),N()):Rn(t)}function G(t){var n=e[za]();n&&n[Bo]([t],2)}function X(e){y.add(e)}U(),e._getDbgPlgTargets=function(){return[T,i]},e[Fa]=function(){return n},e.activeStatus=function(){return A},e._setPendingStatus=function(){A=3},e[Na]=function(i,u,c,h){var g;p&&Rn(LT),e[Fa]()&&Rn("Core cannot be initialized more than once"),t=iu(i,RT,c||e[Ma],!1),i=t.cfg,X(t[Ia]((function(e){var t,a=e.cfg;if(3!==A){I=a.initInMemoMaxSize||100;var o=a[Ba],s=a.endpointUrl;if(un(o)){x=null,A=TT[Va];var u="Please provide instrumentation key";n?(xu(r,1,100,u),R()):Rn(u)}else{var c,l=[];if(yn(o)?(l[Pa](o),x=null):x=o,yn(s)?(l[Pa](s),E=null):E=s,l[Sa]){M=!1,A=3;var d=es(a.initTimeOut)?a.initTimeOut:5e4,f=(c=l,!Wg&&(t=uv,Wg=gr((function(e){var n=Gr(arguments,1);return t((function(t,n){var r=[],i=1;function a(e,n){i++,Bg(e,(function(e){e.rejected?r[n]={status:Fg,reason:e.reason}:r[n]={status:"fulfilled",value:e.value},0==--i&&t(r)}))}try{pn(e)?Hr(e,a):Br(e)?Vr(e,a):Nn("Input is not an iterable"),0==--i&&t(r)}catch(e){n(e)}}),n)}))),Wg.v(c,undefined));Pi((function(){M||L()}),d),Bg(f,(function(e){try{if(M)return;if(!e.rejected){var t=e[$a];if(t&&t[Sa]){var n=t[0];if(x=n&&n[$a],t[Sa]>1){var r=t[1];E=r&&r[$a]}}x&&(i[Ba]=x,i.endpointUrl=E)}L()}catch(e){M||L()}}))}else L();var p=e.ref(e.cfg,No);kn(p,(function(t){e.ref(p,t)}))}}}))),b=FT(t,y,(a=h)&&e[za](),b),X(t[Ia]((function(t){var n,r,i,a;if(t.cfg.enablePerfMgr){var u=t.cfg[Lo];g!==u&&(u||(u=NT),n=t.cfg,r=Lo,i=u,n?!(a=n[r])&&un(a)&&(a=sn(i)?{}:i,n[r]=a):a=sn(i)?{}:i,g=u,s=null),o||s||!dn(u)||(s=u(e,e[za]()))}else s=null,g=null}))),e[Ma]=c;var v=i[Oo];if((l=[])[Pa].apply(l,ba(ba([],u),v)),d=i[Po],F(null),f&&0!==f[Sa]||Rn("No "+Po+" available"),d&&d[Sa]>1){var m=e[Ha]("TeeChannelController");m&&m.plugin||xu(r,1,28,"TeeChannel required")}!function(e,t,n){Hr(t,(function(t){var r=au(e,t.w,n);delete t.w,t.rm=function(){r.rm()}}))}(i,S,r),S=null,n=!0,A===TT.ACTIVE&&R()},e.getChannels=function(){var e=[];return f&&Hr(f,(function(t){e[Pa](t)})),$n(e)},e.track=function(t){Sd(e[Ko](),(function(){return"AppInsightsCore:track"}),(function(){null===t&&(G(t),Rn("Invalid telemetry item")),!t[qa]&&un(t[qa])&&(G(t),Rn("telemetry name required")),t[Ka]=t[Ka]||x,t[Ga]=t[Ga]||rs(new Date),t.ver=t.ver||"4.0",!p&&e[Fa]()&&A===TT.ACTIVE?j()[Xa](t):A!==TT[Va]&&i[Sa]<=I&&i[Pa](t)}),(function(){return{item:t}}),!t.sync)},e[Wa]=j,e[za]=function(){return a||(a=new _T(t.cfg),e._notificationManager=a),a},e[ja]=function(t){e.getNotifyMgr()[ja](t)},e[Ua]=function(e){a&&a[Ua](e)},e.getCookieMgr=function(){return u||(u=Ol(t.cfg,e[Ma])),u},e.setCookieMgr=function(e){u!==e&&(kT(u,!1),u=e)},e[Ko]=function(){return o||s||null},e.setPerfMgr=function(e){o=e},e.eventCnt=function(){return i[Sa]},e.releaseQueue=function(){if(n&&i[Sa]>0){var e=i;i=[],2===A?Hr(e,(function(e){e[Ka]=e[Ka]||x,j()[Xa](e)})):xu(r,2,20,"core init status is not active")}},e[Ya]=function(e){return g=e||null,D=!1,_&&_[Ra](),N(!0)},e[Za]=function(){D=!0,_&&_[Ra](),z()},us(e,(function(){return h}),["addTelemetryInitializer"]),e[Qa]=function(t,i,o){var s;void 0===t&&(t=!0),n||Rn("SDK is not initialized"),p&&Rn(LT);var c,l=((s={reason:50})[so]=t,s.flushComplete=!1,s);t&&!i&&(c=cv((function(e){i=e})));var d=Ld(V(),e);function f(t){l.flushComplete=t,p=!0,m.run(d,l),e[Za](),d[Xa](l)}return d[eo]((function(){y.run(e[Ma]),CT([u,a,r],t,(function(){U(),i&&i(l)}))}),e),z(),H(t,f,6,o)||f(!1),c},e[Ha]=B,e.addPlugin=function(e,t,n,r){if(!e)return r&&r(!1),void K(DT);var i=B(e[Oa]);if(i&&!t)return r&&r(!1),void K("Plugin ["+e[Oa]+"] is already loaded!");var a={reason:16};function o(t){l[Pa](e),a.added=[e],F(a),r&&r(!0)}if(i){var s=[i.plugin];$(s,{reason:2,isAsync:!!n},(function(e){e?(a.removed=s,a.reason|=32,o()):r&&r(!1)}))}else o()},e.updateCfg=function(n,r){var i;if(void 0===r&&(r=!0),e[Fa]()){i={reason:1,cfg:t.cfg,oldCfg:vi({},t.cfg),newConfig:vi({},n),merge:r},n=i.newConfig;var a=t.cfg;n[Oo]=a[Oo],n[Po]=a[Po]}t._block((function(e){var t=e.cfg;UT(e,t,n,r),r||kn(t,(function(r){Sn(n,r)||e.set(t,r,Mo)})),e[Ea](t,RT)}),!0),t[ka](),i&&q(i)},e.evtNamespace=function(){return v},e.flush=H,e.getTraceCtx=function(e){var t;return w||(t={},w={getName:function(){return t[qa]},setName:function(e){t[qa]=e},getTraceId:function(){return t[Co]},setTraceId:function(e){nl(e)&&(t[Co]=e)},getSpanId:function(){return t[Ao]},setSpanId:function(e){rl(e)&&(t[Ao]=e)},getTraceFlags:function(){return t[Eo]},setTraceFlags:function(e){t[Eo]=e}}),w},e.setTraceCtx=function(e){w=e||null},e.addUnloadHook=X,ss(e,"addUnloadCb",(function(){return m}),"add"),e.onCfgChange=function(r){var i,a,o,s;return n?i=au(t.cfg,r,e[Ma]):((s=jT(a=S,o=r).l)||(s={w:o,rm:function(){var e=jT(a,o);-1!==e.i&&a[Da](e.i,1)}},a[Pa](s)),i=s),function(e){return In({rm:function(){e.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"}})}(i)},e.getWParam=function(){return xr()||t.cfg.enableWParam?0:-1}}))}return e.__ieDyn=1,e}(),VT="toLowerCase",$T="blkVal",zT="length",HT="rdOnly",qT="notify",KT="warnToConsole",GT="throwInternal",XT="setDf",WT="watch",YT="logger",JT="apply",ZT="push",QT="splice",ek="hdlr",tk="cancel",nk="identifier",rk="isInitialized",ik="getPlugin",ak="name",ok="time",sk="processNext",uk="unload",ck="version",lk="createNew",dk="teardown",fk="messageId",pk="message",hk="isAsync",gk="diagLog",vk="_doTeardown",mk="update",yk="getNext",bk="setNextPlugin",wk="userAgent",xk="split",Sk="nodeType",Tk="replace",kk="type",Ck="isChildEvt",Ak="getCtx",Ek="setCtx",Ik="complete",Mk=void 0,_k="",Pk="core",Dk="disabled",Lk="extensionConfig",Rk="processTelemetry",Nk="priority",Ok="getPerfMgr",Uk=/-([a-z])/g,jk=/([^\w\d_$])/g,Fk=/^(\d+[\w\d_$])/,Bk=Object.getPrototypeOf;function Vk(e){var t=e;return t&&ln(t)&&(t=(t=(t=t[Tk](Uk,(function(e,t){return t.toUpperCase()})))[Tk](jk,"_"))[Tk](Fk,(function(e,t){return"_"+t}))),t}function $k(e,t){return!(!e||!t)&&-1!==Ci(e,t)}function zk(e,t,n,r,i){e&&t&&n&&(!1!==i||sn(e[t]))&&(e[t]=function(e,t){var n=null,r=null;return dn(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t][JT](r,e)}}(n,r))}var Hk="JSON",qk="crypto",Kk="msCrypto",Gk="msie",Xk="trident/",Wk="XMLHttpRequest",Yk=null,Jk=null;function Zk(e){return typeof location===la&&location?location:wr("location")}function Qk(){return Boolean(typeof JSON===la&&JSON||null!==wr(Hk))}function eC(){return Qk()?JSON||wr(Hk):null}var tC=4294967296,nC=4294967295,rC=123456789,iC=987654321,aC=!1,oC=rC,sC=iC;function uC(){try{var e=2147483647&ni();(t=(Math.random()*tC^e)+e)<0&&(t>>>=0),oC=rC+t&nC,sC=iC-t&nC,aC=!0}catch(e){}var t}function cC(e){var t=0,n=wr(qk)||wr(Kk);return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&nC),0===t&&function(){var e=Ir();if(e&&(e[wk]!==Jk||null===Yk)){var t=((Jk=e[wk])||_k)[VT]();Yk=$k(t,Gk)||$k(t,Xk)}return Yk}()&&(aC||uC(),t=function(e){var t=((sC=36969*(65535&sC)+(sC>>16)&nC)<<16)+(65535&(oC=18e3*(65535&oC)+(oC>>16)&nC))>>>0&nC|0;return t>>>=0}()&nC),0===t&&(t=Math.floor(tC*Math.random()|0)),e||(t>>>=0),t}function lC(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=_k,r=0;r<4;r++)n+=t[15&(e=cC())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&cC())|0];return ir(n,0,8)+ir(n,9,4)+"4"+ir(n,13,3)+i+ir(n,16,3)+ir(n,19,12)}var dC="00",fC="00000000000000000000000000000000",pC="0000000000000000";function hC(e,t,n){return!(!e||e[zT]!==t||e===n||!e.match(/^[\da-f]*$/i))}function gC(e,t,n){return hC(e,t)?e:n}function vC(e,t,n,r){var i;return(i={})[ck]=hC(r,2,"ff")?r:dC,i.traceId=mC(e)?e:lC(),i.spanId=yC(t)?t:or(lC(),16),i.traceFlags=n>=0&&n<=255?n:1,i}function mC(e){return hC(e,32,fC)}function yC(e){return hC(e,16,pC)}function bC(e){if(e){var t=function(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[zT]<2;)t="0"+t;return t}(e.traceFlags);hC(t,2)||(t="01");var n=e[ck]||dC;return"00"!==n&&"ff"!==n&&(n=dC),"".concat(n.toLowerCase(),"-").concat(gC(e.traceId,32,fC).toLowerCase(),"-").concat(gC(e.spanId,16,pC).toLowerCase(),"-").concat(t.toLowerCase())}return""}var wC="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",xC="/v2/track",SC="iKey",TC=Kn({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),kC="3.3.3",CC="."+function(e){void 0===e&&(e=22);for(var t=cC()>>>0,n=0,r=_k;r[zT]<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(cC()<<2&4294967295|3&t)>>>0,n=0);return r}(6),AC=0;function EC(e){return 1===e[Sk]||9===e[Sk]||!+e[Sk]}function IC(e,t){return void 0===t&&(t=!1),Vk(e+AC+++(t?"."+kC:_k)+CC)}function MC(e){var t={id:IC("_aiData-"+(e||_k)+"."+kC),accept:function(e){return EC(e)},get:function(e,n,r,i){var a=e[t.id];return a?a[Vk(n)]:(i&&(a=function(e,t){var n=t[e.id];if(!n){n={};try{EC(t)&&In(t,e.id,{e:!1,v:n})}catch(e){}}return n}(t,e),a[Vk(n)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}function _C(e){return e&&fn(e)&&(e.isVal||e.fb||Sn(e,"v")||Sn(e,"mrg")||Sn(e,"ref")||e.set)}function PC(e,t,n){var r,i=n.dfVal||cn;if(t&&n.fb){var a=n.fb;pn(a)||(a=[a]);for(var o=0;o<a[zT];o++){var s=a[o],u=t[s];if(i(u)?r=u:e&&(i(u=e.cfg[s])&&(r=u),e.set(e.cfg,Pn(s),u)),i(r))break}}return!i(r)&&i(n.v)&&(r=n.v),r}function DC(e,t,n){var r,i=n;return n&&_C(n)&&(i=PC(e,t,n)),i&&(_C(i)&&(i=DC(e,t,i)),pn(i)?(r=[])[zT]=i[zT]:ci(i)&&(r={}),r&&(kn(i,(function(n,i){i&&_C(i)&&(i=DC(e,t,i)),r[n]=i})),i=r)),i}function LC(e,t,n,r){var i,a,o,s,u,c,l,d,f=r;_C(f)?(i=f.isVal,a=f.set,c=f[HT],l=f[$T],s=f.mrg,!(u=f.ref)&&sn(u)&&(u=!!s),o=PC(e,t,f)):o=r,l&&e[$T](t,n);var p=!0,h=t[n];!h&&un(h)||(d=h,p=!1,i&&d!==o&&!i(d)&&(d=o,p=!0),a&&(p=(d=a(d,o,t))===o)),p?d=o?DC(e,t,o):o:(ci(d)||pn(o))&&s&&o&&(ci(o)||pn(o))&&kn(o,(function(t,n){LC(e,d,t,n)})),e.set(t,n,d),u&&e.ref(t,n),c&&e[HT](t,n)}var RC=jr("[[ai_dynCfg_1]]"),NC=jr("[[ai_blkDynCfg_1]]"),OC=jr("[[ai_frcDynCfg_1]]");function UC(e){var t;return e&&(pn(e)?(t=[])[zT]=e[zT]:ci(e)&&(t={}),t)?(kn(e,(function(e,n){t[e]=UC(n)})),t):e}function jC(e,t,n){var r=!1;return n&&!e[t.blkVal]&&((r=n[OC])||n[NC]||(r=ci(n)||pn(n))),r}function FC(e){Nn("InvalidAccess:"+e)}var BC,VC=["push","pop","shift","unshift","splice"],$C=function(e,t,n,r){e&&e[GT](3,108,"".concat(n," [").concat(t,"] failed - ")+Ln(r))};function zC(e,t){var n=wn(e,t);return n&&n.get}function HC(e,t,n,r){if(t){var i=zC(t,n);i&&i[e.prop]?t[n]=r:function(e,t,n,r){var i={n:n,h:[],trk:function(t){t&&t.fn&&(-1===qr(i.h,t)&&i.h[ZT](t),e.trk(t,i))},clr:function(e){var t=qr(i.h,e);-1!==t&&i.h[QT](t,1)}},a=!0,o=!1;function s(){a&&(o=o||jC(s,e,r),r&&!r[RC]&&o&&(r=KC(e,r,n,"Converting")),a=!1);var t=e.act;return t&&i.trk(t),r}s[e.prop]={chng:function(){e.add(i)}},In(t,i.n,{g:s,s:function(u){if(r!==u){s[e.ro]&&!e.upd&&FC("["+n+"] is read-only:"+Ln(t)),a&&(o=o||jC(s,e,r),a=!1);var c=o&&s[e.rf];if(o)if(c){kn(r,(function(e){r[e]=u?u[e]:Mk}));try{kn(u,(function(t,n){HC(e,r,t,n)})),u=r}catch(t){$C((e.hdlr||{})[YT],n,"Assigning",t),o=!1}}else r&&r[RC]&&kn(r,(function(t){var n=zC(r,t);if(n){var i=n[e.prop];i&&i.chng()}}));if(u!==r){var l=u&&jC(s,e,u);!c&&l&&(u=KC(e,u,n,"Converting")),r=u,o=l}e.add(i)}}})}(e,t,n,r)}return t}function qC(e,t,n,r){if(t){var i=zC(t,n),a=i&&!!i[e.prop],o=r&&r[0],s=r&&r[1],u=r&&r[2];if(!a){if(u)try{!function(e){if(e&&(ci(e)||pn(e)))try{e[NC]=!0}catch(e){}}(t)}catch(t){$C((e.hdlr||{})[YT],n,"Blocking",t)}try{HC(e,t,n,t[n]),i=zC(t,n)}catch(t){$C((e.hdlr||{})[YT],n,"State",t)}}o&&(i[e.rf]=o),s&&(i[e.ro]=s),u&&(i[e.blkVal]=!0)}return t}function KC(e,t,n,r){try{kn(t,(function(n,r){HC(e,t,n,r)})),t[RC]||(An(t,RC,{get:function(){return e[ek]}}),function(e,t,n){pn(t)&&Hr(VC,(function(r){var i=t[r];t[r]=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=i[JT](this,r);return KC(e,t,n,"Patching"),o}}))}(e,t,n))}catch(t){$C((e.hdlr||{})[YT],n,r,t)}return t}var GC="[[ai_",XC="]]";function WC(e,t,n){var r,i=function(e){if(e){var t=e[RC]||e;if(t.cfg&&(t.cfg===e||t.cfg[RC]===t))return t}return null}(t);if(i)return i;var a,o=IC("dyncfg",!0),s=t&&!1!==n?t:UC(t),u=((r={uid:null,cfg:s})[YT]=e,r[qT]=function(){a[qT]()},r.set=function(t,n,r){try{t=HC(a,t,n,r)}catch(t){$C(e,n,"Setting value",t)}return t[n]},r[XT]=function(e,t){return t&&kn(t,(function(t,n){LC(u,e,t,n)})),e},r[WT]=function(e){return function(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return In(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),e.use(n,t),n}(a,e)},r.ref=function(e,t){var n;return qC(a,e,t,(n={},n[0]=!0,n))[t]},r[HT]=function(e,t){var n;return qC(a,e,t,(n={},n[1]=!0,n))[t]},r[$T]=function(e,t){var n;return qC(a,e,t,(n={},n[2]=!0,n))[t]},r._block=function(e,t){a.use(null,(function(n){var r=a.upd;try{sn(t)||(a.upd=t),e(n)}finally{a.upd=r}}))},r);return In(u,"uid",{c:!1,e:!1,w:!1,v:o}),KC(a=function(e){var t,n,r=Ur(GC+"get"+e.uid+XC),i=Ur(GC+"ro"+e.uid+XC),a=Ur(GC+"rf"+e.uid+XC),o=Ur(GC+"blkVal"+e.uid+XC),s=Ur(GC+"dtl"+e.uid+XC),u=null,c=null;function l(t,r){var i=n.act;try{n.act=t,t&&t[s]&&(Hr(t[s],(function(e){e.clr(t)})),t[s]=[]),r({cfg:e.cfg,set:e.set.bind(e),setDf:e[XT].bind(e),ref:e.ref.bind(e),rdOnly:e[HT].bind(e)})}catch(t){var a=e[YT];throw a&&a[GT](1,107,Ln(t)),t}finally{n.act=i||null}}function d(){if(u){var e=u;u=null,c&&c[tk](),c=null;var t=[];if(Hr(e,(function(e){if(e&&(e[s]&&(Hr(e[s],(function(t){t.clr(e)})),e[s]=null),e.fn))try{l(e,e.fn)}catch(e){t[ZT](e)}})),u)try{d()}catch(e){t[ZT](e)}t[zT]>0&&function(e,t){BC||(BC=ti("AggregationError",(function(e,t){t[zT]>1&&(e.errors=t[1])})));var n="Watcher error(s): ";throw Hr(t,(function(e,t){n+="\n".concat(t," > ").concat(Ln(e))})),new BC(n,t||[])}(0,t)}}return(t={prop:r,ro:i,rf:a})[$T]=o,t[ek]=e,t.add=function(e){if(e&&e.h[zT]>0){u||(u=[]),c||(c=Pi((function(){c=null,d()}),0));for(var t=0;t<e.h[zT];t++){var n=e.h[t];n&&-1===qr(u,n)&&u[ZT](n)}}},t[qT]=d,t.use=l,t.trk=function(e,t){if(e){var n=e[s]=e[s]||[];-1===qr(n,t)&&n[ZT](t)}},n=t}(u),s,"config","Creating"),u}function YC(e,t,n,r){var i=WC(n,e||{},r);return t&&i[XT](i.cfg,t),i}function JC(e,t,n){var r=e[RC]||e;return!r.cfg||r.cfg!==e&&r.cfg[RC]!==r?(function(e,t){e?(e[KT](t),e[GT](2,108,t)):FC(t)}(n,"Not dynamic - "+Ln(e)),YC(e,null,n)[WT](t)):r[WT](t)}var ZC,QC=null;var eA="warnToConsole",tA={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},nA=((ZC={})[0]=null,ZC[1]="errorToConsole",ZC[2]=eA,ZC[3]="debugToConsole",ZC);function rA(e){return e?'"'+e[Tk](/\"/g,_k)+'"':_k}function iA(e,t){var n=typeof console!==da?console:wr("console");if(n){var r="log";n[e]&&(r=e),dn(n[r])&&n[r](t)}}var aA=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i[fk]=e,i[pk]=(n?"AI: ":"AI (Internal): ")+e;var a=_k;Qk()&&(a=eC().stringify(r));var o=(t?" message:"+rA(t):_k)+(r?" props:"+rA(a):_k);i[pk]+=o}return e.dataType="MessageData",e}();function oA(e,t){return(e||{})[YT]||new sA(t)}var sA=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n,r,i,a,o,s=0,u={};ua(e,this,(function(e){function c(t,n){if(!(s>=i)){var a=!0,o="AITR_"+n[fk];if(u[o]?a=!1:u[o]=!0,a&&(t<=r&&(e.queue[ZT](n),s++,l(1===t?"error":"warn",n)),s===i)){var c="Internal events throttle limit per PageView reached for this app.",d=new aA(23,c,!1);e.queue[ZT](d),1===t?e.errorToConsole(c):e[KT](c)}}}function l(e,n){var r=function(e){var t,n=QC;return n||!0===e.disableDbgExt||(n=QC||((t=wr("Microsoft"))&&(QC=t.ApplicationInsights),QC)),n?n.ChromeDbgExt:null}(t||{});r&&r[gk]&&r[gk](e,n)}o=function(t){return JC(YC(t,tA,e).cfg,(function(e){var t=e.cfg;n=t.loggingLevelConsole,r=t.loggingLevelTelemetry,i=t.maxMessageLimit,a=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return n},e[GT]=function(t,r,i,o,s){void 0===s&&(s=!1);var d=new aA(r,i,s,o);if(a)throw Ln(d);var f=nA[t]||eA;if(sn(d[pk]))l("throw"+(1===t?"Critical":"Warning"),d);else{if(s){var p=+d[fk];!u[p]&&n>=t&&(e[f](d[pk]),u[p]=!0)}else n>=t&&e[f](d[pk]);c(t,d)}},e.debugToConsole=function(e){iA("debug",e),l("warning",e)},e[KT]=function(e){iA("warn",e),l("warning",e)},e.errorToConsole=function(e){iA("error",e),l("error",e)},e.resetInternalMessageCount=function(){s=0,u={}},e.logInternalMessage=c,e[uk]=function(e){o&&o.rm(),o=null}}))}return e.__ieDyn=1,e}();function uA(e,t,n,r,i,a){void 0===a&&(a=!1),function(e){return e||new sA}(e)[GT](t,n,r,i,a)}var cA="split",lA="length",dA="toLowerCase",fA="name",pA="pathname",hA="correlationHeaderExcludePatterns";function gA(e,t,n){var r=t[lA],i=function(e,t){var n;return t&&(t=ui(Pn(t)))[lA]>150&&(n=rr(t,0,150),uA(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}(e,t);if(i[lA]!==r){for(var a=0,o=i;void 0!==n[o];)a++,o=rr(i,0,147)+yA(a);i=o}return i}function vA(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ui(Pn(t)))[lA]>n&&(r=rr(t,0,n),uA(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function mA(e,t){return function(e,t,n,r){var i;return t&&(t=ui(Pn(t)))[lA]>n&&(i=rr(t,0,n),uA(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}(e,t,2048,66)}function yA(e){var t="00"+e;return ir(t,t[lA]-3)}var bA=Sr()||{},wA=0,xA=[null,null,null,null,null];function SA(e){var t=wA,n=xA,r=n[t];return bA.createElement?n[t]||(r=n[t]=bA.createElement("a")):r={host:TA(e,!0)},r.href=e,++t>=n[lA]&&(t=0),wA=t,r}function TA(e,t){var n=kA(e,t)||"";if(n){var r=n.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r[lA]>3&&ln(r[2])&&r[2][lA]>0)return r[2]+(r[3]||"")}return n}function kA(e,t){var n=null;if(e){var r=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r[lA]>2&&ln(r[2])&&r[2][lA]>0&&(n=r[2]||"",t&&r[lA]>2)){var i=(r[1]||"")[dA](),a=r[3]||"";("http"===i&&":80"===a||"https"===i&&":443"===a)&&(a=""),n+=a}}return n}var CA=["https://dc.services.visualstudio.com"+xC,"https://breeze.aimon.applicationinsights.io"+xC,"https://dc-int.services.visualstudio.com"+xC];function AA(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[hA])for(var r=0;r<e.correlationHeaderExcludePatterns[lA];r++)if(e[hA][r].test(t))return!1;var i=SA(t).host[dA]();if(!i||-1===Ci(i,":443")&&-1===Ci(i,":80")||(i=(kA(t,!0)||"")[dA]()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var a,o=e&&e.correlationHeaderDomains;if(o&&(Hr(o,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||t.test(i)})),!a))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s[lA])return!0;for(r=0;r<s[lA];r++)if(new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i[lA]>0}function EA(e){if(e){var t=function(e,t){if(e)for(var n=e[cA](","),r=0;r<n[lA];++r){var i=n[r][cA]("=");if(2===i[lA]&&i[0]===t)return i[1]}}(e,TC[1]);if(t&&"cid-v1:"!==t)return t}}function IA(){var e=bi();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return ni()}function MA(e,t){var n=null;return 0===e||0===t||un(e)||un(t)||(n=t-e),n}function _A(e,t,n,r,i,a){var o;n=vA(r,n)||"not_specified",(un(e)||un(t)||un(n))&&Rn("Input doesn't contain all required fields");var s="";e[SC]&&(s=e[SC],delete e[SC]);var u,c=((o={})[fA]=n,o.time=(u=new Date)&&u.toISOString()||"",o.iKey=s,o.ext=a||{},o.tags=[],o.data={},o.baseType=t,o.baseData=e,o);return un(i)||kn(i,(function(e,t){c.data[e]=t})),c}var PA="";function DA(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=PA+e%1e3,n=PA+Math.floor(e/1e3)%60,r=PA+Math.floor(e/6e4)%60,i=PA+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t[lA]?"00"+t:2===t[lA]?"0"+t:t,n=n[lA]<2?"0"+n:n,r=r[lA]<2?"0"+r:r,i=i[lA]<2?"0"+i:i,(a>0?a+".":PA)+i+":"+r+":"+n+"."+t}var LA=function(){function e(e,t,n,r,i,a,o,s,u,c,l,d){void 0===u&&(u="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var f=this;f.ver=2,f.id=t,f.duration=DA(i),f.success=a,f.resultCode=o+"",f.type=vA(e,u);var p=function(e,t,n,r){var i,a=r,o=r;if(t&&t[lA]>0){var s=SA(t);if(i=s.host,!a)if(null!=s[pA]){var u=0===s.pathname[lA]?"/":s[pA];"/"!==u.charAt(0)&&(u="/"+u),o=s[pA],a=vA(e,n?n+" "+u:u)}else a=vA(e,t)}else i=r,a=r;return{target:i,name:a,data:o}}(e,n,s,r);f.data=mA(e,r)||p.data,f.target=vA(e,p.target),c&&(f.target="".concat(f.target," | ").concat(c)),f[fA]=vA(e,p[fA]),f.properties=function(e,t){if(t){var n={};kn(t,(function(t,r){if(fn(r)&&Qk())try{r=eC().stringify(r)}catch(t){uA(e,2,49,"custom property is not valid",{exception:t},!0)}r=vA(e,r,8192),t=gA(e,t,n),n[t]=r})),t=n}return t}(e,l),f.measurements=function(e,t){if(t){var n={};kn(t,(function(t,r){t=gA(e,t,n),n[t]=r})),t=n}return t}(e,d)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),RA="attachEvent",NA="addEventListener",OA="events",UA=(IC("aiEvtPageHide"),IC("aiEvtPageShow"),/\.[\.]+/g),jA=/[\.]+$/,FA=1,BA=MC("events"),VA=/^([^.]*)(?:\.(.+)|)/;function $A(e){return e&&e[Tk]?e[Tk](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,_k):e}function zA(e,t){var n;if(t){var r=_k;pn(t)?(r=_k,Hr(t,(function(e){(e=$A(e))&&("."!==e[0]&&(e="."+e),r+=e)}))):r=$A(t),r&&("."!==r[0]&&(r="."+r),e=(e||_k)+r)}var i=VA.exec(e||_k)||[];return(n={})[kk]=i[1],n.ns=(i[2]||_k).replace(UA,".").replace(jA,_k)[xk](".").sort().join("."),n}function HA(e,t,n,r,i){var a;void 0===i&&(i=!1);var o=!1;if(e)try{var s=zA(t,r);if(o=function(e,t,n,r){var i=!1;return e&&t&&t[kk]&&n&&(e[NA]?(e[NA](t[kk],n,r),i=!0):e[RA]&&(e[RA]("on"+t[kk],n),i=!0)),i}(e,s,n,i),o&&BA.accept(e)){var u=((a={guid:FA++,evtName:s}).handler=n,a.capture=i,a);(function(e,t,n){void 0===n&&(n=!0);var r=BA.get(e,OA,{},n),i=r[t];return i||(i=r[t]=[]),i})(e,s.type)[ZT](u)}}catch(e){}return o}var qA="ctx",KA="ParentContextKey",GA="ChildrenContextKey",XA=function(){function e(t,n,r){var i,a=this;a.start=ni(),a[ak]=t,a[hk]=r,a[Ck]=function(){return!1},dn(n)&&In(a,"payload",{g:function(){return!i&&dn(n)&&(i=n(),n=null),i}}),a[Ak]=function(t){return t?t===e[KA]||t===e[GA]?a[t]:(a[qA]||{})[t]:null},a[Ek]=function(t,n){t&&(t===e[KA]?(a[t]||(a[Ck]=function(){return!0}),a[t]=n):t===e[GA]?a[t]=n:(a[qA]=a[qA]||{})[t]=n)},a[Ik]=function(){var t=0,n=a[Ak](e[GA]);if(pn(n))for(var r=0;r<n[zT];r++){var i=n[r];i&&(t+=i[ok])}a[ok]=ni()-a.start,a.exTime=a[ok]-t,a[Ik]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),WA="CoreUtils.doPerf",YA=MC("plugin");function JA(e){return YA.get(e,"state",{},!0)}var ZA="TelemetryPluginChain",QA="_hasRun",eE="_getTelCtx",tE=0;function nE(e,t,n,r){var i=null,a=[];t||(t=YC({},null,n[YT])),null!==r&&(i=r?function(e,t,n){for(;e;){if(e[ik]()===n)return e;e=e[yk]()}return oE([n],t.config||{},t)}(e,n,r):e);var o={_next:function(){var e=i;if(i=e?e[yk]():null,!e){var t=a;t&&t[zT]>0&&(Hr(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){uA(n[YT],2,73,"Unexpected Exception during onComplete - "+Ln(e))}})),a=[])}return e},ctx:{core:function(){return n},diagLog:function(){return oA(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,n){var r=s(e,!0);return n&&kn(n,(function(e,n){if(un(r[e])){var i=t.cfg[e];!i&&un(i)||(r[e]=i)}LC(t,r,e,n)})),t[XT](r,n)},getConfig:function(e,n,r){void 0===r&&(r=!1);var i,a=s(e,!1),o=t.cfg;return!a||!a[n]&&un(a[n])?!o[n]&&un(o[n])||(i=o[n]):i=a[n],i||!un(i)?i:r},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var t;t=o._next();){var n=t[ik]();n&&e(n)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&a[ZT]({func:e,self:sn(t)?o.ctx:t,args:n})}}};function s(e,n){var r=null,i=t.cfg;if(i&&e){var a=i[Lk];!a&&n&&(a={}),i[Lk]=a,(a=t.ref(i,Lk))&&(!(r=a[e])&&n&&(r={}),a[e]=r,r=t.ref(a,e))}return r}return o}function rE(e,t,n,r){var i=YC(t),a=nE(e,i,n,r),o=a.ctx;return o[sk]=function(e){var t=a._next();return t&&t[Rk](e,o),!t},o[lk]=function(e,t){return void 0===e&&(e=null),pn(e)&&(e=oE(e,i.cfg,n,t)),rE(e||o[yk](),i.cfg,n,t)},o}function iE(e,t,n){var r=YC(t.config),i=nE(e,r,t,n),a=i.ctx;return a[sk]=function(e){var t=i._next();return t&&t[uk](a,e),!t},a[lk]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=oE(e,r.cfg,t,n)),iE(e||a[yk](),t,n)},a}function aE(e,t,n){var r=YC(t.config),i=nE(e,r,t,n).ctx;return i[sk]=function(e){return i.iterate((function(t){dn(t[mk])&&t[mk](i,e)}))},i[lk]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=oE(e,r.cfg,t,n)),aE(e||i[yk](),t,n)},i}function oE(e,t,n,r){var i=null,a=!r;if(pn(e)&&e[zT]>0){var o=null;Hr(e,(function(e){if(a||r!==e||(a=!0),a&&e&&dn(e[Rk])){var s=function(e,t,n){var r,i=null,a=dn(e[Rk]),o=dn(e[bk]),s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(r,c){u(c=c||function(){var r;return e&&dn(e[eE])&&(r=e[eE]()),r||(r=rE(s,t,n)),r}(),(function(t){if(!e||!a)return!1;var n=JA(e);return!n[dk]&&!n[Dk]&&(o&&e[bk](i),e[Rk](r,t),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||c[sk](r)},unload:function(t,n){u(t,(function(){var r=!1;if(e){var i=JA(e),a=e[Pk]||i[Pk];!e||a&&a!==t.core()||i[dk]||(i[Pk]=null,i[dk]=!0,i[rk]=!1,e[dk]&&!0===e[dk](t,n)&&(r=!0))}return r}),"unload",(function(){}),n[hk])||t[sk](n)},update:function(t,n){u(t,(function(){var r=!1;if(e){var i=JA(e),a=e[Pk]||i[Pk];!e||a&&a!==t.core()||i[dk]||e[mk]&&!0===e[mk](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t[sk](n)},_id:r=e?e[nk]+"-"+e[Nk]+"-"+tE++:"Unknown-0-"+tE++,_setNext:function(e){i=e}};function u(t,n,a,o,s){var u=!1,c=e?e[nk]:ZA,l=t[QA];return l||(l=t[QA]={}),t.setNext(i),e&&function(e,t,n,r,i){if(e){var o=e;if(o[Ok]&&(o=o[Ok]()),o){var s=void 0,u=o[Ak](WA);try{if(s=o.create(c+":"+a,r,i)){if(u&&s[Ek]&&(s[Ek](XA[KA],u),u[Ak]&&u[Ek])){var l=u[Ak](XA[GA]);l||(l=[],u[Ek](XA[GA],l)),l[ZT](s)}return o[Ek](WA,s),n()}}catch(e){s&&s[Ek]&&s[Ek]("exception",e)}finally{s&&o.fire(s),o[Ek](WA,u)}}}n()}(t[Pk](),0,(function(){l[r]=!0;try{var e=i?i._id:_k;e&&(l[e]=!1),u=n(t)}catch(e){var o=!i||l[i._id];o&&(u=!0),i&&o||uA(t[gk](),1,73,"Plugin ["+c+"] failed during "+a+" - "+Ln(e)+", run flags: "+Ln(l))}}),o,s),u}return $n(s)}(e,t,n);i||(i=s),o&&o._setNext(s),o=s}}))}return r&&!i?oE([r],t,n):i}var sE,uE="_aiHooks",cE=["req","rsp","hkErr","fnErr"];function lE(e,t){if(e)for(var n=0;n<e[zT]&&!t(e[n],n);n++);}function dE(e,t,n,r,i){i>=0&&i<=2&&lE(e,(function(e,a){var o=e.cbks,s=o[cE[i]];if(s){t.ctx=function(){return r[a]=r[a]||{}};try{s[JT](t.inst,n)}catch(e){var u=t.err;try{var c=o[cE[2]];c&&(t.err=e,c[JT](t.inst,n))}catch(e){}finally{t.err=u}}}}))}function fE(e,t,n,r){var i=null;return e&&(xn(e,t)?i=e:n&&(i=fE(Bk(e),t,r,!1))),i}function pE(e,t,n,r,i){if(void 0===r&&(r=!0),e&&t&&n){var a=fE(e,t,r,i);if(a){var o=a[t];if(typeof o===ca)return function(e,t,n,r){var i=n&&n[uE];if(!i){var a=function(e){return function(){var t,n=arguments,r=e.h,i=((t={})[ak]=e.n,t.inst=this,t.ctx=null,t.set=function(e,t){(n=s([],n))[e]=t,o=s([i],n)},t),a=[],o=s([i],n);function s(e,t){return lE(t,(function(t){e[ZT](t)})),e}i.evt=wr("event"),dE(r,i,o,a,0);var u=e.f;if(u)try{i.rslt=u[JT](this,n)}catch(e){throw i.err=e,dE(r,i,o,a,3),e}return dE(r,i,o,a,1),i.rslt}}(i={i:0,n:t,f:n,h:[]});a[uE]=i,e[t]=a}var o={id:i.i,cbks:r,rm:function(){var e=this.id;lE(i.h,(function(t,n){if(t.id===e)return i.h[QT](n,1),1}))}};return i.i++,i.h[ZT](o),o}(a,t,o,n)}}return null}var hE="getPlugin",gE=((sE={})[Lk]={isVal:function(e){return!un(e)},v:{}},sE),vE=function(){function e(){var t,n,r,i,a,o=this;function s(e){void 0===e&&(e=null);var t=e;if(!t){var i=n||rE(null,{},o[Pk]);t=r&&r[hE]?i[lk](null,r[hE]):i[lk](null,r)}return t}function u(e,t,i){YC(e,gE,oA(t)),!i&&t&&(i=t.getProcessTelContext()[yk]());var a=r;r&&r[hE]&&(a=r[hE]()),o[Pk]=t,n=rE(i,e,t,a)}function c(){var e,s;t=!1,o[Pk]=null,n=null,r=null,e=[],a={run:function(t){var n=e;e=[],Hr(n,(function(e){try{(e.rm||e.remove).call(e)}catch(e){uA(t,2,73,"Unloading:"+Ln(e))}}))},add:function(t){t&&zr(e,t)}},s=[],i={add:function(e){e&&s[ZT](e)},run:function(e,t){Hr(s,(function(n){try{n(e,t)}catch(t){uA(e[gk](),2,73,"Unexpected error calling unload handler - "+Ln(t))}})),s=[]}}}c(),ua(e,o,(function(e){e.initialize=function(e,n,r,i){u(e,n,i),t=!0},e[dk]=function(t,n){var o,s=e[Pk];if(s&&(!t||s===t[Pk]())){var u,l=!1,d=t||iE(null,s,r&&r[hE]?r[hE]():r),f=n||((o={reason:0})[hk]=!1,o);return e[vk]&&!0===e[vk](d,f,p)?u=!0:p(),u}function p(){l||(l=!0,i.run(d,n),a.run(d[gk]()),!0===u&&d[sk](f),c())}},e[mk]=function(t,n){var i=e[Pk];if(i&&(!t||i===t[Pk]())){var a,o=!1,s=t||aE(null,i,r&&r[hE]?r[hE]():r),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,c,l)?a=!0:l(),a}function l(){o||(o=!0,u(s.getCfg(),s.core(),s[yk]()))}},zk(e,"_addUnloadCb",(function(){return i}),"add"),zk(e,"_addHook",(function(){return a}),"add"),In(e,"_unloadHooks",{g:function(){return a}})})),o[gk]=function(e){return s(e)[gk]()},o[rk]=function(){return t},o.setInitialized=function(e){t=e},o[bk]=function(e){r=e},o[sk]=function(e,t){t?t[sk](e):r&&dn(r[Rk])&&r[Rk](e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}(),mE="duration",yE="properties",bE="requestUrl",wE="inst",xE="length",SE="traceID",TE="spanID",kE="traceFlags",CE="context",AE="aborted",EE="traceId",IE="spanId",ME="_addHook",_E="core",PE="includeCorrelationHeaders",DE="getAbsoluteUrl",LE="headers",RE="requestHeaders",NE="setRequestHeader",OE="trackDependencyDataInternal",UE="startTime",jE="toLowerCase",FE="enableRequestHeaderTracking",BE="enableAjaxErrorStatusText",VE="enableAjaxPerfTracking",$E="maxAjaxCallsPerView",zE="excludeRequestFromAutoTrackingPatterns",HE="addRequestContext",qE="disableAjaxTracking",KE="ajaxPerfLookupDelay",GE="disableFetchTracking",XE="enableResponseHeaderTracking",WE="status",YE="statusText",JE="headerMap",ZE="openDone",QE="sendDone",eI="requestSentTime",tI="abortDone",nI="getTraceId",rI="getTraceFlags",iI="method",aI="errorStatusText",oI="stateChangeAttached",sI="responseText",uI="responseFinishedTime",cI="CreateTrackItem",lI="response",dI="getAllResponseHeaders",fI="getPartAProps",pI="perfMark",hI="name",gI="perfTiming",vI="exception",mI="ajaxDiagnosticsMessage",yI="correlationContext",bI="ajaxTotalDuration",wI="eventTraceCtx";function xI(e){var t="ai."+e+".";return function(e){return t+e}}var SI=xI("application"),TI=xI("device"),kI=xI("location"),CI=xI("operation"),AI=xI("session"),EI=xI("user"),II=xI("cloud"),MI=xI("internal"),_I=function(e){function t(){return e.call(this)||this}return ya(t,e),t}(function(e){return function(){var t=this;e&&kn(e,(function(e,n){t[e]=n}))}}({applicationVersion:SI("ver"),applicationBuild:SI("build"),applicationTypeId:SI("typeId"),applicationId:SI("applicationId"),applicationLayer:SI("layer"),deviceId:TI("id"),deviceIp:TI("ip"),deviceLanguage:TI("language"),deviceLocale:TI("locale"),deviceModel:TI("model"),deviceFriendlyName:TI("friendlyName"),deviceNetwork:TI("network"),deviceNetworkName:TI("networkName"),deviceOEMName:TI("oemName"),deviceOS:TI("os"),deviceOSVersion:TI("osVersion"),deviceRoleInstance:TI("roleInstance"),deviceRoleName:TI("roleName"),deviceScreenResolution:TI("screenResolution"),deviceType:TI("type"),deviceMachineName:TI("machineName"),deviceVMName:TI("vmName"),deviceBrowser:TI("browser"),deviceBrowserVersion:TI("browserVersion"),locationIp:kI("ip"),locationCountry:kI("country"),locationProvince:kI("province"),locationCity:kI("city"),operationId:CI("id"),operationName:CI("name"),operationParentId:CI("parentId"),operationRootId:CI("rootId"),operationSyntheticSource:CI("syntheticSource"),operationCorrelationVector:CI("correlationVector"),sessionId:AI("id"),sessionIsFirst:AI("isFirst"),sessionIsNew:AI("isNew"),userAccountAcquisitionDate:EI("accountAcquisitionDate"),userAccountId:EI("accountId"),userAgent:EI("userAgent"),userId:EI("id"),userStoreRegion:EI("storeRegion"),userAuthUserId:EI("authUserId"),userAnonymousUserAcquisitionDate:EI("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:EI("authUserAcquisitionDate"),cloudName:II("name"),cloudRole:II("role"),cloudRoleVer:II("roleVer"),cloudRoleInstance:II("roleInstance"),cloudEnvironment:II("environment"),cloudLocation:II("location"),cloudDeploymentUnit:II("deploymentUnit"),internalNodeName:MI("nodeName"),internalSdkVersion:MI("sdkVersion"),internalAgentVersion:MI("agentVersion"),internalSnippet:MI("snippet"),internalSdkSrc:MI("sdkSrc")}));function PI(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=MA(i,a)),r}function DI(e,t,n,r,i){var a=0,o=PI(n,r,i);return o&&(a=LI(e,t,DA(o))),a}function LI(e,t,n){var r="ajaxPerf",i=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,i=1),i}new _I;var RI,NI=function(){var e=this;e[ZE]=!1,e.setRequestHeaderDone=!1,e[QE]=!1,e[tI]=!1,e[oI]=!1},OI=function(){function e(t,n,r,i){var a,o=this,s=r;o[pI]=null,o.completed=!1,o.requestHeadersSize=null,o[RE]=null,o.responseReceivingDuration=null,o.callbackDuration=null,o[bI]=null,o[AE]=0,o.pageUrl=null,o[bE]=null,o.requestSize=0,o[iI]=null,o[WE]=null,o[eI]=null,o.responseStartedTime=null,o[uI]=null,o.callbackFinishedTime=null,o.endTime=null,o.xhrMonitoringState=new NI,o.clientFailure=0,o[SE]=t,o[TE]=n,o[kE]=null==i?void 0:i.getTraceFlags(),o[wI]=i?((a={})[EE]=i[nI](),a[IE]=i.getSpanId(),a[kE]=i[rI](),a):null,ua(e,o,(function(e){e.getAbsoluteUrl=function(){return e[bE]?function(e){var t,n=SA(e);return n&&(t=n.href),t}(e[bE]):null},e.getPathName=function(){return e[bE]?mA(s,(t=e[iI],n=e[bE],t?t.toUpperCase()+" "+n:n)):null;var t,n},e[cI]=function(t,n,r){var i;if(e.ajaxTotalDuration=Math.round(1e3*MA(e.requestSentTime,e.responseFinishedTime))/1e3,e[bI]<0)return null;var a=((i={id:"|"+e[SE]+"."+e[TE],target:e[DE]()})[hI]=e.getPathName(),i.type=t,i[UE]=null,i.duration=e[bI],i.success=+e[WE]>=200&&+e[WE]<400,i.responseCode=+e[WE],i[yE]={HttpMethod:e[iI]},i),o=a[yE];if(e[AE]&&(o[AE]=!0),e[eI]&&(a[UE]=new Date,a[UE].setTime(e[eI])),function(e,t){var n=e[gI],r=t[yE]||{},i=0,a="name",o="Start",s="End",u="domainLookup",c="connect",l="redirect",d="request",f="response",p="startTime",h=u+o,g=u+s,v=c+o,m=c+s,y=d+o,b=d+s,w=f+o,x=f+s,S=l+o,T=l=s,k="transferSize",C="encodedBodySize",A="decodedBodySize",E="serverTiming";if(n){i|=DI(r,l,n,S,T),i|=DI(r,u,n,h,g),i|=DI(r,c,n,v,m),i|=DI(r,d,n,y,b),i|=DI(r,f,n,w,x),i|=DI(r,"networkConnect",n,p,m),i|=DI(r,"sentRequest",n,y,x);var I=n[mE];I||(I=PI(n,p,x)||0),i|=LI(r,mE,I),i|=LI(r,"perfTotal",I);var M=n[E];if(M){var _={};Hr(M,(function(e,t){var n=Vk(e[a]||""+t),r=_[n]||{};kn(e,(function(e,t){(e!==a&&ln(t)||gn(t))&&(r[e]&&(t=r[e]+";"+t),!t&&ln(t)||(r[e]=t))})),_[n]=r})),i|=LI(r,E,_)}i|=LI(r,k,n[k]),i|=LI(r,C,n[C]),i|=LI(r,A,n[A])}else e[pI]&&(i|=LI(r,"missing",e.perfAttempts));i&&(t[yE]=r)}(e,a),n&&Bn(e.requestHeaders)[xE]>0&&(o[RE]=e[RE]),r){var s=r();if(s){var u=s[yI];if(u&&(a.correlationContext=u),s[JE]&&Bn(s.headerMap)[xE]>0&&(o.responseHeaders=s[JE]),e[aI])if(e[WE]>=400){var c=s.type;""!==c&&"text"!==c||(o.responseText=s.responseText?s[YE]+" - "+s.responseText:s[YE]),"json"===c&&(o.responseText=s.response?s[YE]+" - "+JSON.stringify(s[lI]):s[YE])}else 0===e[WE]&&(o.responseText=s[YE]||"")}}return a},e[fI]=function(){var t,n=null,r=e[wI];if(r&&(r[EE]||r[IE])){var i=(n={}).trace=((t={})[SE]=r[EE],t.parentID=r[IE],t);un(r[kE])||(i[kE]=r[kE])}return n}}))}return e.__ieDyn=1,e}(),UI="diagLog",jI="_ajaxData",FI="fetch",BI="Failed to monitor XMLHttpRequest",VI=", monitoring data for this ajax call ",$I=VI+"may be incorrect.",zI=VI+"won't be sent.",HI="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",qI="Failed to add custom defined request context as configured call back may missing a null check.",KI="Failed to calculate the duration of the ",GI=0;function XI(e,t){var n,r,i=!1;if(function(){var e=!1;try{e=!!wr(Wk)}catch(e){}return e}()){var a=XMLHttpRequest[fa];i=!(un(a)||un(a.open)||un(a.send)||un(a.abort))}var o=function(e){if(void 0===e&&(e=null),!e){var t=Ir()||{};e=t?(t.userAgent||_k)[VT]():_k}var n=(e||_k)[VT]();if($k(n,Gk)){var r=Sr()||{};return Math.max(parseInt(n[xk](Gk)[1]),r.documentMode||0)}if($k(n,Xk)){var i=parseInt(n[xk](Xk)[1]);if(i)return i+4}return null}();if(o&&o<9&&(i=!1),i)try{var s=new XMLHttpRequest,u={xh:[],i:(n={},n[t]={},n)};s[jI]=u;var c=XMLHttpRequest[fa].open;XMLHttpRequest[fa].open=c}catch(t){i=!1,ZI(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",((r={})[vI]=Ln(t),r))}return i}var WI=function(e,t){return e&&t&&e[jI]?(e[jI].i||{})[t]:null},YI=function(e,t){var n=!1;if(e){var r=(e[jI]||{}).xh;r&&Hr(r,(function(e){if(e.n===t)return n=!0,-1}))}return n};function JI(e,t){var n="";try{var r=WI(e,t);r&&r[bE]&&(n+="(url: '"+r[bE]+"')")}catch(e){}return n}function ZI(e,t,n,r,i){uA(e[UI](),1,t,n,r,i)}function QI(e,t,n,r,i){uA(e[UI](),2,t,n,r,i)}function eM(e,t,n){return function(r){var i;ZI(e,t,n,((i={ajaxDiagnosticsMessage:JI(r[wE],e._ajaxDataId)})[vI]=Ln(r.err),i))}}function tM(e,t){return e&&t?Ci(e,t):-1}function nM(e,t,n){var r={id:t,fn:n};return e.push(r),{remove:function(){Hr(e,(function(t,n){if(t.id===r.id)return e.splice(n,1),-1}))}}}function rM(e,t,n,r){var i=!0;return Hr(t,(function(t,a){try{!1===t.fn.call(null,n)&&(i=!1)}catch(t){uA(e&&e.logger,1,64,"Dependency "+r+" [#"+a+"] failed: "+(mn(o=t)?o[ak]:_k),{exception:Ln(t)},!0)}var o})),i}var iM="*.blob.core.",aM=$n([iM+"windows.net",iM+"chinacloudapi.cn",iM+"cloudapi.de",iM+"usgovcloudapi.net"]),oM=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],sM=$n(((RI={})[$E]=500,RI[qE]=!1,RI[GE]=!1,RI[zE]=void 0,RI.disableCorrelationHeaders=!1,RI.distributedTracingMode=1,RI.correlationHeaderExcludedDomains=aM,RI.correlationHeaderDomains=void 0,RI.correlationHeaderExcludePatterns=void 0,RI.appId=void 0,RI.enableCorsCorrelation=!1,RI[FE]=!1,RI[XE]=!1,RI[BE]=!1,RI[VE]=!1,RI.maxAjaxPerfLookupAttempts=3,RI[KE]=25,RI.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],RI[HE]=void 0,RI.addIntEndpoints=!0,RI)),uM=function(e){function t(){var n,r,i,a,o,s,u,c,l,d,f,p,h,g,v,m,y,b,w,x,S,T,k,C,A,E,I,M,_,P,D=e.call(this)||this;return D.identifier=t.identifier,D.priority=120,ua(t,D,(function(e,D){var L=D[ME];function R(){var t=Zk();n=!1,r=!1,P=!1,i=t&&t.host&&t.host[jE](),a=null,o=!1,s=!1,u=0,c=null,l=!1,d=!1,f=null,p=!1,h=0,g=!1,v={},m=!1,y=!1,b=null,w=null,x=null,T=0,k=[],C=[],S=IC("ajaxData"),e._ajaxDataId=S,A=null,E=1,I=1,M=1,_=null}function N(e){var t=!0;return(e||A)&&Hr(A,(function(n){if(n[jE]()===e[jE]())return t=!1,-1})),t}function O(e,t,n){L(function(e,t,n){return e?pE(e[fa],t,n,!1):null}(e,t,n))}function U(e,t,n){var r=!1,i=((ln(t)?t:(t||{}).url||"")||"")[jE]();if(Hr(b,(function(e){var t=e;ln(e)&&(t=new RegExp(e)),r||(r=t.test(i))})),r)return r;var a=tM(i,"?"),o=tM(i,"#");return(-1===a||-1!==o&&o<a)&&(a=o),-1!==a&&(i=i.substring(0,a)),un(e)?un(t)||(r="object"==typeof t&&!0===t[wC]||!!n&&!0===n[wC]):r=!0===e[wC]||!0===i[wC],!r&&i&&-1!==qr(CA,i[dA]())&&(r=!0),r?v[i]||(v[i]=1):v[i]&&(r=!0),r}function j(e,t,n){var i=!0,a=r;return un(e)||(i=!0===n||!un(t)),a&&i}function F(){var t,n,r=null;return e[_E]&&e[_E].getTraceCtx&&(r=e[_E].getTraceCtx(!1)),!r&&c&&c.telemetryTrace&&(t=c.telemetryTrace,n=t||{},r={getName:function(){return n[fA]},setName:function(e){n[fA]=e},getTraceId:function(){return n.traceID},setTraceId:function(e){mC(e)&&(n.traceID=e)},getSpanId:function(){return n.parentID},setSpanId:function(e){yC(e)&&(n.parentID=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){n.traceFlags=e}}),r}function B(e,t){if(t[bE]&&f&&p){var n=bi();if(n&&dn(n.mark)){GI++;var r=f+e+"#"+GI;n.mark(r);var i=n.getEntriesByName(r);i&&1===i[xE]&&(t[pI]=i[0])}}}function V(e,t,n,r){var i=t[pI],a=bi(),o=E,s=I,u=t[bE],c=0;!function l(){try{if(a&&i){c++;for(var d=null,f=a.getEntries(),p=f[xE]-1;p>=0;p--){var h=f[p];if(h){if("resource"===h.entryType)h.initiatorType!==e||-1===tM(h[hI],u)&&-1===tM(u,h[hI])||(d=h);else if("mark"===h.entryType&&h[hI]===i[hI]){t[gI]=d;break}if(h[UE]<i[UE]-1e3)break}}}!i||t[gI]||c>=o||!1===t.async?(i&&dn(a.clearMarks)&&a.clearMarks(i[hI]),t.perfAttempts=c,n()):Pi(l,s)}catch(e){r(e)}}()}function $(t){var n="";try{un(t)||(n+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(t){ZI(e,15,"Failed to grab failed fetch diagnostics message",{exception:Ln(t)})}return n}function z(t,n,r,i,a,s,u){function c(t,n,i){var a=i||{};a.fetchDiagnosticsMessage=$(r),n&&(a.exception=Ln(n)),QI(e,t,KI+"fetch call"+zI,a)}a&&(a[uI]=IA(),a[WE]=n,V(FI,a,(function(){var t,u=a[cI]("Fetch",o,s);try{w&&(t=w({status:n,request:r,response:i}))}catch(t){QI(e,104,qI)}if(u){void 0!==t&&(u[yE]=va(va({},u.properties),t));var l=a[fI]();H(C,e[_E],a,u,null,l)}else c(14,null,{requestSentTime:a[eI],responseFinishedTime:a[uI]})}),(function(e){c(18,e,null)})))}function H(t,n,r,i,a,o){var s,u=!0;t[xE]>0&&(u=rM(n,t,((s={item:i})[yE]=a,s.sysProperties=o,s.context=r?r[CE]:null,s.aborted=!!r&&!!r[AE],s),"initializer")),u&&e[OE](i,a,o)}R(),e.initialize=function(i,u,v,T){var k,R,q;e.isInitialized()||(D.initialize(i,u,v,T),R=IC("ajax"),q=u&&u.evtNamespace&&u.evtNamespace(),x=q?zA("xx",pn(q)?[R].concat(q):[R,q]).ns[xk]("."):R,function(n){e[ME](JC(n,(function(n){var r=rE(null,n.cfg,e[_E]);a=r.getExtCfg(t.identifier,sM),M=a.distributedTracingMode,o=a[FE],s=a[BE],p=a[VE],h=a[$E],b=[].concat(a[zE]||[],!1!==a.addIntEndpoints?oM:[]),w=a[HE],d=0===M||1===M,l=1===M||2===M,p&&(f=S),m=!!a[qE],E=a.maxAjaxPerfLookupAttempts,I=a[KE],A=a.ignoreHeaders,_=a.appId})))}(i),XI(e,S)&&e[ME](JC(a,(function(){m=!!a[qE],o=a[FE],m||r||(O(XMLHttpRequest,"open",{ns:x,req:function(t,n,r,i){if(!m){var a=t[wE],u=WI(a,S);!U(a,r)&&j(a,u,!0)&&(u&&u.xhrMonitoringState[ZE]||(u=function(t,n,r,i){var a,o=F(),u=o&&o[nI]()||lC(),c=ir(lC(),0,16),l=t[jI]=t[jI]||{xh:[],i:{}},d=l.i=l.i||{},f=d[S]=d[S]||new OI(u,c,e[UI](),null===(a=e.core)||void 0===a?void 0:a.getTraceCtx());return f[kE]=o&&o[rI](),f[iI]=n,f[bE]=r,f.xhrMonitoringState[ZE]=!0,f[RE]={},f.async=i,f[aI]=s,f}(a,n,r,i)),function(t,n){n.xhrMonitoringState[oI]=HA(t,"readystatechange",(function(){var r;try{t&&4===t.readyState&&j(t,n)&&function(t){var n=WI(t,S);function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=JI(t,S),n&&(i.exception=Ln(n)),QI(e,14,KI+"ajax call"+zI,i)}n[uI]=IA(),n[WE]=t[WE],V("xmlhttprequest",n,(function(){try{var i=n[cI]("Ajax",o,(function(){var n,r=((n={statusText:t[YE]})[JE]=null,n[yI]=function(t){var n;try{var r=t[dI]();if(null!==r&&-1!==tM(r[jE](),TC[8]))return EA(t.getResponseHeader(TC[0]))}catch(r){QI(e,18,HI,((n={})[mI]=JI(t,S),n[vI]=Ln(r),n))}}(t),n.type=t.responseType,n[sI]=function(e){try{var t=e.responseType;if(""===t||"text"===t)return e[sI]}catch(e){}return null}(t),n.response=t[lI],n);if(g){var i=t[dI]();if(i){var a=ui(i).split(/[\r\n]+/),o={};Hr(a,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");N(n)&&(o[n]=r)})),r[JE]=o}}return r})),a=void 0;try{w&&(a=w({status:t[WE],xhr:t}))}catch(t){QI(e,104,qI)}if(i){void 0!==a&&(i[yE]=va(va({},i.properties),a));var s=n[fI]();H(C,e[_E],n,i,null,s)}else r(null,{requestSentTime:n[eI],responseFinishedTime:n[uI]})}finally{try{var u=(t[jI]||{i:{}}).i||{};u[S]&&(u[S]=null)}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(n){var i=Ln(n);i&&-1!==tM(i[jE](),"c00c023f")||ZI(e,16,BI+" 'readystatechange' event handler"+$I,((r={})[mI]=JI(t,S),r[vI]=i,r))}}),x)}(a,u))}},hkErr:eM(e,15,BI+".open"+$I)}),O(XMLHttpRequest,"send",{ns:x,req:function(t,n){if(!m){var r=t[wE],i=WI(r,S);j(r,i)&&!i.xhrMonitoringState[QE]&&(B("xhr",i),i[eI]=IA(),e[PE](i,void 0,void 0,r),i.xhrMonitoringState[QE]=!0)}},hkErr:eM(e,17,BI+$I)}),O(XMLHttpRequest,"abort",{ns:x,req:function(e){if(!m){var t=e[wE],n=WI(t,S);j(t,n)&&!n.xhrMonitoringState[tI]&&(n[AE]=1,n.xhrMonitoringState[tI]=!0)}},hkErr:eM(e,13,BI+".abort"+$I)}),O(XMLHttpRequest,"setRequestHeader",{ns:x,req:function(e,t,n){if(!m){var r=e[wE],i=WI(r,S);i&&j(r,i)&&(function(e,t,n){if(e){var r=(e[jI]||{}).xh;r&&r.push({n:t,v:n})}}(r,t,n),o&&N(t)&&i&&(i[RE][t]=n))}},hkErr:eM(e,71,BI+".setRequestHeader"+$I)}),r=!0)}))),function(){var t,i=!(t=br())||un(t.Request)||un(t.Request[fa])||un(t[FI])?null:t[FI];if(i){var u=br(),c=i.polyfill;e[ME](JC(a,(function(){y=!!a[GE],g=a[XE],y||n?c&&!P&&(L(pE(u,FI,{ns:x,req:function(e,t,n){U(null,t,n)}})),P=!0):(L(pE(u,FI,{ns:x,req:function(t,i,a){var u;if(!y&&n&&!U(null,i,a)&&(!c||!r)){var l=t.ctx();u=function(t,n){var r,i,a=F(),u=a&&a[nI]()||lC(),c=ir(lC(),0,16),l=new OI(u,c,e[UI](),null===(r=e.core)||void 0===r?void 0:r.getTraceCtx());if(l[kE]=a&&a[rI](),l[eI]=IA(),l[aI]=s,""===(i=t instanceof Request?(t||{}).url||"":t)){var d=Zk();d&&d.href&&(i=wi(d.href,"#")[0])}l[bE]=i;var f="GET";n&&n[iI]?f=n[iI]:t&&t instanceof Request&&(f=t[iI]),l[iI]=f;var p={};return o&&new Headers((n?n[LE]:0)||t instanceof Request&&t[LE]||{}).forEach((function(e,t){N(t)&&(p[t]=e)})),l[RE]=p,B(FI,l),l}(i,a);var d=e[PE](u,i,a);d!==a&&t.set(1,d),l.data=u}},rsp:function(t,n){if(!y){var r=t.ctx().data;r&&(t.rslt=t.rslt.then((function(t){return z(0,(t||{})[WE],n,t,r,(function(){var n,r=((n={statusText:(t||{})[YE]})[JE]=null,n[yI]=function(t){var n;if(t&&t[LE])try{return EA(t[LE].get(TC[0]))}catch(r){QI(e,18,HI,((n={fetchDiagnosticsMessage:$(t)})[vI]=Ln(r),n))}}(t),n);if(g&&t){var i={};t.headers.forEach((function(e,t){N(t)&&(i[t]=e)})),r[JE]=i}return r})),t})).catch((function(e){throw z(0,0,n,null,r,null,e.message||Ln(e)),e})))}},hkErr:eM(e,15,"Failed to monitor Window.fetch"+$I)},!0,Pr())),n=!0)}))),c&&(u[FI].polyfill=c)}}(),(k=e[_E].getPlugin("AppInsightsPropertiesPlugin"))&&(c=k.plugin[CE]))},e._doTeardown=function(){R()},e.trackDependencyData=function(t,n){H(C,e[_E],null,t,n)},e[PE]=function(t,n,r,s){var u=e._currentWindowHost||i;if(function(e,t,n,r,i,a){var o;if(e[xE]>0){var s=((o={})[_E]=t,o.xhr=r,o.input=i,o.init=a,o.traceId=n[SE],o.spanId=n[TE],o.traceFlags=n[kE],o.context=n[CE]||{},o.aborted=!!n[AE],o);rM(t,e,s,"listener"),n[SE]=s[EE],n[TE]=s[IE],n[kE]=s[kE],n[CE]=s[CE]}}(k,e[_E],t,s,n,r),n||""===n){if(AA(a,t[DE](),u)){r||(r={});var f=new Headers(r[LE]||n instanceof Request&&n[LE]||{});if(d){var p="|"+t[SE]+"."+t[TE];f.set(TC[3],p),o&&(t[RE][TC[3]]=p)}if((g=_||c&&c.appId())&&(f.set(TC[0],TC[2]+g),o&&(t[RE][TC[0]]=TC[2]+g)),l){un(v=t[kE])&&(v=1);var h=bC(vC(t[SE],t[TE],v));f.set(TC[4],h),o&&(t[RE][TC[4]]=h)}r[LE]=f}return r}if(s){var g,v;if(AA(a,t[DE](),u))d&&(YI(s,TC[3])?QI(e,71,"Unable to set ["+TC[3]+"] as it has already been set by another instance"):(p="|"+t[SE]+"."+t[TE],s[NE](TC[3],p),o&&(t[RE][TC[3]]=p))),(g=_||c&&c.appId())&&(YI(s,TC[0])?QI(e,71,"Unable to set ["+TC[0]+"] as it has already been set by another instance"):(s[NE](TC[0],TC[2]+g),o&&(t[RE][TC[0]]=TC[2]+g))),l&&(un(v=t[kE])&&(v=1),YI(s,TC[4])?QI(e,71,"Unable to set ["+TC[4]+"] as it has already been set by another instance"):(h=bC(vC(t[SE],t[TE],v)),s[NE](TC[4],h),o&&(t[RE][TC[4]]=h)));return s}},e[OE]=function(t,n,r){if(-1===h||u<h){2!==M&&1!==M||"string"!=typeof t.id||"."===t.id[t.id[xE]-1]||(t.id+="."),un(t[UE])&&(t[UE]=new Date);var i=_A(t,LA.dataType,LA.envelopeType,e[UI](),n,r);e[_E].track(i)}else u===h&&ZI(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++u},e.addDependencyListener=function(e){return nM(k,T++,e)},e.addDependencyInitializer=function(e){return nM(C,T++,e)}})),D}return ya(t,e),t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.prototype.addDependencyInitializer=function(e){return null},t.identifier="AjaxDependencyPlugin",t}(vE),cM="length",lM="toString",dM="removeItem",fM="name",pM="toLowerCase",hM="blkVal",gM="length",vM="rdOnly",mM="notify",yM="warnToConsole",bM="throwInternal",wM="setDf",xM="watch",SM="logger",TM="apply",kM="push",CM="splice",AM="hdlr",EM="cancel",IM="identifier",MM="isInitialized",_M="getPlugin",PM="name",DM="time",LM="processNext",RM="enabled",NM="unload",OM="createNew",UM="teardown",jM="messageId",FM="message",BM="isAsync",VM="diagLog",$M="_doTeardown",zM="update",HM="getNext",qM="setNextPlugin",KM="protocol",GM="userAgent",XM="split",WM="nodeType",YM="replace",JM="logInternalMessage",ZM="isChildEvt",QM="getCtx",e_="setCtx",t_="complete",n_=void 0,r_="",i_="core",a_="disabled",o_="extensionConfig",s_="processTelemetry",u_="priority",c_="getPerfMgr",l_="domain",d_="path",f_="Not dynamic - ",p_=/-([a-z])/g,h_=/([^\w\d_$])/g,g_=/^(\d+[\w\d_$])/;function v_(e){return!un(e)}function m_(e){var t=e;return t&&ln(t)&&(t=(t=(t=t[YM](p_,(function(e,t){return t.toUpperCase()})))[YM](h_,"_"))[YM](g_,(function(e,t){return"_"+t}))),t}function y_(e,t){return!(!e||!t)&&-1!==Ci(e,t)}function b_(e){return mn(e)?e[PM]:r_}function w_(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(a=n,e[t]=a)),a}function x_(e,t,n){var r;return e?!(r=e[t])&&un(r)&&(r=sn(n)?{}:n,e[t]=r):r=sn(n)?{}:n,r}function S_(e,t,n,r,i){e&&t&&n&&(!1!==i||sn(e[t]))&&(e[t]=function(e,t){var n=null,r=null;return dn(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t][TM](r,e)}}(n,r))}Object.getPrototypeOf;var T_="location",k_="JSON",C_="crypto",A_="msCrypto",E_="msie",I_="trident/",M_=null,__=null,P_=!1;function D_(e){if(e&&P_){var t=wr("__mockLocation");if(t)return t}return typeof location===la&&location?location:wr(T_)}function L_(){return Boolean(typeof JSON===la&&JSON||null!==wr(k_))}function R_(){return L_()?JSON||wr(k_):null}function N_(){var e=Ir();if(e&&(e[GM]!==__||null===M_)){var t=((__=e[GM])||r_)[pM]();M_=y_(t,E_)||y_(t,I_)}return M_}var O_=4294967296,U_=4294967295,j_=123456789,F_=987654321,B_=!1,V_=j_,$_=F_;function z_(){try{var e=2147483647&ni();(t=(Math.random()*O_^e)+e)<0&&(t>>>=0),V_=j_+t&U_,$_=F_-t&U_,B_=!0}catch(e){}var t}function H_(e){var t=0,n=wr(C_)||wr(A_);return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&U_),0===t&&N_()&&(B_||z_(),t=function(e){var t=(($_=36969*(65535&$_)+($_>>16)&U_)<<16)+(65535&(V_=18e3*(65535&V_)+(V_>>16)&U_))>>>0&U_|0;return t>>>=0}()&U_),0===t&&(t=Math.floor(O_*Math.random()|0)),e||(t>>>=0),t}function q_(e){void 0===e&&(e=22);for(var t=H_()>>>0,n=0,r=r_;r[gM]<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(H_()<<2&4294967295|3&t)>>>0,n=0);return r}var K_="3.3.3",G_="."+q_(6),X_=0;function W_(e){return 1===e[WM]||9===e[WM]||!+e[WM]}function Y_(e,t){return void 0===t&&(t=!1),m_(e+X_+++(t?"."+K_:r_)+G_)}function J_(e){return e&&fn(e)&&(e.isVal||e.fb||Sn(e,"v")||Sn(e,"mrg")||Sn(e,"ref")||e.set)}function Z_(e,t,n){var r,i=n.dfVal||cn;if(t&&n.fb){var a=n.fb;pn(a)||(a=[a]);for(var o=0;o<a[gM];o++){var s=a[o],u=t[s];if(i(u)?r=u:e&&(i(u=e.cfg[s])&&(r=u),e.set(e.cfg,Pn(s),u)),i(r))break}}return!i(r)&&i(n.v)&&(r=n.v),r}function Q_(e,t,n){var r,i=n;return n&&J_(n)&&(i=Z_(e,t,n)),i&&(J_(i)&&(i=Q_(e,t,i)),pn(i)?(r=[])[gM]=i[gM]:ci(i)&&(r={}),r&&(kn(i,(function(n,i){i&&J_(i)&&(i=Q_(e,t,i)),r[n]=i})),i=r)),i}function eP(e,t,n,r){var i,a,o,s,u,c,l,d,f=r;J_(f)?(i=f.isVal,a=f.set,c=f[vM],l=f[hM],s=f.mrg,!(u=f.ref)&&sn(u)&&(u=!!s),o=Z_(e,t,f)):o=r,l&&e[hM](t,n);var p=!0,h=t[n];!h&&un(h)||(d=h,p=!1,i&&d!==o&&!i(d)&&(d=o,p=!0),a&&(p=(d=a(d,o,t))===o)),p?d=o?Q_(e,t,o):o:(ci(d)||pn(o))&&s&&o&&(ci(o)||pn(o))&&kn(o,(function(t,n){eP(e,d,t,n)})),e.set(t,n,d),u&&e.ref(t,n),c&&e[vM](t,n)}var tP=jr("[[ai_dynCfg_1]]"),nP=jr("[[ai_blkDynCfg_1]]"),rP=jr("[[ai_frcDynCfg_1]]");function iP(e){var t;return e&&(pn(e)?(t=[])[gM]=e[gM]:ci(e)&&(t={}),t)?(kn(e,(function(e,n){t[e]=iP(n)})),t):e}function aP(e,t,n){var r=!1;return n&&!e[t.blkVal]&&((r=n[rP])||n[nP]||(r=ci(n)||pn(n))),r}function oP(e){Nn("InvalidAccess:"+e)}var sP,uP=["push","pop","shift","unshift","splice"],cP=function(e,t,n,r){e&&e[bM](3,108,"".concat(n," [").concat(t,"] failed - ")+Ln(r))};function lP(e,t){var n=wn(e,t);return n&&n.get}function dP(e,t,n,r){if(t){var i=lP(t,n);i&&i[e.prop]?t[n]=r:function(e,t,n,r){var i={n:n,h:[],trk:function(t){t&&t.fn&&(-1===qr(i.h,t)&&i.h[kM](t),e.trk(t,i))},clr:function(e){var t=qr(i.h,e);-1!==t&&i.h[CM](t,1)}},a=!0,o=!1;function s(){a&&(o=o||aP(s,e,r),r&&!r[tP]&&o&&(r=pP(e,r,n,"Converting")),a=!1);var t=e.act;return t&&i.trk(t),r}s[e.prop]={chng:function(){e.add(i)}},In(t,i.n,{g:s,s:function(u){if(r!==u){s[e.ro]&&!e.upd&&oP("["+n+"] is read-only:"+Ln(t)),a&&(o=o||aP(s,e,r),a=!1);var c=o&&s[e.rf];if(o)if(c){kn(r,(function(e){r[e]=u?u[e]:n_}));try{kn(u,(function(t,n){dP(e,r,t,n)})),u=r}catch(t){cP((e.hdlr||{})[SM],n,"Assigning",t),o=!1}}else r&&r[tP]&&kn(r,(function(t){var n=lP(r,t);if(n){var i=n[e.prop];i&&i.chng()}}));if(u!==r){var l=u&&aP(s,e,u);!c&&l&&(u=pP(e,u,n,"Converting")),r=u,o=l}e.add(i)}}})}(e,t,n,r)}return t}function fP(e,t,n,r){if(t){var i=lP(t,n),a=i&&!!i[e.prop],o=r&&r[0],s=r&&r[1],u=r&&r[2];if(!a){if(u)try{!function(e){if(e&&(ci(e)||pn(e)))try{e[nP]=!0}catch(e){}}(t)}catch(t){cP((e.hdlr||{})[SM],n,"Blocking",t)}try{dP(e,t,n,t[n]),i=lP(t,n)}catch(t){cP((e.hdlr||{})[SM],n,"State",t)}}o&&(i[e.rf]=o),s&&(i[e.ro]=s),u&&(i[e.blkVal]=!0)}return t}function pP(e,t,n,r){try{kn(t,(function(n,r){dP(e,t,n,r)})),t[tP]||(An(t,tP,{get:function(){return e[AM]}}),function(e,t,n){pn(t)&&Hr(uP,(function(r){var i=t[r];t[r]=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=i[TM](this,r);return pP(e,t,n,"Patching"),o}}))}(e,t,n))}catch(t){cP((e.hdlr||{})[SM],n,r,t)}return t}var hP="[[ai_",gP="]]";function vP(e,t,n){var r,i=function(e){if(e){var t=e[tP]||e;if(t.cfg&&(t.cfg===e||t.cfg[tP]===t))return t}return null}(t);if(i)return i;var a,o=Y_("dyncfg",!0),s=t&&!1!==n?t:iP(t),u=((r={uid:null,cfg:s})[SM]=e,r[mM]=function(){a[mM]()},r.set=function(t,n,r){try{t=dP(a,t,n,r)}catch(t){cP(e,n,"Setting value",t)}return t[n]},r[wM]=function(e,t){return t&&kn(t,(function(t,n){eP(u,e,t,n)})),e},r[xM]=function(e){return function(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return In(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),e.use(n,t),n}(a,e)},r.ref=function(e,t){var n;return fP(a,e,t,(n={},n[0]=!0,n))[t]},r[vM]=function(e,t){var n;return fP(a,e,t,(n={},n[1]=!0,n))[t]},r[hM]=function(e,t){var n;return fP(a,e,t,(n={},n[2]=!0,n))[t]},r._block=function(e,t){a.use(null,(function(n){var r=a.upd;try{sn(t)||(a.upd=t),e(n)}finally{a.upd=r}}))},r);return In(u,"uid",{c:!1,e:!1,w:!1,v:o}),pP(a=function(e){var t,n,r=Ur(hP+"get"+e.uid+gP),i=Ur(hP+"ro"+e.uid+gP),a=Ur(hP+"rf"+e.uid+gP),o=Ur(hP+"blkVal"+e.uid+gP),s=Ur(hP+"dtl"+e.uid+gP),u=null,c=null;function l(t,r){var i=n.act;try{n.act=t,t&&t[s]&&(Hr(t[s],(function(e){e.clr(t)})),t[s]=[]),r({cfg:e.cfg,set:e.set.bind(e),setDf:e[wM].bind(e),ref:e.ref.bind(e),rdOnly:e[vM].bind(e)})}catch(t){var a=e[SM];throw a&&a[bM](1,107,Ln(t)),t}finally{n.act=i||null}}function d(){if(u){var e=u;u=null,c&&c[EM](),c=null;var t=[];if(Hr(e,(function(e){if(e&&(e[s]&&(Hr(e[s],(function(t){t.clr(e)})),e[s]=null),e.fn))try{l(e,e.fn)}catch(e){t[kM](e)}})),u)try{d()}catch(e){t[kM](e)}t[gM]>0&&function(e,t){sP||(sP=ti("AggregationError",(function(e,t){t[gM]>1&&(e.errors=t[1])})));var n="Watcher error(s): ";throw Hr(t,(function(e,t){n+="\n".concat(t," > ").concat(Ln(e))})),new sP(n,t||[])}(0,t)}}return(t={prop:r,ro:i,rf:a})[hM]=o,t[AM]=e,t.add=function(e){if(e&&e.h[gM]>0){u||(u=[]),c||(c=Pi((function(){c=null,d()}),0));for(var t=0;t<e.h[gM];t++){var n=e.h[t];n&&-1===qr(u,n)&&u[kM](n)}}},t[mM]=d,t.use=l,t.trk=function(e,t){if(e){var n=e[s]=e[s]||[];-1===qr(n,t)&&n[kM](t)}},n=t}(u),s,"config","Creating"),u}function mP(e,t,n,r){var i=vP(n,e||{},r);return t&&i[wM](i.cfg,t),i}function yP(e,t,n){var r=e[tP]||e;return!r.cfg||r.cfg!==e&&r.cfg[tP]!==r?(function(e,t){e?(e[yM](t),e[bM](2,108,t)):oP(t)}(n,f_+Ln(e)),mP(e,null,n)[xM](t)):r[xM](t)}var bP,wP=null;var xP="warnToConsole",SP={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},TP=((bP={})[0]=null,bP[1]="errorToConsole",bP[2]=xP,bP[3]="debugToConsole",bP);function kP(e){return e?'"'+e[YM](/\"/g,r_)+'"':r_}function CP(e,t){var n=typeof console!==da?console:wr("console");if(n){var r="log";n[e]&&(r=e),dn(n[r])&&n[r](t)}}var AP=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i[jM]=e,i[FM]=(n?"AI: ":"AI (Internal): ")+e;var a=r_;L_()&&(a=R_().stringify(r));var o=(t?" message:"+kP(t):r_)+(r?" props:"+kP(a):r_);i[FM]+=o}return e.dataType="MessageData",e}();function EP(e,t){return(e||{})[SM]||new IP(t)}var IP=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n,r,i,a,o,s=0,u={};ua(e,this,(function(e){function c(t,n){if(!(s>=i)){var a=!0,o="AITR_"+n[jM];if(u[o]?a=!1:u[o]=!0,a&&(t<=r&&(e.queue[kM](n),s++,l(1===t?"error":"warn",n)),s===i)){var c="Internal events throttle limit per PageView reached for this app.",d=new AP(23,c,!1);e.queue[kM](d),1===t?e.errorToConsole(c):e[yM](c)}}}function l(e,n){var r=function(e){var t,n=wP;return n||!0===e.disableDbgExt||(n=wP||((t=wr("Microsoft"))&&(wP=t.ApplicationInsights),wP)),n?n.ChromeDbgExt:null}(t||{});r&&r[VM]&&r[VM](e,n)}o=function(t){return yP(mP(t,SP,e).cfg,(function(e){var t=e.cfg;n=t.loggingLevelConsole,r=t.loggingLevelTelemetry,i=t.maxMessageLimit,a=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return n},e[bM]=function(t,r,i,o,s){void 0===s&&(s=!1);var d=new AP(r,i,s,o);if(a)throw Ln(d);var f=TP[t]||xP;if(sn(d[FM]))l("throw"+(1===t?"Critical":"Warning"),d);else{if(s){var p=+d[jM];!u[p]&&n>=t&&(e[f](d[FM]),u[p]=!0)}else n>=t&&e[f](d[FM]);c(t,d)}},e.debugToConsole=function(e){CP("debug",e),l("warning",e)},e[yM]=function(e){CP("warn",e),l("warning",e)},e.errorToConsole=function(e){CP("error",e),l("error",e)},e.resetInternalMessageCount=function(){s=0,u={}},e[JM]=c,e[NM]=function(e){o&&o.rm(),o=null}}))}return e.__ieDyn=1,e}();function MP(e){return e||new IP}function _P(e,t,n,r,i,a){void 0===a&&(a=!1),MP(e)[bM](t,n,r,i,a)}function PP(e,t,n){var r=t[cM],i=function(e,t){var n;return t&&(t=ui(Pn(t)))[cM]>150&&(n=rr(t,0,150),_P(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}(e,t);if(i[cM]!==r){for(var a=0,o=i;void 0!==n[o];)a++,o=rr(i,0,147)+RP(a);i=o}return i}function DP(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ui(Pn(t)))[cM]>n&&(r=rr(t,0,n),_P(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function LP(e,t,n,r){var i;return t&&(t=ui(Pn(t)))[cM]>n&&(i=rr(t,0,n),_P(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function RP(e){var t="00"+e;return ir(t,t[cM]-3)}var NP=function(){function e(e,t,n,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var s=this;s.ver=2,s.id=function(e,t){return t?LP(e,t,128,69)[lM]():t}(e,o),s.url=function(e,t){return LP(e,t,2048,66)}(e,n),s[fM]=DP(e,t)||"not_specified",isNaN(r)||(s.duration=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t[cM]?"00"+t:2===t[cM]?"0"+t:t,n=n[cM]<2?"0"+n:n,r=r[cM]<2?"0"+r:r,(a>0?a+".":"")+(i=i[cM]<2?"0"+i:i)+":"+r+":"+n+"."+t}(r)),s.properties=function(e,t){if(t){var n={};kn(t,(function(t,r){if(fn(r)&&L_())try{r=R_().stringify(r)}catch(t){_P(e,2,49,"custom property is not valid",{exception:t},!0)}r=DP(e,r,8192),t=PP(e,t,n),n[t]=r})),t=n}return t}(e,i),s.measurements=function(e,t){if(t){var n={};kn(t,(function(t,r){t=PP(e,t,n),n[t]=r})),t=n}return t}(e,a)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),OP=Hn,UP=OP({LocalStorage:0,SessionStorage:1}),jP=(OP({AI:0,AI_AND_W3C:1,W3C:2}),void OP({Normal:1,Critical:2})),FP="";function BP(){return $P()?VP(UP.LocalStorage):null}function VP(e){try{if(un(br()))return null;var t=(new Date)[lM](),n=wr(e===UP.LocalStorage?"localStorage":"sessionStorage"),r=FP+t;n.setItem(r,t);var i=n.getItem(r)!==t;if(n[dM](r),!i)return n}catch(e){}return null}function $P(e){return(e||void 0===jP)&&(jP=!!VP(UP.LocalStorage)),jP}function zP(e,t,n){return!(!e||e[gM]!==t||e===n||!e.match(/^[\da-f]*$/i))}var HP,qP="ctx",KP="ParentContextKey",GP="ChildrenContextKey",XP=function(){function e(t,n,r){var i,a=this;a.start=ni(),a[PM]=t,a[BM]=r,a[ZM]=function(){return!1},dn(n)&&In(a,"payload",{g:function(){return!i&&dn(n)&&(i=n(),n=null),i}}),a[QM]=function(t){return t?t===e[KP]||t===e[GP]?a[t]:(a[qP]||{})[t]:null},a[e_]=function(t,n){t&&(t===e[KP]?(a[t]||(a[ZM]=function(){return!0}),a[t]=n):t===e[GP]?a[t]=n:(a[qP]=a[qP]||{})[t]=n)},a[t_]=function(){var t=0,n=a[QM](e[GP]);if(pn(n))for(var r=0;r<n[gM];r++){var i=n[r];i&&(t+=i[DM])}a[DM]=ni()-a.start,a.exTime=a[DM]-t,a[t_]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),WP="CoreUtils.doPerf",YP=HP={id:Y_("_aiData-plugin."+K_),accept:function(e){return W_(e)},get:function(e,t,n,r){var i=e[HP.id];return i?i[m_(t)]:(r&&(i=function(e,t){var n=t[e.id];if(!n){n={};try{W_(t)&&In(t,e.id,{e:!1,v:n})}catch(e){}}return n}(HP,e),i[m_(t)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};function JP(e){return YP.get(e,"state",{},!0)}var ZP,QP="TelemetryPluginChain",eD="_hasRun",tD="_getTelCtx",nD=0;function rD(e,t,n,r){var i=null,a=[];t||(t=mP({},null,n[SM])),null!==r&&(i=r?function(e,t,n){for(;e;){if(e[_M]()===n)return e;e=e[HM]()}return sD([n],t.config||{},t)}(e,n,r):e);var o={_next:function(){var e=i;if(i=e?e[HM]():null,!e){var t=a;t&&t[gM]>0&&(Hr(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){_P(n[SM],2,73,"Unexpected Exception during onComplete - "+Ln(e))}})),a=[])}return e},ctx:{core:function(){return n},diagLog:function(){return EP(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,n){var r=s(e,!0);return n&&kn(n,(function(e,n){if(un(r[e])){var i=t.cfg[e];!i&&un(i)||(r[e]=i)}eP(t,r,e,n)})),t[wM](r,n)},getConfig:function(e,n,r){void 0===r&&(r=!1);var i,a=s(e,!1),o=t.cfg;return!a||!a[n]&&un(a[n])?!o[n]&&un(o[n])||(i=o[n]):i=a[n],i||!un(i)?i:r},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(e){i=e},iterate:function(e){for(var t;t=o._next();){var n=t[_M]();n&&e(n)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&a[kM]({func:e,self:sn(t)?o.ctx:t,args:n})}}};function s(e,n){var r=null,i=t.cfg;if(i&&e){var a=i[o_];!a&&n&&(a={}),i[o_]=a,(a=t.ref(i,o_))&&(!(r=a[e])&&n&&(r={}),a[e]=r,r=t.ref(a,e))}return r}return o}function iD(e,t,n,r){var i=mP(t),a=rD(e,i,n,r),o=a.ctx;return o[LM]=function(e){var t=a._next();return t&&t[s_](e,o),!t},o[OM]=function(e,t){return void 0===e&&(e=null),pn(e)&&(e=sD(e,i.cfg,n,t)),iD(e||o[HM](),i.cfg,n,t)},o}function aD(e,t,n){var r=mP(t.config),i=rD(e,r,t,n),a=i.ctx;return a[LM]=function(e){var t=i._next();return t&&t[NM](a,e),!t},a[OM]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=sD(e,r.cfg,t,n)),aD(e||a[HM](),t,n)},a}function oD(e,t,n){var r=mP(t.config),i=rD(e,r,t,n).ctx;return i[LM]=function(e){return i.iterate((function(t){dn(t[zM])&&t[zM](i,e)}))},i[OM]=function(e,n){return void 0===e&&(e=null),pn(e)&&(e=sD(e,r.cfg,t,n)),oD(e||i[HM](),t,n)},i}function sD(e,t,n,r){var i=null,a=!r;if(pn(e)&&e[gM]>0){var o=null;Hr(e,(function(e){if(a||r!==e||(a=!0),a&&e&&dn(e[s_])){var s=function(e,t,n){var r,i=null,a=dn(e[s_]),o=dn(e[qM]),s={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(r,c){u(c=c||function(){var r;return e&&dn(e[tD])&&(r=e[tD]()),r||(r=iD(s,t,n)),r}(),(function(t){if(!e||!a)return!1;var n=JP(e);return!n[UM]&&!n[a_]&&(o&&e[qM](i),e[s_](r,t),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||c[LM](r)},unload:function(t,n){u(t,(function(){var r=!1;if(e){var i=JP(e),a=e[i_]||i[i_];!e||a&&a!==t.core()||i[UM]||(i[i_]=null,i[UM]=!0,i[MM]=!1,e[UM]&&!0===e[UM](t,n)&&(r=!0))}return r}),"unload",(function(){}),n[BM])||t[LM](n)},update:function(t,n){u(t,(function(){var r=!1;if(e){var i=JP(e),a=e[i_]||i[i_];!e||a&&a!==t.core()||i[UM]||e[zM]&&!0===e[zM](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t[LM](n)},_id:r=e?e[IM]+"-"+e[u_]+"-"+nD++:"Unknown-0-"+nD++,_setNext:function(e){i=e}};function u(t,n,a,o,s){var u=!1,c=e?e[IM]:QP,l=t[eD];return l||(l=t[eD]={}),t.setNext(i),e&&function(e,t,n,r,i){if(e){var o=e;if(o[c_]&&(o=o[c_]()),o){var s=void 0,u=o[QM](WP);try{if(s=o.create(c+":"+a,r,i)){if(u&&s[e_]&&(s[e_](XP[KP],u),u[QM]&&u[e_])){var l=u[QM](XP[GP]);l||(l=[],u[e_](XP[GP],l)),l[kM](s)}return o[e_](WP,s),n()}}catch(e){s&&s[e_]&&s[e_]("exception",e)}finally{s&&o.fire(s),o[e_](WP,u)}}}n()}(t[i_](),0,(function(){l[r]=!0;try{var e=i?i._id:r_;e&&(l[e]=!1),u=n(t)}catch(e){var o=!i||l[i._id];o&&(u=!0),i&&o||_P(t[VM](),1,73,"Plugin ["+c+"] failed during "+a+" - "+Ln(e)+", run flags: "+Ln(l))}}),o,s),u}return $n(s)}(e,t,n);i||(i=s),o&&o._setNext(s),o=s}}))}return r&&!i?sD([r],t,n):i}var uD="getPlugin",cD=((ZP={})[o_]={isVal:v_,v:{}},ZP),lD=function(){function e(){var t,n,r,i,a,o=this;function s(e){void 0===e&&(e=null);var t=e;if(!t){var i=n||iD(null,{},o[i_]);t=r&&r[uD]?i[OM](null,r[uD]):i[OM](null,r)}return t}function u(e,t,i){mP(e,cD,EP(t)),!i&&t&&(i=t.getProcessTelContext()[HM]());var a=r;r&&r[uD]&&(a=r[uD]()),o[i_]=t,n=iD(i,e,t,a)}function c(){var e,s;t=!1,o[i_]=null,n=null,r=null,e=[],a={run:function(t){var n=e;e=[],Hr(n,(function(e){try{(e.rm||e.remove).call(e)}catch(e){_P(t,2,73,"Unloading:"+Ln(e))}}))},add:function(t){t&&zr(e,t)}},s=[],i={add:function(e){e&&s[kM](e)},run:function(e,t){Hr(s,(function(n){try{n(e,t)}catch(t){_P(e[VM](),2,73,"Unexpected error calling unload handler - "+Ln(t))}})),s=[]}}}c(),ua(e,o,(function(e){e.initialize=function(e,n,r,i){u(e,n,i),t=!0},e[UM]=function(t,n){var o,s=e[i_];if(s&&(!t||s===t[i_]())){var u,l=!1,d=t||aD(null,s,r&&r[uD]?r[uD]():r),f=n||((o={reason:0})[BM]=!1,o);return e[$M]&&!0===e[$M](d,f,p)?u=!0:p(),u}function p(){l||(l=!0,i.run(d,n),a.run(d[VM]()),!0===u&&d[LM](f),c())}},e[zM]=function(t,n){var i=e[i_];if(i&&(!t||i===t[i_]())){var a,o=!1,s=t||oD(null,i,r&&r[uD]?r[uD]():r),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(s,c,l)?a=!0:l(),a}function l(){o||(o=!0,u(s.getCfg(),s.core(),s[HM]()))}},S_(e,"_addUnloadCb",(function(){return i}),"add"),S_(e,"_addHook",(function(){return a}),"add"),In(e,"_unloadHooks",{g:function(){return a}})})),o[VM]=function(e){return s(e)[VM]()},o[MM]=function(){return t},o.setInitialized=function(e){t=e},o[qM]=function(e){r=e},o[LM]=function(e,t){t?t[LM](e):r&&dn(r[s_])&&r[s_](e,null)},o._getTelCtx=s}return e.__ieDyn=1,e}();function dD(e){var t="ai."+e+".";return function(e){return t+e}}var fD,pD,hD,gD=dD("application"),vD=dD("device"),mD=dD("location"),yD=dD("operation"),bD=dD("session"),wD=dD("user"),xD=dD("cloud"),SD=dD("internal"),TD=function(e){function t(){return e.call(this)||this}return ya(t,e),t}(function(e){return function(){var t=this;e&&kn(e,(function(e,n){t[e]=n}))}}({applicationVersion:gD("ver"),applicationBuild:gD("build"),applicationTypeId:gD("typeId"),applicationId:gD("applicationId"),applicationLayer:gD("layer"),deviceId:vD("id"),deviceIp:vD("ip"),deviceLanguage:vD("language"),deviceLocale:vD("locale"),deviceModel:vD("model"),deviceFriendlyName:vD("friendlyName"),deviceNetwork:vD("network"),deviceNetworkName:vD("networkName"),deviceOEMName:vD("oemName"),deviceOS:vD("os"),deviceOSVersion:vD("osVersion"),deviceRoleInstance:vD("roleInstance"),deviceRoleName:vD("roleName"),deviceScreenResolution:vD("screenResolution"),deviceType:vD("type"),deviceMachineName:vD("machineName"),deviceVMName:vD("vmName"),deviceBrowser:vD("browser"),deviceBrowserVersion:vD("browserVersion"),locationIp:mD("ip"),locationCountry:mD("country"),locationProvince:mD("province"),locationCity:mD("city"),operationId:yD("id"),operationName:yD("name"),operationParentId:yD("parentId"),operationRootId:yD("rootId"),operationSyntheticSource:yD("syntheticSource"),operationCorrelationVector:yD("correlationVector"),sessionId:bD("id"),sessionIsFirst:bD("isFirst"),sessionIsNew:bD("isNew"),userAccountAcquisitionDate:wD("accountAcquisitionDate"),userAccountId:wD("accountId"),userAgent:wD("userAgent"),userId:wD("id"),userStoreRegion:wD("storeRegion"),userAuthUserId:wD("authUserId"),userAnonymousUserAcquisitionDate:wD("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:wD("authUserAcquisitionDate"),cloudName:xD("name"),cloudRole:xD("role"),cloudRoleVer:xD("roleVer"),cloudRoleInstance:xD("roleInstance"),cloudEnvironment:xD("environment"),cloudLocation:xD("location"),cloudDeploymentUnit:xD("deploymentUnit"),internalNodeName:SD("nodeName"),internalSdkVersion:SD("sdkVersion"),internalAgentVersion:SD("agentVersion"),internalSnippet:SD("snippet"),internalSdkSrc:SD("sdkSrc")})),kD="user",CD="device",AD="trace",ED=new TD,ID=function(){},MD=function(){this.id="browser",this.deviceClass="Browser"},_D=function(e,t){var n=this,r=yP(e,(function(){var t=e.sdkExtension;n.sdkVersion=(t?t+"_":"")+"javascript:3.3.3"}));t&&t.add(r)},PD=function(){},DD="toGMTString",LD="toUTCString",RD="cookie",ND="expires",OD="isCookieUseDisabled",UD="disableCookiesUsage",jD="_ckMgr",FD=null,BD=null,VD=null,$D={},zD={},HD=(fD={cookieCfg:function(e){return{mrg:!0,v:e}}((pD={},pD[l_]={fb:"cookieDomain",dfVal:v_},pD.path={fb:"cookiePath",dfVal:v_},pD.enabled=n_,pD.ignoreCookies=n_,pD.blockedCookies=n_,pD)),cookieDomain:n_,cookiePath:n_},fD[UD]=n_,fD);function qD(){!hD&&(hD=hr((function(){return Sr()})))}function KD(e){return!e||e.isEnabled()}function GD(e,t){return!!(t&&e&&pn(e.ignoreCookies))&&-1!==qr(e.ignoreCookies,t)}function XD(e,t){var n=t[RM];if(un(n)){var r=void 0;sn(e[OD])||(r=!e[OD]),sn(e[UD])||(r=!e[UD]),n=r}return n}function WD(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r&&r[jD]?r[jD]:YD(t)}return n||(n=function(e,t){var n=YD[jD]||zD[jD];return n||(n=YD[jD]=YD(e,t),zD[jD]=n),n}(t,(e||{})[SM])),n}function YD(e,t){var n,r,i,a,o,s,u,c,l;e=mP(e||zD,null,t).cfg,o=yP(e,(function(t){t[wM](t.cfg,HD),r=t.ref(t.cfg,"cookieCfg"),i=r[d_]||"/",a=r[l_],s=!1!==XD(e,r),u=r.getCookie||tL,c=r.setCookie||nL,l=r.delCookie||nL}),t);var d=((n={isEnabled:function(){var n=!1!==XD(e,r)&&s&&JD(t),i=zD[jD];return n&&i&&d!==i&&(n=KD(i)),n},setEnabled:function(e){s=!1!==e,r[RM]=e},set:function(e,t,n,o,s){var u,l=!1;if(KD(d)&&!function(e,t){return!!(t&&e&&pn(e.blockedCookies)&&-1!==qr(e.blockedCookies,t))||GD(e,t)}(r,e)){var f={},p=ui(t||r_),h=Ci(p,";");if(-1!==h&&(p=ui(or(t,h)),f=ZD(rr(t,h+1))),w_(f,l_,o||a,bn,sn),!un(n)){var g=N_();if(sn(f[ND])){var v=ni()+1e3*n;if(v>0){var m=new Date;m.setTime(v),w_(f,ND,QD(m,g?DD:LD)||QD(m,g?DD:LD)||r_,bn)}}g||w_(f,"max-age",r_+n,null,sn)}var y=D_();y&&"https:"===y[KM]&&(w_(f,"secure",null,null,sn),null===BD&&(u=(Ir()||{})[GM],BD=!(ln(u)&&(y_(u,"CPU iPhone OS 12")||y_(u,"iPad; CPU OS 12")||y_(u,"Macintosh; Intel Mac OS X 10_14")&&y_(u,"Version/")&&y_(u,"Safari")||y_(u,"Macintosh; Intel Mac OS X 10_14")&&Si(u,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||y_(u,"Chrome/5")||y_(u,"Chrome/6")||y_(u,"UnrealEngine")&&!y_(u,"Chrome")||y_(u,"UCBrowser/12")||y_(u,"UCBrowser/11")))),BD&&w_(f,"SameSite","None",null,sn)),w_(f,d_,s||i,null,sn),c(e,eL(p,f)),l=!0}return l},get:function(e){var t=r_;return KD(d)&&!GD(r,e)&&(t=u(e)),t},del:function(e,t){var n=!1;return KD(d)&&(n=d.purge(e,t)),n},purge:function(e,n){var r,i=!1;if(JD(t)){var a=((r={})[d_]=n||"/",r[ND]="Thu, 01 Jan 1970 00:00:01 GMT",r);N_()||(a["max-age"]="0"),l(e,eL(r_,a)),i=!0}return i}})[NM]=function(e){o&&o.rm(),o=null},n);return d[jD]=d,d}function JD(e){if(null===FD){FD=!1,!hD&&qD();try{var t=hD.v||{};FD=void 0!==t[RD]}catch(t){_P(e,2,68,"Cannot access document.cookie - "+b_(t),{exception:Ln(t)})}}return FD}function ZD(e){var t={};return e&&e[gM]&&Hr(ui(e)[XM](";"),(function(e){if(e=ui(e||r_)){var n=Ci(e,"=");-1===n?t[e]=null:t[ui(or(e,n))]=ui(rr(e,n+1))}})),t}function QD(e,t){return dn(e[t])?e[t]():null}function eL(e,t){var n=e||r_;return kn(t,(function(e,t){n+="; "+e+(un(t)?r_:"="+t)})),n}function tL(e){var t=r_;if(!hD&&qD(),hD.v){var n=hD.v[RD]||r_;VD!==n&&($D=ZD(n),VD=n),t=ui($D[e]||r_)}return t}function nL(e,t){!hD&&qD(),hD.v&&(hD.v[RD]=e+"="+t)}var rL="sessionManager",iL="update",aL="isUserCookieSet",oL="isNewUser",sL="getTraceCtx",uL="telemetryTrace",cL="applySessionContext",lL="applyApplicationContext",dL="applyDeviceContext",fL="applyOperationContext",pL="applyUserContext",hL="applyOperatingSystemContxt",gL="applyLocationContext",vL="applyInternalContext",mL="accountId",yL="getSessionId",bL="namePrefix",wL="userCookiePostfix",xL="idLength",SL="getNewId",TL="length",kL="automaticSession",CL="authenticatedId",AL="acquisitionDate",EL="renewalDate",IL="join",ML="cookieSeparator",_L="authUserCookieName",PL=function(){},DL=function(){function e(t,n,r){var i,a,o,s,u=EP(n),c=WD(n);ua(e,this,(function(e){t||(t={});var n=yP(t,(function(e){o=t.sessionExpirationMs||864e5,s=t.sessionRenewalMs||18e5;var n=t.sessionCookiePostfix||t[bL]||"";i="ai_session"+n}));function l(e,t){var n=!1,r=", session will be reset",i=t.split("|");if(i[TL]>=2)try{var a=+i[1]||0,o=+i[2]||0;isNaN(a)||a<=0?_P(u,2,27,"AI session acquisition date is 0"+r):isNaN(o)||o<=0?_P(u,2,27,"AI session renewal date is 0"+r):i[0]&&(e.id=i[0],e[AL]=a,e[EL]=o,n=!0)}catch(e){_P(u,1,9,"Error parsing ai_session value ["+(t||"")+"]"+r+" - "+b_(e),{exception:Ln(e)})}return n}function d(e,n){var r=e[AL];e[EL]=n;var u,l=s,d=r+o-n,f=[e.id,r,n];u=d<l?d/1e3:l/1e3;var p=t.cookieDomain||null;c.set(i,f[IL]("|"),o>0?u:null,p),a=n}r&&r.add(n),e[kL]=new PL,e[iL]=function(){var n=ni(),r=!1,f=e[kL];if(f.id||(r=!function(e,t){var n=!1,r=c.get(i);if(r&&dn(r.split))n=l(e,r);else{var a=function(e,t){var n=BP();if(null!==n)try{return n.getItem(t)}catch(t){jP=!1,_P(e,2,1,"Browser failed read of local storage. "+b_(t),{exception:Ln(t)})}return null}(u,i);a&&(n=l(e,a))}return n||!!e.id}(f)),!r&&o>0){var p=n-f[AL],h=n-f[EL];r=(r=(r=p<0||h<0)||p>o)||h>s}r?function(n){var r=t[SL]||q_;e.automaticSession.id=r(t[xL]||22),e[kL][AL]=n,d(e[kL],n),$P()||_P(u,2,0,"Browser does not support local storage. Session durations will be inaccurate.")}(n):(!a||n-a>6e4)&&d(f,n)},e.backup=function(){var t,n,r,a=e[kL];t=a.id,n=a[AL],r=a[EL],function(e,t,n){var r=BP();if(null!==r)try{return r.setItem(t,n),!0}catch(t){jP=!1,_P(e,2,3,"Browser failed write to local storage. "+b_(t),{exception:Ln(t)})}}(u,i,[t,n,r][IL]("|"))}}))}return e.__ieDyn=1,e}();var LL=function(e,t,n,r){var i=this;i.traceID=e||function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=r_,r=0;r<4;r++)n+=t[15&(e=H_())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&H_())|0];return ir(n,0,8)+ir(n,9,4)+"4"+ir(n,13,3)+i+ir(n,16,3)+ir(n,19,12)}(),i.parentID=t;var a=D_();!n&&a&&a.pathname&&(n=a.pathname),i.name=DP(r,n)};function RL(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var NL=function(){function e(t,n,r){this.isNewUser=!1,this.isUserCookieSet=!1;var i,a=EP(n),o=WD(n);ua(e,this,(function(n){In(n,"config",{g:function(){return t}});var s=yP(t,(function(){var r=t[wL]||"";i=e.userCookieName+r;var s=o.get(i);if(s){n[oL]=!1;var d=s.split(e[ML]);d[TL]>0&&(n.id=d[0],n[aL]=!!n.id)}if(!n.id){n.id=u(),l(c(n.id)[IL](e[ML]));var f=(t[bL]||"")+"ai_session";!function(e,t){var n=BP();if(null!==n)try{return n[dM](t),!0}catch(t){jP=!1,_P(e,2,5,"Browser failed removal of local storage item. "+b_(t),{exception:Ln(t)})}}(a,f)}n[mL]=t[mL]||void 0;var p=o.get(e[_L]);if(p){var h=(p=decodeURI(p)).split(e[ML]);h[0]&&(n[CL]=h[0]),h[TL]>1&&h[1]&&(n[mL]=h[1])}}));function u(){var e=t||{};return(e[SL]||q_)(e[xL]?t[xL]:22)}function c(e){var t,r=(t=new Date)&&t.toISOString()||"";return n.accountAcquisitionDate=r,n[oL]=!0,[e,r]}function l(e){n[aL]=o.set(i,e,31536e3)}r&&r.add(s),n.setAuthenticatedUserContext=function(t,r,i){if(void 0===i&&(i=!1),!RL(t)||r&&!RL(r))_P(a,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n[CL]=t;var s=n[CL];r&&(n[mL]=r,s=[n[CL],n.accountId][IL](e[ML])),i&&o.set(e[_L],encodeURI(s))}},n.clearAuthenticatedUserContext=function(){n[CL]=null,n[mL]=null,o.del(e[_L])},n[iL]=function(t){n.id===t&&n[aL]||l(c(t||u())[IL](e[ML]))}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),OL="ext",UL="tags";function jL(e,t){e&&e[t]&&0===Bn(e[t])[TL]&&delete e[t]}function FL(){return null}var BL,VL,$L,zL,HL,qL,KL,GL=function(){function e(t,n,r,i){var a=this,o=t.logger;ua(e,this,(function(e){if(e.appId=FL,e[yL]=FL,e.application=new ID,e.internal=new _D(n,i),Tr()){e[rL]=new DL(n,t,i),e.device=new MD,e.location=new PD,e.user=new NL(n,t,i);var s,u=void 0,c=void 0;r&&(u=r.getTraceId(),c=r.getSpanId(),s=r.getName()),e[uL]=new LL(u,c,s,o),e.session=new PL}e[yL]=function(){var t=e.session,n=null;if(t&&ln(t.id))n=t.id;else{var r=(e[rL]||{})[kL];n=r&&ln(r.id)?r.id:null}return n},e[cL]=function(t,n){w_(x_(t.ext,"app"),"sesId",e[yL](),ln)},e[hL]=function(t,n){w_(t.ext,"os",e.os)},e[lL]=function(t,n){var r=e.application;if(r){var i=x_(t,UL);w_(i,ED.applicationVersion,r.ver,ln),w_(i,ED.applicationBuild,r.build,ln)}},e[dL]=function(t,n){var r=e.device;if(r){var i=x_(x_(t,OL),CD);w_(i,"localId",r.id,ln),w_(i,"ip",r.ip,ln),w_(i,"model",r.model,ln),w_(i,"deviceClass",r.deviceClass,ln)}},e[vL]=function(t,n){var r=e.internal;if(r){var i=x_(t,UL);w_(i,ED.internalAgentVersion,r.agentVersion,ln),w_(i,ED.internalSdkVersion,DP(o,r.sdkVersion,64),ln),t.baseType!==AP.dataType&&t.baseType!==NP.dataType||(w_(i,ED.internalSnippet,r.snippetVer,ln),w_(i,ED.internalSdkSrc,r.sdkSrc,ln))}},e[gL]=function(e,t){var n=a.location;n&&w_(x_(e,UL,[]),ED.locationIp,n.ip,ln)},e[fL]=function(t,n){var r=e[uL];if(r){var i=x_(x_(t,OL),AD,{traceID:void 0,parentID:void 0});w_(i,"traceID",r.traceID,ln,un),w_(i,"name",r.name,ln,un),w_(i,"parentID",r.parentID,ln,un)}},e.applyWebContext=function(e,t){var n=a.web;n&&w_(x_(e,OL),"web",n)},e[pL]=function(t,n){var r=e.user;if(r){w_(x_(t,UL,[]),ED.userAccountId,r[mL],ln);var i=x_(x_(t,OL),kD);w_(i,"id",r.id,ln),w_(i,"authId",r[CL],ln)}},e.cleanUp=function(e,t){var n=e.ext;n&&(jL(n,CD),jL(n,kD),jL(n,"web"),jL(n,"os"),jL(n,"app"),jL(n,AD))}}))}return e.__ieDyn=1,e}(),XL=null,WL=Vn(((BL={})[mL]=XL,BL.sessionRenewalMs=18e5,BL.samplingPercentage=100,BL.sessionExpirationMs=864e5,BL.cookieDomain=XL,BL.sdkExtension=XL,BL.isBrowserLinkTrackingEnabled=!1,BL.appId=XL,BL[yL]=XL,BL[bL]=VL,BL.sessionCookiePostfix=VL,BL[wL]=VL,BL[xL]=22,BL[SL]=XL,BL)),YL=function(e){function t(){var n,r,i,a,o,s=e.call(this)||this;return s.priority=110,s.identifier="AppInsightsPropertiesPlugin",ua(t,s,(function(e,t){function s(){n=null,r=null,i=null,a=null,o=!0}s(),In(e,"context",{g:function(){return a}}),e.initialize=function(s,u,c,l){t.initialize(s,u,c,l),function(t){var s,u,c,l=e.identifier,d=e.core;e._addHook(yP(t,(function(){var r,i=iD(null,t,d);t.storagePrefix&&(r=t.storagePrefix,FP=r||""),o=!1!==t.disableUserInitMessage,n=i.getExtCfg(l,WL),e._extConfig=n}))),i=d[sL](!1),a=new GL(d,n,i,e._unloadHooks),s=e.context[uL],u=i,c=s||{},r={getName:function(){return c[fM]},setName:function(e){u&&u.setName(e),c[fM]=e},getTraceId:function(){return c.traceID},setTraceId:function(e){u&&u.setTraceId(e),zP(e,32,"00000000000000000000000000000000")&&(c.traceID=e)},getSpanId:function(){return c.parentID},setSpanId:function(e){u&&u.setSpanId(e),zP(e,16,"0000000000000000")&&(c.parentID=e)},getTraceFlags:function(){return c.traceFlags},setTraceFlags:function(e){u&&u.setTraceFlags(e),c.traceFlags=e}},d.setTraceCtx(r),e.context.appId=function(){var e=d.getPlugin("AppInsightsChannelPlugin");return e?e.plugin._appId:null}}(s)},e.processTelemetry=function(t,n){if(!un(t)){n=e._getTelCtx(n),t.name===NP.envelopeType&&n.diagLog().resetInternalMessageCount();var r=a||{};r.session&&"string"!=typeof a.session.id&&r[rL]&&r[rL][iL]();var i=r.user;if(i&&!i[aL]&&i[iL](r.user.id),function(t,n){x_(t,"tags",[]),x_(t,"ext",{});var r=e.context;r[cL](t,n),r[lL](t,n),r[dL](t,n),r[fL](t,n),r[pL](t,n),r[hL](t,n),r.applyWebContext(t,n),r[gL](t,n),r[vL](t,n),r.cleanUp(t,n)}(t,n),i&&i[oL]&&(i[oL]=!1,!o)){var s=new AP(72,(Ir()||{}).userAgent||"");!function(e,t,n){MP(e)[JM](1,n)}(n.diagLog(),0,s)}e.processNext(t,n)}},e._doTeardown=function(e,t){var n=(e||{}).core();n&&n[sL]&&n[sL](!1)===r&&n.setTraceCtx(i),s()}})),s}return ya(t,e),t.__ieDyn=1,t}(lD),JL=YL,ZL="AuthenticatedUserContext",QL="track",eR="snippet",tR="flush",nR="pollInternalLogs",rR="getPlugin",iR="evtNamespace",aR=QL+"Event",oR=QL+"Trace",sR=QL+"Metric",uR=QL+"PageView",cR=QL+"Exception",lR=QL+"DependencyData",dR="set"+ZL,fR="clear"+ZL,pR="version",hR="queue",gR="connectionString",vR="instrumentationKey",mR="instrumentationkey",yR="userOverrideEndpointUrl",bR="endpointUrl",wR="ingestionendpoint",xR="onunloadFlush",SR="context",TR="addHousekeepingBeforeUnload",kR="sendMessage",CR=[eR,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],AR="iKeyUsage",ER="CdnUsage",IR="SdkLoaderVer",MR=void 0,_R={disabled:!0,limit:hl({samplingRate:100,maxSendNumber:1}),interval:hl({monthInterval:3,daysOfMonth:[28]})},PR=(($L={})[gR]=MR,$L[bR]=MR,$L[vR]=MR,$L[yR]=MR,$L.diagnosticLogInterval=vl((function(e){return e&&e>0}),1e4),$L.featureOptIn=((zL={})[AR]={mode:3},zL[ER]={mode:2},zL[IR]={mode:2},zL),$L.throttleMgrCfg=hl(((HL={})[109]=hl(_R),HL[106]=hl(_R),HL[111]=hl(_R),HL[110]=hl(_R),HL)),$L.extensionConfig=hl(((qL={}).AppInsightsCfgSyncPlugin=hl({cfgUrl:"https://js.monitor.azure.com/scripts/b/ai.config.1.cfg.json",syncMode:2}),qL)),$L),DR=function(){function e(t){var n,r,i,a,o,s,u,c,l,d,f,p,h,g,v=this;ua(e,this,(function(e){y(),In(e,"config",{g:function(){return c}}),Hr(["pluginVersionStringArr","pluginVersionString"],(function(t){In(e,t,{g:function(){return u?u[t]:null}})})),a=""+(t.sv||t[pR]||""),t[hR]=t[hR]||[],t[pR]=t[pR]||2;var m=iu(t.config||{},PR);function y(){o=Os("AISKU"),s=null,n=null,r=null,i=null,a=null,f=null,p=!1,h=!1,g=!1,d=new Tv}function b(){var e;s&&(hd([Zl,Jl,Yl],null,s),e=ld(Ql,s),hd([Yl],null,e),hd([Wl],null,e))}function w(e){u.addUnloadHook(e)}c=m.cfg,l=new Qf,In(e,"appInsights",{g:function(){return l}}),r=new JL,n=new uM,i=new wT,u=new BT,In(e,"core",{g:function(){return u}}),w(au(m,(function(){var e=c[gR];function t(){return uv((function(t,n){Bg(e,(function(e){var n=e&&e.value,r=null;!e.rejected&&n&&(c[gR]=n,r=xT(n)),t(r)}))}))}if(yn(e)){var n=uv((function(e,n){t().then((function(t){var n=c[vR];n=t&&t[mR]||n,e(n)})).catch((function(t){e(null)}))})),r=c[yR];un(r)&&(r=uv((function(e,n){t().then((function(t){var n=c[bR],r=t&&t[wR];e(n=r?r+wc:n)})).catch((function(t){e(null)}))}))),c[vR]=n,c[bR]=r}if(ln(e)&&e){var i=xT(e),a=i[wR];c.endpointUrl=c[yR]?c[yR]:a+wc,c[vR]=i[mR]||c[vR]}c.endpointUrl=c[yR]?c[yR]:c[bR]}))),e[eR]=t,e[tR]=function(e,t){var n;return void 0===e&&(e=!0),Sd(u,(function(){return"AISKU.flush"}),(function(){e&&!t&&(n=cv((function(e){t=e})));var r=1,i=function(){0==--r&&t()};Hr(u.getChannels(),(function(t){t&&(r++,t[tR](e,i))})),i()}),null,e),n},e[xR]=function(e){void 0===e&&(e=!0),Hr(u.getChannels(),(function(t){t[xR]?t[xR]():t[tR](e)}))},e.loadAppInsights=function(t,o,s){return void 0===t&&(t=!1),t&&function(e){throw Wr||(Wr=ti("UnsupportedError")),new Wr("Legacy Mode is no longer supported")}(),Sd(e.core,(function(){return"AISKU.loadAppInsights"}),(function(){u.initialize(c,[i,r,n,l,d],o,s),In(e,"context",{g:function(){return r[SR]}}),f||(f=new ST(u));var t=function(){if(KL)return KL;var e=null;try{var t=(document||{}).currentScript;t&&(e=t.src)}catch(e){}if(e){try{var n=e.toLowerCase();if(n){var r="";Hr(["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"],(function(e,t){if(-1!==Ci(n,e))return r="cdn"+(t+1),-1===Ci(n,"/scripts/")&&(-1!==Ci(n,"/next/")?r+="-next":-1!==Ci(n,"/beta/")&&(r+="-beta")),KL=r+"",-1}))}}catch(e){}KL=e}return KL}();t&&e[SR]&&(e[SR].internal.sdkSrc=t),function(t){if(t){var n="";un(a)||(n+=a),e[SR]&&e[SR].internal&&(e[SR].internal.snippetVer=n||"-"),kn(e,(function(e,n){ln(e)&&!dn(n)&&e&&"_"!==e[0]&&-1===qr(CR,e)&&t[e]!==n&&(t[e]=n)}))}}(e[eR]),e.emptyQueue(),e[nR](),e[TR](e),w(au(m,(function(){var t=!1;c.throttleMgrCfg[109]&&(t=!c.throttleMgrCfg[109].disabled),!f.isReady()&&c.extensionConfig&&c.extensionConfig[d.identifier]&&t&&f.onReadyState(!0),p||c[gR]||!cs(AR,c)||(f[kR](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),p=!0),!h&&e[SR].internal.sdkSrc&&-1!=e[SR].internal.sdkSrc.indexOf("az416426")&&cs(ER,c)&&(f[kR](110,"See Cdn support notice at aka.ms/JsActiveCdn"),h=!0),!g&&parseInt(a)<6&&cs(IR,c)&&(f[kR](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),g=!0)})))})),e},e.updateSnippetDefinitions=function(t){!function(e,t,n){if(e&&t&&fn(e)&&fn(t)){var r=function(r){if(ln(r)){var i=t[r];dn(i)?n&&!n(r)||(e[r]=os(t,r)):n&&!n(r)||(Sn(e,r)&&delete e[r],In(e,r,{g:function(){return t[r]},s:function(e){t[r]=e}}))}};for(var i in t)r(i)}}(t,e,(function(e){return e&&-1===qr(CR,e)}))},e.emptyQueue=function(){try{if(pn(e.snippet[hR])){for(var t=e.snippet[hR].length,n=0;n<t;n++)(0,e.snippet[hR][n])();e.snippet[hR]=void 0,delete e.snippet[hR]}}catch(e){e&&dn(e.toString)&&e.toString()}},e[TR]=function(t){if(Tr()||xr()){var n=function(){if(t[xR](!1),dn(e.core[rR])){var n=v.core[rR](yc);if(n){var r=n.plugin;r&&r[SR]&&r[SR]._sessionManager&&r[SR]._sessionManager.backup()}}},r=!1;s||(s=ld(o,u[iR]&&u[iR]())),w(au(c,(function(e){var i=e.cfg,a=t.appInsights,o=Dd(null,i,a.core).getExtCfg(a.identifier||bc);b();var c,l=i.disablePageUnloadEvents;o.disableFlushOnBeforeUnload||(function(e,t,n,r){var i=!1;return t&&e&&pn(e)&&!(i=pd(e,t,n,r))&&n&&n[Sa]>0&&(i=pd(e,t,null,r)),i}([Zl,Jl,Yl],n,l,s)&&(r=!0),gd(n,l,s)&&(r=!0),r||(c=Ir())&&c.product&&"ReactNative"===c.product||xu(u.logger,1,19,"Could not add handler for beforeunload and pagehide")),r||o.disableFlushOnUnload||gd(n,l,s)})))}},e.getSender=function(){return i},e.unload=function(t,n,r){var i,a=!1;return t&&!n&&(i=cv((function(e){n=e}))),e[xR](t),b(),u.unload&&u.unload(t,(function(e){a||(a=!0,y(),n&&n(e))}),r),i},us(e,l,["getCookieMgr",aR,uR,"trackPageViewPerformance",cR,"_onerror",oR,sR,"startTrackPage","stopTrackPage","startTrackEvent","stopTrackEvent"]),us(e,(function(){return n}),[lR,"addDependencyListener","addDependencyInitializer"]),us(e,u,["addTelemetryInitializer",nR,"stopPollingInternalLogs",rR,"addPlugin",iR,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),us(e,(function(){var e=r[SR];return e?e.user:null}),[dR,fR])}))}return e.prototype.addDependencyInitializer=function(e){return null},e}();const LR=Symbol("playerState");var RR=Object.defineProperty,NR=Object.getOwnPropertyDescriptor,OR=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?NR(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&RR(t,n,a),a};let UR=class extends ze{render(){return Ae`<div
      class="ump-visually-hidden"
      aria-live="assertive"
      data-testid="aria-announcer"
    >
      ${this.playerState.ended?tt("Ended"):this.playerState.paused?tt("Paused"):tt("Playing")}
    </div>`}};function jR(e,t,n){return e<t?t:e>n?n:e}function FR(e){const t=Math.round(255*jR(e,0,1)).toString(16).toUpperCase();return 1===t.length?"0"+t:t}UR.styles=V`
.ump-visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0,0,0,0) !important;white-space:nowrap !important;border:0 !important;z-index:-100}
  `,OR([_({context:LR,subscribe:!0})],UR.prototype,"playerState",2),UR=OR([qe("ump-aria-announcer")],UR);var BR=Object.defineProperty,VR=Object.getOwnPropertyDescriptor,$R=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?VR(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&BR(t,n,a),a};let zR=class extends ze{render(){return Ae`
      <div
        class=${At({"ump-caption-display-container":!0,"ump-caption-display-container-hidden":!this.playerState.captionSettings.enabled})}
      ></div>
    `}updated(){const{fontScale:e,textColor:t,textOpacity:n,backgroundColor:r,backgroundOpacity:i,fontFamily:a,textShadow:o}=this.playerState.captionSettings;this.style.setProperty("--ump-caption-display-font-size",2.5*e+"cqw"),this.style.setProperty("--ump-caption-display-color",`${t}${FR(n)}`),this.style.setProperty("--ump-caption-display-background",`${r}${FR(i)}`),this.style.setProperty("--ump-caption-display-font-family",a),this.style.setProperty("--ump-caption-display-text-shadow",o),this.dispatchEvent(new Event("captionsettingupdated"))}};zR.styles=V`
.ump-caption-display-container{display:inline-block;position:absolute;width:95%;bottom:90px;left:50%;transform:translateX(-50%)}.ump-caption-display-container span:not(:has(span)){font-size:var(--ump-caption-display-font-size);color:var(--ump-caption-display-color);background-color:var(--ump-caption-display-background) !important;font-family:var(--ump-caption-display-font-family),sans-serif;text-shadow:var(--ump-caption-display-text-shadow);max-width:100%}.ump-caption-display-container-hidden{display:none}*{opacity:1 !important}.ump-caption-display-container *{position:relative !important}
  `,$R([_({context:LR,subscribe:!0})],zR.prototype,"playerState",2),$R([Je(".ump-caption-display-container")],zR.prototype,"captionContainer",2),zR=$R([qe("ump-caption-display")],zR);const HR=["facebook","twitter","linkedin","mail","copy"],qR={sources:[],ccFiles:[],downloadableFiles:[],ageGate:!1,aspectRatio:"16:9",autoplay:!1,checkpoints:[],debug:!1,disableKeyboardEvents:!1,hideControls:null,hidePosterImage:!1,language:"en",layout:"fluid",loop:!1,maskLevel:0,muted:!1,partnerName:"",percentage:50,playButtonSize:"medium",playButtonTheme:"dark",playbackRates:[.5,.75,1,1.25,1.5,2],playFullScreen:!1,plugins:{},poster:"",qualityBehavior:"auto",reporting:!0,share:!0,shareOptions:[...HR],showDownloadMenu:!0,showFocusIndicator:"default",showImageOnError:!1,showQualityMenu:!0,startTime:0,title:""},KR={videoId:-1,label:tt("Auto")},GR={captionId:-1,language:tt("option for turning off caption"),label:tt("Off")},XR={enabled:!1,fontScale:1,textColor:"#FFFFFF",textOpacity:1,backgroundColor:"#000000",backgroundOpacity:1,fontFamily:"sans-serif",textShadow:"rgb(255, 255, 255) 0px 0px 0px"},WR={audioTracks:[],bigPlayButtonClicked:!1,buffered:[],captionSettings:XR,captionTracks:[],controlsState:"controlbar",currentTime:0,disableKeyboardEvents:!1,downloadableTranscriptFiles:[],downloadableVideoFiles:[],duration:0,ended:!1,fullscreen:!1,loading:!1,maskLevel:0,muted:!1,paused:!0,playbackRate:1,playbackRates:[],playButtonSize:"medium",playButtonTheme:"dark",qualityBehavior:"auto",selectedVideoQualityId:KR.videoId,shareDialogOpened:!1,shareOptions:[],showDownloadMenu:!0,showFocusIndicator:"default",showQualityMenu:!0,showVolumeSlider:!0,videoQualities:[],volume:1},YR=["HQ","HD","SD","LO"],JR=["application/dash+xml","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml","video/mp4"],ZR={DASH:"application/dash+xml",MP4:"video/mp4",HLS:"application/vnd.apple.mpegurl",MSS:"application/vnd.ms-sstr+xml"},QR={VTT:"text/vtt",TTML:"application/ttml+xml"},eN="@back",tN=tt("We're sorry, but something went wrong."),nN="dau-";class rN extends CustomEvent{constructor(e,t){super(e,{bubbles:!0,composed:!0,cancelable:!0,detail:t})}}function iN(e){return{"focus-always":"always"===e.showFocusIndicator,"focus-default":"default"===e.showFocusIndicator}}const aN=V`
.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-s-nudge);margin:0;padding:var(--spacing-s-nudge) var(--spacing-m);border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-semibold);font-family:var(--font-family-default);line-height:var(--line-height-base-300);transition-duration:var(--duration-faster);transition-property:background,color;transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;border:solid var(--stroke-width-thick) var(--color-transparent-stroke);background-color:var(--color-neutral-background-1)}.btn:hover{background-color:var(--color-neutral-background-1-hover);color:var(--color-neutral-foreground-1-hover)}.btn.focus-always:focus,.btn.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.btn svg{fill:currentcolor}.btn-xs{padding:var(--spacing-xs)}.btn-s{padding:var(--spacing-s)}.btn-xl{padding:var(--spacing-xl)}.btn-xxl{padding:var(--spacing-xxl)}.btn-xxxl svg{width:var(--size-16);height:var(--size-16)}.btn-outline{background-color:transparent;border-color:var(--color-neutral-stroke-1)}.btn-outline:hover{background-color:transparent}.btn-outline.focus-always:focus,.btn-outline.focus-default:focus-visible{border-color:transparent}.btn-subtle{background-color:var(--color-subtle-background);color:var(--color-neutral-foreground-2);border-color:transparent}.btn-subtle:hover{background-color:var(--color-subtle-background-hover);color:var(--color-neutral-foreground-2-hover);border-color:transparent}.btn-subtle:active{background-color:var(--color-subtle-background-pressed);color:var(--color-neutral-foreground-2-pressed)}.btn-icon-only{padding:var(--spacing-s-nudge)}.btn-brand{background-color:var(--color-brand-background);color:var(--color-brand-foreground)}.btn-brand:hover{background-color:var(--color-brand-background-hover);color:var(--color-brand-foreground)}.btn-brand:active{background-color:var(--color-brand-background-pressed);color:var(--color-brand-foreground)}.btn-circle{border-radius:var(--border-radius-circular)}@media (forced-colors:active){.btn{color:ButtonText;background-color:ButtonFace;border-color:ButtonText}.btn:hover{background-color:Highlight;border-color:Highlight;color:HighlightText}.btn-brand{forced-color-adjust:none}.btn.focus-always:focus,.btn.focus-default:focus-visible{outline-color:Highlight}.btn-outline{background-color:ButtonFace;border-color:ButtonText}.btn-subtle{background-color:ButtonFace;color:ButtonText}}
`,oN=V`
hr{width:var(--size-full);height:var(--size-px);padding:0;margin:var(--spacing-s) 0;border:none;background-color:var(--color-neutral-stroke-alpha)}@media (forced-colors:active){hr{background-color:ButtonBorder}}
`,sN=V`
.tooltip[data-tooltip]{position:relative;--tooltip-gap:var(--spacing-s);--tooltip-top:auto;--tooltip-left:50%;--tooltip-right:auto;--tooltip-bottom:100%;--tooltip-translate-x:-50%;--tooltip-translate-y:calc(0px - var(--tooltip-gap));--tooltip-width:auto}.tooltip[data-tooltip]::before{pointer-events:none;display:none;width:var(--tooltip-width);z-index:100;background-color:var(--color-grey-10-alpha-90);color:var(--color-neutral-foreground-1);content:attr(data-tooltip);padding:var(--spacing-xs) var(--spacing-s);border-radius:var(--border-radius-medium);font-weight:var(--font-weight-regular);font-size:var(--font-size-base-200);line-height:var(--line-height-base-200);font-family:var(--font-family-default);position:absolute;inset:var(--tooltip-top) var(--tooltip-right) var(--tooltip-bottom) var(--tooltip-left);transform:translate(var(--tooltip-translate-x),var(--tooltip-translate-y))}.tooltip[data-tooltip].tooltip-top-right::before{--tooltip-top:auto;--tooltip-bottom:100%;--tooltip-left:auto;--tooltip-right:0;transform:translate(0,calc(0px - var(--tooltip-gap)))}.tooltip[data-tooltip].tooltip-disable-when-aria-expanded[aria-expanded='true']::before{display:none}.tooltip[data-tooltip]:hover::before,.tooltip[data-tooltip]:focus-visible::before,.tooltip[data-tooltip].tooltip-visible::before{display:block}@media (forced-colors:active){.tooltip[data-tooltip]::before{background-color:var(--color-grey-10)}.tooltip[data-tooltip]:hover::before,.tooltip[data-tooltip]:focus-visible::before,.tooltip[data-tooltip].tooltip-visible::before{color:ButtonText}}
`;var uN=Object.defineProperty,cN=Object.getOwnPropertyDescriptor,lN=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?cN(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&uN(t,n,a),a};let dN=class extends ze{render(){var e;const t=this.playerState.audioTracks;return t.length<2?null:Ae`
      <ump-popup
        popupAriaLabel="${tt("Audio")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          slot="trigger"
          class=${At({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...iN(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${tt("Audio")}"
          aria-label="${tt("Audio Menu")}"
          data-testid="audio-menu-button"
        >
          ${null!=(e=this.popup)&&e.opened?Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10a7 7 0 0 1 14 0v1h-3.5a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5H16a2 2 0 0 0 2-2v-6a8 8 0 1 0-16 0v6c0 1.1.9 2 2 2h2.5a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5H3v-1Z"/></svg>'):Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10a7 7 0 0 1 14 0v1h-3.5a.5.5 0 0 0-.5.5v6c0 .28.22.5.5.5H16a2 2 0 0 0 2-2v-6a8 8 0 1 0-16 0v6c0 1.1.9 2 2 2h2.5a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5H3v-1Zm0 2h3v5H4a1 1 0 0 1-1-1v-4Zm14 0v4a1 1 0 0 1-1 1h-2v-5h3Z"/></svg>')}
        </button>

        <ump-menu data-focusgroup>
          <ump-menu-label>${tt("Audio Track")}</ump-menu-label>

          <hr aria-hidden="true" />

          <ump-submenu>
            ${t.map((e=>Ae`
                <ump-menu-item
                  class=${At({...iN(this.playerState)})}
                  type="radio"
                  .checked=${this.playerState.selectedAudioTrackId===e.audioId}
                  @click=${this.onAudioTrackSelected(e)}
                >
                  <div class="audio-track-menu-item-content">
                    ${e.label}
                    ${function(e){return"public.accessibility.describes-video"===e.role}(e)?Mt('<svg fill="currentColor" viewBox="0 0 1316 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M288 567.990857h97.718857l-0.585143-151.442286z m586.276571-56.576c0-63.414857-36.571429-110.299429-112.566857-110.299428h-30.866285v221.696h29.696c71.424 0 113.700571-52.004571 113.700571-111.433143z m-327.972571-215.405714l0.585143 432.018286a19.126857 19.126857 0 0 1-18.870857 19.419428h-123.428572a19.163429 19.163429 0 0 1-18.870857-19.419428v-35.437715H219.428571l-31.414857 46.299429a19.748571 19.748571 0 0 1-16.018285 8.557714H19.419429c-16.018286 0-25.161143-17.700571-15.433143-30.281143L321.682286 284.598857a18.212571 18.212571 0 0 1 15.433143-8.009143h189.696c10.861714 0 19.419429 8.557714 19.419428 19.419429z m472.539429 215.405714c0 150.272-109.714286 235.995429-257.133715 235.995429h-154.294857a19.236571 19.236571 0 0 1-19.419428-19.419429V295.972571c0-10.861714 8.557714-19.419429 19.419428-19.419428h153.161143c148.553143 0 258.304 84.553143 258.304 234.861714z m89.161142 0.585143s2.304 148.553143-84.553142 235.995429h-29.147429c77.714286-92.562286 79.433143-236.580571 79.433143-236.580572s1.133714-113.152-77.129143-234.276571h24.576C1105.737143 373.723429 1108.041143 512 1108.041143 512z m105.142858 0s2.304 148.553143-85.138286 235.995429h-29.147429c77.714286-92.562286 79.433143-236.580571 79.433143-236.580572s1.133714-113.152-76.580571-234.276571h24.576C1210.843429 373.723429 1213.147429 512 1213.147429 512zM1316.571429 512s2.304 148.553143-84.553143 235.995429h-29.147429c77.129143-92.562286 78.848-236.580571 78.848-236.580572s1.133714-113.152-76.580571-234.276571h24.576C1314.267429 373.723429 1316.571429 512 1316.571429 512z" fill="" /></svg>'):null}
                  </div>
                </ump-menu-item>
              `))}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onAudioTrackSelected(e){return()=>{this.dispatchEvent(new rN("audio-track-clicked",e))}}get opened(){var e;return null==(e=this.popup)?void 0:e.opened}};dN.styles=[aN,oN,sN,V`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}.audio-track-menu-item-content{display:flex;align-items:flex-end;width:100%;gap:var(--spacing-xs)}.audio-track-menu-item-content svg{width:var(--size-6);height:var(--size-6);margin-bottom:calc(0px - var(--spacing-xs))}
    `],lN([Je("ump-popup")],dN.prototype,"popup",2),lN([_({context:LR,subscribe:!0})],dN.prototype,"playerState",2),dN=lN([qe("ump-audio-menu")],dN);var fN=Object.defineProperty,pN=Object.getOwnPropertyDescriptor,hN=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?pN(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&fN(t,n,a),a};let gN=class extends ze{render(){return Ae`<button
      class=${At({btn:!0,"btn-xl":"medium"===this.playerState.playButtonSize,"btn-xxl":"large"===this.playerState.playButtonSize,"btn-circle":!0,"big-play-button":!0,"big-play-button-light":"light"===this.playerState.playButtonTheme,"big-play-button-dark":"dark"===this.playerState.playButtonTheme,...iN(this.playerState),tooltip:!0})}
      aria-label="${this.playerState.ended?tt("Replay"):this.playerState.paused?tt("Play"):tt("Pause")}"
      data-tooltip="${this.playerState.ended?tt("Replay"):this.playerState.paused?tt("Play"):tt("Pause")}"
      data-testid="big-play-button"
      @click=${this.onBigPlayButtonClick}
    >
      ${this.playerState.ended?Mt('<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M23.5 14A9.5 9.5 0 0 0 7.07 7.5h2.68a.75.75 0 0 1 0 1.5h-4A.75.75 0 0 1 5 8.25v-4a.75.75 0 0 1 1.5 0v1.7a11 11 0 1 1-3.42 6.7.75.75 0 1 1 1.49.2A9.5 9.5 0 1 0 23.5 14Z"/></svg>'):this.playerState.paused?Mt('<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M10.14 3.38A2.75 2.75 0 0 0 6 5.76v16.48c0 2.13 2.3 3.45 4.14 2.38l14.7-8.6a2.35 2.35 0 0 0 0-4.05l-14.7-8.59Z"/></svg>'):Mt('<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M6.75 3A2.75 2.75 0 0 0 4 5.75v16.5A2.75 2.75 0 0 0 6.75 25h3a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 9.75 3h-3Zm11.5 0a2.75 2.75 0 0 0-2.75 2.75v16.5A2.75 2.75 0 0 0 18.25 25h3A2.75 2.75 0 0 0 24 22.25V5.75A2.75 2.75 0 0 0 21.25 3h-3Z"/></svg>')}
    </button>`}onBigPlayButtonClick(){this.dispatchEvent(new rN("big-play-button-clicked"))}};gN.styles=[aN,sN,V`
      .big-play-button {
        transition-property: background, color, outline;
      }

      .big-play-button.tooltip {
        --tooltip-gap: var(--spacing-m);
      }

      .big-play-button-light {
        background-color: var(--color-white-alpha-90);
        outline: var(--stroke-width-thickest) solid var(--color-white-alpha-20);
      }

      .big-play-button-light:hover {
        background-color: var(--color-white-alpha-20);
        outline: var(--stroke-width-thickest) solid var(--color-white-alpha-90);
      }

      .big-play-button-light svg {
        fill: var(--color-brand-40);
      }

      .big-play-button-dark {
        background-color: var(--color-black-alpha-60);
        outline: var(--stroke-width-thickest) solid var(--color-black-alpha-20);
      }

      .big-play-button-dark:hover {
        background-color: var(--color-black-alpha-60);
        outline: var(--stroke-width-thickest) solid var(--color-white-alpha-90);
      }

      .big-play-button-dark svg {
        fill: var(--color-neutral-foreground-1);
      }

      @media (forced-colors: active) {
        .big-play-button-dark {
          background-color: ButtonText;
          outline: var(--stroke-width-thickest) solid Highlight;
        }

        .big-play-button-dark:hover {
          background-color: Highlight;
          outline: var(--stroke-width-thickest) solid ButtonText;
        }

        .big-play-button-dark svg {
          fill: ButtonFace;
        }
      }

      .big-play-button-light {
          background-color: Highlight;
          outline: var(--stroke-width-thickest) solid ButtonText;
        }

        .big-play-button-light:hover {
          background-color: ButtonText;
          outline: var(--stroke-width-thickest) solid Highlight;
        }

        .big-play-button-light svg {
          fill: ButtonFace;
        }
      }
    `],hN([_({context:LR,subscribe:!0})],gN.prototype,"playerState",2),gN=hN([ot(),qe("ump-big-play-button")],gN);const vN='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 0 1-.7-.7L12.8 10 7.65 4.85a.5.5 0 0 1 0-.7Z"/></svg>',mN=[.5,.75,1,1.25,1.5,1.75,2,3,4],yN=[{label:tt("White"),hexCode:"#FFFFFF"},{label:tt("Yellow"),hexCode:"#FFFF00"},{label:tt("Black"),hexCode:"#000000"},{label:tt("Green"),hexCode:"#008000"},{label:tt("Blue"),hexCode:"#0000FF"},{label:tt("Magenta"),hexCode:"#FF00FF"},{label:tt("Cyan"),hexCode:"#00FFFF"}],bN=[{label:tt("Proportional Sans Serif"),family:"sans-serif"},{label:tt("Monospace Sans Serif"),family:'"Andale Mono", "Lucida Console", monospace'},{label:tt("Proportional Serif"),family:"serif"},{label:tt("Monospace Serif"),family:'"Courier New", monospace'},{label:tt("Casual"),family:'"Comic Sans MS", Impact, fantasy'},{label:tt("Cursive"),family:'"Monotype Corsiva", cursive'},{label:tt("Small Capitals"),family:'"Andale Mono", "Lucida Console", monospace, sans-serif'}],wN=[0,.25,.5,.75,1],xN="rgb(34, 34, 34)",SN="rgb(204, 204, 204)",TN=[{label:tt("None"),textShadow:"rgb(255, 255, 255) 0px 0px 0px"},{label:tt("Drop Shadow"),textShadow:`${xN} 2px 2px 3px, ${xN} 2px 2px 4px, ${xN} 2px 2px 5px`},{label:tt("Depressed"),textShadow:`${SN} 1px 1px 0px, ${SN} 0px 1px 0px, ${xN} -1px -1px 0px, ${xN} 0px -1px 0px`},{label:tt("Uniform"),textShadow:`${xN} 0px 0px 4px, ${xN} 0px 0px 4px, ${xN} 0px 0px 4px, ${xN} 0px 0px 4px`},{label:tt("Raised"),textShadow:`${xN} 1px 1px 0px, ${xN} 2px 2px 0px, ${xN} 3px 3px 0px`}];var kN=Object.defineProperty,CN=Object.getOwnPropertyDescriptor,AN=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?CN(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&kN(t,n,a),a};let EN=class extends ze{constructor(){super(...arguments),this.buildColorMenu=(e,t,n,r,i)=>{const a=this.playerState.disableKeyboardEvents;function o(e){const[t]=e.currentTarget.querySelectorAll("button");null==t||t.focus()}return Ae`
      <ump-menu-item
        class=${At({"cc-style-menu-item":!0,...iN(this.playerState)})}
        role="menuitem"
        .focusable="${!a}"
        @focus=${o}
        @click=${e=>e.stopPropagation()}
      >
        <div>
          <div><b>${tt("Color")}</b></div>
          <div>
            ${tt(yN.find((e=>e.hexCode===t)).label)}
          </div>
        </div>

        <div slot="suffix" class=${At({"color-suffix":!0})}>
          ${yN.map((t=>Ae`
              <button
                class=${At({btn:!0,"btn-circle":!0,"btn-color":!0,...iN(this.playerState)})}
                style="background-color: ${t.hexCode};"
                aria-label="${tt(t.label)}"
                data-testid="${e}-${t.label}"
                @click=${r(t.hexCode)}
                @keydown=${e=>this.onColorOptionsKeyDown(e)}
              ></button>
            `))}
        </div>
      </ump-menu-item>

      <ump-menu-item
        class=${At({"cc-style-menu-item":!0,...iN(this.playerState)})}
        role="menuitem"
        .focusable="${!a}"
        @focus=${o}
        @click=${e=>e.stopPropagation()}
      >
        <div>
          <div><b>${tt("Opacity")}</b></div>
          <div>${100*n+"%"}</div>
        </div>

        <div slot="suffix" class=${At({"opacity-suffix":!0})}>
          ${wN.map((t=>Ae`
              <button
                class=${At({btn:!0,"btn-subtle":!0,"btn-xs":!0,...iN(this.playerState)})}
                data-testid="${e}-${100*t}"
                @click=${i(t)}
                @keydown=${e=>this.onColorOptionsKeyDown(e)}
              >
                ${100*t+"%"}
              </button>
            `))}
        </div>
      </ump-menu-item>
    `}}render(){var e;const{captionTracks:t,selectedCaptionTrackId:n,captionSettings:r}=this.playerState;if(t.length<=1)return null;const i=this.playerState.disableKeyboardEvents?0:-1;return Ae`
      <ump-popup
        popupAriaLabel="${tt("Captions")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          slot="trigger"
          class=${At({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...iN(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${tt("Captions")}"
          aria-label="${tt("Captions Menu")}"
          data-testid="captions-menu-button"
        >
          ${null!=(e=this.popup)&&e.opened?Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 4a3 3 0 0 0-3 3v6a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H5Zm1.4 3.24c.82-.41 1.8-.24 2.45.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22C6.44 8.34 6 8.9 6 10s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 1 1 .7.7c-.65.65-1.63.82-2.45.41C5.56 12.34 5 11.39 5 10c0-1.39.56-2.34 1.4-2.76Zm7.95.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22c-.41.21-.85.76-.85 1.87s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 0 1 .7.7c-.65.65-1.63.82-2.45.41-.84-.42-1.4-1.37-1.4-2.76 0-1.39.56-2.34 1.4-2.76.82-.41 1.8-.24 2.45.4Z"/></svg>'):Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.4 7.24c.82-.41 1.8-.24 2.45.4a.5.5 0 0 1-.7.71 1.12 1.12 0 0 0-1.3-.22C6.44 8.34 6 8.9 6 10s.44 1.66.85 1.87c.43.21.95.13 1.3-.22a.5.5 0 0 1 .7.7c-.65.65-1.63.82-2.45.41C5.56 12.34 5 11.39 5 10c0-1.39.56-2.34 1.4-2.76Zm7.95.4a2.12 2.12 0 0 0-2.45-.4c-.84.42-1.4 1.37-1.4 2.76 0 1.39.56 2.34 1.4 2.76.82.41 1.8.24 2.45-.4a.5.5 0 0 0-.7-.71c-.35.35-.87.43-1.3.22-.41-.21-.85-.76-.85-1.87s.44-1.66.85-1.87c.43-.21.95-.13 1.3.22a.5.5 0 0 0 .7-.7ZM2 7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7Zm3-2a2 2 0 0 0-2 2v6c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5Z"/></svg>')}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-label> ${tt("Captions")} </ump-menu-label>

              <hr aria-hidden="true" />

              ${t.map((e=>Ae`
                  <ump-menu-item
                    class=${At({...iN(this.playerState)})}
                    type="radio"
                    .checked="${e.captionId===n}"
                    @click=${this.onCaptionClicked(e)}
                  >
                    ${e.captionId!==GR.captionId?e.label:GR.label}
                  </ump-menu-item>
                `))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  class=${At({btn:!0,"btn-outline":!0,...iN(this.playerState)})}
                  role="menuitem"
                  submenu="captions-settings"
                  slot="suffix"
                  tabindex="${i}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  aria-roledescription="button"
                  aria-label="${tt("Caption Settings")}"
                  data-testid="captions-settings-button"
                >
                  ${tt("Caption Settings")} ${Mt(vN)}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- SETTINGS MENU -->
          <ump-submenu id="captions-settings">
            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="${eN}"
            >
              ${tt("Caption Settings")}
            </ump-menu-item>

            <hr aria-hidden="true" />

            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="captions-font-size"
            >
              ${tt("Font Size")}
              <div slot="suffix">${100*r.fontScale+"%"}</div>
            </ump-menu-item>

            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="captions-text-color"
            >
              ${tt("Text Color")}
              <div slot="suffix">
                ${tt(yN.find((e=>e.hexCode===r.textColor)).label)},
                ${1===r.textOpacity?tt("Opaque"):100*r.textOpacity+"%"}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="captions-background-color"
            >
              ${tt("Background Color")}
              <div slot="suffix">
                ${tt(yN.find((e=>e.hexCode===r.backgroundColor)).label)},
                ${1===r.backgroundOpacity?tt("Opaque"):100*r.backgroundOpacity+"%"}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="captions-font-family"
            >
              ${tt("Font Family")}
              <div slot="suffix">
                ${tt(bN.find((e=>e.family===r.fontFamily)).label)}
              </div>
            </ump-menu-item>

            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="captions-text-edge-style"
            >
              ${tt("Text Edge Style")}
              <div slot="suffix">
                ${tt(TN.find((e=>e.textShadow===r.textShadow)).label)}
              </div>
            </ump-menu-item>
          </ump-submenu>

          <!-- FONT SIZE MENU -->
          <ump-submenu id="captions-font-size">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${At({...iN(this.playerState)})}
                submenu="${eN}"
              >
                ${tt("Font Size")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${mN.map((e=>Ae`
                  <ump-menu-item
                    class=${At({...iN(this.playerState)})}
                    type="radio"
                    .checked=${r.fontScale===e}
                    @click=${this.onFontSizeClicked(e)}
                  >
                    ${100*e+"%"}
                  </ump-menu-item>
                `))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  class=${At({btn:!0,"btn-outline":!0,...iN(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${tt("Reset")}"
                  tabindex="${i}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-font-size"
                  @click=${this.onFontSizeClicked(XR.fontScale)}
                >
                  ${tt("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- TEXT COLOR MENU -->
          <ump-submenu id="captions-text-color">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${At({...iN(this.playerState)})}
                submenu="${eN}"
              >
                ${tt("Text Color")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${this.buildColorMenu("text-color",r.textColor,r.textOpacity,this.onTextColorClicked.bind(this),this.onTextOpacityClicked.bind(this))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  class=${At({btn:!0,"btn-outline":!0,...iN(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${tt("Reset")}"
                  tabindex="${i}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-text-color"
                  @click=${()=>{this.onTextColorClicked(XR.textColor)(),this.onTextOpacityClicked(XR.textOpacity)()}}
                >
                  ${tt("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- BACKGROUND COLOR MENU -->
          <ump-submenu id="captions-background-color">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${At({...iN(this.playerState)})}
                submenu="${eN}"
              >
                ${tt("Background Color")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${this.buildColorMenu("background-color",r.backgroundColor,r.backgroundOpacity,this.onBackgroundColorClicked.bind(this),this.onBackgroundOpacityClicked.bind(this))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  class=${At({btn:!0,"btn-outline":!0,...iN(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${tt("Reset")}"
                  tabindex="${i}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-background-color"
                  @click=${()=>{this.onBackgroundColorClicked(XR.backgroundColor)(),this.onBackgroundOpacityClicked(XR.backgroundOpacity)()}}
                >
                  ${tt("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- FONT FAMILY MENU -->
          <ump-submenu id="captions-font-family">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${At({...iN(this.playerState)})}
                submenu="${eN}"
              >
                ${tt("Font Family")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${bN.map((e=>Ae`
                  <ump-menu-item
                    class=${At({...iN(this.playerState)})}
                    type="radio"
                    .checked=${e.family===r.fontFamily}
                    @click=${this.onFontFamilyClicked(e.family)}
                  >
                    ${tt(e.label)}
                  </ump-menu-item>
                `))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  class=${At({btn:!0,"btn-outline":!0,...iN(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${tt("Reset")}"
                  tabindex="${i}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-font-family"
                  @click=${this.onFontFamilyClicked(XR.fontFamily)}
                >
                  ${tt("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>

          <!-- TEXT EDGE STYLE MENU -->
          <ump-submenu id="captions-text-edge-style">
            <div class="menu-scrollable" data-scrollable>
              <ump-menu-item
                class=${At({...iN(this.playerState)})}
                submenu="${eN}"
              >
                ${tt("Text Edge Style")}
              </ump-menu-item>

              <hr aria-hidden="true" />

              ${TN.map((e=>Ae`
                  <ump-menu-item
                    class=${At({...iN(this.playerState)})}
                    type="radio"
                    .checked=${r.textShadow===e.textShadow}
                    @click=${this.onTextEdgeStyleClicked(e.textShadow)}
                  >
                    ${tt(e.label)}
                  </ump-menu-item>
                `))}
            </div>
            <div class="menu-footer">
              <ump-menu-footer>
                <button
                  class=${At({btn:!0,"btn-outline":!0,...iN(this.playerState)})}
                  slot="suffix"
                  role="menuitem"
                  aria-roledescription="button"
                  aria-label="${tt("Reset")}"
                  tabindex="${i}"
                  @focusin=${this.onFooterButtonFocusIn}
                  @focusout=${this.onFooterButtonFocusOut}
                  data-testid="reset-text-edge-style"
                  @click=${this.onTextEdgeStyleClicked(XR.textShadow)}
                >
                  ${tt("Reset")}
                </button>
              </ump-menu-footer>
            </div>
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onFooterButtonFocusIn(e){this.playerState.disableKeyboardEvents||(e.target.tabIndex=0)}onFooterButtonFocusOut(e){this.playerState.disableKeyboardEvents||(e.target.tabIndex=-1)}onCaptionClicked(e){return()=>{this.dispatchEvent(new rN("caption-track-clicked",e)),this.dispatchEvent(new rN("closedcaptionschanged"))}}captionSettingChanged(e){this.dispatchEvent(e),this.dispatchEvent(new rN("closedcaptionsettingschanged"))}onFontSizeClicked(e){return()=>this.captionSettingChanged(new rN("caption-font-size-clicked",e))}onTextColorClicked(e){return()=>this.captionSettingChanged(new rN("caption-text-color-clicked",e))}onTextOpacityClicked(e){return()=>this.captionSettingChanged(new rN("caption-text-opacity-clicked",e))}onBackgroundColorClicked(e){return()=>this.captionSettingChanged(new rN("caption-background-color-clicked",e))}onBackgroundOpacityClicked(e){return()=>this.captionSettingChanged(new rN("caption-background-opacity-clicked",e))}onFontFamilyClicked(e){return()=>this.captionSettingChanged(new rN("caption-font-family-clicked",e))}onTextEdgeStyleClicked(e){return()=>this.captionSettingChanged(new rN("caption-text-edge-style-clicked",e))}onColorOptionsKeyDown(e){if(this.playerState.disableKeyboardEvents)return;const t=e.currentTarget,n=Array.from(t.parentElement.querySelectorAll("button")),r=n.indexOf(t);switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),t.click();break;case"ArrowRight":n[(r+1)%n.length].focus();break;case"ArrowLeft":n[(r-1+n.length)%n.length].focus()}}get opened(){var e;return null==(e=this.popup)?void 0:e.opened}};EN.styles=[aN,oN,sN,V`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-80);display:block}@container universalmediaplayer (max-width:450px){ump-menu{width:calc(var(--size-80) - 3cqw)}}.menu-title-spacer{width:var(--size-6);height:var(--size-6)}@container universalmediaplayer (min-width:0){.menu-scrollable{scrollbar-base-color:green;overflow:hidden auto;max-height:calc(100cqh - var(--ump-lower-controls-height) - 4rem);flex-direction:column;padding:var(--spacing-xs)}}.menu-footer{width:100%;border-top:1px solid var(--color-neutral-stroke-alpha)}.menu-footer div:focus,.menu-footer div:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.menu-footer div svg{fill:currentcolor}.color-suffix{display:flex;align-items:center;justify-content:space-between;gap:var(--spacing-m);padding:var(--spacing-s) var(--spacing-m)}.opacity-suffix{display:flex;gap:var(--spacing-xs)}.opacity-suffix .btn{font-weight:var(--font-weight-normal)}.cc-style-menu-item{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-s) 0}.btn-color{width:var(--size-5);height:var(--size-5);padding:0;border:solid var(--stroke-width-thin) var(--color-neutral-stroke-1)}.text-color-list{display:flex;gap:var(--spacing-s)}@media (forced-colors:active){.btn-color{outline:var(--stroke-width-thick) solid;outline-offset:var(--spacing-xxs)}.btn-color:hover{outline-color:Highlight}.menu-footer{border-top-color:ButtonBorder}}
    `],AN([Je("ump-popup")],EN.prototype,"popup",2),AN([_({context:LR,subscribe:!0})],EN.prototype,"playerState",2),EN=AN([qe("ump-caption-menu")],EN);const IN=["af-za","am-et","ar-sa","as-in","be-by","bg-bg","bn-in","ca-es","cs-cz","cy-gb","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-hk","en-ie","en-in","en-my","en-nz","en-ph","en-sg","en-us","en-za","es-ar","es-cl","es-co","es-es","es-mx","et-ee","eu-es","fa-ir","fi-fi","fr-be","fr-ca","fr-ch","fr-fr","fr-ma","ga-ie","gd-gb","gl-es","gu-in","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","is-is","it-it","ja-jp","ka-ge","kk-kz","kn-in","ko-kr","ky-kg","lb-lu","lo-la","lt-lt","lv-lv","mi-nz","mk-mk","ml-in","mr-in","ms-bn","ms-my","mt-mt","nb-no","ne-np","nl-be","nl-nl","nn-no","or-in","pa-in","pl-pl","ps-af","pt-br","pt-pt","ro-ro","ru-ru","si-lk","sk-sk","sl-si","sq-al","sv-se","sw-ke","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tr-tr","tt-ru","ug-cn","uk-ua","ur-in","ur-pk","uz-uz","vi-vn","wo-sn","xh-za","yo-ng","zh-cn","zh-hk","zh-tw","zu-za"],MN={s0289cd9e4bcf84c5:"Volume Level",s061cc20e3432dead:"Pause",s0622a6e6cb77254b:"Transcript",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Font Family",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Captions",s24221a89168e9d21:"Font Size",s255857544a9d5ec0:"Reset",s25a858f0257e2879:"Captions Menu",s2df075aface0dab8:"Share",s2f5d5d2d1f92de26:"Download Video",s302cbb19bf9a174a:"Off",s308604b3ae13fbb5:"Playing",s344ea8f4939cdc98:"Colour",s3687049d1af562c4:"Copy",s36b979e4de5152b3:"Link Copied",s37a9e8aec5713460:"More",s3ca1bdfa8785f808:"Proportional Sans Serif",s41faaf3b4e182cc6:"Age verification is required to access this content.",s49f06dca0feeb2f3:"Uniform",s4b023aafbd8d5ac8:"Share this video on",s4b10acae683d2978:"Fullscreen",s500caa88d20458d3:"You may not access this content",s5267658ceae3230f:"Share this video",s5c5db15dfc3a5376:"Playback rate",s5e3cb80d43a34044:"Black",s5e8250fb85d64c23:"Close",s669b18c6d2d9c95b:"None",s66d852e3c020e79e:"Opaque",s6a3bf589eaf72169:"Monospace Serif",s6baf78886c99db89:"Yellow",s6f59e9b81c5a47e0:"Drop Shadow",s711d047dea682c1a:"Audio Track",s7d148a08796094d2:"Playback Error",s81a19821f3e4a3d2:"Replay",s827bc70ebcb7bbc6:"Monospace Sans Serif",s85186a61e0d55bac:"Video",s889413eb7198ea01:"option for turning off caption",s8e408592fd4ae43a:"Text Edge Style",s8e985aeeca6a8166:"White",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Small Capitals",s95bc8722b2708f8b:"Paused",s973b83fb67a5865d:"Download Transcript",s9b3c2f9cc32d565a:"Cyan",s9c356016f81585f6:"Background Colour",s9d8b8aa2b404c2c8:"Settings",s9fbd543f2179c1ec:"Audio Menu",sa000eaf7092088c3:"Progress Bar",sa6f2645578b2d2bc:"Year",sa9011e79e3ca2d18:"Depressed",saf9b398ab363c174:"Please enter your date of birth",sb3d4f79d9d8b71e5:"Submit",sb47daaf9e1c4a905:"Month",sb9f16a5f9c29f41e:"We're sorry, but something went wrong.",sba64d8954d027206:"Opacity",sc07837c309cc699b:"Unmute",scd105819b5a10243:"Play",sce836928a17d96ed:"Text Colour",scf00d78fd5953f1c:"Green",sd1246235faaa3191:"An age restriction has been implemented due to mature themes or legal requirements intended to protect younger audiences.",sd3386a2ef42e80b9:"Download",sd8d4b1b613d28990:"Cursive",sdb02f53e62c1da05:"Raised",sdb73788b3c975f16:"Auto",se0955919920ee87d:"Day",se0f67eae944f8f94:"Mute",se73c59cc10f48c12:"Social",secf3d3a7c1693e2d:"Blue",sed31876562d94652:"Caption Settings",sf113fa256db9617b:"Ended",sf675f879b1c892c6:"Quality",sfc24a457269b13d4:"Volume Slider",sfcb817633bf70e1b:"Proportional Serif",sa430d84680aabd0b:"hello"},_N=Object.freeze(Object.defineProperty({__proto__:null,templates:MN},Symbol.toStringTag,{value:"Module"})),PN={s0289cd9e4bcf84c5:"Nivel de volumen",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcripción",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Familia de fuentes",s1fa5be5a4f5d0f04:"Informal",s23537b5c9e7af982:"Subtítulos",s24221a89168e9d21:"Tamaño de fuente",s255857544a9d5ec0:"Restablecer",s25a858f0257e2879:"Menú Subtítulos",s2df075aface0dab8:"Compartir",s2f5d5d2d1f92de26:"Descargar vídeo",s302cbb19bf9a174a:"Desactivado",s308604b3ae13fbb5:"Reproduciendo",s344ea8f4939cdc98:"Color",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"Vínculo copiado",s37a9e8aec5713460:"Más",s3ca1bdfa8785f808:"Sans Serif proporcional",s41faaf3b4e182cc6:"Es necesario realizar una comprobación de la edad para acceder a este contenido.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Comparte este vídeo por",s4b10acae683d2978:"Pantalla completa",s500caa88d20458d3:"No puedes acceder a este contenido",s5267658ceae3230f:"Compartir este vídeo",s5c5db15dfc3a5376:"Velocidad de reproducción",s5e3cb80d43a34044:"Negro",s5e8250fb85d64c23:"Cerrar",s669b18c6d2d9c95b:"Ninguna",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serif monoespaciada",s6baf78886c99db89:"Amarillo",s6f59e9b81c5a47e0:"Sombra paralela",s711d047dea682c1a:"Pista de audio",s7d148a08796094d2:"Error de reproducción",s81a19821f3e4a3d2:"Reproducir",s827bc70ebcb7bbc6:"Sans Serif monoespaciada",s85186a61e0d55bac:"Vídeo",s889413eb7198ea01:"opción para desactivar los subtítulos",s8e408592fd4ae43a:"Estilo de borde del texto",s8e985aeeca6a8166:"Blanco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Versalitas",s95bc8722b2708f8b:"En pausa",s973b83fb67a5865d:"Descargar transcripción",s9b3c2f9cc32d565a:"Cian",s9c356016f81585f6:"Color de fondo",s9d8b8aa2b404c2c8:"Configuración",s9fbd543f2179c1ec:"Menú Audio",sa000eaf7092088c3:"Barra de progreso",sa6f2645578b2d2bc:"Año",sa9011e79e3ca2d18:"Presionado",saf9b398ab363c174:"Escribe tu fecha de nacimiento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"Mes",sb9f16a5f9c29f41e:"Lo sentimos, se ha producido un error.",sba64d8954d027206:"Opacidad",sc07837c309cc699b:"Reactivar audio",scd105819b5a10243:"Reproducir",sce836928a17d96ed:"Color del texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Se ha aplicado una restricción de edad debido a temas para adultos o requisitos legales destinada a proteger a las audiencias más jóvenes.",sd3386a2ef42e80b9:"Descargar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Elevado",sdb73788b3c975f16:"Automático",se0955919920ee87d:"Día",se0f67eae944f8f94:"Silenciar",se73c59cc10f48c12:"Redes sociales",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configuración de las leyendas",sf113fa256db9617b:"Finalizado",sf675f879b1c892c6:"Calidad",sfc24a457269b13d4:"Control deslizante de volumen",sfcb817633bf70e1b:"Serif proporcional",sa430d84680aabd0b:"hello"},DN=Object.freeze(Object.defineProperty({__proto__:null,templates:PN},Symbol.toStringTag,{value:"Module"})),LN={s0289cd9e4bcf84c5:"Nivel de volumen",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcripción",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Familia de fuentes",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Subtítulos",s24221a89168e9d21:"Tamaño de la fuente",s255857544a9d5ec0:"Restablecer",s25a858f0257e2879:"Menú de subtítulos",s2df075aface0dab8:"Compartir",s2f5d5d2d1f92de26:"Descargar video",s302cbb19bf9a174a:"Desactivado",s308604b3ae13fbb5:"Reproduciendo",s344ea8f4939cdc98:"Color",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"Vínculo copiado",s37a9e8aec5713460:"Más",s3ca1bdfa8785f808:"Sin serifa, proporcional",s41faaf3b4e182cc6:"Se requiere una verificación de edad para acceder a este contenido.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Comparte este video en",s4b10acae683d2978:"Pantalla completa",s500caa88d20458d3:"No puedes acceder a este contenido",s5267658ceae3230f:"Compartir este video",s5c5db15dfc3a5376:"Velocidad de reproducción",s5e3cb80d43a34044:"Negro",s5e8250fb85d64c23:"Cerrar",s669b18c6d2d9c95b:"Ninguno",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serif monoespaciada",s6baf78886c99db89:"Amarillo",s6f59e9b81c5a47e0:"Sombra paralela",s711d047dea682c1a:"Pista de audio",s7d148a08796094d2:"Error de reproducción",s81a19821f3e4a3d2:"Repetir",s827bc70ebcb7bbc6:"Sin serifa, monoespaciada",s85186a61e0d55bac:"Video",s889413eb7198ea01:"opción para desactivar subtítulos",s8e408592fd4ae43a:"Estilo del borde del texto",s8e985aeeca6a8166:"Blanco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Versalitas",s95bc8722b2708f8b:"En pausa",s973b83fb67a5865d:"Descargar transcripción",s9b3c2f9cc32d565a:"Cian",s9c356016f81585f6:"Color de fondo",s9d8b8aa2b404c2c8:"Configuración",s9fbd543f2179c1ec:"Menú de audio",sa000eaf7092088c3:"Barra de progreso",sa6f2645578b2d2bc:"Año",sa9011e79e3ca2d18:"En relieve negativo",saf9b398ab363c174:"Introduce tu fecha de nacimiento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"Mes",sb9f16a5f9c29f41e:"Lo sentimos, pero algo salió mal.",sba64d8954d027206:"Opacidad",sc07837c309cc699b:"Reactivar audio",scd105819b5a10243:"Reproducir",sce836928a17d96ed:"Color del texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Se implementó una restricción de edad debido a temas para adultos o requisitos legales destinados a proteger a los públicos más jóvenes.",sd3386a2ef42e80b9:"Descargar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Elevado",sdb73788b3c975f16:"Automático",se0955919920ee87d:"Día",se0f67eae944f8f94:"Silenciar",se73c59cc10f48c12:"Redes sociales",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configuración de subtítulos",sf113fa256db9617b:"Terminó",sf675f879b1c892c6:"Calidad",sfc24a457269b13d4:"Control deslizante de volumen",sfcb817633bf70e1b:"Con serifa, proporcional",sa430d84680aabd0b:"hello"},RN=Object.freeze(Object.defineProperty({__proto__:null,templates:LN},Symbol.toStringTag,{value:"Module"})),NN={s0289cd9e4bcf84c5:"Volume sonore",s061cc20e3432dead:"Pause",s0622a6e6cb77254b:"Transcription",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Famille de police",s1fa5be5a4f5d0f04:"Informel",s23537b5c9e7af982:"Sous-titres",s24221a89168e9d21:"Taille de police",s255857544a9d5ec0:"Réinitialiser",s25a858f0257e2879:"Menu des sous-titres",s2df075aface0dab8:"Partager",s2f5d5d2d1f92de26:"Télécharger la vidéo",s302cbb19bf9a174a:"Désactivé",s308604b3ae13fbb5:"Lecture",s344ea8f4939cdc98:"Couleur",s3687049d1af562c4:"Copier",s36b979e4de5152b3:"Lien copié",s37a9e8aec5713460:"Plus",s3ca1bdfa8785f808:"Sans Serif proportionnelle",s41faaf3b4e182cc6:"L’âge doit être vérifié pour accéder à ce contenu.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Partager cette vidéo sur",s4b10acae683d2978:"Plein écran",s500caa88d20458d3:"Vous n’êtes pas autorisé à accéder à ce contenu",s5267658ceae3230f:"Partager cette vidéo",s5c5db15dfc3a5376:"Vitesse de lecture",s5e3cb80d43a34044:"Noir",s5e8250fb85d64c23:"Fermer",s669b18c6d2d9c95b:"Aucune",s66d852e3c020e79e:"Opaque",s6a3bf589eaf72169:"Serif non proportionnelle",s6baf78886c99db89:"Jaune",s6f59e9b81c5a47e0:"Ombre portée",s711d047dea682c1a:"Piste audio",s7d148a08796094d2:"Erreur de lecture",s81a19821f3e4a3d2:"Relecture",s827bc70ebcb7bbc6:"Sans Serif non proportionnelle",s85186a61e0d55bac:"Vidéo",s889413eb7198ea01:"option pour désactiver les sous-titres",s8e408592fd4ae43a:"Style du bord du texte",s8e985aeeca6a8166:"Blanc",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Petites capitales",s95bc8722b2708f8b:"En pause",s973b83fb67a5865d:"Télécharger la transcription",s9b3c2f9cc32d565a:"Cyan",s9c356016f81585f6:"Couleur de l’arrière-plan",s9d8b8aa2b404c2c8:"Paramètres",s9fbd543f2179c1ec:"Menu Audio",sa000eaf7092088c3:"Barre de progression",sa6f2645578b2d2bc:"Année",sa9011e79e3ca2d18:"Enfoncé",saf9b398ab363c174:"Saisissez votre date de naissance",sb3d4f79d9d8b71e5:"Envoyer",sb47daaf9e1c4a905:"Mois",sb9f16a5f9c29f41e:"Nous sommes désolés, mais une erreur s’est produite.",sba64d8954d027206:"Opacité",sc07837c309cc699b:"Activer le son",scd105819b5a10243:"Lecture",sce836928a17d96ed:"Couleur du texte",scf00d78fd5953f1c:"Vert",sd1246235faaa3191:"Une restriction d’âge est appliquée en raison de thèmes réservés aux adultes ou d’exigences juridiques destinées à protéger les jeunes publics.",sd3386a2ef42e80b9:"Télécharger",sd8d4b1b613d28990:"Cursive",sdb02f53e62c1da05:"Déclenché",sdb73788b3c975f16:"Automatique",se0955919920ee87d:"Jour",se0f67eae944f8f94:"Couper le son",se73c59cc10f48c12:"Réseaux sociaux",secf3d3a7c1693e2d:"Bleu",sed31876562d94652:"Paramètres des sous-titres",sf113fa256db9617b:"Terminé(e)s",sf675f879b1c892c6:"Qualité",sfc24a457269b13d4:"Curseur de volume",sfcb817633bf70e1b:"Serif proportionnelle",sa430d84680aabd0b:"hello"},ON=Object.freeze(Object.defineProperty({__proto__:null,templates:NN},Symbol.toStringTag,{value:"Module"})),UN={s0289cd9e4bcf84c5:"Livello volume",s061cc20e3432dead:"Sospendi",s0622a6e6cb77254b:"Trascrizione",s08e6bd98452e6bb9:"Audio",s1b4a36fce2456660:"Famiglia di caratteri",s1fa5be5a4f5d0f04:"Informale",s23537b5c9e7af982:"Sottotitoli",s24221a89168e9d21:"Dimensioni carattere",s255857544a9d5ec0:"Reimposta",s25a858f0257e2879:"Menu Sottotitoli",s2df075aface0dab8:"Condividi",s2f5d5d2d1f92de26:"Scarica video",s302cbb19bf9a174a:"Disattiva",s308604b3ae13fbb5:"In riproduzione",s344ea8f4939cdc98:"Colore",s3687049d1af562c4:"Copia",s36b979e4de5152b3:"Collegamento copiato",s37a9e8aec5713460:"Altro",s3ca1bdfa8785f808:"Proportional Sans Serif",s41faaf3b4e182cc6:"Verifica età richiesta per accedere a questo contenuto.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Condividi questo video",s4b10acae683d2978:"Schermo intero",s500caa88d20458d3:"Non puoi accedere a questo contenuto",s5267658ceae3230f:"Condividi questo video",s5c5db15dfc3a5376:"Frequenza di riproduzione",s5e3cb80d43a34044:"Nero",s5e8250fb85d64c23:"Chiudi",s669b18c6d2d9c95b:"Nessuno",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Monospace Serif",s6baf78886c99db89:"Giallo",s6f59e9b81c5a47e0:"Ombreggiatura",s711d047dea682c1a:"Traccia audio",s7d148a08796094d2:"Errore di riproduzione",s81a19821f3e4a3d2:"Riproduci",s827bc70ebcb7bbc6:"Monospace Sans Serif",s85186a61e0d55bac:"Video",s889413eb7198ea01:"opzione per disattivare i sottotitoli",s8e408592fd4ae43a:"Stile bordo testo",s8e985aeeca6a8166:"Bianco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Maiuscoletto",s95bc8722b2708f8b:"In pausa",s973b83fb67a5865d:"Scarica trascrizione",s9b3c2f9cc32d565a:"Ciano",s9c356016f81585f6:"Colore di sfondo",s9d8b8aa2b404c2c8:"Impostazioni",s9fbd543f2179c1ec:"Menu Audio",sa000eaf7092088c3:"Indicatore di stato",sa6f2645578b2d2bc:"Anno",sa9011e79e3ca2d18:"Incassato",saf9b398ab363c174:"Immetti la tua data di nascita",sb3d4f79d9d8b71e5:"Invia",sb47daaf9e1c4a905:"Mese",sb9f16a5f9c29f41e:"Siamo spiacenti. Si è verificato un problema.",sba64d8954d027206:"Opacità",sc07837c309cc699b:"Attiva audio",scd105819b5a10243:"Riproduci",sce836928a17d96ed:"Colore testo",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"È stata applicata una restrizione di età dovuta ai temi per soli adulti o ai requisiti legali volti a proteggere il pubblico più giovane.",sd3386a2ef42e80b9:"Scarica",sd8d4b1b613d28990:"Corsivo",sdb02f53e62c1da05:"In rilievo",sdb73788b3c975f16:"Auto",se0955919920ee87d:"Giorno",se0f67eae944f8f94:"Disattiva audio",se73c59cc10f48c12:"Social",secf3d3a7c1693e2d:"Blu",sed31876562d94652:"Impostazioni sottotitolo",sf113fa256db9617b:"Completato",sf675f879b1c892c6:"Qualità",sfc24a457269b13d4:"Dispositivo di scorrimento volume",sfcb817633bf70e1b:"Proportional Serif",sa430d84680aabd0b:"hello"},jN=Object.freeze(Object.defineProperty({__proto__:null,templates:UN},Symbol.toStringTag,{value:"Module"})),FN={s0289cd9e4bcf84c5:"Nível de volume",s061cc20e3432dead:"Pausar",s0622a6e6cb77254b:"Transcrição",s08e6bd98452e6bb9:"Áudio",s1b4a36fce2456660:"Família de fontes",s1fa5be5a4f5d0f04:"Casual",s23537b5c9e7af982:"Legendas",s24221a89168e9d21:"Tamanho da fonte",s255857544a9d5ec0:"Redefinir",s25a858f0257e2879:"Menu Legendas",s2df075aface0dab8:"Compartilhar",s2f5d5d2d1f92de26:"Baixar o vídeo",s302cbb19bf9a174a:"Desligado",s308604b3ae13fbb5:"Reproduzindo",s344ea8f4939cdc98:"Cor",s3687049d1af562c4:"Copiar",s36b979e4de5152b3:"Link copiado",s37a9e8aec5713460:"Mais",s3ca1bdfa8785f808:"Sans Serif Proporcional",s41faaf3b4e182cc6:"A verificação de idade é necessária para acessar este conteúdo.",s49f06dca0feeb2f3:"Uniforme",s4b023aafbd8d5ac8:"Compartilhar este vídeo no",s4b10acae683d2978:"Tela inteira",s500caa88d20458d3:"Você não pode acessar este conteúdo",s5267658ceae3230f:"Compartilhar este vídeo",s5c5db15dfc3a5376:"Taxa de reprodução",s5e3cb80d43a34044:"Preto",s5e8250fb85d64c23:"Fechar",s669b18c6d2d9c95b:"Nenhum",s66d852e3c020e79e:"Opaco",s6a3bf589eaf72169:"Serifa monoespaçada",s6baf78886c99db89:"Amarelo",s6f59e9b81c5a47e0:"Sombra",s711d047dea682c1a:"Faixa de áudio",s7d148a08796094d2:"Erro de reprodução",s81a19821f3e4a3d2:"Repetir",s827bc70ebcb7bbc6:"Sans Serif Monoespaçado",s85186a61e0d55bac:"Vídeo",s889413eb7198ea01:"opção para desativar a legenda",s8e408592fd4ae43a:"Estilo de borda de texto",s8e985aeeca6a8166:"Branco",s8eafb22ebdc7e668:"Magenta",s9559a51a63cbb5fd:"Letras minúsculas",s95bc8722b2708f8b:"Pausado",s973b83fb67a5865d:"Baixar a transcrição",s9b3c2f9cc32d565a:"Ciano",s9c356016f81585f6:"Cor de fundo",s9d8b8aa2b404c2c8:"Configurações",s9fbd543f2179c1ec:"Menu Áudio",sa000eaf7092088c3:"Barra de progresso",sa6f2645578b2d2bc:"Ano",sa9011e79e3ca2d18:"Para baixo",saf9b398ab363c174:"Digite sua data de nascimento",sb3d4f79d9d8b71e5:"Enviar",sb47daaf9e1c4a905:"Mês",sb9f16a5f9c29f41e:"Lamentamos, mas algo deu errado.",sba64d8954d027206:"Opacidade",sc07837c309cc699b:"Desativar mudo",scd105819b5a10243:"Jogar",sce836928a17d96ed:"Cor do texto",scf00d78fd5953f1c:"Verde",sd1246235faaa3191:"Uma restrição de idade foi implementada devido a temas adultos ou requisitos legais destinados a proteger o público mais jovem.",sd3386a2ef42e80b9:"Baixar",sd8d4b1b613d28990:"Cursiva",sdb02f53e62c1da05:"Para cima",sdb73788b3c975f16:"Automático",se0955919920ee87d:"Dia",se0f67eae944f8f94:"Ativar mudo",se73c59cc10f48c12:"Redes sociais",secf3d3a7c1693e2d:"Azul",sed31876562d94652:"Configurações de legenda",sf113fa256db9617b:"Finalizado",sf675f879b1c892c6:"Qualidade",sfc24a457269b13d4:"Controle deslizante de volume",sfcb817633bf70e1b:"Serifa proporcional",sa430d84680aabd0b:"hello"},BN=Object.freeze(Object.defineProperty({__proto__:null,templates:FN},Symbol.toStringTag,{value:"Module"})),VN={en:"en-us",es:"es-es",de:"de-de",fi:"fi-fi",fr:"fr-fr",hi:"hi-in",hu:"hu-hu",is:"is-is",it:"it-it",ja:"ja-jp",kk:"kk-kz",ko:"ko-kr",lt:"lt-lt",lv:"lv-lv",mk:"mk-mk",mt:"mt-mt",nb:"nb-no",nn:"nn-no",pl:"pl-pl",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sk:"sk-sk",sl:"sl-si",sq:"sq-al",sv:"sv-se",ta:"ta-in",te:"te-in",th:"th-th",tr:"tr-tr",uk:"uk-ua",ur:"ur-pk",uz:"uz-uz",vi:"vi-vn",zh:"zh-cn"};function $N(e){try{return new Intl.DisplayNames([e],{type:"language",fallback:"none"}).of(e)}catch{return}}const zN=e=>"en-us"==(e=e.toLowerCase())?"English":$N(e)??$N(qN(e))??e,HN=e=>{if(!e)return;const t=e.toLowerCase();return function(e){return IN.includes(e)}(t)?t:VN[qN(t)]},qN=e=>e.split("-")[0],KN=new Set(["??-??-????????","???-????-??","??-????-??","???-????","??-????","???-??","??-??","???","??"]),GN=Array.from(KN).map((e=>`(?:${e.replace(/\?/g,"[a-zA-Z]")})`)).join("|"),XN=new Map,WN={"es-es":{templates:PN},"pt-br":{templates:FN},"en-gb":{templates:MN},"fr-fr":{templates:NN},"es-mx":{templates:LN},"it-it":{templates:UN}};const{getLocale:YN,setLocale:JN}=(ZN={sourceLocale:"en-us",targetLocales:["af-za","am-et","ar-sa","as-in","be-by","bg-bg","bn-in","ca-es","cs-cz","cy-gb","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-hk","en-ie","en-in","en-my","en-nz","en-ph","en-sg","en-za","es-ar","es-cl","es-co","es-es","es-mx","et-ee","eu-es","fa-ir","fi-fi","fr-be","fr-ca","fr-ch","fr-fr","fr-ma","ga-ie","gd-gb","gl-es","gu-in","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","is-is","it-it","ja-jp","ka-ge","kk-kz","kn-in","ko-kr","ky-kg","lb-lu","lo-la","lt-lt","lv-lv","mi-nz","mk-mk","ml-in","mr-in","ms-bn","ms-my","mt-mt","nb-no","ne-np","nl-be","nl-nl","nn-no","or-in","pa-in","pl-pl","ps-af","pt-br","pt-pt","ro-ro","ru-ru","si-lk","sk-sk","sl-si","sq-al","sv-se","sw-ke","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tr-tr","tt-ru","ug-cn","uk-ua","ur-in","ur-pk","uz-uz","vi-vn","wo-sn","xh-za","yo-ng","zh-cn","zh-hk","zh-tw","zu-za"],loadLocale:function(e){let t=XN.get(e);return t||(t=(e=>WN[e]?Promise.resolve(WN[e]):((e,t,n)=>{const r=e[t];return r?"function"==typeof r?r():Promise.resolve(r):new Promise(((e,n)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t+(4!==t.split("/").length?". Note that variables only represent file names one level deep.":""))))}))})(Object.assign({"../generated/locales/af-za.ts":()=>r.e(65).then(r.bind(r,65)),"../generated/locales/am-et.ts":()=>r.e(2022).then(r.bind(r,2022)),"../generated/locales/ar-sa.ts":()=>r.e(3066).then(r.bind(r,3066)),"../generated/locales/as-in.ts":()=>r.e(8908).then(r.bind(r,8908)),"../generated/locales/be-by.ts":()=>r.e(7613).then(r.bind(r,7613)),"../generated/locales/bg-bg.ts":()=>r.e(9692).then(r.bind(r,9692)),"../generated/locales/bn-in.ts":()=>r.e(8752).then(r.bind(r,8752)),"../generated/locales/ca-es.ts":()=>r.e(6972).then(r.bind(r,6972)),"../generated/locales/cs-cz.ts":()=>r.e(7205).then(r.bind(r,7205)),"../generated/locales/cy-gb.ts":()=>r.e(7971).then(r.bind(r,7971)),"../generated/locales/da-dk.ts":()=>r.e(6642).then(r.bind(r,6642)),"../generated/locales/de-at.ts":()=>r.e(112).then(r.bind(r,112)),"../generated/locales/de-ch.ts":()=>r.e(5053).then(r.bind(r,5053)),"../generated/locales/de-de.ts":()=>r.e(7437).then(r.bind(r,7437)),"../generated/locales/el-gr.ts":()=>r.e(3943).then(r.bind(r,3943)),"../generated/locales/en-au.ts":()=>r.e(4252).then(r.bind(r,4252)),"../generated/locales/en-ca.ts":()=>r.e(9749).then(r.bind(r,9749)),"../generated/locales/en-gb.ts":()=>Promise.resolve().then((()=>_N)),"../generated/locales/en-hk.ts":()=>r.e(6930).then(r.bind(r,6930)),"../generated/locales/en-ie.ts":()=>r.e(4150).then(r.bind(r,4150)),"../generated/locales/en-in.ts":()=>r.e(2040).then(r.bind(r,2040)),"../generated/locales/en-my.ts":()=>r.e(3288).then(r.bind(r,3288)),"../generated/locales/en-nz.ts":()=>r.e(3841).then(r.bind(r,3841)),"../generated/locales/en-ph.ts":()=>r.e(221).then(r.bind(r,221)),"../generated/locales/en-sg.ts":()=>r.e(3478).then(r.bind(r,4997)),"../generated/locales/en-za.ts":()=>r.e(847).then(r.bind(r,847)),"../generated/locales/es-ar.ts":()=>r.e(5236).then(r.bind(r,5236)),"../generated/locales/es-cl.ts":()=>r.e(8181).then(r.bind(r,8181)),"../generated/locales/es-co.ts":()=>r.e(2206).then(r.bind(r,2206)),"../generated/locales/es-es.ts":()=>Promise.resolve().then((()=>DN)),"../generated/locales/es-mx.ts":()=>Promise.resolve().then((()=>RN)),"../generated/locales/et-ee.ts":()=>r.e(6489).then(r.bind(r,6489)),"../generated/locales/eu-es.ts":()=>r.e(4982).then(r.bind(r,4982)),"../generated/locales/fa-ir.ts":()=>r.e(8167).then(r.bind(r,8167)),"../generated/locales/fi-fi.ts":()=>r.e(9148).then(r.bind(r,9148)),"../generated/locales/fr-be.ts":()=>r.e(4211).then(r.bind(r,4211)),"../generated/locales/fr-ca.ts":()=>r.e(5198).then(r.bind(r,5198)),"../generated/locales/fr-ch.ts":()=>r.e(806).then(r.bind(r,806)),"../generated/locales/fr-fr.ts":()=>Promise.resolve().then((()=>ON)),"../generated/locales/fr-ma.ts":()=>r.e(7567).then(r.bind(r,7567)),"../generated/locales/ga-ie.ts":()=>r.e(4479).then(r.bind(r,4479)),"../generated/locales/gd-gb.ts":()=>r.e(6861).then(r.bind(r,6861)),"../generated/locales/gl-es.ts":()=>r.e(4571).then(r.bind(r,5553)),"../generated/locales/gu-in.ts":()=>r.e(3158).then(r.bind(r,3158)),"../generated/locales/he-il.ts":()=>r.e(8094).then(r.bind(r,8094)),"../generated/locales/hi-in.ts":()=>r.e(677).then(r.bind(r,677)),"../generated/locales/hr-hr.ts":()=>r.e(3475).then(r.bind(r,3475)),"../generated/locales/hu-hu.ts":()=>r.e(8736).then(r.bind(r,8736)),"../generated/locales/hy-am.ts":()=>r.e(4407).then(r.bind(r,4407)),"../generated/locales/id-id.ts":()=>r.e(8482).then(r.bind(r,8482)),"../generated/locales/is-is.ts":()=>r.e(6423).then(r.bind(r,6423)),"../generated/locales/it-it.ts":()=>Promise.resolve().then((()=>jN)),"../generated/locales/ja-jp.ts":()=>r.e(4562).then(r.bind(r,4562)),"../generated/locales/ka-ge.ts":()=>r.e(3763).then(r.bind(r,3763)),"../generated/locales/kk-kz.ts":()=>r.e(2255).then(r.bind(r,2255)),"../generated/locales/kn-in.ts":()=>r.e(4138).then(r.bind(r,4138)),"../generated/locales/ko-kr.ts":()=>r.e(2930).then(r.bind(r,2930)),"../generated/locales/ky-kg.ts":()=>r.e(8238).then(r.bind(r,8238)),"../generated/locales/lb-lu.ts":()=>r.e(7166).then(r.bind(r,7166)),"../generated/locales/lo-la.ts":()=>r.e(1633).then(r.bind(r,1633)),"../generated/locales/lt-lt.ts":()=>r.e(8901).then(r.bind(r,8901)),"../generated/locales/lv-lv.ts":()=>r.e(7835).then(r.bind(r,7835)),"../generated/locales/mi-nz.ts":()=>r.e(6466).then(r.bind(r,6466)),"../generated/locales/mk-mk.ts":()=>r.e(9356).then(r.bind(r,9356)),"../generated/locales/ml-in.ts":()=>r.e(7201).then(r.bind(r,7201)),"../generated/locales/mr-in.ts":()=>r.e(5206).then(r.bind(r,5206)),"../generated/locales/ms-bn.ts":()=>r.e(6531).then(r.bind(r,6531)),"../generated/locales/ms-my.ts":()=>r.e(934).then(r.bind(r,934)),"../generated/locales/mt-mt.ts":()=>r.e(1663).then(r.bind(r,1663)),"../generated/locales/nb-no.ts":()=>r.e(7152).then(r.bind(r,7152)),"../generated/locales/ne-np.ts":()=>r.e(4124).then(r.bind(r,4124)),"../generated/locales/nl-be.ts":()=>r.e(6393).then(r.bind(r,6393)),"../generated/locales/nl-nl.ts":()=>r.e(5066).then(r.bind(r,5066)),"../generated/locales/nn-no.ts":()=>r.e(936).then(r.bind(r,936)),"../generated/locales/or-in.ts":()=>r.e(3531).then(r.bind(r,3531)),"../generated/locales/pa-in.ts":()=>r.e(974).then(r.bind(r,974)),"../generated/locales/pl-pl.ts":()=>r.e(3563).then(r.bind(r,3563)),"../generated/locales/ps-af.ts":()=>r.e(3801).then(r.bind(r,3801)),"../generated/locales/pt-br.ts":()=>Promise.resolve().then((()=>BN)),"../generated/locales/pt-pt.ts":()=>r.e(1222).then(r.bind(r,1222)),"../generated/locales/ro-ro.ts":()=>r.e(2556).then(r.bind(r,2556)),"../generated/locales/ru-ru.ts":()=>r.e(9009).then(r.bind(r,9009)),"../generated/locales/si-lk.ts":()=>r.e(7358).then(r.bind(r,7358)),"../generated/locales/sk-sk.ts":()=>r.e(1800).then(r.bind(r,1800)),"../generated/locales/sl-si.ts":()=>r.e(1559).then(r.bind(r,1559)),"../generated/locales/sq-al.ts":()=>r.e(2483).then(r.bind(r,2483)),"../generated/locales/sv-se.ts":()=>r.e(7945).then(r.bind(r,7945)),"../generated/locales/sw-ke.ts":()=>r.e(5814).then(r.bind(r,5814)),"../generated/locales/ta-in.ts":()=>r.e(6028).then(r.bind(r,6028)),"../generated/locales/te-in.ts":()=>r.e(3617).then(r.bind(r,3617)),"../generated/locales/tg-tj.ts":()=>r.e(3576).then(r.bind(r,3576)),"../generated/locales/th-th.ts":()=>r.e(1712).then(r.bind(r,1712)),"../generated/locales/ti-et.ts":()=>r.e(2204).then(r.bind(r,2204)),"../generated/locales/tk-tm.ts":()=>r.e(7209).then(r.bind(r,7209)),"../generated/locales/tr-tr.ts":()=>r.e(4745).then(r.bind(r,4745)),"../generated/locales/tt-ru.ts":()=>r.e(3958).then(r.bind(r,3958)),"../generated/locales/ug-cn.ts":()=>r.e(6529).then(r.bind(r,6529)),"../generated/locales/uk-ua.ts":()=>r.e(2433).then(r.bind(r,2433)),"../generated/locales/ur-in.ts":()=>r.e(644).then(r.bind(r,644)),"../generated/locales/ur-pk.ts":()=>r.e(9948).then(r.bind(r,9948)),"../generated/locales/uz-uz.ts":()=>r.e(1154).then(r.bind(r,1154)),"../generated/locales/vi-vn.ts":()=>r.e(3204).then(r.bind(r,3204)),"../generated/locales/wo-sn.ts":()=>r.e(7594).then(r.bind(r,7594)),"../generated/locales/xh-za.ts":()=>r.e(5178).then(r.bind(r,5178)),"../generated/locales/yo-ng.ts":()=>r.e(5427).then(r.bind(r,5427)),"../generated/locales/zh-cn.ts":()=>r.e(3546).then(r.bind(r,3546)),"../generated/locales/zh-hk.ts":()=>r.e(2765).then(r.bind(r,2765)),"../generated/locales/zh-tw.ts":()=>r.e(5525).then(r.bind(r,5525)),"../generated/locales/zu-za.ts":()=>r.e(2741).then(r.bind(r,2741))}),`../generated/locales/${e}.ts`))(e),XN.set(e,t)),t}},function(e){if(nt)throw new Error("lit-localize can only be configured once");tt=(e,t)=>ht(wt,e,t),nt=!0}(),xt=mt=ZN.sourceLocale,yt=new Set(ZN.targetLocales),yt.add(ZN.sourceLocale),bt=ZN.loadLocale,{getLocale:()=>xt,setLocale:e=>{if(e===(vt??xt))return St.promise;if(!yt||!bt)throw new Error("Internal error");if(!yt.has(e))throw new Error("Invalid locale code");Tt++;const t=Tt;return vt=e,St.settled&&(St=new st),gt({status:"loading",loadingLocale:e}),(e===mt?Promise.resolve({templates:void 0}):bt(e)).then((n=>{Tt===t&&(xt=e,vt=void 0,wt=n.templates,gt({status:"ready",readyLocale:e}),St.resolve())}),(n=>{Tt===t&&(gt({status:"error",errorLocale:e,errorMessage:n.toString()}),St.reject(n))})),St.promise}});var ZN;function QN(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return`${t>0?`${t}:`:""}${n.toString().padStart(t>0?2:1,"0")}:${r.toString().padStart(2,"0")}`}const eO=new Map;function tO(e,t){const n=function(e){let t=eO.get(e);return t||(t={hour:new Intl.NumberFormat(e,{style:"unit",unit:"hour",unitDisplay:"long"}),minute:new Intl.NumberFormat(e,{style:"unit",unit:"minute",unitDisplay:"long"}),second:new Intl.NumberFormat(e,{style:"unit",unit:"second",unitDisplay:"long"})},eO.set(e,t)),t}(t);if(0===Math.floor(e))return n.second.format(0);const r=Math.floor(e/3600),i=Math.floor(e%3600/60),a=Math.floor(e%60),o=[];return r>0&&o.push(n.hour.format(r)),i>0&&o.push(n.minute.format(i)),a>0&&o.push(n.second.format(a)),o.join(", ")}const nO=V`
.dialog{background-color:var(--color-brand-30);color:var(--color-neutral-foreground-1);border-radius:var(--border-radius-x-large);border:solid var(--stroke-width-thin) var(--color-white-alpha-30);box-shadow:var(--shadow-8)}
`;var rO=Object.defineProperty,iO=Object.getOwnPropertyDescriptor,aO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?iO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&rO(t,n,a),a};let oO=class extends ze{render(){const{shareOptions:e}=this.playerState,t=e.find((e=>"copy"===e.id)),n=e.filter((e=>"copy"!==e.id));return Ae`
      <dialog
        data-focusgroup
        @click=${this.onDialogClick}
        @keydown=${this.onKeyDown}
        @close=${this.onClose}
      >
        <div class="dialog-backdrop"></div>
        <div class="dialog">
          <div class="share-icon">${Mt('<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="m18.27 3.21 7.5 7.25a.75.75 0 0 1 0 1.08l-7.5 7.25a.73.73 0 0 1-.81.15.75.75 0 0 1-.46-.69v-3.74c-6.7.27-9.52 4.02-9.64 4.18a.77.77 0 0 1-.84.27.75.75 0 0 1-.52-.71c0-8.02 6.59-10.48 11-10.73V3.75a.75.75 0 0 1 1.27-.54Zm.23 10.54v2.71L24.17 11 18.5 5.52v2.73a.76.76 0 0 1-.75.75c-.97 0-8.85.22-10.09 7.28A15.58 15.58 0 0 1 17.75 13a.76.76 0 0 1 .75.75Zm4.22 5.47a.76.76 0 0 1 .53-.22.76.76 0 0 1 .75.75v.5A4.75 4.75 0 0 1 19.25 25H7.75A4.75 4.75 0 0 1 3 20.25V8.75A4.75 4.75 0 0 1 7.75 4h4.5a.75.75 0 1 1 0 1.5h-4.5A3.26 3.26 0 0 0 4.5 8.75v11.5a3.26 3.26 0 0 0 3.25 3.25h11.5a3.26 3.26 0 0 0 3.25-3.25v-.5c0-.2.08-.39.22-.53Z"/></svg>')}</div>

          <button
            class=${At({btn:!0,"btn-sm":!0,"btn-subtle":!0,"btn-icon-only":!0,"btn-close":!0,...iN(this.playerState)})}
            @click=${this.onClose}
            aria-label=${tt("Close")}
            data-id="close-button"
            data-testid="share-dialog-close-button"
          >
            ${Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"/></svg>')}
          </button>

          <div class="dialog-content">
            <h2>${tt("Share this video")}</h2>

            ${t?Ae`
                  <label>
                    <span class="section-title">Link</span>
                    <div class="input">
                      <input
                        type="text"
                        readonly
                        value="${t.url}"
                        title="${t.url}"
                      />

                      <button
                        class=${At({btn:!0,"btn-outline":!0,"btn-copy":!0,...iN(this.playerState)})}
                        @click=${this.onCopyButtonClicked(t.url)}
                        data-testid="copy-share-url-button"
                        aria-label="${tt("Copy")}"
                      >
                        ${tt("Copy")}
                      </button>
                    </div>
                  </label>
                `:null}

            <div>
              <span class="section-title">${tt("Social")}</span>
              <div class="share-dialog-icons">
                ${n.map((e=>Ae`
                    <a
                      href=${e.url}
                      class=${At({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,"btn-social":!0,...iN(this.playerState)})}
                      target="_blank"
                      aria-label="${tt("Share this video on")} ${e.id}}"
                      data-testid="share-social-${e.id}"
                    >
                      ${Mt(e.icon)}
                    </a>
                  `))}
              </div>
            </div>
          </div>
        </div>
      </dialog>
    `}disconnectedCallback(){super.disconnectedCallback(),this.copyTimeoutId&&clearTimeout(this.copyTimeoutId)}firstUpdated(e){super.firstUpdated(e)}show(){this.dialog.show()}get opened(){return this.dialog.open}onCopyButtonClicked(e){return async t=>{try{const n=t.target;await navigator.clipboard.writeText(e),n.ariaLabel=tt("Link Copied"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.03 13.9 3.56 10a.75.75 0 0 0-1.12 1l4 4.5c.29.32.79.34 1.09.03l10.5-10.5a.75.75 0 0 0-1.06-1.06l-9.94 9.94Z"/></svg>',this.copyTimeoutId&&clearTimeout(this.copyTimeoutId),this.copyTimeoutId=setTimeout((()=>{n.ariaLabel=tt("Copy"),n.innerText=tt("Copy")}),3e3)}catch(e){console.log("error copying text",e)}}}onDialogClick(e){e.target===this.dialog&&this.dialog.close()}onKeyDown(e){this.playerState.disableKeyboardEvents||"Escape"===e.key&&this.dialog.close()}onClose(){this.dialog.close(),this.dispatchEvent(new rN("share-dialog-closed"))}};oO.styles=[nO,aN,V`
      dialog {
        border: none;
        display: none;
        position: absolute;
        inset: 0;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        background-color: transparent;
        max-width: 100%;
        max-height: 100%;
        box-sizing: border-box;
        text-align: left;
      }

      dialog[open] {
        display: flex;
      }

      .dialog {
        padding: var(--spacing-xxl) var(--spacing-xxxl);
        display: flex;
        gap: var(--spacing-xxl);
        z-index: 10;
        margin: var(--spacing-xxl);
        position: relative;
        font-family: var(--controls-font-family);
        color: var(--color-neutral-foreground-1);
      }

      .dialog-backdrop {
        position: absolute;
        inset: 0;
        background-color: var(--color-black-alpha-50);
        pointer-events: none;
      }

      .share-icon {
        stroke: currentcolor;
        fill: currentcolor;
      }

      .btn-close {
        position: absolute;
        right: var(--spacing-xl);
        top: var(--spacing-xl);

        &:hover {
          background-color: transparent;
        }
      }

      .dialog-content {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-xxl);
        margin-right: var(--spacing-xxxl);
      }

      h2 {
        margin-top: 0;
        margin-bottom: var(--spacing-s);
        flex-grow: 1;
      }

      .section-title {
        display: block;
        margin-bottom: var(--spacing-m);
        font-weight: var(--font-weight-semibold);
      }

      .input {
        display: flex;
        align-items: center;
        border-radius: var(--border-radius-medium);
        border: solid var(--stroke-width-thin) var(--color-neutral-stroke-1);
        padding: var(--spacing-s) var(--spacing-m);
        border-color: var(--color-grey-86);
        gap: var(--spacing-m);

        input {
          background-color: transparent;
          border: none;
          outline: none;
          margin: 0;
          padding: 0;
          font-family: var(--controls-font-family);
          font-size: var(--font-size-base-400);
          flex-grow: 1;
          white-space: nowrap;
          text-overflow: ellipsis;
          opacity: 0.8;
          color: var(--color-neutral-foreground-1);
        }

        .btn-copy {
          color: var(--color-white-alpha-70);
          font-weight: var(--font-weight-normal);
          flex-shrink: 0;
          flex-basis: 0;
          border-color: var(--color-brand-150);
          border-width: var(--stroke-width-thick);
          border-radius: var(--border-radius-x-large);
          padding: var(--spacing-xxs) var(--spacing-s);
        }
      }

      .share-dialog-icons {
        display: flex;
        align-items: center;
        gap: var(--spacing-m);
      }

      .btn-social {
        background-color: var(--color-brand-140);

        svg {
          width: var(--size-6);
          height: var(--size-6);
          fill: var(--color-brand-40);
        }
      }

      .btn-social:hover {
        background-color: var(--color-brand-150);
      }

      .btn-social:active {
        background-color: var(--color-brand-130);
      }

      @media (forced-colors: active) {
        .btn-close:hover {
            background-color: Highlight;
            color: HighlightText;
          }
        }

        .btn-copy:hover { 
          border-color: Highlight;
          color: HighlightText;
          forced-color-adjust: none;
        }

        .btn-social {
          svg {
            fill: ButtonText;
          }
        }

        .btn-social:hover {
          background-color: Highlight;
          border-color: Highlight;

          svg {
            fill: HighlightText;
          }
        }
      }
    `],aO([Je("dialog")],oO.prototype,"dialog",2),aO([_({context:LR,subscribe:!0})],oO.prototype,"playerState",2),oO=aO([qe("ump-share-dialog")],oO);var sO=Object.defineProperty,uO=Object.getOwnPropertyDescriptor,cO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?uO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&sO(t,n,a),a};let lO=class extends ze{constructor(){super(...arguments),this.onSeekbarPointerDown=()=>{this.dispatchEvent(new rN("seekbar-pointer-down"))},this.onSeekbarPointerMove=e=>{const t=e.target,n=jR(e.offsetX/t.clientWidth,0,1);t.dataset.tooltip=QN(this.playerState.duration*n),t.style.setProperty("--tooltip-pointer-x",`${e.offsetX}px`)},this.onSeekbarPointerUp=()=>{this.dispatchEvent(new rN("seekbar-pointer-up"))}}render(){const e=YN();return Ae`<div
        class="lower-controls-area"
        @focusin=${this.onFocusIn}
        ?inert=${this.playerState.shareDialogOpened}
      >
        <ump-slider
          class="seekbar slider tooltip"
          dir="ltr"
          @pointerdown=${this.onSeekbarPointerDown}
          @pointermove=${this.onSeekbarPointerMove}
          @pointerup=${this.onSeekbarPointerUp}
          @input=${this.onSeekbarSliderChanged}
          sliderarialabel="${tt("Progress Bar")}"
          sliderAriaValueText="${tO(this.playerState.currentTime,e)} ${tt("of")} ${tO(this.playerState.duration,e)}"
          value=${this.playerState.currentTime}
          min="0"
          max=${this.playerState.duration}
          focusStep=${1}
          data-testid="seekbar-slider"
          .ranges=${this.playerState.buffered}
        ></ump-slider>

        <div class="buttons">
          <button
            class=${At({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...iN(this.playerState),tooltip:!0})}
            data-tooltip="${this.playerState.ended?tt("Replay"):this.playerState.paused?tt("Play"):tt("Pause")}"
            aria-label="${this.playerState.ended?tt("Replay"):this.playerState.paused?tt("Play"):tt("Pause")}"
            id="play-button"
            data-testid="play-button"
            @click=${this.onPlayClicked}
          >
            ${this.playerState.ended?Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M16 10A6 6 0 0 0 5.53 6H7.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 1 0v1.6a7 7 0 1 1-1.98 4.36.5.5 0 0 1 1 .08L4 10a6 6 0 0 0 12 0Z"/></svg>'):this.playerState.paused?Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.22 8.69a1.5 1.5 0 0 1 0 2.62l-10 5.5A1.5 1.5 0 0 1 5 15.5v-11A1.5 1.5 0 0 1 7.22 3.2l10 5.5Zm-.48 1.75a.5.5 0 0 0 0-.88l-10-5.5A.5.5 0 0 0 6 4.5v11c0 .38.4.62.74.44l10-5.5Z"/></svg>'):Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H5ZM4 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4Zm9-2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-2Zm-1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4Z"/></svg>')}
          </button>

          <div
            data-identifier="volume-container"
            class="volume-container"
            @focusin=${this.onVolumeContainerFocusIn}
            @focusout=${this.onVolumeContainerFocusOut}
            @pointerleave=${this.onVolumeContainerPointerLeave}
          >
            <button
              class=${At({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...iN(this.playerState),tooltip:!0})}
              aria-label=${this.playerState.muted?tt("Unmute"):tt("Mute")}
              data-testid="volume-button"
              @click=${this.onVolumeClicked}
            >
              ${this.playerState.muted?Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.85 2.15a.5.5 0 1 0-.7.7L5.29 6H3.5C2.68 6 2 6.67 2 7.5v5c0 .83.68 1.5 1.5 1.5H6.1a.5.5 0 0 1 .34.13l3.88 3.6a1 1 0 0 0 1.68-.74V12.7l5.15 5.15a.5.5 0 0 0 .7-.7l-2.56-2.57L2.85 2.15ZM11 11.7V17l-3.88-3.6A1.5 1.5 0 0 0 6.1 13H3.5a.5.5 0 0 1-.5-.5v-5c0-.28.22-.5.5-.5h2.6l.18-.01L11 11.7ZM11 3v5.88l1 1V3a1 1 0 0 0-1.68-.74L7.24 5.12l.71.71L11 3.01Zm3.06 8.94.74.74a5.5 5.5 0 0 0-.04-5.43.5.5 0 1 0-.86.5 4.5 4.5 0 0 1 .16 4.19Zm1.84 1.84.72.72a8 8 0 0 0-.66-9.83.5.5 0 1 0-.74.66 7 7 0 0 1 .68 8.45Z"/></svg>'):Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12 3a1 1 0 0 0-1.68-.73l-3.88 3.6A.5.5 0 0 1 6.1 6H3.5C2.67 6 2 6.67 2 7.5v5c0 .83.67 1.5 1.5 1.5h2.6a.5.5 0 0 1 .34.13l3.88 3.6a1 1 0 0 0 1.68-.74V3.01ZM7.12 6.6 11 3v14l-3.88-3.6A1.5 1.5 0 0 0 6.1 13H3.5a.5.5 0 0 1-.5-.5v-5c0-.28.22-.5.5-.5h2.6c.38 0 .75-.14 1.02-.4Zm8.14-1.97a.5.5 0 0 1 .7.04 8 8 0 0 1 0 10.66.5.5 0 0 1-.74-.66 7 7 0 0 0 0-9.34.5.5 0 0 1 .04-.7Zm-1.18 8.3a.5.5 0 0 1-.18-.68 4.5 4.5 0 0 0 0-4.5.5.5 0 1 1 .86-.5 5.5 5.5 0 0 1 0 5.5.5.5 0 0 1-.68.18Z"/></svg>')}
            </button>

            ${this.playerState.showVolumeSlider?Ae`
                  <div class="volume-menu">
                    <div class="volume-menu-slider-container">
                      <ump-slider
                        class="volume-slider"
                        style="--ump-slide-percentage: ${100*this.playerState.volume}%;"
                        orientation="vertical"
                        sliderarialabel="${tt("Volume Level")}"
                        aria-label=${tt("Volume Slider")}
                        min="0"
                        max="1"
                        focusStep=${.01}
                        sliderAriaValueText="${(100*this.playerState.volume).toFixed()+"%"}"
                        value=${this.playerState.volume}
                        @click=${this.onVolumeSliderClicked}
                        @input=${this.onVolumeSliderChanged}
                        @pointerup=${this.onVolumeSliderPointerUp}
                      ></ump-slider>
                      <div
                        data-tooltip=${(100*this.playerState.volume).toFixed()+"%"}
                        style="--ump-slide-percentage: ${100*this.playerState.volume}%;"
                        class="volume-tooltip tooltip tooltip-visible"
                      ></div>
                    </div>
                    <div class="volume-menu-spacer"></div>
                  </div>
                `:null}
          </div>

          <div class="time" data-testid="time">
            ${QN(this.playerState.currentTime)} /
            ${QN(this.playerState.duration)}
          </div>

          <ump-more-menu
            @share-clicked=${this.onShareClicked}
            id="more-menu"
          ></ump-more-menu>

          <ump-audio-menu></ump-audio-menu>

          <ump-caption-menu></ump-caption-menu>

          <ump-settings-menu></ump-settings-menu>

          <button
            class=${At({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...iN(this.playerState),tooltip:!0,"tooltip-top-right":!0})}
            data-tooltip=${tt("Fullscreen")}
            aria-label=${tt("Fullscreen")}
            data-testid="fullscreen-button"
            @click=${this.onFullScreenClicked}
          >
            ${this.playerState.fullscreen?Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15 5.5a.5.5 0 0 1-.5-.5V2.75a.75.75 0 0 0-1.5 0V5c0 1.1.9 2 2 2h2.25a.75.75 0 0 0 0-1.5H15ZM5.5 15a.5.5 0 0 0-.5-.5H2.75a.75.75 0 0 1 0-1.5H5a2 2 0 0 1 2 2v2.25a.75.75 0 0 1-1.5 0V15Zm9 0c0-.28.22-.5.5-.5h2.25a.75.75 0 0 0 0-1.5H15a2 2 0 0 0-2 2v2.25a.75.75 0 0 0 1.5 0V15Zm-9-10a.5.5 0 0 1-.5.5H2.75a.75.75 0 0 0 0 1.5H5a2 2 0 0 0 2-2V2.75a.75.75 0 0 0-1.5 0V5Z"/></svg>'):Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.25C3 4.01 4 3 5.25 3h1.87a.75.75 0 1 1 0 1.5H5.25a.75.75 0 0 0-.75.75v1.87a.75.75 0 1 1-1.5 0V5.25Zm9.13-1.5c0-.41.34-.75.75-.75h1.87C15.99 3 17 4 17 5.25v1.87a.75.75 0 0 1-1.5 0V5.25a.75.75 0 0 0-.75-.75h-1.87a.75.75 0 0 1-.75-.75Zm-8.38 8.38c.41 0 .75.34.75.75v1.87c0 .41.34.75.75.75h1.87a.75.75 0 0 1 0 1.5H5.25C4.01 17 3 16 3 14.75v-1.87c0-.41.34-.75.75-.75Zm12.5 0c.41 0 .75.34.75.75v1.87c0 1.24-1 2.25-2.25 2.25h-1.87a.75.75 0 0 1 0-1.5h1.87c.41 0 .75-.34.75-.75v-1.87c0-.41.34-.75.75-.75Z"/></svg>')}
          </button>
        </div>
      </div>

      <ump-share-dialog></ump-share-dialog>`}get hasOpenControl(){return[this.audioMenu,this.captionMenu,this.settingsMenu,this.moreMenu,this.shareDialog].some((e=>e.opened))}firstUpdated(){this.playerState.bigPlayButtonClicked&&this.playButton.focus()}onShareClicked(){this.shareDialog.show(),this.dispatchEvent(new rN("share-button-clicked"))}onVolumeClicked(){this.dispatchEvent(new rN("volume-button-clicked"))}onPlayClicked(){this.dispatchEvent(new rN("play-button-clicked"))}onVolumeSliderChanged(e){const t=e.target;this.dispatchEvent(new rN("volume-updated",t.value))}onVolumeSliderPointerUp(e){const t=e.target;this.dispatchEvent(new rN("volume-drag-released",t.value))}onVolumeContainerFocusIn(){this.volumeContainer.classList.add("focused")}onVolumeContainerFocusOut(){this.volumeContainer.classList.remove("focused")}onVolumeContainerPointerLeave(){this.volumeContainer.classList.remove("focused")}onVolumeSliderClicked(e){e.stopPropagation()}onSeekbarSliderChanged(e){const t=e.target;this.dispatchEvent(new rN("seekbar-updated",t.value))}onFullScreenClicked(){this.dispatchEvent(new rN("fullscreen-button-clicked"))}onFocusIn(){this.dispatchEvent(new rN("control-bar-focus-change"))}};lO.styles=[aN,sN,V`
:host{--ump-lower-controls-height:var(--size-28)}*{box-sizing:border-box;margin:0;padding:0}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:-1}.overlay.mask20{background:var(--color-black-alpha-20)}.overlay.mask40{background:var(--color-black-alpha-40)}.overlay.mask60{background:var(--color-black-alpha-60)}.overlay.mask80{background:var(--color-black-alpha-80)}.overlay.mask100{background:var(--color-black)}.controls{position:absolute;inset:0;opacity:1;visibility:visible}.controls.hidden{opacity:0;transition:opacity 1s ease-out;cursor:none}.lower-controls-area{position:absolute;bottom:0;width:100%;background:var(--color-black-alpha-70);background:linear-gradient(0deg,var(--color-black-alpha-70) 0%,transparent 100%);height:var(--ump-lower-controls-height);display:flex;flex-direction:column;justify-content:flex-end;padding:var(--spacing-s) var(--spacing-m)}.buttons{display:flex;align-items:center;gap:var(--spacing-xs);width:100%;z-index:10}.buttons .btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}.time{color:var(--color-neutral-foreground-2);flex-grow:1;-webkit-user-select:none;user-select:none;text-align:left}.volume-menu{box-sizing:border-box;position:absolute;left:50%;bottom:100%;transform:translateX(-50%);z-index:100;opacity:0;transition:opacity var(--duration-faster) var(--curve-easy-ease);pointer-events:none;width:100%}.volume-container{position:relative}.volume-container:hover .volume-menu,.volume-container:focus .volume-menu,.volume-container:focus-visible .volume-menu,.volume-container.focused .volume-menu{display:block;opacity:1;pointer-events:auto}.seekbar{width:100%;height:var(--size-5)}.seekbar.slider.tooltip{--tooltip-gap:var(--spacing-s);--tooltip-width:var(--size-6);--tooltip-pointer-x:0px;--tooltip-left:clamp(calc(var(--tooltip-width) / 2),var(--tooltip-pointer-x),calc(100% - var(--tooltip-width) / 2));text-align:center}.volume-menu-slider-container{z-index:100;background-color:var(--color-grey-10-alpha-90);border-radius:var(--border-radius-large);height:var(--size-28);display:flex;justify-content:center;padding:var(--spacing-s) 0;position:relative}.volume-slider{width:var(--size-6);outline:border 1px orange}.volume-tooltip{position:absolute !important;width:100%;inset:0;margin-top:var(--size-5);margin-bottom:var(--size-5)}.volume-tooltip::before{--tooltip-top:auto;--tooltip-left:100%;--tooltip-right:auto;--tooltip-translate-x:10%;--tooltip-translate-y:50%;--tooltip-bottom:var(--ump-slide-percentage);--tooltip-width:var(--size-7);margin-left:var(--spacing-xs);text-align:center}.volume-menu-spacer{height:var(--size-8);width:100%}@media (forced-colors:active){.time{color:ButtonText}}
    `],cO([Je("#play-button")],lO.prototype,"playButton",2),cO([Je("ump-more-menu")],lO.prototype,"moreMenu",2),cO([Je("ump-audio-menu")],lO.prototype,"audioMenu",2),cO([Je("ump-caption-menu")],lO.prototype,"captionMenu",2),cO([Je("ump-settings-menu")],lO.prototype,"settingsMenu",2),cO([Je("ump-share-dialog")],lO.prototype,"shareDialog",2),cO([Je(".volume-container")],lO.prototype,"volumeContainer",2),cO([_({context:LR,subscribe:!0})],lO.prototype,"playerState",2),lO=cO([ot(),qe("ump-control-bar")],lO);const dO="menu";var fO=Object.defineProperty,pO=Object.getOwnPropertyDescriptor,hO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?pO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&fO(t,n,a),a};let gO=class extends ze{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.submenu=null,this.focusable=!0,this.isFocused=!1,this.onFocusIn=()=>{this.isFocused=!0},this.onFocusOut=()=>{this.isFocused=!1}}get tabindex(){var e;return this.focusable&&(null!=(e=this.playerState)&&e.disableKeyboardEvents||this.isFocused)?0:-1}render(){return Ae`
      <div
        class=${At({"menu-item":!0,"menu-item-checked":this.checked,"menu-item-radio":"radio"===this.type,"menu-item-has-submenu":!!this.submenu&&!this.isBackButton(),"menu-item-back-button":this.isBackButton()})}
      >
        <div class="menu-item-check-mark" aria-hidden="true">
          ${Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.37 10.17a.5.5 0 0 0-.74.66l4 4.5c.19.22.52.23.72.02l10.5-10.5a.5.5 0 0 0-.7-.7L7.02 14.27l-3.65-4.1Z"/></svg>')}
        </div>

        <div class="menu-item-chevron-left" aria-hidden="true">
          ${Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.35 15.85a.5.5 0 0 1-.7 0L6.16 10.4a.55.55 0 0 1 0-.78l5.49-5.46a.5.5 0 1 1 .7.7L7.2 10l5.16 5.15c.2.2.2.5 0 .7Z"/></svg>')}
        </div>

        <slot name="prefix"></slot>

        <slot></slot>

        <slot name="suffix"></slot>

        <div class="menu-item-chevron" aria-hidden="true">
          ${Mt(vN)}
        </div>
      </div>
    `}connectedCallback(){super.connectedCallback(),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}isBackButton(){return this.submenu===eN}updated(e){(e.has("type")||e.has("checked"))&&this.updateAriaAttributes(),e.has("isFocused")&&this.requestUpdate("tabindex")}updateAriaAttributes(){this.setAttribute("role","radio"===this.type?"menuitemradio":"menuitem"),"radio"===this.type?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}static isMenuItem(e){return e instanceof HTMLElement&&"ump-menu-item"===e.tagName.toLowerCase()}};gO.styles=[V`
.menu-item{display:flex;align-items:center;justify-content:flex-start;gap:var(--spacing-s);margin:0;box-sizing:border-box;padding:var(--spacing-s) var(--spacing-xs);border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-regular);line-height:var(--line-height-base-300);transition-duration:var(--duration-faster);transition-property:background,color;transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;background-color:transparent}.menu-item-check-mark{stroke:currentcolor;justify-content:center;align-items:center;display:none;visibility:hidden}.menu-item-radio .menu-item-check-mark{display:flex}.menu-item-checked .menu-item-check-mark{visibility:visible}.menu-item-chevron{stroke:currentcolor;visibility:hidden;display:flex;justify-content:center;align-items:center}.menu-item-has-submenu .menu-item-chevron{visibility:visible}.menu-item-chevron-left{display:none;justify-content:center;align-items:center;stroke:currentcolor}.menu-item-back-button .menu-item-chevron-left{display:flex}slot:not([name]){display:flex;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;gap:var(--spacing-s);flex-grow:1}slot[name='prefix']{flex:0 0 auto;display:flex;align-items:center;stroke:currentcolor}slot[name='prefix']::slotted(*){display:contents}slot[name='suffix']{flex:0 0 auto;display:flex;align-items:center;stroke:currentcolor}:host(:hover) .menu-item{background-color:var(--color-white-alpha-10);color:var(--color-neutral-foreground-2-hover)}:host(:active) .menu-item{background-color:var(--color-white-alpha-5);color:var(--color-neutral-foreground-2-pressed)}:host(.focus-always:focus) .menu-item,:host(.focus-default:focus-visible) .menu-item{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2);border:none}:host(.cc-style-menu-item:hover) .menu-item,:host(.cc-style-menu-item:active) .menu-item{background-color:initial}@media (forced-colors:active){.menu-item{forced-color-adjust:none;color:ButtonText}:host(:hover) .menu-item{background-color:Highlight;color:HighlightText}:host(.focus-default:focus-visible) .menu-item,:host(.cc-style-menu-item:active) .menu-item{outline:var(--stroke-width-thick) solid Highlight}:host(.cc-style-menu-item:hover) .menu-item,:host(.cc-style-menu-item:active) .menu-item{color:ButtonText}}
    `],hO([Xe({attribute:!0})],gO.prototype,"type",2),hO([Xe({attribute:!0,type:Boolean,reflect:!0})],gO.prototype,"checked",2),hO([Xe({attribute:!0,type:String})],gO.prototype,"submenu",2),hO([_({context:LR,subscribe:!0})],gO.prototype,"playerState",2),hO([Xe({type:Boolean})],gO.prototype,"focusable",2),hO([Xe({type:Number,reflect:!0})],gO.prototype,"tabindex",1),hO([Xe({type:Boolean})],gO.prototype,"isFocused",2),gO=hO([qe("ump-menu-item")],gO);var vO=Object.defineProperty,mO=Object.getOwnPropertyDescriptor,yO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?mO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&vO(t,n,a),a};let bO=class extends ze{render(){return this.isActive()?Ae`<slot></slot>`:null}getMenuItems(){return Array.from(this.querySelectorAll('[role="menuitemradio"],[role="menuitem"]'))}isActive(){return!this.menuContext.history.length&&!this.id||this.menuContext.history[this.menuContext.history.length-1]===this.id}};yO([_({context:dO,subscribe:!0}),We()],bO.prototype,"menuContext",2),bO=yO([qe("ump-submenu")],bO);var wO=Object.defineProperty,xO=Object.getOwnPropertyDescriptor,SO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?xO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&wO(t,n,a),a};let TO=class extends ze{constructor(){super(...arguments),this.role="menu",this.menuContext={history:[]}}render(){return Ae`<slot
      @click=${this.onClick}
      @keydown=${this.onKeyDown}
      data-scrollable
    ></slot>`}async onClick(e){const t=TO.findSubmenuId(e.composedPath());t&&(e.stopPropagation(),t===eN?this.pop():this.push(t),await this.updateComplete,this.focusFirstItem())}onKeyDown(e){if(!this.playerState.disableKeyboardEvents)if(" "===e.key||"Enter"===e.key){const t=this.getActiveItem();t&&(e.preventDefault(),e.stopPropagation(),t.click())}else if("ArrowDown"===e.key||"ArrowUp"===e.key||"Home"===e.key||"End"===e.key){e.preventDefault(),e.stopPropagation();const t=this.getMenuItems();let n=t.findIndex((e=>0===e.tabIndex));"ArrowDown"===e.key?n+=1:"ArrowUp"===e.key?n-=1:"Home"===e.key?n=0:"End"===e.key&&(n=t.length-1),n>=t.length&&(n=0),n<0&&(n=t.length-1),this.setActiveIndex(n)}}focusFirstItem(){this.setActiveIndex(0)}focusLastItem(){this.setActiveIndex(this.getMenuItems().length-1)}setActiveIndex(e){var t;null==(t=this.getMenuItems()[e])||t.focus()}getMenuItems(){const e=this.defaultSlot.assignedElements({flatten:!0}).filter((e=>gO.isMenuItem(e)));if(e.length)return e;const t=this.defaultSlot.assignedElements({flatten:!0}).find((e=>e instanceof bO&&e.isActive()));return(null==t?void 0:t.getMenuItems())??[]}getActiveItem(){return this.getMenuItems().find((e=>0===e.tabIndex))}pop(){this.menuContext={...this.menuContext,history:this.menuContext.history.slice(0,-1)}}push(e){this.menuContext={...this.menuContext,history:[...this.menuContext.history,e]}}clearHistory(){this.menuContext={...this.menuContext,history:[]}}static findSubmenuId(e){for(const t of e)if(t instanceof HTMLElement){const e=t.getAttribute("submenu");if(e)return e}}};TO.styles=[V`
:host{border-radius:var(--border-radius-x-large);overflow:hidden}slot{display:flex;flex-direction:column;overflow:hidden auto;border:none;padding:var(--spacing-s);background-color:var(--color-grey-10-alpha-90);box-shadow:var(--shadow-4)}@container universalmediaplayer (min-width:0){slot{max-height:calc(100cqh - var(--ump-lower-controls-height))}}@media (forced-colors:active){slot{background-color:var(--color-grey-10)}}
    `],SO([_({context:LR,subscribe:!0})],TO.prototype,"playerState",2),SO([Xe({reflect:!0})],TO.prototype,"role",2),SO([Je("slot")],TO.prototype,"defaultSlot",2),SO([function({context:e}){return(t,n)=>{const r=new WeakMap;if("object"==typeof n)return n.addInitializer((function(){r.set(this,new L(this,{context:e}))})),{get(){return t.get.call(this)},set(e){return r.get(this)?.setValue(e),t.set.call(this,e)},init(e){return r.get(this)?.setValue(e),e}};{t.constructor.addInitializer((t=>{r.set(t,new L(t,{context:e}))}));const i=Object.getOwnPropertyDescriptor(t,n);let a;if(void 0===i){const e=new WeakMap;a={get(){return e.get(this)},set(t){r.get(this).setValue(t),e.set(this,t)},configurable:!0,enumerable:!0}}else{const e=i.set;a={...i,set(t){r.get(this).setValue(t),e?.call(this,t)}}}return void Object.defineProperty(t,n,a)}}}({context:dO}),We()],TO.prototype,"menuContext",2),TO=SO([qe("ump-menu")],TO);Object.defineProperty,Object.getOwnPropertyDescriptor;let kO=class extends ze{render(){return Ae` <slot class="footer-button" name="suffix"></slot> `}};kO.styles=V`
:host{display:flex;justify-content:flex-end;padding:var(--spacing-s);gap:var(--spacing-s)}:host(:focus),:host(:focus-visible){outline:none}.footer-button{display:inline-flex;border-radius:var(--border-radius-medium)}.footer-button:hover{background-color:var(--color-neutral-background-1-hover);border-color:transparent;color:var(--color-neutral-foreground-1-hover)}:host(:focus) .footer-button,:host(:focus-visible) .footer-button{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2);outline-offset:calc(var(--stroke-width-thick) * -1);border:none}@media (forced-colors:active){.footer-button{forced-color-adjust:none}}
  `,kO=((e,t,n,r)=>{for(var i,a=t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=i(a)||a);return a})([qe("ump-menu-footer")],kO);Object.defineProperty,Object.getOwnPropertyDescriptor;let CO=class extends ze{render(){return Ae`
      <slot class="prefix-slot" name="prefix"></slot>
      <slot class="default-slot"></slot>
      <slot class="suffix-slot" name="suffix"></slot>
    `}};CO.styles=V`
:host{display:flex;padding:var(--spacing-s);gap:var(--spacing-s)}.default-slot{flex-grow:1;display:flex;align-items:center;justify-content:flex-start;margin:0;box-sizing:border-box;border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);font-weight:var(--font-weight-semibold);line-height:var(--line-height-base-300);-webkit-user-select:none;user-select:none;background-color:transparent}@media (forced-colors:active){.default-slot{color:ButtonText}}
  `,CO=((e,t,n,r)=>{for(var i,a=t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=i(a)||a);return a})([qe("ump-menu-label")],CO);var AO=Object.defineProperty,EO=Object.getOwnPropertyDescriptor,IO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?EO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&AO(t,n,a),a};let MO=class extends ze{render(){const{downloadableVideoFiles:e,downloadableTranscriptFiles:t,shareOptions:n}=this.playerState,r=0===t.length&&0===e.length;return r&&0===n.length?null:Ae`
      <ump-popup popupAriaLabel="${tt("More")}">
        <button
          slot="trigger"
          class=${At({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...iN(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${tt("More")}"
          aria-label="${tt("More")}"
          data-id="more-menu-button"
          data-testid="more-menu-button"
        >
          ${Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.25 10a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 11.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"/></svg>')}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            ${!r&&this.playerState.showDownloadMenu?Ae`
                  <ump-menu-item
                    class=${At({...iN(this.playerState)})}
                    submenu="download"
                    data-testid="download-menu-item"
                  >
                    <span slot="prefix">${Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 17a.5.5 0 0 1 .09 1H4.5a.5.5 0 0 1-.09-1H15.5ZM10 2a.5.5 0 0 1 .5.41V14.3l3.64-3.65a.5.5 0 0 1 .64-.06l.07.06c.17.17.2.44.06.63l-.06.07-4.5 4.5a.5.5 0 0 1-.25.14L10 16a.5.5 0 0 1-.4-.2l-4.46-4.45a.5.5 0 0 1 .64-.76l.07.06 3.65 3.64V2.5c0-.27.22-.5.5-.5Z"/></svg>')}</span>
                    ${tt("Download")}
                  </ump-menu-item>
                `:null}
            ${n.length>0?Ae`
                  <ump-menu-item
                    class=${At({...iN(this.playerState)})}
                    @click=${this.onShareClicked}
                    data-testid="share-menu-item"
                  >
                    <span slot="prefix">${Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.35 2.15a.5.5 0 0 0-.7 0l-4.5 4.5a.5.5 0 1 0 .7.7L9.5 3.71v8.79a.5.5 0 0 0 1 0V3.7l3.65 3.65a.5.5 0 0 0 .7-.7l-4.5-4.5ZM4 9.5a.5.5 0 0 0-1 0V14a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V9.5a.5.5 0 0 0-1 0V14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9.5Z"/></svg>')}</span>
                    ${tt("Share")}
                  </ump-menu-item>
                `:null}
          </ump-submenu>

          <ump-submenu id="download">
            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="${eN}"
              >${tt("Download")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${e.length>0?Ae`<ump-menu-item
                  class=${At({...iN(this.playerState)})}
                  submenu="download-video"
                >
                  ${tt("Video")}
                </ump-menu-item>`:null}
            ${t.length>0?Ae`<ump-menu-item
                  class=${At({...iN(this.playerState)})}
                  submenu="download-transcript"
                >
                  ${tt("Transcript")}
                </ump-menu-item>`:null}
          </ump-submenu>

          <ump-submenu id="download-video">
            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="${eN}"
              >${tt("Download Video")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${e.map((e=>Ae` <ump-menu-item
                  class=${At({...iN(this.playerState)})}
                  @click=${this.onDownloadClicked(e)}
                >
                  ${e.locale}
                </ump-menu-item>`))}
          </ump-submenu>

          <ump-submenu id="download-transcript">
            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="${eN}"
              >${tt("Download Transcript")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${t.map((e=>Ae`<ump-menu-item
                  class=${At({...iN(this.playerState)})}
                  @click=${this.onDownloadClicked(e)}
                  >${e.locale}</ump-menu-item
                >`))}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onShareClicked(){this.dispatchEvent(new rN("share-clicked"))}onDownloadClicked(e){return()=>{this.dispatchEvent(new rN("download-file-clicked",e))}}get opened(){var e;return null==(e=this.popup)?void 0:e.opened}};MO.styles=[aN,oN,sN,V`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}
    `],IO([Je("ump-popup")],MO.prototype,"popup",2),IO([_({context:LR,subscribe:!0})],MO.prototype,"playerState",2),MO=IO([qe("ump-more-menu")],MO);var _O=Object.defineProperty,PO=Object.getOwnPropertyDescriptor,DO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?PO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&_O(t,n,a),a};let LO=class extends ze{constructor(){super(...arguments),this._opened=!1,this.popupAriaLabel="",this.documentMouseDown=e=>{e.composedPath().includes(this)||this.close()},this.documentKeyDown=e=>{!e.composedPath().includes(this)&&(" "===e.key||"Enter"===e.key)&&this.close()}}render(){return Ae`
      <div class="popup-container" @click=${this.onClick}>
        <slot
          name="trigger"
          @click=${this.onClicked}
          @keydown=${this.onKeyDown}
          @slotchange=${this.onSlotChanged}
        ></slot>

        <dialog
          .open=${this._opened}
          aria-hidden="${this._opened?"false":"true"}"
          aria-label="${this.popupAriaLabel}"
          @keydown=${this.dialogKeyDown}
          @close=${this.close}
        >
          <slot class="popup-panel"></slot>
        </dialog>
      </div>
    `}show(){this._opened=!0,this.updateAccessibleTrigger(),document.addEventListener("mousedown",this.documentMouseDown),document.addEventListener("keydown",this.documentKeyDown),this.dispatchEvent(new rN("ump-popup-changed"))}close(){var e;this.dialog.close(),this._opened=!1,this.updateAccessibleTrigger(),document.removeEventListener("mousedown",this.documentMouseDown),document.removeEventListener("keydown",this.documentKeyDown),this.dispatchEvent(new rN("ump-popup-changed")),null==(e=this.getMenu())||e.clearHistory()}get opened(){return this._opened}updateAccessibleTrigger(){const e=this.getTriggerElement();e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded",this._opened?"true":"false")}focusTrigger(){this.getTriggerElement().focus()}getTriggerElement(){return this.trigger.assignedElements({flatten:!0})[0]}getMenu(){return this.popupPanel.assignedElements({flatten:!0}).find((e=>"ump-menu"===e.tagName.toLowerCase()))}onClick(e){e.composedPath().find((e=>gO.isMenuItem(e)))&&this.close()}onClicked(){this._opened?this.close():this.show()}onSlotChanged(){this.updateAccessibleTrigger()}async onKeyDown(e){if(!this.playerState.disableKeyboardEvents)if("ArrowDown"===e.key||"ArrowUp"===e.key||"Home"===e.key||"End"===e.key){e.preventDefault(),this._opened||(this.show(),await this.updateComplete);const t=this.getMenu();if(!t)return;"ArrowUp"===e.key||"End"===e.key?t.focusLastItem():t.focusFirstItem()}else"Escape"===e.key&&(this.focusTrigger(),this.close())}dialogKeyDown(e){this.playerState.disableKeyboardEvents||("Escape"===e.key||"Tab"===e.key)&&this._opened&&(e.preventDefault(),this.close(),this.focusTrigger())}};LO.styles=V`
:host{--ump-popup-spacing:var(--spacing-s)}.popup-container{position:relative}dialog{display:none;padding:0;border:none;outline:none;background-color:transparent;position:absolute;left:100%;bottom:100%;transform:translateX(-100%);margin-bottom:var(--ump-popup-spacing)}dialog[open]{display:block}@container universalmediaplayer (max-width:450px){.popup-container{position:unset}dialog{bottom:15cqh;left:98cqw}}
  `,DO([Je("dialog")],LO.prototype,"dialog",2),DO([_({context:LR,subscribe:!0})],LO.prototype,"playerState",2),DO([We()],LO.prototype,"_opened",2),DO([Xe({type:String})],LO.prototype,"popupAriaLabel",2),DO([Je('slot[name="trigger"]')],LO.prototype,"trigger",2),DO([Je(".popup-panel")],LO.prototype,"popupPanel",2),LO=DO([qe("ump-popup")],LO);var RO=Object.defineProperty,NO=Object.getOwnPropertyDescriptor,OO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?NO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&RO(t,n,a),a};let UO=class extends ze{render(){var e,t;let n,r;for(const e of this.playerState.videoQualities)e.videoId===this.playerState.activeVideoQualityId&&(n=e),e.videoId===this.playerState.selectedVideoQualityId&&(r=e);const i=null==(e=this.playerState.playbackRates.find((e=>e.value===this.playerState.playbackRate)))?void 0:e.label;return this.playerState.playbackRates.length<2&&this.playerState.videoQualities.length<2?null:Ae`
      <ump-popup
        popupAriaLabel="${tt("Settings")}"
        @ump-popup-changed=${()=>this.requestUpdate()}
      >
        <button
          slot="trigger"
          class=${At({btn:!0,"btn-subtle":!0,"btn-icon-only":!0,...iN(this.playerState),tooltip:!0,"tooltip-disable-when-aria-expanded":!0})}
          data-tooltip="${tt("Settings")}"
          aria-label="${tt("Settings")}"
          data-testid="settings-menu-button"
        >
          ${null!=(t=this.popup)&&t.opened?Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 0 1 3.7 4.3a.5.5 0 0 1 .54-.13l1.92.68a1 1 0 0 0 1.32-.76l.36-2a.5.5 0 0 1 .4-.4 8.53 8.53 0 0 1 3.55 0c.2.04.35.2.38.4l.37 2a1 1 0 0 0 1.32.76l1.92-.68a.5.5 0 0 1 .54.13 8.5 8.5 0 0 1 1.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 0 0 0 1.52l1.56 1.32a.5.5 0 0 1 .15.54 8.5 8.5 0 0 1-1.78 3.08.5.5 0 0 1-.54.13l-1.92-.68a1 1 0 0 0-1.32.76l-.37 2a.5.5 0 0 1-.38.4 8.53 8.53 0 0 1-3.56 0 .5.5 0 0 1-.39-.4l-.36-2a1 1 0 0 0-1.32-.76l-1.92.68a.5.5 0 0 1-.54-.13 8.5 8.5 0 0 1-1.78-3.08.5.5 0 0 1 .15-.54l1.56-1.32a1 1 0 0 0 0-1.52L2.06 7.92a.5.5 0 0 1-.15-.54ZM8 10a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z"/></svg>'):Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.91 7.38A8.5 8.5 0 0 1 3.7 4.3a.5.5 0 0 1 .54-.13l1.92.68a1 1 0 0 0 1.32-.76l.36-2a.5.5 0 0 1 .4-.4 8.53 8.53 0 0 1 3.55 0c.2.04.35.2.38.4l.37 2a1 1 0 0 0 1.32.76l1.92-.68a.5.5 0 0 1 .54.13 8.5 8.5 0 0 1 1.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 0 0 0 1.52l1.56 1.32a.5.5 0 0 1 .15.54 8.5 8.5 0 0 1-1.78 3.08.5.5 0 0 1-.54.13l-1.92-.68a1 1 0 0 0-1.32.76l-.37 2a.5.5 0 0 1-.38.4 8.53 8.53 0 0 1-3.56 0 .5.5 0 0 1-.39-.4l-.36-2a1 1 0 0 0-1.32-.76l-1.92.68a.5.5 0 0 1-.54-.13 8.5 8.5 0 0 1-1.78-3.08.5.5 0 0 1 .15-.54l1.56-1.32a1 1 0 0 0 0-1.52L2.06 7.92a.5.5 0 0 1-.15-.54Zm1.06 0 1.3 1.1a2 2 0 0 1 0 3.04l-1.3 1.1c.3.79.72 1.51 1.25 2.16l1.6-.58a2 2 0 0 1 2.63 1.53l.3 1.67a7.56 7.56 0 0 0 2.5 0l.3-1.67a2 2 0 0 1 2.64-1.53l1.6.58a7.5 7.5 0 0 0 1.24-2.16l-1.3-1.1a2 2 0 0 1 0-3.04l1.3-1.1a7.5 7.5 0 0 0-1.25-2.16l-1.6.58a2 2 0 0 1-2.63-1.53l-.3-1.67a7.55 7.55 0 0 0-2.5 0l-.3 1.67A2 2 0 0 1 5.81 5.8l-1.6-.58a7.5 7.5 0 0 0-1.24 2.16ZM7.5 10a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0Zm1 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z"/></svg>')}
        </button>

        <ump-menu data-focusgroup>
          <!-- DEFAULT MENU -->
          <ump-submenu>
            ${this.playerState.playbackRates.length>=2?Ae`
                  <ump-menu-item
                    class=${At({...iN(this.playerState)})}
                    submenu="playbackRate"
                  >
                    <span slot="prefix">${Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2c-.53 0-1.06.05-1.56.15a.5.5 0 0 0 .2.98 7.04 7.04 0 0 1 2.73 0 .5.5 0 0 0 .2-.98C11.05 2.05 10.52 2 10 2Zm4.45 1.35a.5.5 0 0 0-.56.83 7.04 7.04 0 0 1 1.93 1.93.5.5 0 1 0 .83-.56 8.04 8.04 0 0 0-2.2-2.2Zm-8.34.83a.5.5 0 1 0-.56-.83 8.04 8.04 0 0 0-2.2 2.2.5.5 0 1 0 .83.56A7.04 7.04 0 0 1 6.1 4.18ZM3.13 8.63a.5.5 0 0 0-.98-.2 8.04 8.04 0 0 0 0 3.13.5.5 0 0 0 .98-.2 7.04 7.04 0 0 1 0-2.73Zm14.72-.2a.5.5 0 1 0-.98.2 7.04 7.04 0 0 1 0 2.74.5.5 0 1 0 .98.2 8.03 8.03 0 0 0 0-3.13ZM4.18 13.9a.5.5 0 1 0-.83.56 8.04 8.04 0 0 0 2.2 2.2.5.5 0 1 0 .56-.83 7.04 7.04 0 0 1-1.93-1.93Zm12.47.56a.5.5 0 0 0-.83-.56 7.04 7.04 0 0 1-1.93 1.93.5.5 0 1 0 .56.83 8.04 8.04 0 0 0 2.2-2.2Zm-8.02 2.42a.5.5 0 1 0-.2.98 8.03 8.03 0 0 0 3.13 0 .5.5 0 0 0-.2-.98 7.04 7.04 0 0 1-2.73 0ZM8 7.83c0-.57.63-.94 1.13-.65l4.12 2.39a.5.5 0 0 1 0 .86l-4.12 2.39A.75.75 0 0 1 8 12.17V7.83Z"/></svg>')}</span>
                    ${tt("Playback rate")}

                    <span slot="suffix">${i}</span>
                  </ump-menu-item>
                `:null}
            ${this.playerState.showQualityMenu&&this.playerState.videoQualities.length>=2?Ae`
                  <ump-menu-item
                    class=${At({...iN(this.playerState)})}
                    submenu="quality"
                  >
                    <span slot="prefix">${Mt('<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 3H6a3 3 0 0 0-3 3v.5a.5.5 0 0 0 1 0V6c0-1.1.9-2 2-2h2.5a.5.5 0 0 0 0-1ZM5.8 15.99A2 2 0 0 1 4 14v-3c0-1.1.9-2 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H6l-.2-.01ZM3 14a3 3 0 0 0 3 3h3a3 3 0 0 0 3-3v-3a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v3Zm10.5 3a.5.5 0 0 1 0-1h.5a2 2 0 0 0 2-2v-2.5a.5.5 0 0 1 1 0V14a3 3 0 0 1-3 3h-.5ZM17 8.5a.5.5 0 0 1-1 0V6a2 2 0 0 0-2-2h-2.5a.5.5 0 0 1 0-1H14a3 3 0 0 1 3 3v2.5Z"/></svg>')}</span>
                    ${tt("Quality")}
                    <span slot="suffix"
                      ><span class="quality-label"
                        >${null==r?void 0:r.label}</span
                      >
                      ${n&&(null==r?void 0:r.videoId)===KR.videoId?Ae`<span>${n.label}</span>`:null}
                    </span>
                  </ump-menu-item>
                `:null}
          </ump-submenu>

          <!-- PLAYBACK RATE SUBMENU -->
          <ump-submenu id="playbackRate">
            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="${eN}"
              >${tt("Playback rate")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${this.playerState.playbackRates.map((e=>Ae`
                <ump-menu-item
                  class=${At({...iN(this.playerState)})}
                  type="radio"
                  @click=${this.playbackRateClicked(e.value)}
                  .checked=${e.value===this.playerState.playbackRate}
                >
                  ${e.label}
                </ump-menu-item>
              `))}
          </ump-submenu>

          <!-- QUALITY SUBMENU -->
          <ump-submenu id="quality">
            <ump-menu-item
              class=${At({...iN(this.playerState)})}
              submenu="${eN}"
              >${tt("Quality")}</ump-menu-item
            >

            <hr aria-hidden="true" />

            ${this.playerState.videoQualities.map((e=>Ae`
                <ump-menu-item
                  class=${At({...iN(this.playerState)})}
                  type="radio"
                  .checked=${e.videoId===this.playerState.selectedVideoQualityId}
                  @click=${this.onQualitySelected(e)}
                >
                  ${e.label}
                </ump-menu-item>
              `))}
          </ump-submenu>
        </ump-menu>
      </ump-popup>
    `}onQualitySelected(e){return()=>{this.dispatchEvent(new rN("video-quality-clicked",e)),this.dispatchEvent(new rN("videoqualitychanged"))}}playbackRateClicked(e){return()=>{this.dispatchEvent(new rN("playback-rate-clicked",e))}}get opened(){var e;return null==(e=this.popup)?void 0:e.opened}};function jO(e,t,n){return(n-e)/(t-e)}UO.styles=[aN,oN,sN,V`
.btn.tooltip{--tooltip-gap:var(--spacing-xxxl)}ump-popup{--ump-popup-spacing:var(--spacing-xxxl)}ump-menu{width:var(--size-64);display:block}.quality-label{font-weight:var(--font-weight-semibold)}
    `],OO([Je("ump-popup")],UO.prototype,"popup",2),OO([_({context:LR,subscribe:!0})],UO.prototype,"playerState",2),UO=OO([qe("ump-settings-menu")],UO);var FO=Object.defineProperty,BO=Object.getOwnPropertyDescriptor,VO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?BO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&FO(t,n,a),a};let $O=class extends ze{constructor(){super(...arguments),this.min=0,this.max=1,this.value=0,this.step=.005,this.focusStep=1,this.orientation="horizontal",this.sliderarialabel="",this.sliderAriaValueText="",this.ranges=[],this.onInputChange=e=>{this.value=Number(e.target.value)},this.onInputFocusIn=e=>{const t=e.target;t.matches(":focus-visible")&&(t.step=this.focusStep.toString())},this.onInputFocusOut=e=>{e.target.step=this.step.toString()}}render(){return Ae`
      <!-- Track -->
      <div aria-hidden="true" aria-busy="false" value="0" class="track"></div>

      <!-- Ranges -->
      ${this.ranges.map((e=>Ae`
          <div
            data-testid="ump-slider-range"
            class="range"
            style="width: ${100*jO(this.min,this.max,e.end-e.start)}%; left: ${100*jO(this.min,this.max,e.start)}%"
          ></div>
        `))}

      <!-- Progress -->
      <div aria-hidden="true" aria-busy="false" class="progress"></div>

      <!-- Thumb -->
      <div class="thumb"></div>

      <!-- HTML Input Range -->
      <input
        class=${At({...iN(this.playerState),input:!0})}
        data-testid="ump-slider"
        type="range"
        min="${this.min}"
        max="${this.max}"
        step="${this.step}"
        aria-label="${this.sliderarialabel}"
        aria-live="polite"
        aria-orientation="${this.orientation}"
        aria-valuetext="${this.sliderAriaValueText}"
        @input=${this.onInputChange}
        @focusin=${this.onInputFocusIn}
        @focusout=${this.onInputFocusOut}
      />
    `}updated(e){e.has("value")&&(this.inputElement.value=this.value.toString()),(e.has("value")||e.has("min")||e.has("max"))&&this.updateSliderThumb()}updateSliderThumb(){const e=jO(this.min,this.max,this.value);this.style.setProperty("--ump-slide-percentage",100*e+"%")}};$O.styles=[V`
:host{--ump-slider-track-thickness:var(--size-1);--ump-slider-track-color:var(--color-white-alpha-20);--ump-slider-thumb-inline-size:var(--size-5);--ump-slider-thumb-block-size:var(--size-3);--ump-half-slider-thumb-inline-size:calc(var(--ump-slider-thumb-inline-size) / 2);--ump-half-slider-thumb-block-size:calc(var(--ump-slider-thumb-block-size) / 2);--ump-slider-thumb-color:var(--color-neutral-foreground-1);--ump-slider-progress-color:var(--color-neutral-foreground-1);--ump-slider-range-color:var(--color-white-alpha-30);--ump-slide-percentage:0%;--ump-slider-padding:var(--spacing-xs);position:relative;display:block;writing-mode:horizontal-tb;z-index:10}:host(:hover){--ump-slider-thumb-transform:scale(1);--ump-slider-track-thickness:var(--size-1-5)}:host([orientation='vertical']){writing-mode:vertical-lr;direction:rtl;-webkit-appearance:none;appearance:none}*{box-sizing:border-box;margin:0;padding:0}.input{-webkit-appearance:none;appearance:none;background:transparent;display:block;cursor:pointer;border-radius:var(--border-radius-medium);color:var(--color-neutral-foreground-1);padding-block:var(--ump-slider-padding);position:absolute;inset:0}.input::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;block-size:var(--ump-slider-thumb-block-size);inline-size:var(--ump-slider-thumb-inline-size);border-radius:var(--border-radius-circular);background-color:transparent}.input::-moz-range-thumb{appearance:none;background-color:transparent;border:none;block-size:var(--ump-slider-thumb-block-size);inline-size:var(--ump-slider-thumb-inline-size)}.input.focus-always:focus,.input.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.thumb{pointer-events:none;position:absolute;inset:0;display:grid;align-items:center;margin-inline:var(--ump-half-slider-thumb-inline-size) var(--ump-half-slider-thumb-inline-size)}.thumb::after{position:absolute;z-index:50;inline-size:var(--ump-slider-thumb-inline-size);block-size:var(--ump-slider-thumb-block-size);margin-inline-start:calc(var(--ump-slide-percentage) - var(--ump-half-slider-thumb-inline-size));margin-block-start:self-block;background-color:var(--ump-slider-thumb-color);border-radius:var(--border-radius-circular);transform:var(--ump-slider-thumb-transform);display:block;transition:transform var(--duration-faster) var(--curve-easy-ease);transform-origin:center;content:''}.track{z-index:10;position:absolute;inset:0;overflow:hidden;pointer-events:none;display:flex;align-items:center}.track::before{content:'';background-color:var(--ump-slider-track-color);inline-size:100%;block-size:var(--ump-slider-track-thickness);position:absolute;border-radius:var(--border-radius-circular);transition:block-size var(--duration-faster) var(--curve-easy-ease)}.range{position:absolute;background-color:var(--ump-slider-range-color);height:var(--ump-slider-track-thickness);width:0;pointer-events:none;z-index:20;top:50%;transform:translateY(-50%);border-radius:var(--border-radius-circular);transition:height var(--duration-faster) var(--curve-easy-ease)}.progress{position:absolute;z-index:40;inset:0;display:flex;align-items:center;margin-inline:var(--ump-half-slider-thumb-inline-size);pointer-events:none}.progress::before{content:'';position:absolute;display:block;block-size:var(--ump-slider-track-thickness);inline-size:var(--ump-slide-percentage);background:var(--ump-slider-progress-color);transition:block-size var(--duration-faster) var(--curve-easy-ease)}.progress::after{content:'';position:absolute;display:block;block-size:var(--ump-slider-track-thickness);inline-size:var(--ump-half-slider-thumb-inline-size);margin-inline-start:calc(-1 * var(--ump-half-slider-thumb-inline-size));border-start-start-radius:var(--border-radius-circular);border-end-start-radius:var(--border-radius-circular);background:var(--ump-slider-progress-color);transition:block-size var(--duration-faster) var(--curve-easy-ease)}@media (forced-colors:active){:host{--ump-slider-track-color:ButtonText;--ump-slider-progress-color:Highlight}.thumb::after{background:Highlight}}
    `],VO([Xe({type:Number,attribute:!0})],$O.prototype,"min",2),VO([Xe({type:Number,attribute:!0})],$O.prototype,"max",2),VO([Xe({type:Number,attribute:!0,reflect:!0})],$O.prototype,"value",2),VO([Xe({type:Number,attribute:!0})],$O.prototype,"step",2),VO([Xe({type:Number,attribute:!0})],$O.prototype,"focusStep",2),VO([Xe({type:String,attribute:!0})],$O.prototype,"orientation",2),VO([Xe({type:String,attribute:!0})],$O.prototype,"sliderarialabel",2),VO([Xe({type:String,attribute:!0})],$O.prototype,"sliderAriaValueText",2),VO([Xe({type:Array})],$O.prototype,"ranges",2),VO([Je("input")],$O.prototype,"inputElement",2),VO([_({context:LR,subscribe:!0})],$O.prototype,"playerState",2),$O=VO([qe("ump-slider")],$O);var zO=Object.defineProperty,HO=Object.getOwnPropertyDescriptor,qO=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?HO(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&zO(t,n,a),a};let KO=class extends ze{constructor(){super(...arguments),this.userActive=!0}render(){var e;return Ae`<div
      class=${At({controls:!0,loading:this.playerState.loading,hidden:!1===this.userActive&&!1===this.playerState.paused&&("bigplaybutton"===this.playerState.controlsState||!1===(null==(e=this.controlBar)?void 0:e.hasOpenControl))})}
      data-testid="controls"
      @pointermove=${this.onUserInteraction}
      @control-bar-focus-change=${this.onUserInteraction}
      @input=${this.onUserInteraction}
      @keydown=${this.onUserInteraction}
      @mousedown=${this.onControlsMouseDown}
      @touchstart=${this.onControlsTouchStart}
    >
      <div
        class=${At({overlay:!0,mask20:20===this.playerState.maskLevel,mask40:40===this.playerState.maskLevel,mask60:60===this.playerState.maskLevel,mask80:80===this.playerState.maskLevel,mask100:100===this.playerState.maskLevel})}
        data-testid="mask-level-overlay"
      ></div>
      ${this.renderControls()}
    </div>`}renderControls(){return"bigplaybutton"===this.playerState.controlsState?Ae`<ump-big-play-button></ump-big-play-button>`:"controlbar"===this.playerState.controlsState?Ae`<ump-control-bar></ump-control-bar>`:void 0}onUserInteraction(){this.userActive=!0,this.userInteractionTimeout&&clearTimeout(this.userInteractionTimeout),this.userInteractionTimeout=setTimeout((()=>{this.userActive=!1}),3e3)}onControlsMouseDown(e){e.target===this.controlsContainer&&0===e.button&&this.dispatchEvent(new rN("controls-clicked")),this.onUserInteraction()}onControlsTouchStart(e){e.target===this.controlsContainer&&(e.preventDefault(),e.stopPropagation(),this.userActive&&this.dispatchEvent(new rN("controls-clicked")),this.onUserInteraction())}disconnectedCallback(){super.disconnectedCallback(),this.userInteractionTimeout&&clearTimeout(this.userInteractionTimeout)}};function GO(e){const t=[];return{addEventListener(n,r,i){const a=function(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}(e,n,r,i);t.push(a)},removeAllListeners(){t.forEach((e=>e()))}}}KO.styles=V`
.controls{position:absolute;inset:0;opacity:1;visibility:visible}.controls.hidden{opacity:0;transition:opacity 1s ease-out;cursor:none}ump-big-play-button{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.controls.loading ump-big-play-button{opacity:0}
  `,qO([Je(".controls")],KO.prototype,"controlsContainer",2),qO([Je("ump-control-bar")],KO.prototype,"controlBar",2),qO([_({context:LR,subscribe:!0})],KO.prototype,"playerState",2),qO([We()],KO.prototype,"userActive",2),KO=qO([ot(),qe("ump-controls")],KO);var XO=(e=>(e.PlayerLoadDurationMs="playerLoadDurationMs",e.BufferDurationMs="bufferDurationMs",e.InitialPlaybackStartDurationMs="initialPlaybackStartDurationMs",e.PosterImageLoadDurationMs="posterImageLoadDurationMs",e))(XO||{}),WO=(e=>(e.BufferComplete="BufferComplete",e.CommonPlayerImpression="CommonPlayerImpression",e.ContentCheckpoint="ContentCheckpoint",e.ContentComplete="ContentComplete",e.ContentError="ContentError",e.FullScreenEnter="FullScreenEnter",e.FullScreenExit="FullScreenExit",e.InviewEnter="InviewEnter",e.InviewExit="InviewExit",e.Mute="Mute",e.Pause="Pause",e.Play="Play",e.PlayerError="PlayerError",e.Replay="Replay",e.Resume="Resume",e.Seek="Seek",e.Unmute="Unmute",e.VideoAudioTrackControl="VideoAudioTrackControl",e.VideoPlayerClick="VideoPlayerClick",e))(WO||{});class YO{constructor(e,t,n=!1,r){this.reporterName="Reporter",this._playerInfo=e,this._player=t,this._isDebugMode=n,r&&(this.reporterName=r)}log(e){this._isDebugMode&&console.log(JSON.stringify(e),this.reporterName)}get playerInfo(){return this._playerInfo}set playerInfo(e){this._playerInfo=e}reportNominalMetric(e,t){if(this.shouldEmitNominalMetric(e)){const n=this.formatNominalMetric(e,this.getBaseTelemetryData(),t);this.log(n),this.emitTelemetry(n)}}reportNumericMetric(e,t){if(this.shouldEmitNumericMetric(e)){const n=this.formatNumericMetric(e,t,this.getBaseTelemetryData());this.log(n),this.emitTelemetry(n)}}reportError(e){if(this.shouldEmitError(e.errorType)){const t=this.formatError(e,this.getBaseTelemetryData());this.log(t),this.emitTelemetry(t)}}getBaseTelemetryData(){var e;return{playerInstanceId:this._playerInfo.playerInstanceId,playerCommit:this._playerInfo.playerCommit,playerVersionNumber:this._playerInfo.playerVersionNumber,playerUrl:this._playerInfo.playerUrl,title:this._playerInfo.title,videoId:this._playerInfo.videoId,videoElapsedTime:this._player.currentTime,videoDuration:this._player.duration,language:this._player.options.language,playerState:{autoplay:null==(e=this._player)?void 0:e.autoplay,muted:this._player.muted,loop:this._player.loop}}}}class JO extends YO{constructor(e,t,n=!1){super(e,t,n,"AppInsightsReporter"),this.hasEmittedFirstNonUmpMessage=!1,this.playerTech="shaka",this.formatNominalMetric=()=>{throw new Error("Unsupported by AppInsights reporter.")},this.shouldEmitNominalMetric=()=>!1,this.shouldEmitNumericMetric=e=>Object.values(XO).includes(e),this.shouldEmitError=()=>!0,this.isException=e=>void 0!==e.exception;try{this._appInsights=this.initAppInsights()}catch(e){n&&console.error("Error Initializing AppInsights.",e)}}initAppInsights(){const e=new DR({config:{connectionString:"InstrumentationKey=81bc6725-8164-4f38-93f8-ea681394304b;IngestionEndpoint=https://westus2-2.in.applicationinsights.azure.com/;LiveEndpoint=https://westus2.livediagnostics.monitor.azure.com/;ApplicationId=ef77fed2-4fcc-4568-aed4-b87c867a1e21",disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0}});return e.loadAppInsights(),e.addTelemetryInitializer(this.telemetryInitializer.bind(this)),e}telemetryInitializer(e){return e.baseData=e.baseData||{},e.baseData.properties={...e.baseData.properties,playerInstanceId:this._playerInfo.playerInstanceId,playerVersionNumber:this._playerInfo.playerVersionNumber,uri:window.location.href,partnerName:this._playerInfo.partnerName,playerTech:this.playerTech},document.referrer&&document.referrer!==window.location.href&&(e.baseData.properties.referrer=document.referrer),e.baseData.properties.ump?(delete e.baseData.properties.ump,!0):(e.baseData.properties.nonump=!0,!this.hasEmittedFirstNonUmpMessage&&(this.hasEmittedFirstNonUmpMessage=!0,!0))}emitTelemetry(e){var t,n;this.isException(e)?null==(t=this._appInsights)||t.trackException(e):null==(n=this._appInsights)||n.trackMetric({name:e.name,average:e.average,properties:e.properties})}formatNumericMetric(e,t,n){return{name:e,average:t,properties:{playerUrl:n.playerUrl,language:n.language,ump:!0}}}formatError(e,t){return{exception:Object.assign(new Error(e.errorDescription),{name:e.errorType}),properties:{playerUrl:t.playerUrl,language:t.language,errorMessage:e.errorDescription,ump:!0}}}}var ZO=(e=>(e[e.VideoSeen=239]="VideoSeen",e[e.VideoStart=240]="VideoStart",e[e.VideoPause=241]="VideoPause",e[e.VideoContinue=242]="VideoContinue",e[e.VideoCheckpoint=243]="VideoCheckpoint",e[e.VideoJump=244]="VideoJump",e[e.VideoComplete=245]="VideoComplete",e[e.VideoBuffering=246]="VideoBuffering",e[e.VideoError=247]="VideoError",e[e.VideoMute=248]="VideoMute",e[e.VideoUnmute=249]="VideoUnmute",e[e.VideoFullscreen=250]="VideoFullscreen",e[e.VideoUnfullscreen=251]="VideoUnfullscreen",e[e.VideoReplay=252]="VideoReplay",e[e.VideoPlayerLoad=253]="VideoPlayerLoad",e[e.VideoPlayerClick=254]="VideoPlayerClick",e[e.VideoVolumeControl=255]="VideoVolumeControl",e[e.VideoAudioTrackControl=256]="VideoAudioTrackControl",e[e.VideoClosedCaptionControl=257]="VideoClosedCaptionControl",e[e.VideoClosedCaptionStyle=258]="VideoClosedCaptionStyle",e[e.VideoResolutionControl=259]="VideoResolutionControl",e[e.VideoUndefinedEvent=0]="VideoUndefinedEvent",e))(ZO||{});const QO={243:{actionType:"A",telemetryMethodType:"capturePageAction"},245:{actionType:"A",telemetryMethodType:"capturePageAction"},246:{actionType:"A",telemetryMethodType:"captureContentUpdate"},253:{actionType:"A",telemetryMethodType:"captureContentUpdate"},239:{actionType:"O",telemetryMethodType:"captureContentUpdate"},0:{actionType:"O",telemetryMethodType:"captureContentUpdate"},247:{actionType:"O",telemetryMethodType:"captureContentUpdate"},252:{actionType:"CL",telemetryMethodType:"capturePageAction"},240:{actionType:"CL",telemetryMethodType:"capturePageAction"},241:{actionType:"CL",telemetryMethodType:"capturePageAction"},242:{actionType:"CL",telemetryMethodType:"capturePageAction"},244:{actionType:"CL",telemetryMethodType:"capturePageAction"},248:{actionType:"CL",telemetryMethodType:"capturePageAction"},249:{actionType:"CL",telemetryMethodType:"capturePageAction"},250:{actionType:"CL",telemetryMethodType:"capturePageAction"},251:{actionType:"CL",telemetryMethodType:"capturePageAction"},254:{actionType:"CL",telemetryMethodType:"capturePageAction"},255:{actionType:"CL",telemetryMethodType:"capturePageAction"},256:{actionType:"CL",telemetryMethodType:"capturePageAction"},257:{actionType:"CL",telemetryMethodType:"capturePageAction"},258:{actionType:"CL",telemetryMethodType:"capturePageAction"},259:{actionType:"CL",telemetryMethodType:"capturePageAction"}},eU={BufferComplete:ZO.VideoBuffering,CommonPlayerImpression:ZO.VideoPlayerLoad,ContentCheckpoint:ZO.VideoCheckpoint,ContentComplete:ZO.VideoComplete,ContentError:ZO.VideoError,FullScreenEnter:ZO.VideoFullscreen,FullScreenExit:ZO.VideoUnfullscreen,InviewEnter:ZO.VideoSeen,Mute:ZO.VideoMute,Pause:ZO.VideoPause,Play:ZO.VideoStart,PlayerError:ZO.VideoError,Replay:ZO.VideoReplay,Resume:ZO.VideoContinue,Seek:ZO.VideoJump,Unmute:ZO.VideoUnmute,VideoAudioTrackControl:ZO.VideoAudioTrackControl,VideoPlayerClick:ZO.VideoPlayerClick};class tU extends YO{constructor(e,t,n=!1){super(e,t,n,"MartechReporter"),this.formatNominalMetric=(e,t,n)=>{const r=eU[e],i=QO[r];return{actionType:null==i?void 0:i.actionType,behavior:r,contentTags:{...this.createContentTags(t),additionalData:n}}},this.formatNumericMetric=()=>{throw new Error("Unsupported by Martech reporter.")},this.formatError=(e,t)=>({actionType:"O",behavior:eU.ContentError,contentTags:{...this.createContentTags(t),errorDetails:e}}),this.shouldEmitNominalMetric=e=>void 0!==eU[e],this.shouldEmitNumericMetric=()=>!1,this.shouldEmitError=()=>!0,this.createContentTags=e=>({playerInstanceId:e.playerInstanceId,containerName:"Universal Media Player",compnm:"Universal Media Player",vidnm:e.title,vidid:e.videoId,vidpct:Math.round(e.videoElapsedTime/e.videoDuration*100),viddur:Math.round(e.videoDuration),vidwt:Math.round(e.videoElapsedTime),playerState:e.playerState})}emitTelemetry(e){var t,n,r,i;const a=window.owap,o=window.awa,{telemetryMethodType:s}=QO[e.behavior];null!=(t=null==a?void 0:a.isInitialized)&&t.call(a)?null==(n=null==a?void 0:a[s])||n.call(a,null,e):!0===(null==o?void 0:o.isInitialized)&&(null==(i=null==(r=null==o?void 0:o.ct)?void 0:r[s])||i.call(r,null,e))}}class nU{constructor(e,t,n,r=!1){this._playerInfo={},this.reporters=[],n&&this.reporters.push(new tU(e,t,r)),this.sampleInstance()&&this.reporters.push(new JO(e,t,r)),this.playerInfo=e}get playerInfo(){return this._playerInfo}set playerInfo(e){this._playerInfo=e,e.partnerName||console.warn('"partnerName" is undefined and must be provided to the video player options.'),this.reporters.forEach((t=>t.playerInfo=e))}sampleInstance(){return 100*Math.random()<1}reportNominalMetric(e,t){this.reporters.forEach((n=>n.reportNominalMetric(e,t)))}reportNumericMetric(e,t){this.reporters.forEach((n=>n.reportNumericMetric(e,t)))}reportError(e){this.reporters.forEach((t=>t.reportError(e)))}}class rU extends CustomEvent{constructor(e,t){super("error",{bubbles:!0,composed:!1,cancelable:!0,detail:{category:e,message:t}}),this._category=e,this._message=t}get message(){return this._message}get category(){return this._category}}const iU=V`
.spinner{background-image:url('${B(`data:image/svg+xml,${encodeURIComponent("<svg width='24' height='24'\n     viewBox='0 0 24 24'\n     xmlns='http://www.w3.org/2000/svg'\n    class=\"spinner-icon\"\n  >\n  <defs>\n    <clipPath id=\"circleClip\">\n      <circle cx=\"12\" cy=\"12\" r=\"12\"/>\n    </clipPath>\n  </defs>\n  <style>\n    .spinner-icon {\n      --stroke-width: 2;\n      --stroke-bg: #333;\n      --stroke-fg: #fff;\n\n      transform-origin: center;\n      animation: rotate 2s linear infinite;\n      stroke-width: var(--stroke-width);\n    }\n\n    .spinner-bg {\n      stroke: var(--stroke-bg);\n    }\n    \n    .spinner-stroke {\n      stroke: var(--stroke-fg);\n      animation: animate-stroke 1.5s ease-out infinite;\n    }\n\n    @keyframes rotate {\n      100% {\n        transform: rotate(360deg)\n      }\n    }\n\n    @keyframes animate-stroke {\n      0% {\n        stroke-dasharray: 0 150;\n        stroke-dashoffset: 0;\n      }\n\n      47.5% {\n        stroke-dasharray: 42 150;\n        stroke-dashoffset: -16;\n      }\n\n      95%,\n      100% {\n        stroke-dasharray: 42 150;\n        stroke-dashoffset: -59\n      }\n    }\n  </style>\n    <circle class=\"spinner-bg\" cx='12' cy='12' r='9.5' fill='none' clip-path=\"url(#circleClip)\"></circle>\n    <circle class=\"spinner-stroke\" cx='12' cy='12' r='9.5' fill='none' clip-path=\"url(#circleClip)\"></circle>\n</svg>").replace(/'/g,"%27").replace(/"/g,"%22")}`)}');background-repeat:no-repeat;background-position:center;background-size:cover;width:var(--size-8);height:var(--size-8)}
`;var aU=Object.defineProperty,oU=Object.getOwnPropertyDescriptor,sU=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?oU(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&aU(t,n,a),a};let uU=class extends ze{render(){return"none"!==this.playerState.controlsState&&this.playerState.loading?Ae`<div class="spinner"></div>`:null}};uU.styles=[iU,V`
.spinner{width:var(--size-12);height:var(--size-12)}
    `],sU([_({context:LR,subscribe:!0})],uU.prototype,"playerState",2),uU=sU([qe("ump-loading-spinner")],uU);const cU=V`
:host{--border-radius-none:0;--border-radius-small:2px;--border-radius-medium:4px;--border-radius-large:6px;--border-radius-x-large:8px;--border-radius-circular:10000px;--font-size-base-100:0.625rem;--font-size-base-200:0.75rem;--font-size-base-300:0.875rem;--font-size-base-400:1rem;--font-size-base-500:1.25rem;--font-size-base-600:1.5rem;--font-size-hero-700:1.75rem;--font-size-hero-800:2rem;--font-size-hero-900:2.5rem;--font-size-hero-1000:2.25rem;--font-weight-regular:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--duration-ultra-fast:50ms;--duration-faster:100ms;--duration-fast:150ms;--duration-normal:200ms;--duration-gentle:250ms;--duration-slow:300ms;--duration-slower:400ms;--duration-ultra-slow:500ms;--curve-accelerate-max:cubic-bezier(0.9,0.1,1,0.2);--curve-accelerate-mid:cubic-bezier(1,0,1,1);--curve-accelerate-min:cubic-bezier(0.8,0,0.78,1);--curve-decelerate-max:cubic-bezier(0.1,0.9,0.2,1);--curve-decelerate-mid:cubic-bezier(0,0,0,1);--curve-decelerate-min:cubic-bezier(0.33,0,0.1,1);--curve-easy-ease-max:cubic-bezier(0.8,0,0.2,1);--curve-easy-ease:cubic-bezier(0.33,0,0.67,1);--curve-linear:cubic-bezier(0,0,1,1);--line-height-base-100:0.875rem;--line-height-base-200:1rem;--line-height-base-300:1.25rem;--line-height-base-400:1.375rem;--line-height-base-500:1.75rem;--line-height-base-600:2rem;--line-height-hero-700:2.25rem;--line-height-hero-800:2.5rem;--line-height-hero-900:3.125rem;--line-height-hero-1000:5.75rem;--spacing-none:0;--spacing-xxs:0.125rem;--spacing-xs:0.25rem;--spacing-s-nudge:0.375rem;--spacing-s:0.5rem;--spacing-m-nudge:0.625rem;--spacing-m:0.75rem;--spacing-l:1rem;--spacing-xl:1.25rem;--spacing-xxl:1.5rem;--spacing-xxxl:2rem;--size-0:0px;--size-px:1px;--size-0-5:0.125rem;--size-1:0.25rem;--size-1-5:0.375rem;--size-2:0.5rem;--size-2-5:0.625rem;--size-3:0.75rem;--size-3-5:0.875rem;--size-4:1rem;--size-5:1.25rem;--size-6:1.5rem;--size-7:1.75rem;--size-8:2rem;--size-9:2.25rem;--size-10:2.5rem;--size-11:2.75rem;--size-12:3rem;--size-14:3.5rem;--size-16:4rem;--size-20:5rem;--size-24:6rem;--size-28:7rem;--size-32:8rem;--size-36:9rem;--size-40:10rem;--size-44:11rem;--size-48:12rem;--size-52:13rem;--size-56:14rem;--size-60:15rem;--size-64:16rem;--size-72:18rem;--size-80:20rem;--size-96:24rem;--size-100:30rem;--stroke-width-thin:1px;--stroke-width-thick:2px;--stroke-width-thicker:3px;--stroke-width-thickest:4px;--color-neutral-shadow-ambient:rgb(0 0 0/24%);--color-neutral-shadow-key:rgb(0 0 0/28%);--color-neutral-shadow-ambient-lighter:rgb(0 0 0/12%);--color-neutral-shadow-key-lighter:rgb(0 0 0/14%);--color-neutral-shadow-ambient-darker:rgb(0 0 0/40%);--color-neutral-shadow-key-darker:rgb(0 0 0/48%);--color-brand-shadow-ambient:rgb(0 0 0/30%);--color-brand-shadow-key:rgb(0 0 0/25%);--color-grey-2:#050505;--color-grey-4:#0a0a0a;--color-grey-6:#0f0f0f;--color-grey-8:#141414;--color-grey-10:#1a1a1a;--color-grey-12:#1f1f1f;--color-grey-14:#242424;--color-grey-16:#292929;--color-grey-18:#2e2e2e;--color-grey-20:#333;--color-grey-22:#383838;--color-grey-24:#3d3d3d;--color-grey-26:#424242;--color-grey-28:#474747;--color-grey-30:#4d4d4d;--color-grey-32:#525252;--color-grey-34:#575757;--color-grey-36:#5c5c5c;--color-grey-38:#616161;--color-grey-40:#666;--color-grey-42:#6b6b6b;--color-grey-44:#707070;--color-grey-46:#757575;--color-grey-48:#7a7a7a;--color-grey-50:#808080;--color-grey-52:#858585;--color-grey-54:#8a8a8a;--color-grey-56:#8f8f8f;--color-grey-58:#949494;--color-grey-60:#999;--color-grey-62:#9e9e9e;--color-grey-64:#a3a3a3;--color-grey-66:#a8a8a8;--color-grey-68:#adadad;--color-grey-70:#b3b3b3;--color-grey-72:#b8b8b8;--color-grey-74:#bdbdbd;--color-grey-76:#c2c2c2;--color-grey-78:#c7c7c7;--color-grey-80:#ccc;--color-grey-82:#d1d1d1;--color-grey-84:#d6d6d6;--color-grey-86:#dbdbdb;--color-grey-88:#e0e0e0;--color-grey-90:#e6e6e6;--color-grey-92:#ebebeb;--color-grey-94:#f0f0f0;--color-grey-96:#f5f5f5;--color-grey-98:#fafafa;--color-white:#fff;--color-white-alpha-5:rgb(255 255 255/5%);--color-white-alpha-10:rgb(255 255 255/10%);--color-white-alpha-20:rgb(255 255 255/20%);--color-white-alpha-30:rgb(255 255 255/30%);--color-white-alpha-40:rgb(255 255 255/40%);--color-white-alpha-50:rgb(255 255 255/50%);--color-white-alpha-60:rgb(255 255 255/60%);--color-white-alpha-70:rgb(255 255 255/70%);--color-white-alpha-80:rgb(255 255 255/80%);--color-white-alpha-90:rgb(255 255 255/90%);--color-black:#000;--color-black-alpha-5:rgb(0 0 0/5%);--color-black-alpha-10:rgb(0 0 0/10%);--color-black-alpha-20:rgb(0 0 0/20%);--color-black-alpha-30:rgb(0 0 0/30%);--color-black-alpha-40:rgb(0 0 0/40%);--color-black-alpha-50:rgb(0 0 0/50%);--color-black-alpha-60:rgb(0 0 0/60%);--color-black-alpha-70:rgb(0 0 0/70%);--color-black-alpha-80:rgb(0 0 0/80%);--color-black-alpha-90:rgb(0 0 0/90%);--color-grey-10-alpha-5:rgb(26 26 26/5%);--color-grey-10-alpha-10:rgb(26 26 26/10%);--color-grey-10-alpha-20:rgb(26 26 26/20%);--color-grey-10-alpha-30:rgb(26 26 26/30%);--color-grey-10-alpha-40:rgb(26 26 26/40%);--color-grey-10-alpha-50:rgb(26 26 26/50%);--color-grey-10-alpha-60:rgb(26 26 26/60%);--color-grey-10-alpha-70:rgb(26 26 26/70%);--color-grey-10-alpha-80:rgb(26 26 26/80%);--color-grey-10-alpha-90:rgb(26 26 26/90%);--color-grey-12-alpha-5:rgb(31 31 31/5%);--color-grey-12-alpha-10:rgb(31 31 31/10%);--color-grey-12-alpha-20:rgb(31 31 31/20%);--color-grey-12-alpha-30:rgb(31 31 31/30%);--color-grey-12-alpha-40:rgb(31 31 31/40%);--color-grey-12-alpha-50:rgb(31 31 31/50%);--color-grey-12-alpha-60:rgb(31 31 31/60%);--color-grey-12-alpha-70:rgb(31 31 31/70%);--color-grey-12-alpha-80:rgb(31 31 31/80%);--color-grey-12-alpha-90:rgb(31 31 31/90%);--color-grey-14-alpha-5:rgb(36 36 36/5%);--color-grey-14-alpha-10:rgb(36 36 36/10%);--color-grey-14-alpha-20:rgb(36 36 36/20%);--color-grey-14-alpha-30:rgb(36 36 36/30%);--color-grey-14-alpha-40:rgb(36 36 36/40%);--color-grey-14-alpha-50:rgb(36 36 36/50%);--color-grey-14-alpha-60:rgb(36 36 36/60%);--color-grey-14-alpha-70:rgb(36 36 36/70%);--color-grey-14-alpha-80:rgb(36 36 36/80%);--color-grey-14-alpha-90:rgb(36 36 36/90%);--color-brand-10:#061724;--color-brand-20:#082338;--color-brand-30:#0a2e4a;--color-brand-40:#0c3b5e;--color-brand-50:#0e4775;--color-brand-60:#0f548c;--color-brand-70:#115ea3;--color-brand-80:#0f6cbd;--color-brand-90:#2886de;--color-brand-100:#479ef5;--color-brand-110:#62abf5;--color-brand-120:#77b7f7;--color-brand-130:#96c6fa;--color-brand-140:#b4d6fa;--color-brand-150:#cfe4fa;--color-brand-160:#ebf3fc;--color-neutral-foreground-1:var(--color-white);--color-neutral-foreground-1-hover:var(--color-white);--color-neutral-foreground-1-pressed:var(--color-white);--color-neutral-foreground-1-selected:var(--color-white);--color-neutral-foreground-2:var(--color-grey-84);--color-neutral-foreground-2-hover:var(--color-white);--color-neutral-foreground-2-pressed:var(--color-white);--color-neutral-foreground-2-selected:var(--color-white);--color-neutral-foreground-2-brand-hover:var(--color-brand-100);--color-neutral-foreground-2-brand-pressed:var(--color-brand-90);--color-neutral-foreground-2-brand-selected:var(--color-brand-100);--color-neutral-foreground-3:var(--color-grey-68);--color-neutral-foreground-3-hover:var(--color-grey-84);--color-neutral-foreground-3-pressed:var(--color-grey-84);--color-neutral-foreground-3-selected:var(--color-grey-84);--color-neutral-foreground-3-brand-hover:var(--color-brand-100);--color-neutral-foreground-3-brand-pressed:var(--color-brand-90);--color-neutral-foreground-3-brand-selected:var(--color-brand-100);--color-neutral-foreground-4:var(--color-grey-60);--color-neutral-foreground-disabled:var(--color-grey-36);--color-neutral-foreground-inverted-disabled:var(--color-white-alpha-40);--color-brand-foreground-link:var(--color-brand-100);--color-brand-foreground-link-hover:var(--color-brand-110);--color-brand-foreground-link-pressed:var(--color-brand-90);--color-brand-foreground-link-selected:var(--color-brand-100);--color-neutral-foreground-2-link:var(--color-grey-84);--color-neutral-foreground-2-link-hover:var(--color-white);--color-neutral-foreground-2-link-pressed:var(--color-white);--color-neutral-foreground-2-link-selected:var(--color-white);--color-compound-brand-foreground-1:var(--color-brand-100);--color-compound-brand-foreground-1-hover:var(--color-brand-110);--color-compound-brand-foreground-1-pressed:var(--color-brand-90);--color-brand-foreground-1:var(--color-brand-100);--color-brand-foreground-2:var(--color-brand-110);--color-brand-foreground-2-hover:var(--color-brand-130);--color-brand-foreground-2-pressed:var(--color-brand-160);--color-neutral-foreground-1-static:var(--color-grey-14);--color-neutral-foreground-static-inverted:var(--color-white);--color-neutral-foreground-inverted:var(--color-grey-14);--color-neutral-foreground-inverted-hover:var(--color-grey-14);--color-neutral-foreground-inverted-pressed:var(--color-grey-14);--color-neutral-foreground-inverted-selected:var(--color-grey-14);--color-neutral-foreground-inverted-2:var(--color-grey-14);--color-neutral-foreground-on-brand:var(--color-white);--color-neutral-foreground-inverted-link:var(--color-white);--color-neutral-foreground-inverted-link-hover:var(--color-white);--color-neutral-foreground-inverted-link-pressed:var(--color-white);--color-neutral-foreground-inverted-link-selected:var(--color-white);--color-brand-foreground-inverted:var(--color-brand-80);--color-brand-foreground-inverted-hover:var(--color-brand-70);--color-brand-foreground-inverted-pressed:var(--color-brand-60);--color-brand-foreground-on-light:var(--color-brand-80);--color-brand-foreground-on-light-hover:var(--color-brand-70);--color-brand-foreground-on-light-pressed:var(--color-brand-50);--color-brand-foreground-on-light-selected:var(--color-brand-60);--color-neutral-background-1:var(--color-grey-16);--color-neutral-background-1-hover:var(--color-grey-24);--color-neutral-background-1-pressed:var(--color-grey-12);--color-neutral-background-1-selected:var(--color-grey-22);--color-neutral-background-2:var(--color-grey-12);--color-neutral-background-2-hover:var(--color-grey-20);--color-neutral-background-2-pressed:var(--color-grey-8);--color-neutral-background-2-selected:var(--color-grey-18);--color-neutral-background-3:var(--color-grey-8);--color-neutral-background-3-hover:var(--color-grey-16);--color-neutral-background-3-pressed:var(--color-grey-4);--color-neutral-background-3-selected:var(--color-grey-14);--color-neutral-background-4:var(--color-grey-4);--color-neutral-background-4-hover:var(--color-grey-12);--color-neutral-background-4-pressed:var(--color-black);--color-neutral-background-4-selected:var(--color-grey-10);--color-neutral-background-5:var(--color-black);--color-neutral-background-5-hover:var(--color-grey-8);--color-neutral-background-5-pressed:var(--color-grey-2);--color-neutral-background-5-selected:var(--color-grey-6);--color-neutral-background-6:var(--color-grey-20);--color-neutral-background-inverted:var(--color-white);--color-neutral-background-static:var(--color-grey-24);--color-neutral-background-alpha:var(--color-grey-10-alpha-50);--color-neutral-background-alpha-2:var(--color-grey-12-alpha-70);--color-neutral-background-disabled:var(--color-grey-8);--color-neutral-background-inverted-disabled:var(--color-white-alpha-10);--color-subtle-background:transparent;--color-subtle-background-hover:var(--color-grey-22);--color-subtle-background-pressed:var(--color-grey-18);--color-subtle-background-selected:var(--color-grey-20);--color-subtle-background-light-alpha-hover:var(--color-grey-14-alpha-80);--color-subtle-background-light-alpha-pressed:var(--color-grey-14-alpha-50);--color-subtle-background-light-alpha-selected:transparent;--color-subtle-background-inverted:transparent;--color-subtle-background-inverted-hover:var(--color-black-alpha-10);--color-subtle-background-inverted-pressed:var(--color-black-alpha-30);--color-subtle-background-inverted-selected:var(--color-black-alpha-20);--color-transparent-background:transparent;--color-transparent-background-hover:transparent;--color-transparent-background-pressed:transparent;--color-transparent-background-selected:transparent;--color-background-overlay:var(--color-black-alpha-50);--color-brand-background:var(--color-brand-70);--color-brand-background-hover:var(--color-brand-80);--color-brand-background-pressed:var(--color-brand-40);--color-brand-background-selected:var(--color-brand-60);--color-compound-brand-background:var(--color-brand-100);--color-compound-brand-background-hover:var(--color-brand-110);--color-compound-brand-background-pressed:var(--color-brand-90);--color-brand-background-static:var(--color-brand-80);--color-brand-background-2:var(--color-brand-20);--color-brand-background-2-hover:var(--color-brand-40);--color-brand-background-2-pressed:var(--color-brand-10);--color-brand-background-3-static:var(--color-brand-60);--color-brand-background-4-static:var(--color-brand-40);--color-brand-background-inverted:var(--color-white);--color-brand-background-inverted-hover:var(--color-brand-160);--color-brand-background-inverted-pressed:var(--color-brand-140);--color-brand-background-inverted-selected:var(--color-brand-150);--color-neutral-card-background:var(--color-grey-20);--color-neutral-card-background-hover:var(--color-grey-24);--color-neutral-card-background-pressed:var(--color-grey-18);--color-neutral-card-background-selected:var(--color-grey-22);--color-neutral-card-background-disabled:var(--color-grey-8);--color-neutral-stroke-accessible:var(--color-grey-68);--color-neutral-stroke-accessible-hover:var(--color-grey-74);--color-neutral-stroke-accessible-pressed:var(--color-grey-70);--color-neutral-stroke-accessible-selected:var(--color-brand-100);--color-neutral-stroke-1:var(--color-grey-40);--color-neutral-stroke-1-hover:var(--color-grey-46);--color-neutral-stroke-1-pressed:var(--color-grey-42);--color-neutral-stroke-1-selected:var(--color-grey-44);--color-neutral-stroke-2:var(--color-grey-32);--color-neutral-stroke-3:var(--color-grey-24);--color-neutral-stroke-subtle:var(--color-grey-4);--color-neutral-stroke-on-brand:var(--color-grey-16);--color-neutral-stroke-on-brand-2:var(--color-white);--color-neutral-stroke-on-brand-2-hover:var(--color-white);--color-neutral-stroke-on-brand-2-pressed:var(--color-white);--color-neutral-stroke-on-brand-2-selected:var(--color-white);--color-brand-stroke-1:var(--color-brand-100);--color-brand-stroke-2:var(--color-brand-50);--color-brand-stroke-2-hover:var(--color-brand-50);--color-brand-stroke-2-pressed:var(--color-brand-30);--color-brand-stroke-2-contrast:var(--color-brand-50);--color-compound-brand-stroke:var(--color-brand-100);--color-compound-brand-stroke-hover:var(--color-brand-110);--color-compound-brand-stroke-pressed:var(--color-brand-90);--color-neutral-stroke-disabled:var(--color-grey-26);--color-neutral-stroke-inverted-disabled:var(--color-white-alpha-40);--color-transparent-stroke:transparent;--color-transparent-stroke-interactive:transparent;--color-transparent-stroke-disabled:transparent;--color-neutral-stroke-alpha:var(--color-white-alpha-10);--color-neutral-stroke-alpha-2:var(--color-white-alpha-20);--color-stroke-focus-1:var(--color-black);--color-stroke-focus-2:var(--color-white);--shadow-2:0 0 2px var(--color-neutral-shadow-ambient),0 1px 2px var(--color-neutral-shadow-key);--shadow-4:0 0 2px var(--color-neutral-shadow-ambient),0 2px 4px var(--color-neutral-shadow-key);--shadow-8:0 0 2px var(--color-neutral-shadow-ambient),0 4px 8px var(--color-neutral-shadow-key);--shadow-16:0 0 2px var(--color-neutral-shadow-ambient),0 8px 16px var(--color-neutral-shadow-key);--shadow-28:0 0 8px var(--color-neutral-shadow-ambient),0 14px 28px var(--color-neutral-shadow-key);--shadow-64:0 0 8px var(--color-neutral-shadow-ambient),0 32px 64px var(--color-neutral-shadow-key);--shadow-2-brand:0 0 2px var(--color-brand-shadow-ambient),0 1px 2px var(--color-brand-shadow-key);--shadow-4-brand:0 0 2px var(--color-brand-shadow-ambient),0 2px 4px var(--color-brand-shadow-key);--shadow-8-brand:0 0 2px var(--color-brand-shadow-ambient),0 4px 8px var(--color-brand-shadow-key);--shadow-16-brand:0 0 2px var(--color-brand-shadow-ambient),0 8px 16px var(--color-brand-shadow-key);--shadow-28-brand:0 0 8px var(--color-brand-shadow-ambient),0 14px 28px var(--color-brand-shadow-key);--shadow-64-brand:0 0 8px var(--color-brand-shadow-ambient),0 32px 64px var(--color-brand-shadow-key);--font-family-default:'Segoe UI','Segoe UI Web (West European)',-apple-system,blinkmacsystemfont,roboto,'Helvetica Neue',sans-serif}
`;Object.defineProperty,Object.getOwnPropertyDescriptor;let lU=class extends ze{render(){return Ae`
      <div class="dialog">
        <div class="header-icon">${Mt('<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 13a1 1 0 0 1 1 1v9a1 1 0 1 1-2 0v-9a1 1 0 0 1 1-1Zm0-2a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM2 16a14 14 0 1 1 28 0 14 14 0 0 1-28 0ZM16 4a12 12 0 1 0 0 24 12 12 0 0 0 0-24Z"/></svg>')}</div>

        <div class="content">
          <hgroup>
            <h2>${tt("You may not access this content")}</h2>
            <p>
              ${tt("An age restriction has been implemented due to mature themes or\n              legal requirements intended to protect younger audiences.")}
            </p>
          </hgroup>
        </div>
      </div>
    `}};lU.styles=[aN,nO,V`
:host{display:flex;align-items:center;justify-content:center;background-color:var(--color-neutral-background-2)}.dialog{padding:var(--spacing-xxxl) var(--spacing-xxxl);display:flex;align-items:flex-start;gap:var(--spacing-xl);z-index:10;margin:var(--spacing-xxl);max-width:var(--size-100)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxl);padding-right:var(--spacing-xxxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-130);fill:currentcolor}h2{margin:0;padding:0}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}p{margin:0;padding:0}.select-container{display:flex;gap:var(--spacing-m)}
    `],lU=((e,t,n,r)=>{for(var i,a=t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=i(a)||a);return a})([qe("ump-age-gate-restricted")],lU);const dU=V`
.select{--svg:url('data:image/svg+xml;utf8,${B(encodeURIComponent('<svg width="16" height="16" fill="none" stroke="#666" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" fill="#ffffff"/></svg>'))}');position:relative;display:inline-flex;align-items:center;gap:var(--spacing-s-nudge);margin:0;-webkit-appearance:none;appearance:none;padding:var(--spacing-s) var(--spacing-xxxl) var(--spacing-s) var(--spacing-l);color:var(--color-neutral-foreground-1);transition-duration:var(--duration-faster);transition-property:background,color;font-size:var(--font-size-base-400);transition-timing-function:var(--curve-easy-ease);cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-neutral-background-1);border-radius:var(--border-radius-medium);border:none;background-image:var(--svg);background-repeat:no-repeat;background-position-y:center;background-position-x:calc(100% - 8px);font-family:var(--font-family-default)}.select:focus{outline:none;border-bottom:solid var(--stroke-width-thick) var(--color-brand-stroke-1)}.select:focus-within{outline:none;border-bottom:solid var(--stroke-width-thick) var(--color-brand-stroke-1)}.select.focus-always:focus,.select.focus-default:focus-visible{outline:var(--stroke-width-thick) solid var(--color-stroke-focus-2)}.select:active{outline:none}.select-outline{border:solid var(--stroke-width-thick) var(--color-neutral-stroke-1)}.select-outline.focus-always:focus,.select-outline.focus-default:focus-visible{border:solid var(--stroke-width-thick) var(--color-neutral-stroke-1)}
`;function fU(e,t){return Array.from({length:t-e+1},((t,n)=>e+n))}var pU=Object.defineProperty,hU=Object.getOwnPropertyDescriptor,gU=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?hU(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&pU(t,n,a),a};const vU=fU(1,12),mU=fU(1,31),yU=fU(1900,(new Date).getFullYear()).reverse();let bU=class extends ze{render(){return Ae`
    <div class="dialog">
      <div class="header-icon">${Mt('<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M9 9a7 7 0 1 1 14 0A7 7 0 0 1 9 9Zm7-6a6 6 0 1 0 0 12 6 6 0 0 0 0-12Zm.38 15H7.5A3.5 3.5 0 0 0 4 21.5v.67C4 24.32 6.77 30 16 30c.43 0 .84-.01 1.24-.04-.31-.3-.6-.62-.87-.96H16c-8.77 0-11-5.32-11-6.83v-.67A2.5 2.5 0 0 1 7.5 19h8.2c.2-.35.43-.68.68-1Zm7.12-2a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15Zm4.53 4.72c.3.3.3.77 0 1.06l-5.25 5.25c-.3.3-.77.3-1.06 0l-2.5-2.5a.75.75 0 1 1 1.06-1.06l1.97 1.97 4.72-4.72c.3-.3.77-.3 1.06 0Z"/></svg>')}</div>

        <div class="content">
          <hgroup>
            <h2>${tt("Please enter your date of birth")}</h2>
            <p>${tt("Age verification is required to access this content.")}</p>
          </hgroup>

          <div class="select-container">
            <div class="select-wrapper">
              <label for="month">${tt("Month")}</label>
              <select 
                class=${At({...iN(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${tt("Month")}" 
                data-testid="month" 
                id="month"
                >
                <option disabled selected value=''></option>
                ${vU.map((e=>Ae`<option value=${e}>${e}</option>`))}
              </select>
            </div>

            <div class="select-wrapper">
              <label for="day">${tt("Day")}</label>
              <select 
                class=${At({...iN(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${tt("Day")}" 
                data-testid="day" 
                id="day"
                >
                <option disabled selected value=''></option>
                ${mU.map((e=>Ae`<option value=${e}>${e}</option>`))}
              </select>
            </div>
            
            <div class="select-wrapper">
              <label for="year">${tt("Year")}</label>
              <select 
                class=${At({...iN(this.playerState),select:!0,"select-outline":!0})}
                aria-label="${tt("Year")}" 
                data-testid="year" 
                id="year"
                >
                <option disabled selected value=''></option>
                ${yU.map((e=>Ae`<option value=${e}>${e}</option>`))}
              </select>
            </div>
          </div>

          <button 
            type="submit" 
            class=${At({btn:!0,"btn-s":!0,"btn-brand":!0,...iN(this.playerState)})}
            data-testid="age-gate-submit"
          @click=${this.submitButtonClicked}>${tt("Submit")}</button>
        </div>
      </div>
    </div>
    `}submitButtonClicked(){const e=this.monthSelect.value,t=this.daySelect.value,n=this.yearSelect.value;if(!e||!t||!n)return;const r=function(e){const t=new Date,n=new Date(e);n.setFullYear(t.getFullYear());let r=t.getFullYear()-e.getFullYear();return t<n&&r--,r}(new Date(Number(n),Number(e)-1,Number(t)));this.dispatchEvent(new rN("user-age-set",r))}};bU.styles=[aN,dU,nO,V`
:host{display:flex;align-items:center;justify-content:center}.dialog{padding:var(--spacing-xxl) var(--spacing-xxxl);display:flex;align-items:flex-start;gap:var(--spacing-xl);z-index:10;margin:var(--spacing-xxl);max-width:var(--size-100)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxxl);padding-right:var(--spacing-xxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-130);fill:currentcolor}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}hgroup h2{margin:0;padding:0}hgroup p{margin:0;padding:0}.select-container{display:flex;flex-direction:row;gap:var(--spacing-m)}.select-wrapper{display:flex;flex-direction:column}.select{background-color:var(--color-brand-30)}.select-outline{border-color:var(--color-brand-150);border-width:var(--stroke-width-thin)}.select-outline.default:focus-visible,.select-outline.focus-always:focus{border-width:var(--stroke-width-thin)}
    `],gU([Je("#month")],bU.prototype,"monthSelect",2),gU([Je("#day")],bU.prototype,"daySelect",2),gU([Je("#year")],bU.prototype,"yearSelect",2),gU([_({context:LR,subscribe:!0})],bU.prototype,"playerState",2),bU=gU([qe("ump-age-gate-verification")],bU);var wU=Object.defineProperty,xU=Object.getOwnPropertyDescriptor,SU=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?xU(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&wU(t,n,a),a};let TU=class extends ze{render(){return Ae`
      <div class="dialog message-container" data-testid="error-message">
        <div class="header-icon">${Mt('<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M17.25 22a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM16 9a1 1 0 0 0-1 1v8a1 1 0 1 0 2 0v-8a1 1 0 0 0-1-1Zm-3.06-5.2a3.5 3.5 0 0 1 6.12 0l10.5 19a3.5 3.5 0 0 1-3.07 5.2H5.51a3.5 3.5 0 0 1-3.07-5.2l10.5-19Zm4.37.98a1.5 1.5 0 0 0-2.62 0l-10.5 19A1.5 1.5 0 0 0 5.51 26h20.98a1.5 1.5 0 0 0 1.32-2.23l-10.5-19Z"/></svg>')}</div>

        <div class="content">
          <hgroup>
            <h2>${tt("Playback Error")}</h2>
            <p>${this.playerState.error}</p>
          </hgroup>
        </div>
      </div>
    `}};TU.styles=[aN,nO,V`
:host{display:flex;align-items:center;justify-content:center;background-color:var(--color-brand-10)}.message-container{display:flex;align-items:flex-start;gap:var(--spacing-xl);padding:var(--spacing-xxxl) var(--spacing-xxxl)}.content{display:flex;align-items:flex-start;flex-direction:column;gap:var(--spacing-xxl);padding-right:var(--spacing-xxxl)}.header-icon{padding:var(--spacing-s);color:var(--color-brand-foreground-1);fill:currentcolor}h2{margin:0;padding:0}hgroup{display:flex;flex-direction:column;gap:var(--spacing-xs)}p{margin:0;padding:0}.select-container{display:flex;gap:var(--spacing-m)}
    `],SU([_({context:LR,subscribe:!0})],TU.prototype,"playerState",2),TU=SU([qe("ump-error-modal")],TU);var kU=Object.defineProperty,CU=Object.getOwnPropertyDescriptor,AU=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?CU(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&kU(t,n,a),a};let EU=class extends ze{render(){return this.playerState.error?Ae`<ump-error-modal class="modal"></ump-error-modal>`:"waiting"===this.playerState.ageGate?Ae`<div
        data-testid="age-gate-overlay"
        class="overlay modal"
      ></div>`:"verification"===this.playerState.ageGate?Ae`<ump-age-gate-verification
        class="modal"
      ></ump-age-gate-verification> `:"denied"===this.playerState.ageGate?Ae`<ump-age-gate-restricted
        class="modal"
      ></ump-age-gate-restricted>`:null}updated(e){var t;super.updated(e);const n=!(null!=(t=this.shadowRoot)&&t.children.length);this.ariaHidden=n.toString()}};function IU(e){return e.map((e=>({...e,type:ZR[e.type]??e.type}))).sort(((e,t)=>{let n=JR.indexOf(e.type)-JR.indexOf(t.type);return 0===n&&"video/mp4"===e.type&&(n=YR.indexOf(e.quality)-YR.indexOf(t.quality)),n})).filter(MU)}function MU(e){return""!=document.createElement("video").canPlayType(e.type)||"ManagedMediaSource"in window||"MediaSource"in window}function _U(e){const t=e.map((e=>({...e,ccType:QR[e.ccType]??e.ccType}))).reduce(((e,t)=>(e[t.locale]||(e[t.locale]=[]),e[t.locale].push(t),e)),{});return Object.values(t).map((e=>e.find((e=>"text/vtt"===e.ccType))??e[0]))}function PU(e){let t,n=!1;return(...r)=>(n||(t=e(...r),n=!0),t)}EU.styles=[cU,V`
:host([aria-hidden='true']){display:none}.overlay{background-color:var(--color-black)}.modal{position:absolute;inset:0;width:100%;height:100%;text-align:left}ump-age-gate-verification,ump-age-gate-restricted{background-color:var(--color-brand-10)}
    `],AU([_({context:LR,subscribe:!0})],EU.prototype,"playerState",2),EU=AU([qe("ump-modals")],EU);const DU=PU((async()=>{try{const e=document.createElement("video"),t=e.volume;return e.volume=t/2+.1,t!==e.volume&&await new Promise((e=>setTimeout(e,1))),t!==e.volume}catch{return!1}})),LU=PU((()=>"function"==typeof document.createElement("div").requestFullscreen));function RU(e){return function(e,t){return Object.fromEntries(Object.entries(e).filter((([e,t])=>!((e,t)=>null==t)(0,t))))}(e)}const NU=["abort","canplay","canplaythrough","complete","cuechange","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];class OU extends Ze.Player{constructor(e,t,n){super(),this.videoElementEventListeners={},this.plugins=[],this.pluginOnDestroy=[],this.loadRequested=!1,this._autoplay=!1,this.onFullscreenChange=()=>{this.dispatchEvent(new Ze.util.FakeEvent("fullscreenchanged"))},this.options={...qR,...RU(e)},e.autoplay&&!1!==e.muted&&(this.options.muted=!0),this.videoElement=t,this.lastSelectedVolume=t.volume,this.captionDisplay=n,this.configure({streaming:{ignoreTextStreamFailures:!0}})}async initialize(){this.plugins.forEach((e=>this.pluginOnDestroy.push(e(this)))),this.setVideoContainer(this.captionDisplay.captionContainer),this.forwardVideoElementEvents(),this.loop=this.options.loop,this.muted=this.options.muted,!this.options.autoplay&&!this.options.hidePosterImage&&(this.poster=this.options.poster),this.videoElement.disablePictureInPicture=!0,this.videoElement.playsInline=!0,await this.attach(this.videoElement)}async destroy(){Object.entries(this.videoElementEventListeners).forEach((([e,t])=>this.videoElement.removeEventListener(e,t))),this.pluginOnDestroy.forEach((e=>e())),this.removeFullscreenListener(),await super.destroy()}load(e,t,n){return n===ZR.MP4&&(this.adaptiveBitrate=!1),super.load(e,t,n)}async loadCaptions(e=this.options.ccFiles){for(const t of _U(e))await this.addTextTrackAsync(t.url,t.locale,"captions",t.ccType)}async play(){return this.getLoadMode()===Ze.Player.LoadMode.NOT_LOADED?(this.addEventListener("loadsourcescomplete",this.handleLoadSourcesComplete),void this.loadRequest()):this.videoElement.play()}pause(){if(this.isFullyLoaded())return this.videoElement.pause();this.removeEventListener("loadsourcescomplete",this.handleLoadSourcesComplete)}loadRequest(){this.loadRequested||(this.loadRequested=!0,this.dispatchEvent(new Ze.util.FakeEvent("loadsourcesrequest")))}handleLoadSourcesComplete(){this.videoElement.play()}requestFullscreen(e){this.removeFullscreenListener(),LU()?(this.fullscreenElement=e,e.addEventListener("fullscreenchange",this.onFullscreenChange),e.requestFullscreen({navigationUI:"hide"})):function(e){return"webkitEnterFullscreen"in e&&"webkitSupportsFullscreen"in e&&"function"==typeof e.webkitEnterFullscreen&&e.webkitSupportsFullscreen}(this.videoElement)&&this.videoElement.webkitEnterFullscreen()}exitFullscreen(){document.exitFullscreen()}get fullscreen(){return null!==document.fullscreenElement}get ended(){return this.videoElement.ended}get paused(){return this.videoElement.paused}get duration(){return this.videoElement.duration}get currentTime(){return this.videoElement.currentTime}set currentTime(e){this.videoElement.currentTime=e}get loop(){return this.videoElement.loop}set loop(e){this.videoElement.loop=e}get autoplay(){return this._autoplay}set autoplay(e){this._autoplay=e}get muted(){return 0===this.volume||this.videoElement.muted}set muted(e){this.videoElement.muted=e,this.videoElement.volume=e?0:this.lastSelectedVolume}get playbackRate(){return this.getPlaybackRate()}set playbackRate(e){this.videoElement.playbackRate=e}get poster(){return this.videoElement.poster}set poster(e){const t=new Image;t.addEventListener("load",(()=>{this.dispatchEvent(new Ze.util.FakeEvent("playerposterloadcomplete"))})),t.src=e,this.videoElement.poster=t.src}get volume(){return this.videoElement.volume}set volume(e){this.videoElement.muted=!1,this.videoElement.volume=e}get adaptiveBitrate(){return this.getConfiguration().abr.enabled}set adaptiveBitrate(e){this.configure({abr:{enabled:e}})}get videoQualities(){if(this.getManifestType()){const e=this.filterRelatedAdaptiveTracks();return 0===e.length?[]:[KR,...e]}return this.filterStaticMp4Tracks()}get activeVideoId(){var e,t;if(!this.getManifestType()){const e=this.getAssetUri();return null==(t=this.options.sources.find((t=>t.src===e)))?void 0:t.quality}{const t=null==(e=this.getVariantTracks().find((e=>e.active)))?void 0:e.videoId;if(t)return t}}get buffered(){const e=this.videoElement,t=[];for(let n=0;n<e.buffered.length;n++)t.push({start:e.buffered.start(n),end:e.buffered.end(n)});return t}dispatchShakaError(e,t,n){const r=new Ze.util.Error(e,t,n),i=new Ze.util.FakeEvent("error",(new Map).set("detail",r));this.dispatchEvent(i)}saveLastSelectedVolume(e){0!==e&&(this.lastSelectedVolume=e)}async selectVideoQuality(e){if(this.getManifestType()){if(e.videoId===KR.videoId)return void(this.adaptiveBitrate=!0);this.adaptiveBitrate=!1;const t=this.getVariantTracks().filter((e=>e.audioId===this.activeAudioTrackId)).find((t=>t.videoId===e.videoId));if(!t)throw new Ze.util.Error(Ze.util.Error.Severity.RECOVERABLE,Ze.util.Error.Category.MEDIA,Ze.util.Error.Code.VIDEO_ERROR);this.adaptiveBitrate=!1,this.selectVariantTrack(t,!0)}else{const t=IU(this.options.sources).find((t=>t.quality===e.videoId));if(!t)throw new Ze.util.Error(Ze.util.Error.Severity.RECOVERABLE,Ze.util.Error.Category.MEDIA,Ze.util.Error.Code.VIDEO_ERROR);const n=!this.paused,r=this.activeCaptionTrack;await this.load(t.src,this.videoElement.currentTime,t.type),n&&this.play(),await this.loadCaptions(),this.captionTrack=r}}get audioTracks(){const e=this.getVariantTracks().find((e=>e.active));return e?this.getVariantTracks().filter((t=>t.videoId===e.videoId)).map((e=>({audioId:e.audioId,language:e.language.toLowerCase(),label:zN(e.language.startsWith(nN)?e.language.substring(4):e.language),role:e.language.startsWith(nN)?"public.accessibility.describes-video":e.roles[0]}))).sort(((e,t)=>e.language.localeCompare(t.language))):[]}get activeAudioTrackId(){var e;const t=null==(e=this.getVariantTracks().find((e=>e.active)))?void 0:e.audioId;if(t)return t}set audioTrack(e){this.selectAudioLanguage(e.language,e.role)}get captionTracks(){const e=this.getTextTracks().map((e=>({captionId:e.id,language:e.language,label:zN(e.language)})));return[GR,...e]}get activeCaptionTrack(){var e;const t=null==(e=this.getTextTracks().find((e=>e.active)))?void 0:e.id,n=this.captionTracks.find((e=>e.captionId===t));return n&&this.isTextTrackVisible()?n:GR}get activeCaptionTrackId(){return this.activeCaptionTrack.captionId}set captionTrack(e){e.captionId!==GR.captionId?(this.selectTextLanguage(e.language),this.setTextTrackVisibility(!0)):this.setTextTrackVisibility(!1)}addPlugin(e){this.plugins.push(e)}addPlugins(...e){e.forEach((e=>this.addPlugin(e)))}addEventListener(e,t,n){!0===(null==n?void 0:n.once)?function(e,t,n){const r=i=>{e.removeEventListener(t,r),n(i)};e.addEventListener(t,r)}(this,e,t):super.addEventListener(e,t,n)}forwardVideoElementEvents(){NU.forEach((e=>{const t=()=>this.dispatchEvent(new Ze.util.FakeEvent(e));this.videoElementEventListeners[e]=t,this.videoElement.addEventListener(e,t)}))}filterStaticMp4Tracks(){return IU(this.options.sources).filter((e=>"video/mp4"===e.type)).sort(((e,t)=>YR.indexOf(e.quality)-YR.indexOf(t.quality))).map((e=>({videoId:e.quality,label:e.quality})))}filterRelatedAdaptiveTracks(){const e=this.getVariantTracks(),t=e.find((e=>e.active));return t?e.filter((e=>e.audioId===t.audioId)).sort(((e,t)=>t.height===e.height||null==e.height||null==t.height?t.bandwidth-e.bandwidth:t.height-e.height)).reduce(((e,t)=>{const n=new Set(e.map((e=>e.height??e.bandwidth))),r=t.height??t.bandwidth;return n.has(r)||e.push(t),e}),[]).map((e=>({videoId:e.videoId,label:e.height?e.height.toString():`${(e.bandwidth/1e6).toFixed(2)} Mbps`}))):[]}removeFullscreenListener(){this.fullscreenElement&&this.fullscreenElement.removeEventListener("fullscreenchange",this.onFullscreenChange)}}const UU=new class{constructor(e,t){this.prefix=e,this.store=t}getItem(e){return this.store.getItem(this.prefixed(e))}getNumber(e){const t=this.getItem(e);if(null===t)return null;const n=Number(t);return isNaN(n)?null:n}setNumber(e,t){this.setItem(e,t.toString())}setItem(e,t){this.store.setItem(this.prefixed(e),t)}removeItem(e){this.store.removeItem(this.prefixed(e))}prefixed(e){return`${this.prefix}:${e}`}}("ump",window.sessionStorage),jU="agegateupdate",FU="UserAge";function BU(e,t){return n=>{var r,i;if(!1===n.options.ageGate)return()=>{};let a="object"==typeof n.options.ageGate&&"number"==typeof(null==(r=n.options.ageGate)?void 0:r.minimumAge)?n.options.ageGate.minimumAge:null,o="object"==typeof n.options.ageGate&&"number"==typeof(null==(i=n.options.ageGate)?void 0:i.userAge)?n.options.ageGate.userAge:UU.getNumber(FU);function s(){if("verified"!==t.value.ageGate)return function(e){t.setValue({...t.value,ageGate:e})}(0===a?"verified":null===a?"waiting":null===o?"verification":o>=a?"verified":"denied");u()}function u(){c.removeAllListeners(),l.removeAllListeners()}s();const c=GO(window),l=GO(e);return c.addEventListener(jU,(function e(t){o=t.detail,s(),window.removeEventListener(jU,e)})),c.addEventListener("storage",(function e(t){if(t.key!==`ump:${FU}`||!t.newValue)return;const n=Number(t.newValue);isNaN(n)||(o=n,s(),window.removeEventListener("storage",e))})),l.addEventListener("minimum-age-set",(function(e){a=e.detail,s()})),l.addEventListener("user-age-set",(function(e){o=e.detail,s(),function(e){UU.setNumber(FU,e),window.dispatchEvent(new rN(jU,e))}(o)})),()=>{u()}}}const VU=new EventTarget;let $U=null;function zU(){return $U}function HU(e,t){e.setValue({...e.value,volume:t.volume,muted:t.muted})}function qU(e,t){const n=t.activeVideoId;e.setValue({...e.value,activeVideoQualityId:n,selectedVideoQualityId:t.adaptiveBitrate?KR.videoId:n,selectedAudioTrackId:t.activeAudioTrackId,selectedCaptionTrackId:t.activeCaptionTrackId})}function KU(e,t){e.setValue({...e.value,videoQualities:t.videoQualities,audioTracks:t.audioTracks,captionTracks:t.captionTracks})}var GU=Object.defineProperty,XU=Object.getOwnPropertyDescriptor,WU=(e,t,n,r)=>{for(var i,a=r>1?void 0:r?XU(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r?i(t,n,a):i(a))||a);return r&&a&&GU(t,n,a),a};Ze.polyfill.installAll();const YU="options";function JU(e,t,n){const r=e instanceof ZU?e:ZU.getById(e);return n&&r.addEventListener("ready",n,{once:!0}),r.setAttribute("options",JSON.stringify(t)),r}Object.defineProperty(JU,"allowAutoplay",{get:zU,set:function(e){e!==$U&&($U=e,VU.dispatchEvent(new Event("change")))}});let ZU=class extends ze{constructor(){super(...arguments),this.umpId=`ump-${function(){try{return crypto.randomUUID()}catch{return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}}()}`,this.ariaLabel=null,this.playerStateContext=new L(this,{context:LR,initialValue:WR}),this.onVideoEvent=e=>{this.dispatchEvent(new rN(e.type,e.target))}}render(){return Ae`
      <ump-caption-display></ump-caption-display>
      <ump-controls class="fill-parent"></ump-controls>
      <ump-loading-spinner></ump-loading-spinner>
      <ump-modals class="fill-parent"></ump-modals>
      <ump-aria-announcer></ump-aria-announcer>
    `}setMinimumAge(e){this.dispatchEvent(new rN("minimum-age-set",e))}setAge(e){this.dispatchEvent(new rN("user-age-set",e))}dispose(){this.destroyPlayer()}get currentState(){var e;if(this.player)return{duration:this.player.duration,currentTime:this.player.currentTime,percentageComplete:this.player.currentTime/this.player.duration,autoPlay:this.player.autoplay,muted:this.player.muted,loop:this.player.loop,title:this.player.options.title,powerCmsVideoId:null==(e=this.player.options.plugins.powerCms)?void 0:e.videoId}}play(){var e;null==(e=this.player)||e.play()}pause(){var e;null==(e=this.player)||e.pause()}async updated(e){e.has(YU)&&(await this.destroyPlayer(),this.options&&await this.initPlayer(this.options))}async disconnectedCallback(){super.disconnectedCallback(),await this.destroyPlayer()}connectedCallback(){super.connectedCallback(),this.requestUpdate()}async initPlayer(e){var t,n;this.playerStateContext.setValue(WR);const r=this.addVideo();this.player=new OU(e,r,this.captionDisplay),this.player.addPlugins(function(e){return t=>{const n={playerInstanceId:e.umpId,playerVersionNumber:1732224097330,playerCommit:"d6a61942c4187bd2c595b19f9b70c4a12ec7c8b5",playerUrl:"",title:t.options.title,partnerName:t.options.partnerName},r=new nU(n,t,t.options.reporting,t.options.debug);!function(e,t,n){(function(e,t){e.addEventListener("ended",(()=>{t.reportNominalMetric(WO.ContentComplete)}),{once:!0})})(e,n),function(e,t){e.addEventListener("play",(()=>{const n=performance.now();e.addEventListener("playing",(()=>{t.reportNumericMetric(XO.InitialPlaybackStartDurationMs,performance.now()-n)}),{once:!0})}),{once:!0})}(e,n),function(e,t){e.addEventListener("umpplay",(()=>{t.reportNominalMetric(WO.Play)}),{once:!0})}(e,n),function(e,t){e.addEventListener("umppause",(()=>{t.reportNominalMetric(WO.Pause)}))}(e,n),function(e,t,n){e.addEventListener("resume",(()=>{t.dispatchEvent(new rN("resume")),n.reportNominalMetric(WO.Resume)}))}(e,t,n),function(e,t,n){e.addEventListener("replay",(()=>{t.dispatchEvent(new rN("replay")),n.reportNominalMetric(WO.Replay)}))}(e,t,n),function(e,t){e.addEventListener("seeked",(()=>{(e.currentTime>=.2||0===e.currentTime)&&t.reportNominalMetric(WO.Seek)}))}(e,n),function(e,t,n){let r;e.addEventListener("buffering",(e=>{e.buffering?(t.dispatchEvent(new rN("buffering")),r=performance.now()):(n.reportNominalMetric(WO.BufferComplete),n.reportNumericMetric(XO.BufferDurationMs,performance.now()-r))}))}(e,t,n),function(e,t,n){let r=e.options.muted;e.addEventListener("volumechange",(()=>{const i=0===e.volume||e.muted;r!==i&&(r=i,n.reportNominalMetric(i?WO.Mute:WO.Unmute),t.dispatchEvent(new rN(i?"mute":"unmute")))}))}(e,t,n),function(e,t){e.addEventListener("fullscreenchanged",(()=>{e.fullscreen?t.reportNominalMetric(WO.FullScreenEnter):t.reportNominalMetric(WO.FullScreenExit)}))}(e,n),function(e,t){e.addEventListener("playerloadmediastart",(()=>{const n=performance.now();e.addEventListener("playerloadmediaend",(()=>{t.reportNumericMetric(XO.PlayerLoadDurationMs,performance.now()-n)}))}))}(e,n),function(e,t){const n=performance.now();e.addEventListener("playerposterloadcomplete",(()=>{t.reportNumericMetric(XO.PosterImageLoadDurationMs,performance.now()-n)}),{once:!0})}(e,n),function(e,t,n){const r=[.25,.5,.75],i=e.options.checkpoints.filter((e=>e>=0&&e<=1)).sort(((e,t)=>e-t));e.addEventListener("timeupdate",(()=>{const a=e.currentTime/e.duration;for(;r.length>0&&a>=r[0];)r.shift(),n.reportNominalMetric(WO.ContentCheckpoint);for(;i.length>0&&a>=i[0];)i.shift(),t.dispatchEvent(new rN("checkpoint"))}))}(e,t,n),function(e,t){e.addEventListener("ready",(()=>{t.reportNominalMetric(WO.CommonPlayerImpression)}),{once:!0})}(t,n)}(t,e,r);const i=function(e,t,n){const r=e=>{!function(e,t,n){if(t.dispatchEvent(new rN("playererror")),e instanceof Ze.util.FakeEvent){const t=e.detail;n.reportError({errorType:`Shaka Error: ${t.code}. Severity: ${t.severity}`,errorDescription:`${t.category}: ${t.data.toString()}`})}else e instanceof rU?n.reportError({errorType:e.category,errorDescription:e.message}):n.reportError({errorType:"unknown error event",errorDescription:"unknown error event"})}(e,t,n)};return e.addEventListener("error",r),t.addEventListener("error",r),()=>{e.removeEventListener("error",r),t.removeEventListener("error",r)}}(t,e,r);return()=>{i()}}}(this),(e=>(0===e.options.sources.length||e.addEventListener("loadsourcesrequest",(async function(){e.dispatchEvent(new Ze.util.FakeEvent("playerloadmediastart"));const t=IU(e.options.sources);try{await e.load(t[0].src,e.options.startTime,t[0].type)}catch{return void e.dispatchShakaError(Ze.util.Error.Severity.CRITICAL,Ze.util.Error.Category.MEDIA,Ze.util.Error.Code.MEDIA_SOURCE_OPERATION_FAILED)}await e.loadCaptions(),e.dispatchEvent(new Ze.util.FakeEvent("playerloadmediaend")),e.dispatchEvent(new Ze.util.FakeEvent("loadsourcescomplete"))})),()=>{})),function(e){return t=>{var n;if(null==(n=t.options.plugins)||!n.powerCms)return()=>{};t.addEventListener("loadsourcesrequest",(async function(){t.dispatchEvent(new Ze.util.FakeEvent("playerloadmediastart")),s&&await s;const e=IU(a);await t.load(e[0].src,t.options.startTime,e[0].type),await t.loadCaptions(o),t.dispatchEvent(new Ze.util.FakeEvent("playerloadmediaend")),t.dispatchEvent(new Ze.util.FakeEvent("loadsourcescomplete"))}));const r=new AbortController,i=r.signal,a=[],o=[];let s=null;function u(e){return IU([{src:d(e.streams.mPEG_DASH.url),type:"DASH"},{src:d(e.streams.apple_HTTP_Live_Streaming.url),type:"HLS"}])}function c(e){return _U(Object.entries(e.captions).map((([e,t])=>({ccType:"TTML",url:d(t.url),locale:e}))))}function l(e){const t=Object.entries(e.streams).filter((([e])=>e.startsWith("h.264_"))).map((([,e])=>e)).reduce(((e,t)=>e.widthPixels>t.widthPixels?e:t));return[...Object.entries(e.transcripts).map((([e,t])=>({mediaType:"transcript",url:d(t.url),locale:e}))),{mediaType:"video",url:d(t.url),locale:e.snippet.culture}]}function d(e){return e.replace("http://","https://")}return s=async function(){const n=await async function(){var e;try{const n=await fetch(`https://prod-video-cms-rt-microsoft-com.akamaized.net/vhs/api/videos/${null==(e=t.options.plugins.powerCms)?void 0:e.videoId}`,{signal:i});if(!n.ok)throw new Error("Error fetching metadata");const r=await n.json();return{poster:d(r.snippet.thumbnails.medium.url),sources:u(r),ccFiles:c(r),downloadableFiles:l(r),title:r.snippet.title,ageGate:{minimumAge:r.snippet.minimumAge}}}catch(e){return console.error("Error fetching metadata:",e),void t.dispatchShakaError(Ze.util.Error.Severity.CRITICAL,Ze.util.Error.Category.MEDIA,Ze.util.Error.Code.MEDIA_SOURCE_OPERATION_FAILED)}}();!n||0===n.sources.length||(e.ariaLabel=n.title,a.push(...n.sources),!t.options.autoplay&&!t.options.hidePosterImage&&(t.poster=n.poster),o.push(...n.ccFiles),e.dispatchEvent(new rN("minimum-age-set",n.ageGate.minimumAge??0)),n.downloadableFiles.length>0&&e.dispatchEvent(new rN("download-files-updated",n.downloadableFiles)))}(),()=>{r.abort()}}}(this),function(e){return t=>{const n={abrstatuschanged:()=>qU(e,t),adaptation:()=>qU(e,t),loaded:()=>{KU(e,t),qU(e,t),HU(e,t)},mediaqualitychanged:()=>qU(e,t),trackschanged:()=>KU(e,t),textchanged:()=>qU(e,t),texttrackvisibility:()=>qU(e,t),timeupdate:()=>function(e,t){e.setValue({...e.value,currentTime:t.currentTime})}(e,t),variantchanged:()=>qU(e,t),volumechange:()=>HU(e,t),ended:()=>function(e){e.setValue({...e.value,ended:!0})}(e),playing:()=>function(e){e.setValue({...e.value,paused:!1})}(e),pause:()=>function(e){e.setValue({...e.value,paused:!0})}(e),seeking:()=>function(e){e.setValue({...e.value,ended:!1})}(e),durationchange:()=>function(e,t){e.setValue({...e.value,duration:t.duration})}(e,t),fullscreenchanged:()=>function(e,t){e.setValue({...e.value,fullscreen:t.fullscreen})}(e,t),ratechange:()=>function(e,t){e.setValue({...e.value,playbackRate:t.playbackRate})}(e,t),error:n=>function(e,t,n){n.severity===Ze.util.Error.Severity.CRITICAL&&(t.options.showImageOnError?(t.unload(),e.setValue({...e.value,controlsState:"none"})):(t.unload(),e.setValue({...e.value,error:tN})))}(e,t,n.detail),progress:()=>function(e,t){e.setValue({...e.value,buffered:t.buffered})}(e,t)};return function(e,t){const n=t.options.playbackRates.map((e=>({label:1===e?"Normal":`${e}x`,value:e})));e.setValue({...e.value,playbackRates:n})}(e,t),function(e,t){function n(t){e.setValue({...e.value,loading:t})}function r(){n(!0);const e=t.currentTime,r=()=>{e!==t.currentTime&&(n(!1),t.removeEventListener("timeupdate",r))};t.addEventListener("timeupdate",r)}t.addEventListener("playerloadmediastart",r),t.addEventListener("waiting",r),t.addEventListener("error",(function(e){e.detail.severity===Ze.util.Error.Severity.CRITICAL&&n(!1)})),t.addEventListener("ended",(()=>n(!1))),t.addEventListener("playing",(()=>n(!1))),t.addEventListener("canplay",(()=>n(!1))),t.addEventListener("canplaythrough",(()=>n(!1)))}(e,t),Object.entries(n).forEach((([e,n])=>t.addEventListener(e,n))),()=>{}}}(this.playerStateContext),function(e,t){return n=>{if(!n.options.showDownloadMenu)return t.setValue({...t.value,showDownloadMenu:!1}),()=>{};const r=GO(e);function i(e){const n=e.filter((e=>"video"===e.mediaType)).map((e=>({...e,locale:zN(e.locale)}))),r=e.filter((e=>"transcript"===e.mediaType)).map((e=>({...e,locale:zN(e.locale)})));t.setValue({...t.value,downloadableVideoFiles:n,downloadableTranscriptFiles:r})}return r.addEventListener("download-file-clicked",(async function(e){let t=null;try{const{url:n}=e.detail,r=await fetch(n);if(!r.ok)throw new Error(`Failed to download file: ${r.url} ${r.statusText}`);const i=await r.blob();t=document.createElement("a"),t.href=URL.createObjectURL(i);const a=n.split("/").pop();t.download=a,document.body.appendChild(t),t.click()}catch(e){console.error(`Failed to download file: ${e}`)}finally{null!=t&&t.href&&URL.revokeObjectURL(t.href)}})),r.addEventListener("download-files-updated",(function(e){i(e.detail)})),n.options.downloadableFiles.length>0&&i(n.options.downloadableFiles),()=>{r.removeAllListeners()}}}(this,this.playerStateContext),function(e,t){return n=>{const r=function(e){return e.options.share?0===e.options.shareOptions.length?HR:e.options.shareOptions:[]}(n).map((e=>function(e){const t=new URL(window.location.href);t.searchParams.delete("jsapi");const n=t.toString();switch(e){case"facebook":return{id:"facebook",url:`https://www.facebook.com/share.php?u=${encodeURIComponent(n)}`,icon:'<svg\n  width="16"\n  height="30"\n  viewBox="0 0 16 30"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <g clip-path="url(#clip0_511_2982)">\n    <path\n      fill-rule="evenodd"\n      clip-rule="evenodd"\n      d="M15.6346 4.86093C9.21328 4.47388 10.4141 7.03694 10.35 11.136C11.691 11.136 14.6137 11.1421 15.4183 11.1421C15.0983 13.2175 14.6746 15.9452 14.6045 16.3993C13.0777 16.4054 11.6819 16.4114 10.3592 16.4145C10.3653 19.008 10.3683 27.8614 10.344 29.3425C9.42357 29.3425 5.54394 29.3974 4.65708 29.3425C4.65708 27.258 4.65098 18.5631 4.65098 16.3993C3.51422 16.3993 1.47535 16.4114 0.012491 16.3932C0.012491 15.3265 -0.00579475 12.9829 0.012491 11.133C0.844494 11.1116 3.70012 11.133 4.66317 11.1025C4.66317 9.9139 4.65708 8.7619 4.65403 7.25332C4.63879 1.92911 8.11919 -1.12157 15.6407 0.387011C15.6407 1.64568 15.6407 3.93445 15.6407 4.86093H15.6346Z"\n    />\n  </g>\n  <defs>\n    <clipPath id="clip0_511_2982">\n      <rect width="15.6343" height="29.37" fill="white" />\n    </clipPath>\n  </defs>\n</svg>'};case"linkedin":return{id:"linkedin",url:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(n)}&title=&summary=&source=`,icon:'<svg\n  width="24"\n  height="24"\n  viewBox="0 0 24 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <g clip-path="url(#clip0_511_2987)">\n    <path\n      fill-rule="evenodd"\n      clip-rule="evenodd"\n      d="M13.3045 7.94905L8.62619 7.98985L8.59559 24C10.1698 24 11.7439 24 13.3181 23.9831C13.3181 21.9567 13.3113 18.9444 13.3181 16.5372C13.3215 14.4599 13.4303 12.0731 16.1502 11.9712C18.9687 11.8658 19.0163 14.3953 19.0197 16.51C19.0231 18.8458 18.9007 21.5691 19.0197 23.8607L23.8918 23.8811C23.9292 23.5377 23.902 17.0438 23.902 16.5134C23.902 15.3337 23.9734 13.9975 23.9156 12.8347C23.7592 9.66941 21.3147 7.47306 18.1902 7.46966C16.854 7.46966 15.3546 7.99325 14.4502 8.81603C13.9913 9.23422 13.7295 9.62521 13.3283 10.0332C13.3283 9.36002 13.3147 8.57804 13.3011 7.94565L13.3045 7.94905ZM0.571791 23.8437H5.29087C5.28067 22.9563 5.28747 9.67961 5.29087 7.94905H0.571791V23.8437ZM2.61174 0.0272487C0.986581 0.255043 -0.18639 1.60141 0.024405 3.27417C0.2114 4.76673 1.53737 6.0723 3.26792 5.8615C4.74009 5.68131 6.04225 4.32474 5.82466 2.60778C5.64106 1.15602 4.3015 -0.210745 2.61174 0.0272487Z"\n    />\n  </g>\n  <defs>\n    <clipPath id="clip0_511_2987">\n      <rect\n        width="23.9422"\n        height="24"\n        fill="white"\n        transform="translate(0.000610352)"\n      />\n    </clipPath>\n  </defs>\n</svg>'};case"twitter":return{id:"twitter",url:`https://x.com/share?url=${encodeURIComponent(n)}&text=`,icon:'<svg\n  width="28"\n  height="24"\n  viewBox="0 0 28 24"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <g clip-path="url(#clip0_511_2985)">\n    <path\n      fill-rule="evenodd"\n      clip-rule="evenodd"\n      d="M20.2899 21.4804C19.8539 20.897 6.12454 2.76639 5.93862 2.51957C6.09569 2.51957 7.90683 2.51957 8.08955 2.51957C8.30112 2.80166 22.0401 20.7111 22.5947 21.4804H20.2899ZM17.001 10.0815C18.5685 8.26713 24.8995 0.891145 25.5951 0.0544945L21.7324 0.02885C20.6842 1.23734 15.5585 6.98811 15.0937 7.4978C14.4878 6.73167 9.34933 0.368639 9.07366 0H0.867432C1.87718 1.30466 10.4777 12.5081 10.8559 12.9985C8.76592 15.3963 2.15927 22.987 1.38994 23.8782L5.65012 23.9327L12.7889 15.781C13.8019 17.0792 18.5813 23.3653 19.216 24.0032C19.8924 24.0032 26.9703 23.9519 27.3902 23.9423C26.4991 22.7755 17.6068 10.8732 17.0042 10.0815H17.001Z"\n    />\n  </g>\n  <defs>\n    <clipPath id="clip0_511_2985">\n      <rect\n        width="26.5196"\n        height="24"\n        fill="white"\n        transform="translate(0.867188)"\n      />\n    </clipPath>\n  </defs>\n</svg>'};case"mail":return{id:"mail",url:`mailto:?subject=Check out this great video&body=${encodeURIComponent(n)}`,icon:'<svg\n  width="38"\n  height="37"\n  viewBox="0 0 38 37"\n  fill="none"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="M8.01585 5.78125C5.14224 5.78125 2.81272 8.11077 2.81272 10.9844V12.695C2.81242 12.7102 2.81243 12.7253 2.81272 12.7405V26.0156C2.81272 28.8892 5.14224 31.2188 8.01585 31.2188H29.9846C32.8582 31.2188 35.1877 28.8892 35.1877 26.0156V12.7405C35.188 12.7253 35.188 12.7102 35.1877 12.695V10.9844C35.1877 8.11077 32.8582 5.78125 29.9846 5.78125H8.01585ZM32.8752 12.0281L19.0002 19.4993L5.12522 12.0281V10.9844C5.12522 9.38793 6.4194 8.09375 8.01585 8.09375H29.9846C31.581 8.09375 32.8752 9.38793 32.8752 10.9844V12.0281ZM5.12522 14.6546L18.452 21.8305C18.7943 22.0148 19.2062 22.0148 19.5484 21.8305L32.8752 14.6546V26.0156C32.8752 27.6121 31.581 28.9062 29.9846 28.9062H8.01585C6.4194 28.9062 5.12522 27.6121 5.12522 26.0156V14.6546Z"\n  />\n</svg>'};default:return{id:"copy",url:n,icon:""}}}(e)));t.setValue({...t.value,shareOptions:r});const i=GO(e);return i.addEventListener("share-button-clicked",(function(){t.setValue({...t.value,shareDialogOpened:!0})})),i.addEventListener("share-dialog-closed",(function(){t.setValue({...t.value,shareDialogOpened:!1})})),()=>{i.removeAllListeners()}}}(this,this.playerStateContext),function(e,t){return n=>{const r=GO(e);function i(e){t.setValue({...t.value,controlsState:e})}r.addEventListener("big-play-button-clicked",(function(){t.setValue({...t.value,bigPlayButtonClicked:!0}),o()})),r.addEventListener("play-button-clicked",(function(){o()})),r.addEventListener("volume-button-clicked",(function(){n.muted=!n.muted})),r.addEventListener("fullscreen-button-clicked",(function(){n.fullscreen?n.exitFullscreen():n.requestFullscreen(e)})),r.addEventListener("seekbar-updated",(function(e){n.currentTime=e.detail})),r.addEventListener("volume-updated",(function(e){n.volume=e.detail})),r.addEventListener("volume-drag-released",(function(e){n.saveLastSelectedVolume(e.detail)})),r.addEventListener("audio-track-clicked",(function(e){n.audioTrack=e.detail})),r.addEventListener("video-quality-clicked",(function(e){n.selectVideoQuality(e.detail)})),r.addEventListener("caption-track-clicked",(function(e){t.setValue({...t.value,captionSettings:{...t.value.captionSettings,enabled:-1!==e.detail.captionId}}),n.captionTrack=e.detail})),r.addEventListener("playback-rate-clicked",(function(e){n.playbackRate=e.detail})),r.addEventListener("controls-clicked",(function(){o()})),r.addEventListener("seekbar-pointer-down",(function(){a=n.paused,n.pause()})),r.addEventListener("seekbar-pointer-up",(function(){a||n.play()})),r.addEventListener("caption-font-size-clicked",(function(e){t.setValue({...t.value,captionSettings:{...t.value.captionSettings,fontScale:e.detail}})})),r.addEventListener("caption-text-color-clicked",(function(e){t.setValue({...t.value,captionSettings:{...t.value.captionSettings,textColor:e.detail}})})),r.addEventListener("caption-text-opacity-clicked",(function(e){t.setValue({...t.value,captionSettings:{...t.value.captionSettings,textOpacity:e.detail}})})),r.addEventListener("caption-background-color-clicked",(function(e){t.setValue({...t.value,captionSettings:{...t.value.captionSettings,backgroundColor:e.detail}})})),r.addEventListener("caption-background-opacity-clicked",(function(e){t.setValue({...t.value,captionSettings:{...t.value.captionSettings,backgroundOpacity:e.detail}})})),r.addEventListener("caption-font-family-clicked",(function(e){t.setValue({...t.value,captionSettings:{...t.value.captionSettings,fontFamily:e.detail}})})),r.addEventListener("caption-text-edge-style-clicked",(function(e){t.setValue({...t.value,captionSettings:{...t.value.captionSettings,textShadow:e.detail}})})),null==n.options.hideControls&&n.addEventListener("play",(()=>{i("controlbar")}),{once:!0}),n.options.autoplay||i("bigplaybutton"),"controlbar"===n.options.hideControls&&i("bigplaybutton"),"all"===n.options.hideControls&&i("none"),t.setValue({...t.value,playButtonSize:n.options.playButtonSize,playButtonTheme:n.options.playButtonTheme}),t.setValue({...t.value,maskLevel:n.options.maskLevel}),0!==n.options.maskLevel&&n.addEventListener("play",(()=>{t.setValue({...t.value,maskLevel:0})}),{once:!0});let a=!1;function o(){n.ended?(n.dispatchEvent(new Ze.util.FakeEvent("replay")),n.play()):n.paused?(0===n.currentTime&&n.dispatchEvent(new Ze.util.FakeEvent("umpplay")),0!==n.currentTime&&n.dispatchEvent(new Ze.util.FakeEvent("resume")),n.play()):(n.dispatchEvent(new Ze.util.FakeEvent("umppause")),n.pause())}return()=>{r.removeAllListeners()}}}(this,this.playerStateContext),BU(this,this.playerStateContext),function(e){return t=>(t.options.playFullScreen&&t.addEventListener("play",(()=>{t.requestFullscreen(e)}),{once:!0}),()=>{})}(this),function(e,t){return n=>{if(!n.options.autoplay)return()=>{};const r=window.matchMedia("(prefers-reduced-motion: reduce)"),i={threshold:n.options.percentage/100},a=new IntersectionObserver((e=>{d(e[0]),o()&&(e[0].isIntersecting?n.paused&&n.play():n.paused||n.pause())}),i);function o(){if("string"==typeof t.value.ageGate&&"verified"!==t.value.ageGate)return!1;const e=zU();return"boolean"==typeof e?e:!r.matches}function s(){n.autoplay=o()}function u(){s()}function c(){s()}function l(){n.autoplay=!1,a.disconnect(),r.removeEventListener("change",u),VU.removeEventListener("change",c),e.removeEventListener("click",l)}const d=PU((e=>{(!n.autoplay||!e.isIntersecting)&&(null==n.options.hideControls&&t.setValue({...t.value,controlsState:"bigplaybutton"}),n.options.hidePosterImage||(n.poster=n.options.poster))}));return s(),r.addEventListener("change",u),VU.addEventListener("change",c),e.addEventListener("click",l,{once:!0}),n.addEventListener("ended",l,{once:!0}),a.observe(e),l}}(this,this.playerStateContext),function(e){return()=>(async function(){const t=await DU();e.setValue({...e.value,showVolumeSlider:t})}(),()=>{})}(this.playerStateContext),function(e){return t=>("forceHighestQuality"===t.options.qualityBehavior&&t.configure({abr:{enable:!1,defaultBandwidthEstimate:1e10,useNetworkInformation:!1}}),e.setValue({...e.value,showQualityMenu:t.options.showQualityMenu}),t.addEventListener("loadsourcescomplete",(async function(){if("forceHighestQuality"===t.options.qualityBehavior&&t.getManifest()){const e=t.videoQualities[1];e&&t.selectVideoQuality(e)}}),{once:!0}),()=>{})}(this.playerStateContext),function(e){return t=>(e.setValue({...e.value,disableKeyboardEvents:t.options.disableKeyboardEvents}),()=>{})}(this.playerStateContext),function(e){return t=>(e.setValue({...e.value,showFocusIndicator:t.options.showFocusIndicator}),()=>{})}(this.playerStateContext)),this.updateStyles(this.player),this.ariaLabel=(null==(t=this.options)?void 0:t.title)||null,JN((e=>{const t=HN(e),n=HN(document.documentElement.lang),r=function(){const e=new RegExp(`^https?://[^/]+/(${GN})/[^/]+.*`),t=window.location.href.match(e);return t&&HN(t[1])||null}(),i=HN(qR.language)||qR.language;return t||n||r||i})(null==(n=this.options)?void 0:n.language)),await this.player.initialize(),this.dispatchEvent(new rN("ready",this.player))}addVideo(){var e;const t=document.createElement("video");return t.classList.add("fill-parent"),NU.forEach((e=>{t.addEventListener(e,this.onVideoEvent)})),null==(e=this.shadowRoot)||e.prepend(t),t}removeVideo(){var e;const t=null==(e=this.player)?void 0:e.getMediaElement();t&&(NU.forEach((e=>{t.removeEventListener(e,this.onVideoEvent)})),t.remove())}async destroyPlayer(){var e;this.removeVideo(),await(null==(e=this.player)?void 0:e.destroy()),this.player=void 0}updateStyles(e){this.style.setProperty("--ump-aspect-ratio",e.options.aspectRatio.replace(":"," /")),"fill"===e.options.layout?this.style.setProperty("--ump-height","100%"):this.style.setProperty("--ump-height","unset")}static getById(e){const t=document.getElementById(e);if(!(t instanceof ZU))throw new Error(`Not a valid element. To use Universal Media Player, you must pass in an element named "universal-media-player" but you passed in id ${e} which resolves to element ${null==t?void 0:t.tagName}.`);return t}};ZU.styles=[cU,V`
:host{--ump-aspect-ratio:unset;--ump-height:unset;container-type:size;container-name:universalmediaplayer;display:inline-block;position:relative;width:100%;height:var(--ump-height);aspect-ratio:var(--ump-aspect-ratio);background-color:var(--color-black);font-family:var(--font-family-default);font-size:var(--font-size-base-300)}video{object-fit:contain}.fill-parent{position:absolute;inset:0;width:100%;height:100%}ump-controls{z-index:10}ump-modals{z-index:20}ump-loading-spinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:15}
    `],WU([Xe({type:Object,attribute:YU,reflect:!0})],ZU.prototype,"options",2),WU([Xe({reflect:!0})],ZU.prototype,"umpId",2),WU([Xe({attribute:"aria-label",reflect:!0})],ZU.prototype,"ariaLabel",2),WU([Je("ump-caption-display")],ZU.prototype,"captionDisplay",2),ZU=WU([qe("universal-media-player")],ZU),window.ump=JU,window.ISOBoxer=R;var QU,ej,tj=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};!function(e){e.HQ="HQ",e.HD="HD",e.SD="SD",e.LO="LO"}(QU||(QU={})),function(e){e.MP4="MP4",e.DASH="DASH",e.HLS="HLS"}(ej||(ej={}));var nj,rj,ij,aj="ocpVideo",oj="div.".concat(aj),sj="videoid",uj="videotitle",cj="SupportService",lj=function(){function e(t){var n=this;this.onMessageReceived=function(t,r,i){var a,o,s,u=null!==(a=i.videoId)&&void 0!==a?a:document.getElementById(r).dataset[sj];try{s={videoId:n.sanitize(u),currentTime:i.currentTime,duration:i.duration,title:n.sanitize(i.title)}}catch(e){}if(s&&"object"==typeof s&&e.videoEventNameToBehavior.has(t)){var c={vidnm:"",vidid:"",vidpct:0,vidwt:0,viddur:0,vidtimeseconds:0,live:!1,containerName:"umpplayer",id:""},l=document.querySelector("#".concat(r," universal-media-player")).closest(".ocpVideo");n.populateContentTags(c,s.title,s.videoId,s.duration,s.currentTime);var d={actionType:"O",behavior:e.videoEventNameToBehavior.get(t),content:c,isAuto:!1},f=l.id;null===(o=window.analytics)||void 0===o||o.capturePageAction(document.getElementById(f),d),n.updateVideoCarouselModal(t,f)}},this.useNarrowWidth=t}return e.prototype.setupVideo=function(e,t){var n;null!=t||(t=e.dataset[sj]);for(var r=null===(n=document.documentElement.lang)||void 0===n?void 0:n.toLowerCase(),i=document.createElement("universal-media-player"),a=e;a.firstChild;)a.removeChild(a.firstChild);var o=e.id;""===o&&(e.id=o="".concat(aj).concat(document.querySelectorAll("universal-media-player").length+1)),a.appendChild(i),JU(i,e.hasAttribute("learnvideo")?this.getLearnOptions(e,r):this.getUmpOptions(e,r,t)),this.setupEventListeners(i,o)},e.prototype.setupVideos=function(e){for(var t=e.querySelectorAll(oj),n=0;n<t.length;n++){var r=t[n],i=r.querySelector("universal-media-player");void 0!==r.id&&i||this.setupVideo(r)}},e.prototype.pauseVideos=function(e){for(var t=e.querySelectorAll(oj),n=0;n<t.length;n++){var r=t[n];r.id&&this.invokePause(r.id)}},e.prototype.pauseAllVideosExcept=function(e){for(var t=document.querySelectorAll(oj),n=0;n<t.length;n++){var r=t[n];r.id&&r.id!==e&&this.invokePause(r.id)}},e.prototype.setupEventListeners=function(t,n){var r,i,a=this,o=function(r){"play"===r&&s.addEvent(t,"play",(function(){var e=0===t.currentState.currentTime?"play":"resume";a.onMessageReceived(e,n,t.currentState)})),e.autoEmittedEvents.has(r)&&s.addEvent(t,r,(function(){return a.onMessageReceived(r,n,t.currentState)}))},s=this;try{for(var u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.videoEventNameToBehavior),c=u.next();!c.done;c=u.next())o(tj(c.value,1)[0])}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}this.addEvent(t,"canplay",(function(){a.addEvent(document,"fullscreenchange",(function(){document.fullscreenElement?a.onMessageReceived("fullscreenenter",n,t.currentState):a.onMessageReceived("fullscreenexit",n,t.currentState)}))}))},e.prototype.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},e.prototype.sanitize=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return e.replace(/[&<>"'/`=]/gi,(function(e){return t[e]}))},e.prototype.invokePause=function(e){try{document.querySelector("#".concat(e," universal-media-player")).pause()}catch(e){console.error("Error sending pause message:",e)}},e.prototype.updateVideoCarouselModal=function(e,t){var n=$("#"+t);n.length<=0||n.closest(".slick-list").length<=0||"play"!==e&&"resume"!==e||(this.pauseAllVideosExcept(t),function(e){if(!(e.length<=0)){var t=e.closest("div.supCardControlCarousel"),n=e.find(C),r=n.find("div.videoContent"),i=n.find("span.modalCloseButton");n.addClass("modalContainer"),n.find(".modalCloseButton").css("display","block"),n.find(".supCardControlImage").css("display","none"),n.siblings(".modalPageBackground").css("display","block"),r.addClass("modalContent"),i.css("display","block"),i.attr("tabindex","0"),$('[class^="slick-"]').each((function(){$(this).addClass("resetTransform")})),t.find(".supCardControlCarouselPrevButton, .supCardControlCarouselNextButton").not(".slick-hidden").hide(),$("body").addClass("disableScroll"),n.on("keydown",E),function(e){if(!(e.length<=0)){var t=$(window),n=e.find(C),r=n.find("div.videoContent"),i=16/9;t.height()<t.width()/i?(n.height("95vh"),n.width((n.height()-80)*i+80)):(n.width("95vw"),n.height((n.width()-80)/i+80));var a=t.height()/2-n.height()/2,o=t.width()/2-n.width()/2;n.css("top",a+"px"),n.css("left",o+"px"),r.width(n.width()-80),r.height(n.height()-80)}}(e)}}(n.closest(".supCardControlCard")))},e.prototype.populateContentTags=function(e,t,n,r,i){e.vidnm=t,e.vidid=n,e.viddur=Math.round(r),e.vidwt=Math.round(i),e.vidtimeseconds=Math.round(r),e.id="videoMetaData_".concat(n);var a=0;r>0&&(a=Math.round(i/r*100)),e.vidpct=a},e.prototype.getLearnOptions=function(e,t){var n=JSON.parse(e.dataset.captions).map((function(e){return{url:e.Url,locale:e.language,ccType:"VTT"}})),r=[],i=e.dataset.highqualityvideourl,a=e.dataset.mediumqualityvideourl,o=e.dataset.lowqualityvideourl,s=e.dataset.dashvideourl,u=e.dataset.adaptivehlsurl;return i&&r.push({src:i,type:"MP4",quality:"HQ"}),a&&r.push({src:a,type:"MP4",quality:"HD"}),o&&r.push({src:o,type:"MP4",quality:"LO"}),s&&r.push({src:s,type:"DASH"}),u&&r.push({src:u,type:"HLS"}),{partnerName:cj,language:t,autoplay:!1,title:e.dataset[uj],reporting:!1,poster:e.dataset.poster,sources:r,ccFiles:n}},e.prototype.getUmpOptions=function(e,t,n){return{partnerName:cj,language:t,title:e.dataset[uj],reporting:!1,plugins:{powerCms:{videoId:n}}}},e.videoEventNameToBehavior=new Map([["play",240],["pause",241],["resume",242],["timeupdate",243],["seeked",244],["ended",245],["waiting",246],["error",247],["mute",248],["unmute",249],["fullscreenenter",250],["fullscreenexit",251],["canplay",253]]),e.autoEmittedEvents=new Set(["pause","timeupdate","seeked","waiting","canplay","ended","error","mute","unmute"]),e}(),dj=lj,fj=function(){function e(e){this.videoPlayerManager=e}return e.prototype.setupCarousel=function(t){var n=this,r=$(t),i=r.prev(oj).detach();r.wrap('<div class="trainingCont"></div>'),r.before(i);var a="rtl"===t.ownerDocument.dir,o=$("<div></div>",t.ownerDocument).addClass([e.nextButtonClass,e.rightIconClass]),s=$("<div></div>",t.ownerDocument).addClass([e.previousButtonClass,e.inactiveButtonClass,e.leftIconClass]);a?(o.insertBefore(r),s.insertAfter(r)):(o.insertAfter(r),s.insertBefore(r)),r.wrap('<div id="ocpCarousel"></div>');var u=r.children("li");u.first().addClass(e.selectedClass),u.each((function(t,r){var a=$(r);a.find("ul").find("li:first-child").after('<li class="ocpCarouselN">'.concat(t+1,"</li>")),a.click((function(t){t.preventDefault();var r=$(t.delegateTarget);r.siblings("li").removeClass(e.selectedClass),r.addClass(e.selectedClass),n.videoPlayerManager.setupVideo(i[0],r.find("a").attr("data-".concat(sj)))}))}));var c=u.width()+11,l=u.length,d=!1,f=!1;l<=4&&(o.addClass(e.inactiveButtonClass),f=!0);var p=a?"left":"right";o.click((function(t){var n=r.css(p).replace(/[px]/g,"");if(!f&&("auto"===n||parseInt(n,10)<(l-4)*c)){f=!0;var i=a?{left:"+=".concat(c,"px")}:{right:"+=".concat(c,"px")};s.removeClass(e.inactiveButtonClass),r.animate(i,(function(){f=!1})),n=r.css(p).replace(/[px]/g,""),parseInt(n,10)>=(l-5)*c&&$(t.delegateTarget).addClass(e.inactiveButtonClass)}else $(t.delegateTarget).addClass(e.inactiveButtonClass)})),s.click((function(t){var n=parseInt(r.css(p).replace(/[px]/g,""),10);if(!d&&n>0){d=!0;var i=a?{left:"-=".concat(c,"px")}:{right:"-=".concat(c,"px")};o.removeClass(e.inactiveButtonClass),r.animate(i,(function(){d=!1})),$(t.delegateTarget).removeClass(e.inactiveButtonClass)}n-c==0&&$(t.delegateTarget).addClass(e.inactiveButtonClass)}))},e.previousButtonClass="ocPrev",e.nextButtonClass="ocNext",e.leftIconClass="ms-Icon--chevronThinLeft",e.rightIconClass="ms-Icon--chevronThinRight",e.inactiveButtonClass="inactive",e.selectedClass="selected",e}(),pj=fj,hj="prevAssetDKey",gj=function(){function r(){this.constants={events:n,fadeInTimeoutMs:10,wedcs:t},this.eventHelpers=e,this.pushOntoExecutionStack=h,this.getMetaTagValue=m,this.setMetaTag=y,this.update1dsMetaTagTelemetry=g,this.GetQueryStringParam=b,this.updateQueryStringParameter=w,this.GetCookie=i,this.SetCookie=a,this.GetSessionValue=T,this.TrySetSessionValue=k,this.Resources=new S,this.assetId=m("ms.ocpub.assetID"),this.videoPlayerManager=new dj(navigator.platform.toLowerCase().indexOf("ipad")>-1),this.videoCarouselManager=new pj(this.videoPlayerManager);var r=this.videoCarouselManager;this.Controls={Carousel:{setupCarousel:function(e,t){r.setupCarousel(t)}}}}return r.prototype.setPreviousAssetId=function(){var e=T(hj);null!==e&&y("ms.ocpub.previousassetID",e)},r.prototype.setSessionAssetValue=function(){var e;-1===(null===(e=this.assetId)||void 0===e?void 0:e.toLowerCase().indexOf("s.cl.nav"))&&k(hj,this.assetId,!0)},r.prototype.bindExpando=function(e,t){!function(e,t,n){var r=$(e);r.find("button").attr("data-bi-mto","").attr("data-bi-slot",(function(e){return e+1})),r.click((function(e){e.preventDefault();var r,i,a,o=$(e.delegateTarget),s=o.next(),u=o.hasClass(p);u&&n.pauseVideos(s[0]),o.toggleClass(p),s.find(t).slideToggle(150),o.find("i").toggleClass(f),r=o.find("button").attr("aria-expanded",(!u).toString())[0],i=!u,(a=window.analytics)&&a.capturePageAction(null,{actionType:"CL",behavior:i?window.oneDS.Behavior.EXPAND:window.oneDS.Behavior.REDUCE,contentTags:{contentName:r.innerText.trim(),areaName:"expando",slotNumber:r.dataset.biSlot}})}))}(e,t,this.videoPlayerManager)},r.prototype.setupVideosOnPage=function(){this.videoPlayerManager.setupVideos(document)},r.prototype.suspendStateOfContents=function(e){var t=this;e.each((function(e,n){return t.videoPlayerManager.pauseVideos(n)}))},r.prototype.windowIsTabletSizeOrSmaller=function(){return document.documentElement.clientWidth<=768},r}(),vj=gj,mj=function(){var e=document.getSelection().toString().trim(),t=window.analytics;t&&e&&t.capturePageAction(null,{actionType:"O",behavior:window.oneDS.Behavior.COPY,contentTags:{contentId:"copy_text_action"}})};(ij=nj||(nj={})).None="None",ij.EU="EU",function(e){e[e.Undefined=0]="Undefined",e[e.MinorWithoutParentalConsent=1]="MinorWithoutParentalConsent",e[e.MinorWithParentalConsent=2]="MinorWithParentalConsent",e[e.Adult=3]="Adult",e[e.NotAdult=4]="NotAdult",e[e.MinorNoParentalConsentRequired=5]="MinorNoParentalConsentRequired"}(rj||(rj={})),void 0===String.prototype.format&&(String.prototype.format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.replace(/{(\d+)}/g,(function(t,n){return void 0!==e[n]?e[n]:n}))}),window.occe=new vj,$((function(){document.addEventListener(n.COPY_EVENT_TYPE,mj),$("a:has(img)").attr("data-bi-name",(function(e,t){return t||$(void 0).find("img").attr("alt")})),window.occe.bindExpando(".ocpExpandoHead",".ocpExpandoBody"),window.occe.setPreviousAssetId(),window.occe.setSessionAssetValue(),$('#footerArea a[href$="/contactus"]').attr("data-bi-bhvr","CALL").attr("href",(function(e,t){return window.occe.updateQueryStringParameter("ContactUsExperienceEntryPointAssetId",window.occe.assetId,t)})),$('.bridgeToken a[href$="/contactus"]').attr("data-bi-bhvr","CALL").attr("data-bi-id","authoredBridgeContactUs").attr("href",(function(e,t){return window.occe.updateQueryStringParameter("ContactUsExperienceEntryPointAssetId",window.occe.assetId,t)})),window.document.addEventListener("silentSignInComplete",(function(e){var t,n,r,i=!(!(r=e.detail.authType)||""==r)&&"none"!=r.toLowerCase(),a=e.detail.account;if(i&&a){var o=document.getElementById("document_toBeSwitchedOnAuth");if(o){for(var s=o.querySelectorAll("span"),u=0;u<s.length;u++){var c=s[u].dataset.userProperty;"GivenName"===c?s[u].textContent=a.firstName:"Surname"===c&&(s[u].textContent=a.lastName)}null===(t=o.classList)||void 0===t||t.remove("ocHidden"),null===(n=document.getElementById("document_default_hero"))||void 0===n||n.remove()}var l=a.memberName;null!==typeof l&&""!==l&&$('a[href*="answers.microsoft.com"]').attr("href",(function(e,t){return window.occe.updateQueryStringParameter("login_hint",l,t)}))}}));var e=window.occe.GetQueryStringParam("query");""!==e&&$("#cli_shellHeaderSearchInput").val(e),$("ul.ocpCarousel").each(window.occe.Controls.Carousel.setupCarousel),$("button.copy-table").click((function(e){var t=$(e.target).prev("table").get(0);t&&function(e){var t=document.createRange();t.selectNode(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t),document.execCommand("copy"),n.removeAllRanges()}(t)}))})),$(window).on("load",(function(){return window.occe.setupVideosOnPage()}))}()}();
//# sourceMappingURL=Support.Main.min.js.map