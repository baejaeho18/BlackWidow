function checkVisible(e,t){t=t||"visible";var s=jQuery(window).height(),i=jQuery(window).scrollTop(),r=jQuery(e).offset().top,a=jQuery(e).height();return"visible"==t?r<s+i&&r>i-a:"above"==t?r<s+i:void 0}var makeBSS=function(e,t){var s=document.querySelectorAll(e),i={},r={init:function(e,t){t=t||{},t.auto=t.auto||!1,this.opts={listSelector:void 0===t.listSelector?".vscom-slider-jump-link":t.listSelector,listSelectorSpanText:void 0===t.listSelectorSpanText?".vscom-jump-link-text":t.listSelectorSpanText,selector:void 0===t.selector?"article":t.selector,auto:void 0!==t.auto&&t.auto,speed:void 0===t.auto.speed?1500:t.auto.speed,pauseOnHover:void 0!==t.auto.pauseOnHover&&t.auto.pauseOnHover,fullScreen:void 0!==t.fullScreen&&t.fullScreen,swipe:void 0!==t.swipe&&t.swipe},this.counter=0,this.paused=!1,this.el=e,this.$items=e.querySelectorAll(this.opts.selector),this.numItems=this.$items.length,this.$items[0].classList.add("bss-show"),this.$jumpList=e.querySelectorAll(this.opts.listSelector),this.$jumpList[0].classList.add("active"),this.jumpListAndItemsForLoops("jumpListRoleButton",this.$jumpList),this.$jumpListSpanText=e.querySelectorAll(this.opts.listSelectorSpanText),this.jumpListAndItemsForLoops("itemAriaHiddenTrue",this.$items),this.jumpListAndItemsForLoops("jumpListAriaPressedFalse",this.$jumpList),this.jumpListAndItemsForLoops("jumpListSpanAriaHiddenTrue",this.$jumpListSpanText),this.injectControls(e,e.querySelector(".vscom-slider-jump-list")),this.addEventListeners(e),this.opts.auto&&this.autoCycle(this.el,this.opts.speed,this.opts.pauseOnHover),this.opts.fullScreen&&this.addFullScreen(this.el),this.opts.swipe&&this.addSwipe(this.el),this.resizeHeight(e),this.addPrevNextSlideClasses(),jQuery(window).scroll(function(){jQuery(".vscom-slider-slides-wrapper").each(function(e,t){checkVisible(jQuery(t))?jQuery(t).attr("aria-live","polite"):jQuery(t).attr("aria-live","off")})})},jumpListAndItemsForLoops:function(e,t){var s=0;switch(e){case"jumpListRoleButton":for(;s<t.length;s++)t[s].setAttribute("role","button");break;case"itemAriaHiddenTrue":for(;s<t.length;s++)s>0?t[s].setAttribute("aria-hidden","true"):t[s].setAttribute("aria-hidden","false");break;case"jumpListAriaPressedFalse":for(;s<t.length;s++)t[s].setAttribute("aria-pressed","false");break;case"jumpListSpanAriaHiddenTrue":for(;s<t.length;s++)t[s].setAttribute("aria-hidden","true")}},calculateIndex:function(e,t){return t>0?e+1===this.numItems?0:e+1:e-1<0?this.numItems-1:e-1},clearButtonBackgroundImage:function(e){var t=this.el.querySelector(e);t.style.backgroundImage=""},showCurrent:function(e){this.$jumpList[this.counter].classList.remove("active"),this.counter=this.calculateIndex(this.counter,e),[].forEach.call(this.$jumpList,function(e){e.classList.remove("active")}),[].forEach.call(this.$items,function(e){e.classList.remove("bss-show"),e.classList.remove("bss-prev-slide"),e.classList.remove("bss-next-slide"),e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),[].forEach.call(e.querySelectorAll("a"),function(e){e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true")})}),this.$items[this.counter].classList.add("bss-show"),this.$items[this.counter].setAttribute("aria-hidden","false"),this.$items[this.counter].removeAttribute("tabindex"),[].forEach.call(this.$items[this.counter].querySelectorAll("a"),function(e){e.removeAttribute("tabindex"),e.setAttribute("aria-hidden","false")}),this.$jumpList[this.counter].classList.add("active"),jQuery(this.el).find(".vscom-slide-accent.bss-show").removeClass("bss-show"),jQuery(this.el).find(".vscom-slide-accent.vscom-slide-number-"+this.counter).addClass("bss-show"),this.addPrevNextSlideClasses()},addPrevNextSlideClasses:function(){var e=this.calculateIndex(this.counter,-1),t=this.calculateIndex(this.counter,1);this.$items[e].classList.add("bss-prev-slide"),this.$items[t].classList.add("bss-next-slide")},skipToSlide:function(e){for(var t=0,s=0;s<this.numItems;s++)if(this.$items[s].getAttribute("data-title")===e){t=s;break}[].forEach.call(this.$jumpList,function(e){e.classList.remove("active")}),[].forEach.call(this.$items,function(e){e.classList.remove("bss-show"),e.classList.remove("bss-prev-slide"),e.classList.remove("bss-next-slide"),e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),[].forEach.call(e.querySelectorAll("a"),function(e){e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true")})}),this.counter=t,this.$items[this.counter].classList.add("bss-show"),this.$items[this.counter].setAttribute("aria-hidden","false"),this.$items[this.counter].removeAttribute("tabindex"),this.$jumpList[this.counter].classList.add("active"),this.$jumpList[this.counter].setAttribute("aria-pressed","true"),[].forEach.call(this.$items[this.counter].querySelectorAll("a"),function(e){e.removeAttribute("tabindex"),e.setAttribute("aria-hidden","false")}),this.el.querySelector(".bss-pause").setAttribute("aria-label","play slideshow"),this.el.querySelector(".bss-pause").setAttribute("data-bi-name","slider play"),this.el.querySelector(".bss-pause").innerHTML='<span class="play fabric-icon vscom-icon vscom-icon--Play"></span>',jQuery(".vscom-slide-accent.bss-show").removeClass("bss-show"),jQuery(".vscom-slide-accent.vscom-slide-number-"+this.counter).addClass("bss-show"),this.addPrevNextSlideClasses()},createJumpCallback:function(e,t){return function(s){e.paused=!0,e.skipToSlide(t.getAttribute("data-link-title"))}},injectControls:function(e,t){var s=document.createElement("button"),i=document.createElement("button"),r=t.querySelector("li:first-of-type a").getAttribute("data-bi-id");s.classList.add("bss-prev"),s.classList.add("fabric-icon"),s.classList.add("vscom-icon"),s.classList.add("vscom-icon--ChevronLeft"),i.classList.add("bss-next"),i.classList.add("fabric-icon"),i.classList.add("vscom-icon"),i.classList.add("vscom-icon--ChevronRight"),s.setAttribute("aria-label","Previous slide"),s.setAttribute("data-bi-compnm","slider"),s.setAttribute("data-bi-name","slider back"),s.setAttribute("data-bi-id",r),s.setAttribute("data-bi-bhvr","1"),s.setAttribute("role","button"),i.setAttribute("aria-label","Next slide"),i.setAttribute("data-bi-compnm","slider"),i.setAttribute("data-bi-id",r),i.setAttribute("data-bi-name","slider forward"),i.setAttribute("data-bi-bhvr","3"),i.setAttribute("role","button"),t.insertAdjacentElement("beforebegin",s),t.insertAdjacentElement("afterend",i)},addAriaHiddenAriaPressedTrueOrFalseOnClick:function(e,t,s){if(e.paused){for(var i=0;i<t.length;i++){var r=t[i].querySelectorAll("a");if(t[i].classList.contains("bss-show")){t[i].setAttribute("aria-hidden","false");for(var a=0;a<r.length;a++)r[a].removeAttribute("tabindex")}else{t[i].setAttribute("aria-hidden","true");for(a=0;a<r.length;a++)r[a].setAttribute("tabindex","-1")}}for(i=0;i<s.length;i++)s[i].classList.contains("active")?s[i].setAttribute("aria-pressed","true"):s[i].setAttribute("aria-pressed","false")}else e.jumpListAndItemsForLoops("itemAriaHiddenTrue",t),this.jumpListAndItemsForLoops("jumpListAriaPressedFalse",this.$jumpList)},addEventListeners:function(e){var t=this,s=t.$items,i=t.$jumpList;e.querySelector(".bss-next").addEventListener("click",function(){t.showCurrent(1),t.addAriaHiddenAriaPressedTrueOrFalseOnClick(t,s,i)},!1),e.querySelector(".bss-prev").addEventListener("click",function(){t.showCurrent(-1),t.addAriaHiddenAriaPressedTrueOrFalseOnClick(t,s,i)},!1),e.querySelector(".bss-pause").addEventListener("click",function(){if(t.paused=!t.paused,t.paused)this.setAttribute("aria-label","Play slideshow"),this.setAttribute("data-bi-name","slider play"),this.innerHTML='<span class="play fabric-icon vscom-icon vscom-icon--Play"></span>',t.addAriaHiddenAriaPressedTrueOrFalseOnClick(t,s,i);else{this.setAttribute("aria-label","Pause slideshow"),this.setAttribute("data-bi-name","slider pause"),this.innerHTML='<span class="pause fabric-icon vscom-icon vscom-icon--Pause"></span>';for(var e=0;e<s.length;e++)s[e].setAttribute("aria-hidden","true");for(var r=0;r<i.length;r++)i[r].setAttribute("aria-pressed","false")}},!1),e.querySelector(".bss-pause").addEventListener("keypress",function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),t.paused=!t.paused,t.paused?(this.setAttribute("aria-label","Play Slideshow"),this.setAttribute("data-bi-name","slider play"),this.innerHTML='<span class="play fabric-icon vscom-icon vscom-icon--Play"></span>'):(this.setAttribute("aria-label","Pause Slideshow"),this.setAttribute("data-bi-name","slider pause"),this.innerHTML='<span class="pause fabric-icon vscom-icon vscom-icon--Pause"></span>'))},!1);for(var r=0;r<this.$jumpList.length;r++)this.$jumpList[r].addEventListener("click",t.createJumpCallback(this,this.$jumpList[r]),!1);e.onkeydown=function(e){e=e||window.event,37===e.keyCode?t.showCurrent(-1):39===e.keyCode&&t.showCurrent(1)}},resetInterval:function(e,t,s){return clearInterval(t),window.setInterval(function(){e.paused||e.showCurrent(1)},s)},autoCycle:function(e,t,s){var i=this,r=window.setInterval(function(){i.paused||i.showCurrent(1)},t);e.querySelector(".bss-next").addEventListener("click",function(){r=i.resetInterval(i,r,t)}),e.querySelector(".bss-prev").addEventListener("click",function(){r=i.resetInterval(i,r,t)}),s&&(e.querySelector(".vscom-slider-wrapper").addEventListener("mouseover",function(){clearInterval(r),r=null},!1),e.querySelector(".vscom-slider-wrapper").addEventListener("mouseout",function(){r||(r=window.setInterval(function(){i.paused||i.showCurrent(1)},t))},!1))},addFullScreen:function(e){var t=this,s=document.createElement("span");s.classList.add("bss-fullscreen"),e.appendChild(s),e.querySelector(".bss-fullscreen").addEventListener("click",function(){t.toggleFullScreen(e)},!1)},addSwipe:function(e){var t=this,s=new Hammer(e);s.on("swiperight",function(e){t.showCurrent(-1)}),s.on("swipeleft",function(e){t.showCurrent(1)})},toggleFullScreen:function(e){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?e.requestFullscreen():document.documentElement.msRequestFullscreen?e.msRequestFullscreen():document.documentElement.mozRequestFullScreen?e.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&e.webkitRequestFullscreen(e.ALLOW_KEYBOARD_INPUT)},resizeHeight:function(e){var t=jQuery(this.$items).find(".twitter-inner-text"),s=0;jQuery(t).each(function(){jQuery(this).height()>s&&(s=jQuery(this).height())}),jQuery(t).height(s)}};[].forEach.call(s,function(e){i=Object.create(r),i.init(e,t)})};jQuery(document).trigger("vscom-slider-js");